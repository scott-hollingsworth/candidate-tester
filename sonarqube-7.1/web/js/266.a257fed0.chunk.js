(window.webpackJsonp=window.webpackJsonp||[]).push([[266],{1013:function(e,t,n){"use strict";var r,o=n(0),a=n(4),i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t){var n=e.call(this,t)||this;return n.getPosition=function(){var e=n.container&&n.container.getBoundingClientRect();return e?{top:window.pageYOffset+e.top,left:window.pageXOffset+e.left}:{top:0,left:0}},n.debouncedOnResize=Object(a.debounce)(function(){return n.forceUpdate()},250),n}return i(t,e),t.prototype.componentDidMount=function(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.debouncedOnResize)},t.prototype.render=function(){var e=this;return o.createElement("div",{className:this.props.className,ref:function(t){return e.container=t}},this.props.children(this.getPosition()))},t}(o.PureComponent);t.a=c},1040:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return c});var r=n(1),o=n(28);function a(e){return function(e,t){if(Array.isArray(e))return e.find(function(e){return e.index===t})}(e,1)}function i(e){if(e){var t=e.modeParam||e.parameter;return"previous_version"!==e.mode||t?Object(r.m)("overview.period."+e.mode,t):Object(r.l)("overview.period.previous_version_only_date")}}function c(e){return e&&e.date?Object(o.e)(e.date):void 0}},1044:function(e,t,n){"use strict";var r,o=n(10),a=n(0),i=n(4),c=n(1e3),s=n(1011),l=n(25),p=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=[10,10,10,10],m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.renderBar=function(e,t,n,r){var o=this.props,i=o.alignTicks,c=o.padding,s=void 0===c?u:c,l=Math.round(n(e))+1,p=n.range()[0]+(i?s[3]:0),m=Math.round(r(t)+r.bandwidth()/2);return a.createElement("rect",{className:"bar-chart-bar",x:p,y:m,width:l,height:10})},t.prototype.renderValue=function(e,t,n,r){var o=this.props,i=o.alignTicks,c=o.padding,s=void 0===c?u:c,p=o.yValues,m=p&&p[t];if(!m)return null;var d=n(e)+(i?s[3]:0),h=Math.round(r(t)+r.bandwidth()/2+5);return a.createElement(l.a,{overlay:this.props.yTooltips&&this.props.yTooltips[t]},a.createElement("text",{className:"bar-chart-tick histogram-value",x:d,y:h,dx:"1em",dy:"0.3em"},m))},t.prototype.renderTick=function(e,t,n){var r=this.props,o=r.alignTicks,i=r.yTicks,c=i&&i[e];if(!c)return null;var s=t.range()[0],l=Math.round(n(e)+n.bandwidth()/2+5),p=o?"histogram-tick-start":"histogram-tick";return a.createElement("text",{className:"bar-chart-tick "+p,x:s,y:l,dx:o?0:"-1em",dy:"0.3em"},c)},t.prototype.renderBars=function(e,t){var n=this;return a.createElement("g",null,this.props.bars.map(function(r,o){return a.createElement("g",{key:o},n.renderBar(r,o,e,t),n.renderValue(r,o,e,t),n.renderTick(o,e,t))}))},t.prototype.render=function(){var e=this.props,t=e.bars,n=e.width,r=e.height,o=e.padding,i=void 0===o?u:o,l=n-i[1]-i[3],p=Object(s.b)().domain([0,Object(c.e)(t)]).range([0,l]),m=r-i[0]-i[2],d=Object(s.a)().domain(t.map(function(e,t){return t})).rangeRound([0,m]);return a.createElement("svg",{className:"bar-chart",width:this.props.width,height:this.props.height},a.createElement("g",{transform:"translate("+(this.props.alignTicks?4:i[3])+", "+i[0]+")"},this.renderBars(p,d)))},t}(a.PureComponent),d=n(50),h=n(1);function f(e){return e.length>10?e.substr(0,7)+"...":e}var y=n(7);t.a=Object(o.connect)(function(e){return{languages:Object(y.getLanguages)(e)}})(function(e){var t=e.distribution.split(";").map(function(e){var t=e.split("=");return{language:t[0],lines:parseInt(t[1],10)}}),n=(t=Object(i.sortBy)(t,function(e){return-e.lines})).map(function(e){return e.lines}),r=t.map(function(t){return function(t){if("<null>"===t)return Object(h.l)("unknown");var n=Object(i.find)(e.languages,{key:t});return n?n.name:t}(t.language)}).map(f),o=t.map(function(e){return e.lines>1e3?Object(d.formatMeasure)(e.lines,"INT"):""}),c=t.map(function(e){return Object(d.formatMeasure)(e.lines,"SHORT_INT")});return a.createElement(m,{alignTicks:e.alignTicks,bars:n,height:25*t.length,padding:[0,60,0,80],yTicks:r,yTooltips:o,yValues:c,width:e.width})})},1057:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),o=n.n(r),a=n(6),i=n.n(a),c=n(50),s=n(241);function l(e){var t=e.className;return o.a.createElement("div",{className:i()("color-box-legend",t)},[1,2,3,4,5].map(function(e){return o.a.createElement("div",{key:e},o.a.createElement("span",{className:"color-box-legend-rect",style:{borderColor:s.a[e-1]}},o.a.createElement("span",{className:"color-box-legend-rect-inner",style:{backgroundColor:s.a[e-1]}})),Object(c.formatMeasure)(e,"RATING"))}))}},1058:function(e,t,n){"use strict";var r,o=n(0),a=n.n(o),i=n(2),c=n(1e3),s=n(1011),l=n(4),p=n(1012),u=n.n(p),m=n(25),d=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick&&t.props.onClick(t.props.link)},t}return d(t,e),t.prototype.render=function(){var e=a.a.createElement("circle",{className:"bubble-chart-bubble",onClick:this.props.onClick?this.handleClick:void 0,r:this.props.r,style:{fill:this.props.color,stroke:this.props.color},transform:"translate("+this.props.x+", "+this.props.y+")"});return this.props.link&&!this.props.onClick&&(e=a.a.createElement(i.Link,{to:this.props.link},e)),a.a.createElement(m.a,{overlay:this.props.tooltip||void 0},a.a.createElement("g",null,e))},t}(a.a.PureComponent),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getXRange=function(e,t,n){var r=Object(c.f)(this.props.items,function(n){return e(n.x)-t(n.size)}),o=Object(c.e)(this.props.items,function(n){return e(n.x)+t(n.size)});return[r<0?e.range()[0]-r:e.range()[0],n-(o>e.range()[1]?o-e.range()[1]:0)]},t.prototype.getYRange=function(e,t,n){var r=Object(c.f)(this.props.items,function(n){return e(n.y)-t(n.size)}),o=Object(c.e)(this.props.items,function(n){return e(n.y)+t(n.size)}),a=r<0?e.range()[1]-r:e.range()[1];return[n-(o>e.range()[0]?o-e.range()[0]:0),a]},t.prototype.getTicks=function(e,t){var n=e.ticks(5).map(function(e){return t(e)}),r=Object(l.uniq)(n).length,o=r<5?r-1:5;return e.ticks(o)},t.prototype.renderXGrid=function(e,t,n){if(!this.props.displayXGrid)return null;var r=e.map(function(e,r){var o=t(e),i=n.range()[0],c=n.range()[1];return a.a.createElement("line",{key:r,x1:o,x2:o,y1:i,y2:c,className:"bubble-chart-grid"})});return a.a.createElement("g",{ref:"xGrid"},r)},t.prototype.renderYGrid=function(e,t,n){if(!this.props.displayYGrid)return null;var r=e.map(function(e,r){var o=n(e),i=t.range()[0],c=t.range()[1];return a.a.createElement("line",{key:r,x1:i,x2:c,y1:o,y2:o,className:"bubble-chart-grid"})});return a.a.createElement("g",{ref:"yGrid"},r)},t.prototype.renderXTicks=function(e,t,n){var r=this;if(!this.props.displayXTicks)return null;var o=e.map(function(e,o){var i=t(e),c=n.range()[0],s=r.props.formatXTick(e);return a.a.createElement("text",{key:o,className:"bubble-chart-tick",x:i,y:c,dy:"1.5em"},s)});return a.a.createElement("g",null,o)},t.prototype.renderYTicks=function(e,t,n){var r=this;if(!this.props.displayYTicks)return null;var o=e.map(function(e,o){var i=t.range()[0],c=n(e),s=r.props.formatYTick(e);return a.a.createElement("text",{key:o,className:"bubble-chart-tick bubble-chart-tick-y",x:i,y:c,dx:"-0.5em",dy:"0.3em"},s)});return a.a.createElement("g",null,o)},t.prototype.renderChart=function(e){var t=this,n=e-this.props.padding[1]-this.props.padding[3],r=this.props.height-this.props.padding[0]-this.props.padding[2],o=Object(s.b)().domain(this.props.xDomain||[0,Object(c.e)(this.props.items,function(e){return e.x})]).range([0,n]).nice(),i=Object(s.b)().domain(this.props.yDomain||[0,Object(c.e)(this.props.items,function(e){return e.y})]).range([r,0]).nice(),p=Object(s.b)().domain(this.props.sizeDomain||[0,Object(c.e)(this.props.items,function(e){return e.size})]).range(this.props.sizeRange),u=o.copy(),m=i.copy();o.range(this.getXRange(o,p,n)),i.range(this.getYRange(i,p,r));var d=Object(l.sortBy)(this.props.items,function(e){return-e.size}).map(function(e,n){return a.a.createElement(h,{key:e.key||n,link:e.link,tooltip:e.tooltip,x:o(e.x),y:i(e.y),r:p(e.size),color:e.color,onClick:t.props.onBubbleClick})}),f=this.getTicks(o,this.props.formatXTick),y=this.getTicks(i,this.props.formatYTick);return a.a.createElement("svg",{className:"bubble-chart",width:e,height:this.props.height},a.a.createElement("g",{transform:"translate("+this.props.padding[3]+", "+this.props.padding[0]+")"},this.renderXGrid(f,o,i),this.renderXTicks(f,o,m),this.renderYGrid(y,o,i),this.renderYTicks(y,u,i),d))},t.prototype.render=function(){var e=this;return a.a.createElement(u.a,{disableHeight:!0},function(t){return e.renderChart(t.width)})},t.defaultProps={sizeRange:[5,45],displayXGrid:!0,displayYGrid:!0,displayXTicks:!0,displayYTicks:!0,padding:[10,10,10,10],formatXTick:function(e){return e},formatYTick:function(e){return e}},t}(a.a.PureComponent);t.a=f},1128:function(e,t,n){},1183:function(e,t,n){"use strict";n.r(t);var r,o=n(10),a=n(2),i=n(0),c=n.n(i),s=n(22),l=n.n(s),p=n(187),u=n.n(p),m=n(6),d=n.n(m),h=n(25),f=n(235),y=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.target.blur(),t.props.handleSelect(t.props.component.key)},t}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.canBrowse,n=e.component,r=e.isLast,o="DIR"===n.qualifier?Object(f.a)(n.name,15):Object(f.d)(n.name),a=t?c.a.createElement("a",{href:"#",onClick:this.handleClick},o):c.a.createElement("span",null,o);return c.a.createElement("span",null,c.a.createElement(h.a,{overlay:n.name!==o?n.name:void 0},a),!r&&c.a.createElement("span",{className:"slash-separator"}))},t}(c.a.PureComponent),g=n(33),b=n(59),_=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={breadcrumbs:[]},t.fetchBreadcrumbs=function(e){var n=e.branchLike,r=e.component,o=e.rootComponent;r.key===o.key?t.mounted&&t.setState({breadcrumbs:[r]}):Object(g.g)(k({component:r.key},Object(b.c)(n))).then(function(e){t.mounted&&t.setState({breadcrumbs:e})})},t}return _(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchBreadcrumbs(this.props),this.attachShortcuts()},t.prototype.componentWillReceiveProps=function(e){this.props.component!==e.component&&this.fetchBreadcrumbs(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1,this.detachShortcuts()},t.prototype.attachShortcuts=function(){var e=this;u()("left","measures-files",function(){var t=e.state.breadcrumbs;if(t.length>1){var n=e.props.backToFirst?0:t.length-2;e.props.handleSelect(t[n].key)}return!1})},t.prototype.detachShortcuts=function(){u.a.unbind("left","measures-files")},t.prototype.render=function(){var e=this,t=this.state.breadcrumbs;if(t.length<=0)return null;var n=t[t.length-1];return c.a.createElement("div",{className:this.props.className},t.map(function(t){return c.a.createElement(v,{key:t.key,canBrowse:t.key!==n.key,component:t,isLast:t.key===n.key,handleSelect:e.props.handleSelect})}))},t}(c.a.PureComponent),E=n(265),w=n(86),j=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={component:null},t}return j(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchComponentFavorite(this.props)},t.prototype.componentWillReceiveProps=function(e){e.component!==this.props.component&&this.fetchComponentFavorite(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchComponentFavorite=function(e){var t=this,n=e.component,r=e.onReceiveComponent;Object(g.k)({component:n}).then(function(e){t.setState({component:e}),r(e)})},t.prototype.render=function(){var e=this.state.component;return null==e||!e.canMarkAsFavorite||this.props.branchLike&&!Object(b.f)(this.props.branchLike)?null:c.a.createElement(E.a,{className:this.props.className,componentKey:this.props.component})},t}(c.a.PureComponent),C={onReceiveComponent:function(e){return function(t){if(e.canMarkAsFavorite){var n=[],r=[];e.fav?n.push({key:e.key}):r.push({key:e.key}),t(Object(w.d)(n,r))}}}},P=Object(o.connect)(null,C)(N),x=n(237),S=n(147),L=n(1040),M=n(1);function T(e){var t=e.className,n=e.component,r=e.period,o=d()("domain-measures-leak-header",t);if("APP"===n.qualifier)return c.a.createElement("div",{className:o},Object(M.l)("issues.leak_period"));var a=c.a.createElement("div",{className:o},Object(M.m)("overview.leak_period_x",Object(L.c)(r)));if("days"===r.mode)return a;var i=Object(L.b)(r),s=c.a.createElement("div",null,c.a.createElement(x.a,{date:i}),", ",c.a.createElement(S.a,{date:i,long:!0}));return c.a.createElement(h.a,{overlay:s},a)}var R=n(262),z=n(1001),I=n(1044),A=n(1002),F=n(38),D=n(50);function K(e){var t=e.branchLike,n=e.component,r=e.leakPeriod,o=e.measure,i=e.metric,s=e.secondaryMeasure,l=Object(D.isDiffMetric)(i.key),p="FIL"!==n.qualifier&&"UTS"!==n.qualifier;return c.a.createElement("div",{className:"measure-details-header big-spacer-bottom"},c.a.createElement("div",{className:"measure-details-primary"},c.a.createElement("div",{className:"measure-details-metric"},c.a.createElement(z.a,{className:"little-spacer-right text-text-bottom",query:i.key}),Object(M.e)(i),c.a.createElement("span",{className:"measure-details-value spacer-left"},c.a.createElement("strong",null,l?c.a.createElement(A.a,{className:"domain-measures-leak",metricKey:i.key,metricType:i.type,value:o&&o.leak}):c.a.createElement(A.a,{metricKey:i.key,metricType:i.type,value:o&&o.value}))),!l&&p&&c.a.createElement(h.a,{overlay:Object(M.l)("component_measures.show_metric_history")},c.a.createElement(a.Link,{className:"js-show-history spacer-left button button-small",to:Object(F.o)(n.key,i.key,t)},c.a.createElement(R.a,null)))),c.a.createElement("div",{className:"measure-details-primary-actions"},null!=r&&c.a.createElement(T,{className:"spacer-left",component:n,period:r}))),s&&"ncloc_language_distribution"===s.metric.key&&c.a.createElement("div",{className:"measure-details-secondary"},c.a.createElement(I.a,{alignTicks:!0,distribution:s.value,width:260})))}var q=n(254),B=n(273),U=n(272),V=n(51),W=n(4),G={Reliability:{categories:["new_code_category","overall_category"],order:["new_code_category","new_bugs","new_reliability_rating","new_reliability_remediation_effort","overall_category","bugs","reliability_rating","reliability_remediation_effort"]},Security:{categories:["new_code_category","overall_category"],order:["new_code_category","new_vulnerabilities","new_security_rating","new_security_remediation_effort","overall_category","vulnerabilities","security_rating","security_remediation_effort"]},Maintainability:{categories:["new_code_category","overall_category"],order:["new_code_category","new_code_smells","new_technical_debt","new_sqale_debt_ratio","new_maintainability_rating","overall_category","code_smells","sqale_index","sqale_debt_ratio","sqale_rating","effort_to_reach_maintainability_rating_a"]},Coverage:{categories:["new_code_category","overall_category","tests_category"],order:["new_code_category","new_coverage","new_lines_to_cover","new_uncovered_lines","new_line_coverage","new_conditions_to_cover","new_uncovered_conditions","new_branch_coverage","overall_category","coverage","lines_to_cover","uncovered_lines","line_coverage","conditions_to_cover","uncovered_conditions","branch_coverage","tests_category","tests","test_success","test_errors","test_failures","skipped_tests","test_success_density","test_execution_time"]},Duplications:{categories:["new_code_category","overall_category"],order:["new_code_category","new_duplicated_lines_density","new_duplicated_lines","new_duplicated_blocks","overall_category","duplicated_lines_density","duplicated_lines","duplicated_blocks","duplicated_files"]},Size:{order:["new_lines","ncloc","lines","statements","functions","classes","files","directories"]},Complexity:{order:["complexity","function_complexity","file_complexity","class_complexity"]},Releasability:{order:["releasability_rating","releasability_effort","alert_status"]},Issues:{order:["new_violations","new_blocker_violations","new_critical_violations","new_major_violations","new_minor_violations","new_info_violations","violations","blocker_violations","critical_violations","major_violations","minor_violations","info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues"]}},X={Reliability:{x:"ncloc",y:"reliability_remediation_effort",size:"bugs",colors:["reliability_rating"]},Security:{x:"ncloc",y:"security_remediation_effort",size:"vulnerabilities",colors:["security_rating"]},Maintainability:{x:"ncloc",y:"sqale_index",size:"code_smells",colors:["sqale_rating"]},Coverage:{x:"complexity",y:"coverage",size:"uncovered_lines",yDomain:[100,0]},Duplications:{x:"ncloc",y:"duplicated_lines",size:"duplicated_blocks"},project_overview:{x:"sqale_index",y:"coverage",size:"ncloc",colors:["reliability_rating","security_rating"],yDomain:[100,0]}},Y=n(8),H=n(1021),Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},J="project_overview",Z="list",$=J,ee=["Releasability","Reliability","Security","Maintainability","Coverage","Duplications","Size","Complexity"],te=["blocker_violations","new_blocker_violations","critical_violations","new_critical_violations","major_violations","new_major_violations","minor_violations","new_minor_violations","info_violations","new_info_violations"];function ne(e,t,n){var r=e.measures.map(function(e){return Object(H.a)(e,n)}),o=t&&r.find(function(e){return e.metric.key===t.key}),a=o?o.value:null,i=o?o.leak:null;return Q({},e,{value:a,leak:i,measures:r})}function re(e){return["FIL","UTS"].includes(e.qualifier)}function oe(e){return["VW","SVW","APP"].includes(e.qualifier)}var ae=Object(W.memoize)(function(e){var t=Object(W.toPairs)(Object(W.groupBy)(e,function(e){return e.metric.domain})).map(function(e){return{name:e[0],measures:e[1]}});return Object(W.sortBy)(t,[function(e){var t=ee.indexOf(e.name);return t>=0?t:ee.length},"name"])});function ie(e){return!["releasability_rating","releasability_effort"].includes(e)}function ce(e){return"alert_status"!==e}function se(e){return null!=X[e]}function le(e,t){var n=X[e];return{x:t[n.x],y:t[n.y],size:t[n.size],colors:n.colors?n.colors.map(function(e){return t[e]}):null}}var pe=Object(W.memoize)(function(e,t){var n=Object(Y.h)(e)||Z;return ce(t)?"list"!==n||ie(t)?n:"tree":"list"}),ue=Object(W.memoize)(function(e){var t=Object(Y.h)(e.metric)||$;return{metric:t,selected:Object(Y.h)(e.selected),view:pe(e.view,t)}}),me=Object(W.memoize)(function(e){return Object(Y.a)({metric:e.metric===$?null:Object(Y.m)(e.metric),selected:Object(Y.m)(e.selected),view:e.view===Z?null:Object(Y.m)(e.view)})}),de=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getOptions=function(){var e=t.props.metric,n=[];return ie(e.key)&&n.push({value:"list",label:c.a.createElement("div",null,c.a.createElement(q.a,{className:"little-spacer-right"}),Object(M.l)("component_measures.tab.list")),icon:c.a.createElement(q.a,null)}),ce(e.key)&&n.push({value:"tree",label:c.a.createElement("div",null,c.a.createElement(B.a,{className:"little-spacer-right"}),Object(M.l)("component_measures.tab.tree")),icon:c.a.createElement(B.a,null)}),function(e,t){return["PERCENT","RATING","LEVEL"].includes(t)&&ce(e)}(e.key,e.type)&&n.push({value:"treemap",label:c.a.createElement("div",null,c.a.createElement(U.a,{className:"little-spacer-right"}),Object(M.l)("component_measures.tab.treemap")),icon:c.a.createElement(U.a,null)}),n},t.handleChange=function(e){return t.props.handleViewChange(e.value)},t.renderValue=function(e){return e.icon},t}return de(t,e),t.prototype.render=function(){return c.a.createElement(V.c,{autoBlur:!0,className:this.props.className,clearable:!1,searchable:!1,value:this.props.view,valueRenderer:this.renderValue,options:this.getOptions(),onChange:this.handleChange})},t}(c.a.PureComponent);function fe(e){var t=e.className;return c.a.createElement("div",{className:t},c.a.createElement("div",{className:"alert alert-danger"},Object(M.l)("component_measures.not_found")))}function ye(e){var t=e.className,n=e.current,r=e.total;return c.a.createElement("span",{className:t},c.a.createElement("strong",null,null!=n&&c.a.createElement("span",null,Object(D.formatMeasure)(n,"INT")," / "),Object(D.formatMeasure)(r,"INT"))," ",Object(M.l)("component_measures.files"))}var ve=n(32);function ge(e){var t=e.isFile,n=e.paging,r=e.totalLoadedComponents,o=["list","tree"].includes(e.view);return c.a.createElement("div",{className:"pull-right"},!t&&o&&c.a.createElement("span",{className:"note big-spacer-right"},c.a.createElement("span",{className:"big-spacer-right"},c.a.createElement("span",{className:"shortcut-button little-spacer-right"},"↑"),c.a.createElement("span",{className:"shortcut-button little-spacer-right"},"↓"),Object(M.l)("component_measures.to_select_files")),c.a.createElement("span",null,c.a.createElement("span",{className:"shortcut-button little-spacer-right"},"←"),c.a.createElement("span",{className:"shortcut-button little-spacer-right"},"→"),Object(M.l)("component_measures.to_navigate"))),t&&n&&c.a.createElement("span",{className:"note spacer-right"},c.a.createElement("span",null,c.a.createElement("span",{className:"shortcut-button little-spacer-right"},"j"),c.a.createElement("span",{className:"shortcut-button little-spacer-right"},"k"),Object(M.l)("component_measures.to_navigate_files"))),c.a.createElement("div",{className:"measure-details-page-actions"},c.a.createElement(ve.a,{loading:e.loading},c.a.createElement("i",{className:"spinner-placeholder"})),null!=n&&c.a.createElement(ye,{className:"spacer-left",current:e.current,total:t&&null!=r?r:n.total})))}var be=n(245),_e=n(260),ke=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){var n=0===e.button,r=!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey);n&&!r&&(e.preventDefault(),t.props.onClick(t.props.component.key))},t}return ke(t,e),t.prototype.renderInner=function(){var e=this.props.component,t="",n=e.name;if(["DIR","FIL","UTS"].includes(e.qualifier)){var r=Object(f.e)(e.path);t=r.head,n=r.tail}return c.a.createElement("span",{title:e.refKey||e.key},c.a.createElement(_e.a,{qualifier:e.qualifier})," ",t.length>0&&c.a.createElement("span",{className:"note"},t,"/"),c.a.createElement("span",null,n))},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.component;return c.a.createElement("td",{className:"measure-details-component-cell"},c.a.createElement("div",{className:"text-ellipsis"},null==n.refKey?c.a.createElement("a",{id:"component-measures-component-link-"+n.key,className:"link-no-underline",href:Object(F.q)(Object(F.c)(n.key,t)),onClick:this.handleClick},this.renderInner()):c.a.createElement(a.Link,{className:"link-no-underline",id:"component-measures-component-link-"+n.key,to:Object(F.c)(n.refKey,t)},c.a.createElement("span",{className:"big-spacer-right"},c.a.createElement(be.a,null)),this.renderInner())))},t}(c.a.PureComponent);function Ee(e){var t,n=e.component,r=e.measure,o=e.metric,a=(t=r||n,Object(D.isDiffMetric)(o.key)?t.leak:t.value);return c.a.createElement("td",{className:"thin nowrap text-right"},c.a.createElement("span",{id:"component-measures-component-measure-"+n.key+"-"+o.key},c.a.createElement(A.a,{value:a,metricKey:o.key,metricType:o.type})))}var we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function je(e){var t=e.branchLike,n=e.component,r=e.otherMetrics.map(function(e){var t=n.measures.find(function(t){return t.metric.key===e.key});return we({},t,{metric:e})}),o=d()("measure-details-component-row",{selected:e.isSelected});return c.a.createElement("tr",{className:o},c.a.createElement(Oe,{branchLike:t,component:n,onClick:e.onClick}),c.a.createElement(Ee,{component:n,metric:e.metric}),r.map(function(e){return c.a.createElement(Ee,{key:e.metric.key,component:n,measure:e,metric:e.metric})}))}function Ne(){return c.a.createElement("div",{className:"note"},Object(M.l)("no_results"))}var Ce={coverage:["uncovered_lines","uncovered_conditions"],line_coverage:["uncovered_lines"],branch_coverage:["uncovered_conditions"],uncovered_lines:["line_coverage"],uncovered_conditions:["branch_coverage"],new_coverage:["new_uncovered_lines","new_uncovered_conditions"],new_line_coverage:["new_uncovered_lines"],new_branch_coverage:["new_uncovered_conditions"],new_uncovered_lines:["new_line_coverage"],new_uncovered_conditions:["new_branch_coverage"],duplicated_lines_density:["duplicated_lines"],new_duplicated_lines_density:["new_duplicated_lines"],duplicated_lines:["duplicated_lines_density"],new_duplicated_lines:["new_duplicated_lines_density"]};function Pe(e){var t=e.branchLike,n=e.components,r=e.onClick,o=e.metrics,a=e.metric,i=e.selectedComponent;if(!n.length)return c.a.createElement(Ne,null);var s=(Ce[a.key]||[]).map(function(e){return o[e]});return c.a.createElement("table",{className:"data zebra zebra-hover"},s.length>0&&c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null," "),c.a.createElement("th",{className:"text-right"},c.a.createElement("span",{className:"small"},Object(M.e)(a))),s.map(function(e){return c.a.createElement("th",{key:e.key,className:"text-right"},c.a.createElement("span",{className:"small"},Object(M.e)(e)))}))),c.a.createElement("tbody",null,n.map(function(e){return c.a.createElement(je,{key:e.id,branchLike:t,component:e,otherMetrics:s,isSelected:e.key===i,metric:a,onClick:r})})))}var xe=n(78),Se=n(244),Le=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Me=function(e){function t(t){var n=e.call(this,t)||this;return n.openSelected=function(){null!=n.props.selectedKey&&n.props.handleOpen(n.props.selectedKey)},n.selectPrevious=function(){var e=n.props.selectedIdx;null!=e&&e>0?n.props.handleSelect(n.props.components[e-1].key):n.props.handleSelect(n.props.components[n.props.components.length-1].key)},n.selectNext=function(){var e=n.props.selectedIdx;null!=e&&e<n.props.components.length-1?n.props.handleSelect(n.props.components[e+1].key):n.props.handleSelect(n.props.components[0].key)},n.scrollToElement=function(){if(n.listContainer){var e=n.listContainer.getElementsByClassName("selected")[0];e&&Object(Se.a)(e,{topOffset:215,bottomOffset:100})}},n.selectNext=Object(W.throttle)(n.selectNext,100),n.selectPrevious=Object(W.throttle)(n.selectPrevious,100),n}return Le(t,e),t.prototype.componentDidMount=function(){this.attachShortcuts(),null!=this.props.selectedKey&&this.scrollToElement()},t.prototype.componentDidUpdate=function(e){null!=this.props.selectedKey&&e.selectedKey!==this.props.selectedKey&&this.scrollToElement()},t.prototype.componentWillUnmount=function(){this.detachShortcuts()},t.prototype.attachShortcuts=function(){var e=this;u()("up","measures-files",function(){return e.selectPrevious(),!1}),u()("down","measures-files",function(){return e.selectNext(),!1}),u()("right","measures-files",function(){return e.openSelected(),!1})},t.prototype.detachShortcuts=function(){["up","down","right"].map(function(e){return u.a.unbind(e,"measures-files")})},t.prototype.render=function(){var e=this;return c.a.createElement("div",{ref:function(t){return e.listContainer=t}},c.a.createElement(Pe,{branchLike:this.props.branchLike,components:this.props.components,metrics:this.props.metrics,metric:this.props.metric,onClick:this.props.handleOpen,selectedComponent:this.props.selectedKey}),this.props.paging&&this.props.components.length>0&&c.a.createElement(xe.a,{count:this.props.components.length,total:this.props.paging.total,loadMore:this.props.fetchMore}))},t}(c.a.PureComponent),Te=n(1038),Re=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectPrevious=function(){var e=t.props.selectedIdx;if(null!=e&&e>0){var n=t.props.components[e-1];n&&t.props.updateSelected(n.key)}},t.selectNext=function(){var e=t.props,n=e.components,r=e.selectedIdx;if(null!=r&&r<n.length-1){var o=n[r+1];o&&t.props.updateSelected(o.key)}},t}return Re(t,e),t.prototype.componentDidMount=function(){this.attachShortcuts()},t.prototype.componentWillUnmount=function(){this.detachShortcuts()},t.prototype.attachShortcuts=function(){var e=this;u()("j","measures-files",function(){return e.selectNext(),!1}),u()("k","measures-files",function(){return e.selectPrevious(),!1})},t.prototype.detachShortcuts=function(){["j","k"].map(function(e){return u.a.unbind(e,"measures-files")})},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.component;return c.a.createElement(Te.a,{branchLike:t,component:n.key})},t}(c.a.PureComponent),Ie=n(1012),Ae=n.n(Ie),Fe=n(1011),De=n(15);function Ke(e){var t=e.className,n=e.colorScale,r=e.colorNA,o=e.metricType,a=n.domain(),i=n.range();return c.a.createElement("div",{className:d()("color-box-legend",t)},a.map(function(e,t){return c.a.createElement("div",{key:e},c.a.createElement("span",{className:"color-box-legend-rect",style:{borderColor:i[t]}},c.a.createElement("span",{className:"color-box-legend-rect-inner",style:{backgroundColor:i[t]}})),Object(D.formatMeasure)(e,o))}),r&&c.a.createElement("div",null,c.a.createElement("span",{className:"color-box-legend-rect",style:{borderColor:r}},c.a.createElement("span",{className:"color-box-legend-rect-inner",style:{backgroundColor:r}})),"N/A"))}var qe=4;function Be(e){var t=e.className,n=e.colorScale,r=e.colorNA,o=e.direction,a=e.padding,i=void 0===a?[12,24,0,0]:a,s=e.height,l=e.width,p=n.range();1===o&&p.reverse();var u=n.domain(),m=p.length-1,d=u.length-1,h=l-i[1],f=s-i[0];return c.a.createElement("svg",{className:t,width:l,height:s},c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"gradient-legend"},p.map(function(e,t){return c.a.createElement("stop",{key:t,offset:t/m,stopColor:e})}))),c.a.createElement("g",{transform:"translate("+i[3]+", "+i[0]+")"},c.a.createElement("rect",{fill:"url(#gradient-legend)",x:0,y:0,height:f,width:h}),u.map(function(e,t){return c.a.createElement("text",{className:"gradient-legend-text",key:t,x:h*(t/d),y:0,dy:"-2px"},e)})),r&&c.a.createElement("g",{transform:"translate("+h+", "+i[0]+")"},c.a.createElement("rect",{fill:r,x:qe,y:0,height:f,width:i[1]-qe}),c.a.createElement("text",{className:"gradient-legend-na",x:qe+(i[1]-qe)/2,y:0,dy:"-2px"},"N/A")))}var Ue=n(1093),Ve=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),We=Object(Fe.b)().domain([3,15]).range([11,18]).clamp(!0),Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLinkClick=function(e){return e.stopPropagation()},t.handleRectClick=function(){null!=t.props.onClick&&t.props.onClick(t.props.itemKey)},t.renderLink=function(){var e=t.props,n=e.link,r=e.height,o=e.width;return o>=24&&r>=24&&(o>=48||r>=50)&&null!=n?c.a.createElement(a.Link,{className:"treemap-link",to:n,onClick:t.handleLinkClick},c.a.createElement(be.a,null)):null},t.renderCell=function(){var e={left:t.props.x,top:t.props.y,width:t.props.width,height:t.props.height,backgroundColor:t.props.fill,fontSize:We(t.props.width/t.props.label.length),lineHeight:t.props.height+"px",cursor:null!=t.props.onClick?"pointer":"default"},n=t.props.width>=40&&t.props.height>=45,r=t.props.width>=24&&t.props.height>=26,o=t.props.prefix?t.props.prefix+"<br>"+t.props.label.substr(t.props.prefix.length):t.props.label;return c.a.createElement("div",{className:"treemap-cell",style:e,onClick:t.handleRectClick,role:"treeitem",tabIndex:0},c.a.createElement("div",{className:"treemap-inner",style:{maxWidth:t.props.width}},r&&c.a.createElement("span",{className:d()("treemap-icon",{"spacer-right":n})},t.props.icon),n&&c.a.createElement("span",{className:"treemap-text",dangerouslySetInnerHTML:{__html:o}})),t.renderLink())},t}return Ve(t,e),t.prototype.render=function(){var e=this.props,t=e.placement,n=e.tooltip;return c.a.createElement(h.a,{overlay:n||void 0,placement:t||"left"},this.renderCell())},t}(c.a.PureComponent),Xe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mostCommitPrefix=function(e){for(var t=e.slice(0).sort(),n=t[0],r=n.length,o=t[t.length-1],a=0;a<r&&n.charAt(a)===o.charAt(a);)a++;var i=n.substr(0,a),c=i.split(/[\s\\/]/),s=c[c.length-1];return i.substr(0,i.length-s.length)},t}return Xe(t,e),t.prototype.renderNoData=function(){return c.a.createElement("div",{className:"sonar-d3"},c.a.createElement("div",{className:"treemap-container",style:{width:this.props.width,height:this.props.height}},Object(M.l)("no_data")))},t.prototype.render=function(){var e=this,t=this.props,n=t.items,r=t.height,o=t.width;if(n.length<=0)return this.renderNoData();var a=Object(Ue.a)({children:n}).sum(function(e){return e.size}).sort(function(e,t){return t.value-e.value}),i=Object(Ue.b)().round(!0).size([o,r])(a).leaves(),s=this.mostCommitPrefix(n.map(function(e){return e.label})),l=o/2;return c.a.createElement("div",{className:"sonar-d3"},c.a.createElement("div",{className:"treemap-container",style:{width:o,height:r}},i.map(function(t){return c.a.createElement(Ge,{key:t.data.key,x:t.x0,y:t.y0,width:t.x1-t.x0,height:t.y1-t.y0,fill:t.data.color,label:t.data.label,prefix:s,itemKey:t.data.key,icon:t.data.icon,tooltip:t.data.tooltip,link:t.data.link,onClick:e.props.onRectangleClick,placement:0===t.x0||t.x1<l?"right":"left"})})))},t}(c.a.PureComponent),He=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qe=[De.green,De.lightGreen,De.yellow,De.orange,De.red],Je=[De.red,De.orange,De.green,De.gray71],Ze=function(e){function t(t){var n=e.call(this,t)||this;return n.getTreemapComponents=function(e){var t=e.branchLike,r=e.components,o=e.metric,a=n.getColorScale(o);return r.map(function(e){var r=e.measures.find(function(e){return e.metric.key===o.key}),i=e.measures.find(function(e){return e.metric.key!==o.key});if(null==i)return null;var s=r&&(Object(D.isDiffMetric)(o.key)?r.leak:r.value),l=Object(D.isDiffMetric)(i.metric.key)?i.leak:i.value;return null==l?null:{key:e.refKey||e.key,size:l,color:null!=s?a(s):De.secondFontColor,icon:c.a.createElement(_e.a,{color:De.baseFontColor,qualifier:e.qualifier}),tooltip:n.getTooltip(e.name,o,i.metric,s,l),label:e.name,link:Object(F.c)(e.refKey||e.key,t)}}).filter(Boolean)},n.getLevelColorScale=function(){return Object(Fe.c)().domain(["ERROR","WARN","OK","NONE"]).range(Je)},n.getPercentColorScale=function(e){var t=Object(Fe.b)().domain([0,25,50,75,100]);return t.range(1===e.direction?Qe.reverse():Qe),t},n.getRatingColorScale=function(){return Object(Fe.b)().domain([1,2,3,4,5]).range(Qe)},n.getColorScale=function(e){return"LEVEL"===e.type?n.getLevelColorScale():"RATING"===e.type?n.getRatingColorScale():n.getPercentColorScale(e)},n.getTooltip=function(e,t,n,r,o){var a=null!=t&&null!=r?Object(D.formatMeasure)(r,t.type):"—";return c.a.createElement("div",{className:"text-left"},e,c.a.createElement("br",null),Object(M.e)(n)+": "+Object(D.formatMeasure)(o,n.type),c.a.createElement("br",null),Object(M.e)(t)+": "+a)},n.state={treemapItems:n.getTreemapComponents(t)},n}return He(t,e),t.prototype.componentWillReceiveProps=function(e){e.components===this.props.components&&e.metric===this.props.metric||this.setState({treemapItems:this.getTreemapComponents(e)})},t.prototype.renderLegend=function(){var e=this.props.metric,t=this.getColorScale(e);return["LEVEL","RATING"].includes(e.type)?c.a.createElement(Ke,{className:"measure-details-treemap-legend color-box-full",colorScale:t,metricType:e.type}):c.a.createElement(Be,{className:"measure-details-treemap-legend",colorScale:t,colorNA:De.secondFontColor,direction:e.direction,height:20,width:200})},t.prototype.render=function(){var e=this,t=this.state.treemapItems;if(t.length<=0)return c.a.createElement(Ne,null);var n=this.props,r=n.components,o=n.metric,a=r.length>0?r[0].measures.find(function(e){return e.metric.key!==o.key}):null;return c.a.createElement("div",{className:"measure-details-treemap"},c.a.createElement("ul",{className:"list-inline note spacer-bottom"},c.a.createElement("li",null,Object(M.m)("component_measures.legend.color_x",Object(M.e)(o))),c.a.createElement("li",null,Object(M.m)("component_measures.legend.size_x",Object(M.l)("metric",a&&a.metric?a.metric.key:"ncloc","name"))),c.a.createElement("li",{className:"pull-right"},this.renderLegend())),c.a.createElement(Ae.a,{disableHeight:!0},function(n){var r=n.width;return c.a.createElement(Ye,{items:t,onRectangleClick:e.props.handleSelect,height:500,width:r})}))},t}(c.a.PureComponent),$e=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={components:[],metric:null,paging:null,selected:null,view:null},t.getSelectedIndex=function(){var e=re(t.props.component)?t.props.component.key:t.state.selected,n=t.state.components.findIndex(function(t){return t.key===e});return-1!==n?n:null},t.getComponentRequestParams=function(e,n,r){void 0===r&&(r={});var o="list"===e?"leaves":"children",a=[n.key],i=et({},Object(b.c)(t.props.branchLike),{metricSortFilter:"withMeasuresOnly"}),c=Object(D.isDiffMetric)(n.key);if(c&&(i.metricPeriodSort=1),"treemap"===e){var s=c?"new_lines":"ncloc";a.push(s),i.metricSort=s,i.s=c?"metricPeriod":"metric",i.asc=!1}else a.push.apply(a,Ce[n.key]||[]),i.asc=1===n.direction,i.ps=100,i.metricSort=n.key,i.s=c?"metricPeriod":"metric";return{metricKeys:a,opts:et({},i,r),strategy:o}},t.fetchComponents=function(e){var n=e.component,r=e.metric,o=e.metrics,a=e.view;if(re(n))return t.setState({metric:null,view:null});var i=t.getComponentRequestParams(a,r),c=i.metricKeys,s=i.opts,l=i.strategy;t.props.updateLoading({components:!0}),Object(g.n)(l,n.key,c,s).then(function(e){r===t.props.metric&&(t.mounted&&t.setState(function(t){var n=t.selected;return{components:e.components.map(function(e){return ne(e,r,o)}),metric:r,paging:e.paging,selected:e.components.length>0&&!e.components.find(function(e){return e.key===n})?e.components[0].key:n,view:a}}),t.props.updateLoading({components:!1}))},function(){return t.props.updateLoading({components:!1})})},t.fetchMoreComponents=function(){var e=t.props,n=e.component,r=e.metric,o=e.metrics,a=e.view,i=t.state.paging;if(i){var c=t.getComponentRequestParams(a,r,{p:i.pageIndex+1}),s=c.metricKeys,l=c.opts,p=c.strategy;t.props.updateLoading({components:!0}),Object(g.n)(p,n.key,s,l).then(function(e){r===t.props.metric&&(t.mounted&&t.setState(function(t){return{components:t.components.concat(e.components.map(function(e){return ne(e,r,o)})),metric:r,paging:e.paging,view:a}}),t.props.updateLoading({components:!1}))},function(){return t.props.updateLoading({components:!1})})}},t.onOpenComponent=function(e){if(oe(t.props.rootComponent)){var n=t.state.components.find(function(t){return t.refKey===e||t.key===e});if(n&&null!=n.refKey)return void("treemap"===t.props.view&&t.props.router.push(Object(F.r)(e)))}t.setState({selected:t.props.component.key}),t.props.updateSelected(e),t.container&&t.container.focus()},t.onSelectComponent=function(e){return t.setState({selected:e})},t}return $e(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchComponents(this.props)},t.prototype.componentWillReceiveProps=function(e){Object(b.h)(e.branchLike,this.props.branchLike)&&e.component===this.props.component&&e.metric===this.props.metric||this.fetchComponents(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.renderCode=function(){return c.a.createElement("div",{className:"measure-details-viewer"},c.a.createElement(ze,{branchLike:this.props.branchLike,component:this.props.component,components:this.state.components,leakPeriod:this.props.leakPeriod,metric:this.props.metric,selectedIdx:this.getSelectedIndex(),updateSelected:this.props.updateSelected}))},t.prototype.renderMeasure=function(){var e=this.state,t=e.metric,n=e.view;if(null!=t){if(["list","tree"].includes(n)){var r=this.getSelectedIndex();return c.a.createElement(Me,{branchLike:this.props.branchLike,components:this.state.components,fetchMore:this.fetchMoreComponents,handleOpen:this.onOpenComponent,handleSelect:this.onSelectComponent,metric:t,metrics:this.props.metrics,paging:this.state.paging,selectedKey:null!=r?this.state.selected:null,selectedIdx:r})}if("treemap"===n)return c.a.createElement(Ze,{branchLike:this.props.branchLike,components:this.state.components,handleSelect:this.onOpenComponent,metric:t})}return null},t.prototype.render=function(){var e=this,t=this.props,n=t.branchLike,r=t.component,o=t.currentUser,a=t.measure,i=t.metric,s=t.rootComponent,l=t.view,p=o&&o.isLoggedIn,u=re(r),m=this.getSelectedIndex();return c.a.createElement("div",{className:d()("no-outline",this.props.className),ref:function(t){return e.container=t},tabIndex:0},c.a.createElement("div",{className:"layout-page-header-panel layout-page-main-header"},c.a.createElement("div",{className:"layout-page-header-panel-inner layout-page-main-header-inner"},c.a.createElement("div",{className:"layout-page-main-inner"},c.a.createElement(O,{backToFirst:"list"===l,branchLike:n,className:"measure-breadcrumbs spacer-right text-ellipsis",component:r,handleSelect:this.onOpenComponent,rootComponent:s}),r.key!==s.key&&p&&c.a.createElement(P,{branchLike:n,component:r.key,className:"measure-favorite spacer-right"}),!u&&c.a.createElement(he,{className:"measure-view-select",metric:i,handleViewChange:this.props.updateView,view:l}),c.a.createElement(ge,{current:null!=m&&"treemap"!==l?m+1:null,loading:this.props.loading,isFile:u,paging:this.state.paging,totalLoadedComponents:this.state.components.length,view:l})))),null==i&&c.a.createElement(fe,{className:"layout-page-main-inner measure-details-content"}),null!=i&&c.a.createElement("div",{className:"layout-page-main-inner measure-details-content"},c.a.createElement(K,{branchLike:n,component:r,components:this.state.components,leakPeriod:this.props.leakPeriod,measure:a||void 0,metric:i,secondaryMeasure:this.props.secondaryMeasure}),re(r)?this.renderCode():this.renderMeasure()))},t}(c.a.PureComponent),nt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={component:null,loading:{measure:!1,components:!1},measure:null,secondaryMeasure:null},t.fetchMeasure=function(e){var n=e.branchLike,r=e.rootComponent,o=e.fetchMeasures,a=e.metric,i=e.selected;t.updateLoading({measure:!0});var c=[a.key];"ncloc"===a.key&&c.push("ncloc_language_distribution"),o(i||r.key,c,n).then(function(e){var n=e.component,r=e.measures;if(t.mounted){var o=r.find(function(e){return e.metric.key===a.key}),i=r.find(function(e){return e.metric.key!==a.key});t.setState({component:n,measure:o,secondaryMeasure:i}),t.updateLoading({measure:!1})}},function(){return t.updateLoading({measure:!1})})},t.updateLoading=function(e){t.mounted&&t.setState(function(t){return{loading:rt({},t.loading,e)}})},t.updateSelected=function(e){return t.props.updateQuery({selected:e!==t.props.rootComponent.key?e:null})},t.updateView=function(e){return t.props.updateQuery({view:e})},t}return nt(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchMeasure(this.props)},t.prototype.componentWillReceiveProps=function(e){var t=this.state.component;(!t||e.rootComponent.key!==t.key||e.selected!==t.key||e.metric!==this.props.metric)&&this.fetchMeasure(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return this.state.component?c.a.createElement(tt,{branchLike:this.props.branchLike,className:this.props.className,component:this.state.component,currentUser:this.props.currentUser,loading:this.state.loading.measure||this.state.loading.components,leakPeriod:this.props.leakPeriod,measure:this.state.measure,metric:this.props.metric,metrics:this.props.metrics,rootComponent:this.props.rootComponent,router:this.props.router,secondaryMeasure:this.state.secondaryMeasure,updateLoading:this.updateLoading,updateSelected:this.updateSelected,updateView:this.updateView,view:this.props.view}):null},t}(c.a.PureComponent),at=n(1058),it=n(1057),ct=n(241),st=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMeasureVal=function(e,t){var n=e.measures.find(function(e){return e.metric.key===t.key});if(n)return Number(Object(D.isDiffMetric)(t.key)?n.leak:n.value)},t.handleBubbleClick=function(e){return t.props.updateSelected(e.refKey||e.key)},t}return st(t,e),t.prototype.getTooltip=function(e,t,n){var r=[e,n.x.name+": "+Object(D.formatMeasure)(t.x,n.x.type),n.y.name+": "+Object(D.formatMeasure)(t.y,n.y.type),n.size.name+": "+Object(D.formatMeasure)(t.size,n.size.type)];return t.colors&&n.colors&&n.colors.forEach(function(e,n){var o=t.colors[n];(o||0===o)&&r.push(e.name+": "+Object(D.formatMeasure)(o,e.type))}),c.a.createElement("div",{className:"text-left"},r.map(function(e,t){return c.a.createElement(c.a.Fragment,{key:t},e,t<r.length-1&&c.a.createElement("br",null))}))},t.prototype.renderBubbleChart=function(e){var t,n=this,r=this.props.components.map(function(t){var r=n.getMeasureVal(t,e.x),o=n.getMeasureVal(t,e.y),a=n.getMeasureVal(t,e.size),i=e.colors&&e.colors.map(function(e){return n.getMeasureVal(t,e)});return!r&&0!==r||!o&&0!==o||!a&&0!==a?null:{x:r,y:o,size:a,color:null!=i?ct.a[Math.max.apply(Math,i.filter(Boolean))-1]:void 0,link:t,tooltip:n.getTooltip(t.name,{x:r,y:o,size:a,colors:i},e)}}).filter(Boolean);return c.a.createElement(at.a,{items:r,height:500,padding:[25,60,50,60],formatXTick:function(t){return Object(D.formatMeasure)(t,e.x.type)},formatYTick:function(t){return Object(D.formatMeasure)(t,e.y.type)},onBubbleClick:this.handleBubbleClick,yDomain:(t=this.props.domain,X[t].yDomain)})},t.prototype.renderChartHeader=function(e,t,n){var r=e===J?Object(M.l)("component_measures.overview",e,"title"):Object(M.m)("component_measures.domain_x_overview",Object(M.d)(e));return c.a.createElement("div",{className:"measure-overview-bubble-chart-header"},c.a.createElement("span",{className:"measure-overview-bubble-chart-title"},r),c.a.createElement("span",{className:"measure-overview-bubble-chart-legend"},c.a.createElement("span",{className:"note"},n&&c.a.createElement("span",{className:"spacer-right"},Object(M.m)("component_measures.legend.color_x",n.length>1?M.m.apply(void 0,["component_measures.legend.worse_of_x_y"].concat(n.map(function(e){return Object(M.e)(e)}))):Object(M.e)(n[0]))),Object(M.m)("component_measures.legend.size_x",Object(M.e)(t))),n&&c.a.createElement(it.a,{className:"spacer-top"})))},t.prototype.renderChartFooter=function(e){var t="component_measures.overview."+e+".description",n=Object(M.l)(t);return t===n?null:c.a.createElement("div",{className:"measure-overview-bubble-chart-footer"},n)},t.prototype.render=function(){if(this.props.components.length<=0)return c.a.createElement(Ne,null);var e=this.props.domain,t=le(e,this.props.metrics);return c.a.createElement("div",{className:"measure-overview-bubble-chart"},this.renderChartHeader(e,t.size,t.colors),c.a.createElement("div",{className:"measure-overview-bubble-chart-content"},this.renderBubbleChart(t)),c.a.createElement("div",{className:"measure-overview-bubble-chart-axis x"},Object(M.e)(t.x)),c.a.createElement("div",{className:"measure-overview-bubble-chart-axis y"},Object(M.e)(t.y)),this.renderChartFooter(e))},t}(c.a.PureComponent),pt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mt=500,dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={components:[],paging:null},t.fetchComponents=function(e){var n=e.branchLike,r=e.component,o=e.domain,a=e.metrics;if(re(r))t.setState({components:[],paging:null});else{var i=le(o,a),c=i.x,s=i.y,l=i.size,p=i.colors,u=[c.key,s.key,l.key];p&&u.push(p.map(function(e){return e.key}));var m=ut({},Object(b.c)(n),{s:"metric",metricSort:l.key,asc:!1,ps:mt});t.props.updateLoading({bubbles:!0}),Object(g.l)(r.key,u,m).then(function(e){o===t.props.domain&&(t.mounted&&t.setState({components:e.components.map(function(e){return ne(e,null,a)}),paging:e.paging}),t.props.updateLoading({bubbles:!1}))},function(){return t.props.updateLoading({bubbles:!1})})}},t}return pt(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchComponents(this.props)},t.prototype.componentWillReceiveProps=function(e){e.component===this.props.component&&e.metrics===this.props.metrics&&e.domain===this.props.domain||this.fetchComponents(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.renderContent=function(){var e=this.props,t=e.branchLike,n=e.component;return re(n)?c.a.createElement("div",{className:"measure-details-viewer"},c.a.createElement(Te.a,{branchLike:t,component:n.key})):c.a.createElement(lt,{component:this.props.component,components:this.state.components,domain:this.props.domain,metrics:this.props.metrics,updateSelected:this.props.updateSelected})},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.component,r=e.currentUser,o=e.leakPeriod,a=e.rootComponent,i=r&&r.isLoggedIn,s=re(n);return c.a.createElement("div",{className:this.props.className},c.a.createElement("div",{className:"layout-page-header-panel layout-page-main-header"},c.a.createElement("div",{className:"layout-page-header-panel-inner layout-page-main-header-inner"},c.a.createElement("div",{className:"layout-page-main-inner"},c.a.createElement(O,{backToFirst:!0,branchLike:t,className:"measure-breadcrumbs spacer-right text-ellipsis",component:n,handleSelect:this.props.updateSelected,rootComponent:a}),n.key!==a.key&&i&&c.a.createElement(P,{component:n.key,className:"measure-favorite spacer-right"}),c.a.createElement(ge,{current:this.state.components.length,loading:this.props.loading,isFile:s,paging:this.state.paging})))),c.a.createElement("div",{className:"layout-page-main-inner measure-details-content"},c.a.createElement("div",{className:"clearfix big-spacer-bottom"},null!=o&&c.a.createElement(T,{className:"pull-right",component:n,period:o})),!this.props.loading&&this.renderContent()))},t}(c.a.PureComponent),ht=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={component:null,loading:{component:!1,bubbles:!1}},t.fetchComponent=function(e){var n=e.branchLike,r=e.rootComponent,o=e.selected;if(!o||r.key===o)return t.setState({component:r}),void t.updateLoading({component:!1});t.updateLoading({component:!0}),Object(g.m)(ft({component:o},Object(b.c)(n))).then(function(e){var n=e.component;t.mounted&&(t.setState({component:n}),t.updateLoading({component:!1}))},function(){return t.updateLoading({component:!1})})},t.updateLoading=function(e){t.mounted&&t.setState(function(t){return{loading:ft({},t.loading,e)}})},t.updateSelected=function(e){t.state.component&&oe(t.state.component)?t.props.router.push(Object(F.r)(e)):t.props.updateQuery({selected:e!==t.props.rootComponent.key?e:null})},t}return ht(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchComponent(this.props)},t.prototype.componentWillReceiveProps=function(e){var t=this.state.component;(!t||e.rootComponent.key!==t.key||e.selected!==t.key||e.domain!==this.props.domain)&&this.fetchComponent(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return this.state.component?c.a.createElement(dt,{branchLike:this.props.branchLike,className:this.props.className,component:this.state.component,currentUser:this.props.currentUser,domain:this.props.domain,loading:this.state.loading.component||this.state.loading.bubbles,leakPeriod:this.props.leakPeriod,metrics:this.props.metrics,rootComponent:this.props.rootComponent,updateLoading:this.updateLoading,updateSelected:this.updateSelected}):null},t}(c.a.PureComponent),vt=n(995),gt=n(997),bt=n(999);function _t(e){var t=e.value,n=e.selected,r=e.onChange,o=Object(M.l)("component_measures.overview",t,"facet");return c.a.createElement(vt.a,{property:t},c.a.createElement(bt.a,null,c.a.createElement(gt.a,{active:t===n,disabled:!1,key:t,name:c.a.createElement(h.a,{overlay:o,mouseEnterDelay:.5},c.a.createElement("strong",{id:"measure-overview-"+t+"-name"},o)),onClick:r,value:t})))}function kt(e){var t=e.measure;return Object(D.isDiffMetric)(t.metric.key)?c.a.createElement("div",{id:"measure-"+t.metric.key+"-leak",className:"domain-measures-value domain-measures-leak"},c.a.createElement(A.a,{value:t.leak,metricKey:t.metric.key,metricType:t.metric.type})):c.a.createElement("div",{id:"measure-"+t.metric.key+"-value",className:"domain-measures-value"},c.a.createElement(A.a,{value:t.value,metricKey:t.metric.key,metricType:t.metric.type}))}var Ot=n(249),Et=n(998),wt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleHeaderClick=function(){return t.props.onToggle(t.props.domain.name)},t.hasFacetSelected=function(e,t,n){var r=t.find(function(e){return e.metric.key===n}),o=e.name===n&&se(e.name);return r||o},t.getValues=function(){var e=t.props,n=e.domain,r=e.selected,o=n.measures.find(function(e){return e.metric.key===r}),a=n.name===r&&se(n.name);return o?[Object(M.e)(o.metric)]:a?[Object(M.l)("component_measures.domain_overview")]:[]},t.renderItemFacetStat=function(e){return"alert_status"!==e.metric.key?c.a.createElement(kt,{measure:e}):null},t.renderItemsFacet=function(){var e=t.props,n=e.domain,r=e.selected,o=function(e,t){var n=G[e]&&G[e].categories;return n&&n.length>0?n.concat(t):t}(n.name,n.measures.filter(function(e){return!te.includes(e.metric.key)})),a=o.some(function(e){return"string"==typeof e})?M.c:M.e,i=function(e,t){var n=(G[e]||{}).order||[];return Object(W.sortBy)(t,[function(e){if("string"==typeof e)return n.indexOf(e);var t=n.indexOf(e.metric.key);return t>=0?t:n.length},function(e){return"string"==typeof e?e:Object(M.e)(e.metric)}])}(n.name,o);return(i=i.filter(function(e,t){return"string"!=typeof e||t+1!==i.length&&"string"!=typeof i[t+1]})).map(function(e){return"string"==typeof e?c.a.createElement("span",{className:"facet search-navigator-facet facet-category",key:e},c.a.createElement("span",{className:"facet-name"},Object(M.l)("component_measures.facet_category",e))):c.a.createElement(gt.a,{active:e.metric.key===r,disabled:!1,key:e.metric.key,name:c.a.createElement("span",{className:"big-spacer-left",id:"measure-"+e.metric.key+"-name"},a(e.metric)),onClick:t.props.onChange,stat:t.renderItemFacetStat(e),value:e.metric.key})})},t.renderOverviewFacet=function(){var e=t.props,n=e.domain,r=e.selected;return se(n.name)?c.a.createElement(gt.a,{active:n.name===r,disabled:!1,key:n.name,name:c.a.createElement("span",{id:"measure-overview-"+n.name+"-name"},Object(M.l)("component_measures.domain_overview")),onClick:t.props.onChange,stat:c.a.createElement(Ot.a,{size:14}),value:n.name}):null},t}return wt(t,e),t.prototype.render=function(){var e=this.props.domain,t="component_measures.domain_facets."+e.name+".help",n=Object(M.l)(t);return c.a.createElement(vt.a,{property:e.name},c.a.createElement(Et.a,{helper:t!==n?n:void 0,name:Object(M.d)(e.name),onClick:this.handleHeaderClick,open:this.props.open,values:this.getValues()}),this.props.open&&c.a.createElement(bt.a,null,this.renderOverviewFacet(),this.renderItemsFacet()))},t}(c.a.PureComponent),Nt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pt=function(e){function t(t){var n=e.call(this,t)||this;return n.getOpenFacets=function(e,t){var n=t.measures,r=t.selectedMetric,o=Ct({},e),a=n.find(function(e){return e.metric.key===r});return a&&a.metric&&a.metric.domain?o[a.metric.domain]=!0:ee.includes(r)&&(o[r]=!0),o},n.toggleFacet=function(e){n.setState(function(t){var n,r=t.openFacets;return{openFacets:Ct({},r,(n={},n[e]=!r[e],n))}})},n.resetSelection=function(e){return{selected:null,view:function(e){return ie(e)?Z:"tree"}(e)}},n.changeMetric=function(e){return n.props.updateQuery(Ct({metric:e},n.resetSelection(e)))},n.state={openFacets:n.getOpenFacets({},t)},n}return Nt(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;e.selectedMetric!==this.props.selectedMetric&&this.setState(function(n){return t.getOpenFacets(n.openFacets,e)})},t.prototype.render=function(){var e=this;return c.a.createElement("div",{className:"search-navigator-facets-list"},c.a.createElement(_t,{onChange:this.changeMetric,selected:this.props.selectedMetric,value:J}),ae(this.props.measures).map(function(t){return c.a.createElement(jt,{key:t.name,domain:t,onChange:e.changeMetric,onToggle:e.toggleFacet,open:!0===e.state.openFacets[t.name],selected:e.props.selectedMetric})}))},t}(c.a.PureComponent),xt=n(1013),St=(n(1128),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mt=function(e){function t(t){var n=e.call(this,t)||this;return n.fetchMeasures=function(e){var t=e.branchLike,r=e.component,o=e.fetchMeasures,a=e.metrics;n.setState({loading:!0});var i=Object(D.getDisplayMetrics)(Object.values(a)).map(function(e){return e.key});o(r.key,i,t).then(function(e){var t=e.measures,r=e.leakPeriod;n.mounted&&n.setState({loading:!1,leakPeriod:r,measures:t.filter(function(e){return null!=e.value||null!=e.leak})})},function(){n.mounted&&n.setState({loading:!1})})},n.updateQuery=function(e){var t=me(Lt({},ue(n.props.location.query),e));n.props.router.push({pathname:n.props.location.pathname,query:Lt({},t,Object(b.c)(n.props.branchLike),{id:n.props.component.key})})},n.state={loading:!0,measures:[],leakPeriod:null},n}return St(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,document.body.classList.add("white-page"),document.documentElement.classList.add("white-page"),this.props.fetchMetrics(),this.fetchMeasures(this.props),u.a.setScope("measures-files");var e=document.getElementById("footer");e&&e.classList.add("page-footer-with-sidebar")},t.prototype.componentWillReceiveProps=function(e){Object(b.h)(e.branchLike,this.props.branchLike)&&e.component.key===this.props.component.key&&e.metrics===this.props.metrics||this.fetchMeasures(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1,document.body.classList.remove("white-page"),document.documentElement.classList.remove("white-page"),u.a.deleteScope("measures-files");var e=document.getElementById("footer");e&&e.classList.remove("page-footer-with-sidebar")},t.prototype.render=function(){var e=this;if(this.state.loading||this.props.metricsKey.length<=0)return c.a.createElement("i",{className:"spinner spinner-margin"});var t=this.props,n=t.branchLike,r=t.component,o=t.fetchMeasures,a=t.metrics,i=this.state.leakPeriod,s=ue(this.props.location.query),p=a[s.metric];return c.a.createElement("div",{className:"layout-page",id:"component-measures"},c.a.createElement(l.a,{title:Object(M.l)("layout.measures")}),c.a.createElement(xt.a,{className:"layout-page-side-outer"},function(t){var n=t.top;return c.a.createElement("div",{className:"layout-page-side",style:{top:n}},c.a.createElement("div",{className:"layout-page-side-inner"},c.a.createElement("div",{className:"layout-page-filters"},c.a.createElement(Pt,{measures:e.state.measures,selectedMetric:s.metric,updateQuery:e.updateQuery}))))}),null!=p&&c.a.createElement(ot,{branchLike:n,className:"layout-page-main",currentUser:this.props.currentUser,rootComponent:r,fetchMeasures:o,leakPeriod:i,metric:p,metrics:a,router:this.props.router,selected:s.selected,updateQuery:this.updateQuery,view:s.view}),null==p&&se(s.metric)&&c.a.createElement(yt,{branchLike:n,className:"layout-page-main",rootComponent:r,currentUser:this.props.currentUser,domain:s.metric,leakPeriod:i,metrics:a,router:this.props.router,selected:s.selected,updateQuery:this.updateQuery}))},t}(c.a.PureComponent),Tt=n(13),Rt=n(7),zt=n(43),It=n(1014),At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};var Ft={fetchMeasures:function(e,t,n){return function(r,o){return t.length<=0?Promise.resolve({component:{},measures:[],leakPeriod:null}):Object(It.e)(e,t,At({additionalFields:"periods"},Object(b.c)(n))).then(function(e){var t,n,r=(t=e.component,n=[],["VW","SVW"].includes(t.qualifier)||n.push("alert_status"),"APP"===t.qualifier&&n.push("releasability_rating","releasability_effort"),t.measures.filter(function(e){return!n.includes(e.metric)})).map(function(e){return Object(H.a)(e,Object(Rt.getMetrics)(o()))}),a=r.find(function(e){return"new_bugs"===e.metric.key})?[{index:1}]:[],i="APP"===e.component.qualifier?a:e.periods;return{component:e.component,measures:r,leakPeriod:Object(L.a)(i)}},Tt.a)}},fetchMetrics:zt.e};t.default=Object(o.connect)(function(e){return{currentUser:Object(Rt.getCurrentUser)(e),metrics:Object(Rt.getMetrics)(e),metricsKey:Object(Rt.getMetricsKey)(e)}},Ft)(Object(a.withRouter)(Mt))},995:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(6);function a(e){return r.createElement("div",{className:o("search-navigator-facet-box",e.className),"data-property":e.property},e.children)}},997:function(e,t,n){"use strict";var r,o=n(0),a=n(6),i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClick(t.props.value)},t}return i(t,e),t.prototype.render=function(){var e=a("facet","search-navigator-facet",this.props.className,{active:this.props.active,"search-navigator-facet-half":this.props.halfWidth});return this.props.disabled?o.createElement("span",{className:e,"data-facet":this.props.value},o.createElement("span",{className:"facet-name"},this.props.name),null!=this.props.stat&&o.createElement("span",{className:"facet-stat"},this.props.stat)):o.createElement("a",{className:e,"data-facet":this.props.value,href:"#",onClick:this.handleClick},o.createElement("span",{className:"facet-name"},this.props.name),null!=this.props.stat&&o.createElement("span",{className:"facet-stat"},this.props.stat))},t.defaultProps={disabled:!1,halfWidth:!1},t}(o.PureComponent);t.a=c},998:function(e,t,n){"use strict";var r,o=n(0),a=n(246),i=n(149),c=n(25),s=n(11),l=n(1),p=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClick&&t.props.onClick()},t}return p(t,e),t.prototype.renderHelper=function(){return this.props.helper?o.createElement(c.a,{overlay:this.props.helper},o.createElement("span",null,o.createElement(i.a,{className:"spacer-left text-info"}))):null},t.prototype.renderValueIndicator=function(){var e=this.props.values;if(this.props.open||!e||!e.length)return null;var t=1===e.length?e[0]:Object(l.m)("x_selected",e.length);return o.createElement("span",{className:"badge badge-secondary is-rounded text-ellipsis",title:t},t)},t.prototype.render=function(){var e=null!=this.props.values&&this.props.values.length>0&&null!=this.props.onClear;return o.createElement("div",{className:"search-navigator-facet-header-wrapper"},this.props.onClick?o.createElement("span",{className:"search-navigator-facet-header"},o.createElement("a",{href:"#",onClick:this.handleClick},o.createElement(a.a,{className:"little-spacer-right",open:this.props.open}),this.props.name),this.renderHelper()):o.createElement("span",{className:"search-navigator-facet-header"},this.props.name,this.renderHelper()),o.createElement("span",{className:"search-navigator-facet-header-value spacer-left spacer-right "},this.renderValueIndicator()),e&&o.createElement(s.a,{className:"search-navigator-facet-header-button button-small button-red",onClick:this.props.onClear},Object(l.l)("clear")))},t}(o.PureComponent);t.a=u},999:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0);function o(e){return r.createElement("div",{className:"search-navigator-facet-list"},e.children)}}}]);
//# sourceMappingURL=266.a257fed0.chunk.js.map