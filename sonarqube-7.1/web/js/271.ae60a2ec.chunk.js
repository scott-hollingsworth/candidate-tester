(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{1001:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n(240),i=n(238),o=n(239);function s(e){var t,n=e.className,s=e.query,c=e.size;switch(s.toLowerCase()){case"bug":case"bugs":case"new_bugs":t=r.createElement(a.a,{size:c});break;case"vulnerability":case"vulnerabilities":case"new_vulnerabilities":t=r.createElement(i.a,{size:c});break;case"code_smell":case"code_smells":case"new_code_smells":t=r.createElement(o.a,{size:c})}return t?n?r.createElement("span",{className:n},t):t:null}},1002:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n(1021),i=n(1006),o=n(242),s=n(25),c=n(50);function l(e){var t=e.className,n=e.decimals,l=e.metricKey,u=e.metricType,p=e.small,m=e.value;if(void 0===m)return r.createElement("span",null,"–");if("LEVEL"===u)return r.createElement(o.a,{className:t,level:m,small:p});if("RATING"!==u){var d=Object(c.formatMeasure)(m,u,{decimals:n});return r.createElement("span",{className:t},null!=d?d:"–")}var f=Object(a.b)(l,Number(m)),v=r.createElement(i.a,{small:p,value:m});return f?r.createElement(s.a,{overlay:f},r.createElement("span",{className:t},v)):v}},1004:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"h",function(){return m});var r=n(3),a=n(13);function i(e){return Object(r.getJSON)("/api/rules/app",e).catch(a.a)}function o(e){return Object(r.getJSON)("/api/rules/search",e).catch(a.a)}function s(e,t){var n=e.facets.find(function(e){return e.property===t});return n?n.values:[]}function c(e){return Object(r.getJSON)("/api/rules/show",e).catch(a.a)}function l(e){return Object(r.getJSON)("/api/rules/tags",e).then(function(e){return e.tags},a.a)}function u(e){return Object(r.postJSON)("/api/rules/create",e).then(function(e){return e.rule},function(e){return e&&e.response&&409===e.response.status?Promise.reject(e.response):Object(a.a)(e)})}function p(e){return Object(r.post)("/api/rules/delete",e).catch(a.a)}function m(e){return Object(r.postJSON)("/api/rules/update",e).then(function(e){return e.rule},a.a)}},1005:function(e,t,n){"use strict";n.d(t,"i",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"l",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"n",function(){return m}),n.d(t,"c",function(){return d}),n.d(t,"o",function(){return f}),n.d(t,"e",function(){return v}),n.d(t,"k",function(){return h}),n.d(t,"m",function(){return y}),n.d(t,"a",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"j",function(){return O});var r=n(3),a=n(13),i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function o(e){return Object(r.getJSON)("/api/qualitygates/list",e).catch(a.a)}function s(e){return Object(r.getJSON)("/api/qualitygates/show",e).catch(a.a)}function c(e){return Object(r.postJSON)("/api/qualitygates/create",e).catch(a.a)}function l(e){return Object(r.post)("/api/qualitygates/destroy",e).catch(a.a)}function u(e){return Object(r.post)("/api/qualitygates/rename",e).catch(a.a)}function p(e){return Object(r.postJSON)("/api/qualitygates/copy",e).catch(a.a)}function m(e){return Object(r.post)("/api/qualitygates/set_as_default",e).catch(a.a)}function d(e){return Object(r.postJSON)("/api/qualitygates/create_condition",e)}function f(e){return Object(r.postJSON)("/api/qualitygates/update_condition",e)}function v(e){return Object(r.post)("/api/qualitygates/delete_condition",e)}function h(e){return Object(r.getJSON)("/api/qualitygates/get_by_project",e).then(function(e){var t=e.qualityGate;return t&&i({},t,{isDefault:t.default})},a.a)}function y(e){return Object(r.getJSON)("/api/qualitygates/search",e).catch(a.a)}function b(e){return Object(r.post)("/api/qualitygates/select",e).catch(a.a)}function g(e){return Object(r.post)("/api/qualitygates/deselect",e).catch(a.a)}function O(e){return Object(r.getJSON)("/api/qualitygates/application_status",e).catch(a.a)}},1014:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return m});var r=n(3),a=n(13),i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function o(e){return Object(r.getJSON)("/api/measures/component",e).then(function(e){return e.component.measures},a.a)}function s(e,t,n){void 0===n&&(n={});var a=i({},n,{componentKey:e,metricKeys:t.join(",")});return Object(r.getJSON)("/api/measures/component",a)}function c(e,t){return Object(r.getJSON)("/api/measures/search",{projectKeys:e.join(),metricKeys:t.join()}).then(function(e){return e.measures})}function l(e){return Object(r.getJSON)("/api/custom_measures/search",e).then(function(e){return{customMeasures:e.customMeasures,paging:{pageIndex:e.p,pageSize:e.ps,total:e.total}}},a.a)}function u(e){return Object(r.postJSON)("/api/custom_measures/create",e).catch(a.a)}function p(e){return Object(r.post)("/api/custom_measures/update",e).catch(a.a)}function m(e){return Object(r.post)("/api/custom_measures/delete",e).catch(a.a)}},1015:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n(6),i=n(1023),o=(n(1051)," \\\n  ");function s(e){var t=e.className,n=e.isOneLine,s=e.noCopy,c=e.snippet,l=Array.isArray(c)?c.filter(function(e){return void 0!==e}):[c],u=n?l.join(" "):l.join(o);return r.createElement("div",{className:a("code-snippet",{"code-snippet-oneline":n},t)},r.createElement("pre",null,u),!s&&r.createElement(i.a,{copyValue:u}))}},1021:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var r=n(50),a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i=["sqale_rating","reliability_rating","security_rating"];function o(e,t){return a({},e,{metric:t[e.metric],leak:function(e){if(!e||!e.periods)return;var t=e.periods.find(function(e){return 1===e.index});return t&&t.value}(e)})}function s(e,t){var n=Object(r.isDiffMetric)(e)?e.substr(4):e;if(i.includes(n))return Object(r.getRatingTooltip)(n,t)}},1023:function(e,t,n){"use strict";var r,a=n(0),i=n(6),o=n(1037),s=n(25),c=n(11),l=n(1),u=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={tooltipShown:!1},t.showTooltip=function(){t.mounted&&(t.setState({tooltipShown:!0}),setTimeout(function(){t.mounted&&t.setState({tooltipShown:!1})},1e3))},t}return u(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.copyButton&&(this.clipboard=new o(this.copyButton),this.clipboard.on("success",this.showTooltip))},t.prototype.componentDidUpdate=function(){this.clipboard&&this.clipboard.destroy(),this.copyButton&&(this.clipboard=new o(this.copyButton),this.clipboard.on("success",this.showTooltip))},t.prototype.componentWillUnmount=function(){this.mounted=!1,this.clipboard&&this.clipboard.destroy()},t.prototype.render=function(){var e=this;return a.createElement(s.a,{overlay:Object(l.l)("copied_action"),visible:this.state.tooltipShown},a.createElement(c.a,{className:i("js-copy-to-clipboard no-select",this.props.className),"data-clipboard-text":this.props.copyValue,innerRef:function(t){return e.copyButton=t}},Object(l.l)("copy")))},t}(a.PureComponent);t.a=p},1028:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n(6),i=(n(1029),n(152));function o(e){var t=e.allowUpdate,n=void 0!==t&&t,o=e.className,s=e.tags;return r.createElement("span",{className:a("tags-list",o),title:s.join(", ")},r.createElement("i",{className:"icon-tags"}),r.createElement("span",{className:"text-ellipsis"},s.join(", ")),n&&r.createElement(i.a,null))}},1029:function(e,t,n){},1040:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s});var r=n(1),a=n(28);function i(e){return function(e,t){if(Array.isArray(e))return e.find(function(e){return e.index===t})}(e,1)}function o(e){if(e){var t=e.modeParam||e.parameter;return"previous_version"!==e.mode||t?Object(r.m)("overview.period."+e.mode,t):Object(r.l)("overview.period.previous_version_only_date")}}function s(e){return e&&e.date?Object(a.e)(e.date):void 0}},1043:function(e,t,n){"use strict";var r,a=n(0),i=n(6),o=n(4),s=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelect=function(e){e.stopPropagation(),e.preventDefault(),e.currentTarget.blur(),t.props.disabled||t.props.onSelectChange(t.props.element,!t.props.selected)},t.handleHover=function(){return t.props.onHover(t.props.element)},t}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.selected,n=e.disabled,r=i("icon-checkbox",{"icon-checkbox-checked":t,"icon-checkbox-invisible":n}),o=i({active:this.props.active,disabled:n});return a.createElement("li",null,a.createElement("a",{className:o,href:"#",onClick:this.handleSelect,onFocus:this.handleHover,onMouseOver:this.handleHover},a.createElement("i",{className:r})," ",this.props.custom&&"+ ",this.props.renderLabel(this.props.element)))},t}(a.PureComponent),l=n(47),u=n(1),p=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleSelectChange=function(e,t){t?n.onSelectItem(e):n.onUnselectItem(e)},n.handleSearchChange=function(e){n.onSearchQuery(n.props.validateSearchInput(e))},n.handleElementHover=function(e){n.setState(function(t,r){return{activeIdx:n.getAllElements(r,t).indexOf(e)}})},n.handleKeyboard=function(e){switch(e.keyCode){case 40:e.stopPropagation(),e.preventDefault(),n.setState(n.selectNextElement);break;case 38:e.stopPropagation(),e.preventDefault(),n.setState(n.selectPreviousElement);break;case 37:case 39:e.stopPropagation();break;case 13:n.state.activeIdx>=0&&n.toggleSelect(n.getAllElements(n.props,n.state)[n.state.activeIdx])}},n.onSearchQuery=function(e){n.setState({activeIdx:0,loading:!0,query:e}),n.props.onSearch(e).then(n.stopLoading,n.stopLoading)},n.onSelectItem=function(e){n.isNewElement(e,n.props)&&n.onSearchQuery(""),n.props.onSelect(e)},n.onUnselectItem=function(e){return n.props.onUnselect(e)},n.isNewElement=function(e,t){var n=t.selectedElements,r=t.elements;return e.length>0&&-1===n.indexOf(e)&&-1===r.indexOf(e)},n.updateSelectedElements=function(e){n.setState(function(t){return t.query?{selectedElements:e.filterSelected(t.query,e.selectedElements)}:{selectedElements:e.selectedElements.slice()}})},n.updateUnselectedElements=function(e){n.setState(function(t){return 0===e.listSize?{unselectedElements:Object(o.difference)(e.elements,e.selectedElements)}:e.listSize<t.selectedElements.length?{unselectedElements:[]}:{unselectedElements:Object(o.difference)(e.elements,e.selectedElements).slice(0,e.listSize-t.selectedElements.length)}})},n.getAllElements=function(e,t){return n.isNewElement(t.query,e)?t.selectedElements.concat(t.unselectedElements,[t.query]):t.selectedElements.concat(t.unselectedElements)},n.setElementActive=function(e){return n.setState({activeIdx:e})},n.selectNextElement=function(e,t){var r=e.activeIdx,a=n.getAllElements(t,e);return r<0||r>=a.length-1?{activeIdx:0}:{activeIdx:r+1}},n.selectPreviousElement=function(e,t){var r=e.activeIdx,a=n.getAllElements(t,e);return r<=0?{activeIdx:a.length-1}:{activeIdx:r-1}},n.stopLoading=function(){n.mounted&&n.setState({loading:!1})},n.toggleSelect=function(e){-1===n.props.selectedElements.indexOf(e)?n.onSelectItem(e):n.onUnselectItem(e)},n.state={activeIdx:0,loading:!0,query:"",selectedElements:[],unselectedElements:[]},n}return p(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.onSearchQuery(""),this.updateSelectedElements(this.props),this.updateUnselectedElements(this.props),this.container&&this.container.addEventListener("keydown",this.handleKeyboard,!0)},t.prototype.componentWillReceiveProps=function(e){if(this.props.elements!==e.elements||this.props.selectedElements!==e.selectedElements){this.updateSelectedElements(e),this.updateUnselectedElements(e);var t=this.getAllElements(e,this.state).length;this.state.activeIdx>=t&&this.setState({activeIdx:t-1})}},t.prototype.componentDidUpdate=function(){this.searchInput&&this.searchInput.focus()},t.prototype.componentWillUnmount=function(){this.mounted=!1,this.container&&this.container.removeEventListener("keydown",this.handleKeyboard)},t.prototype.render=function(){var e=this,t=this.props,n=t.allowSelection,r=void 0===n||n,o=t.allowNewElements,s=void 0===o||o,p=t.footerNode,m=void 0===p?"":p,d=this.props.renderLabel,f=this.state,v=f.query,h=f.activeIdx,y=f.selectedElements,b=f.unselectedElements,g=this.getAllElements(this.props,this.state)[h],O=s&&this.isNewElement(v,this.props),_=0===this.props.listSize,E=i("menu",{"menu-vertically-limited":_,"spacer-top":_,"with-top-separator":_,"with-bottom-separator":Boolean(m)});return a.createElement("div",{className:"multi-select",ref:function(t){return e.container=t}},a.createElement("div",{className:"menu-search"},a.createElement(l.a,{autoFocus:!0,className:"little-spacer-top",loading:this.state.loading,onChange:this.handleSearchChange,placeholder:this.props.placeholder,value:v})),a.createElement("ul",{className:E},y.length>0&&y.map(function(t){return a.createElement(c,{active:g===t,element:t,key:t,onHover:e.handleElementHover,onSelectChange:e.handleSelectChange,renderLabel:d,selected:!0})}),b.length>0&&b.map(function(t){return a.createElement(c,{active:g===t,disabled:!r,element:t,key:t,onHover:e.handleElementHover,onSelectChange:e.handleSelectChange,renderLabel:d})}),O&&a.createElement(c,{active:g===v,custom:!0,element:v,key:v,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:d}),!O&&y.length<1&&b.length<1&&a.createElement("li",{className:"spacer-left"},Object(u.m)("no_results_for_x",v))),m)},t.defaultProps={filterSelected:function(e,t){return t.filter(function(t){return t.includes(e)})},listSize:0,renderLabel:function(e){return e},validateSearchInput:function(e){return e}},t}(a.PureComponent);t.a=m},1044:function(e,t,n){"use strict";var r,a=n(10),i=n(0),o=n(4),s=n(1e3),c=n(1011),l=n(25),u=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=[10,10,10,10],m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.renderBar=function(e,t,n,r){var a=this.props,o=a.alignTicks,s=a.padding,c=void 0===s?p:s,l=Math.round(n(e))+1,u=n.range()[0]+(o?c[3]:0),m=Math.round(r(t)+r.bandwidth()/2);return i.createElement("rect",{className:"bar-chart-bar",x:u,y:m,width:l,height:10})},t.prototype.renderValue=function(e,t,n,r){var a=this.props,o=a.alignTicks,s=a.padding,c=void 0===s?p:s,u=a.yValues,m=u&&u[t];if(!m)return null;var d=n(e)+(o?c[3]:0),f=Math.round(r(t)+r.bandwidth()/2+5);return i.createElement(l.a,{overlay:this.props.yTooltips&&this.props.yTooltips[t]},i.createElement("text",{className:"bar-chart-tick histogram-value",x:d,y:f,dx:"1em",dy:"0.3em"},m))},t.prototype.renderTick=function(e,t,n){var r=this.props,a=r.alignTicks,o=r.yTicks,s=o&&o[e];if(!s)return null;var c=t.range()[0],l=Math.round(n(e)+n.bandwidth()/2+5),u=a?"histogram-tick-start":"histogram-tick";return i.createElement("text",{className:"bar-chart-tick "+u,x:c,y:l,dx:a?0:"-1em",dy:"0.3em"},s)},t.prototype.renderBars=function(e,t){var n=this;return i.createElement("g",null,this.props.bars.map(function(r,a){return i.createElement("g",{key:a},n.renderBar(r,a,e,t),n.renderValue(r,a,e,t),n.renderTick(a,e,t))}))},t.prototype.render=function(){var e=this.props,t=e.bars,n=e.width,r=e.height,a=e.padding,o=void 0===a?p:a,l=n-o[1]-o[3],u=Object(c.b)().domain([0,Object(s.e)(t)]).range([0,l]),m=r-o[0]-o[2],d=Object(c.a)().domain(t.map(function(e,t){return t})).rangeRound([0,m]);return i.createElement("svg",{className:"bar-chart",width:this.props.width,height:this.props.height},i.createElement("g",{transform:"translate("+(this.props.alignTicks?4:o[3])+", "+o[0]+")"},this.renderBars(u,d)))},t}(i.PureComponent),d=n(50),f=n(1);function v(e){return e.length>10?e.substr(0,7)+"...":e}var h=n(7);t.a=Object(a.connect)(function(e){return{languages:Object(h.getLanguages)(e)}})(function(e){var t=e.distribution.split(";").map(function(e){var t=e.split("=");return{language:t[0],lines:parseInt(t[1],10)}}),n=(t=Object(o.sortBy)(t,function(e){return-e.lines})).map(function(e){return e.lines}),r=t.map(function(t){return function(t){if("<null>"===t)return Object(f.l)("unknown");var n=Object(o.find)(e.languages,{key:t});return n?n.name:t}(t.language)}).map(v),a=t.map(function(e){return e.lines>1e3?Object(d.formatMeasure)(e.lines,"INT"):""}),s=t.map(function(e){return Object(d.formatMeasure)(e.lines,"SHORT_INT")});return i.createElement(m,{alignTicks:e.alignTicks,bars:n,height:25*t.length,padding:[0,60,0,80],yTicks:r,yTooltips:a,yValues:s,width:e.width})})},1051:function(e,t,n){},1055:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n(3),a=n(13),i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function o(e){return void 0===e&&(e=!0),Object(r.getJSON)("/api/webservices/list",{include_internals:e}).then(function(e){return e.webServices.map(function(e){var t=!e.actions.find(function(e){return!e.deprecatedSince}),n=!e.actions.find(function(e){return!e.internal});return i({},e,{deprecated:t,internal:n})})}).catch(a.a)}function s(e,t){return Object(r.getJSON)("/api/webservices/response_example",{controller:e,action:t}).catch(a.a)}},1056:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n(6),i=n(4);n(1077);function o(e){var t,n=e.small,o=void 0!==n&&n,s=e.muted,c=void 0!==s&&s,l=e.value;if(null==l)return r.createElement("div",{className:"size-rating size-rating-muted"}," ");Object(i.inRange)(l,0,1e3)?t="XS":Object(i.inRange)(l,1e3,1e4)?t="S":Object(i.inRange)(l,1e4,1e5)?t="M":Object(i.inRange)(l,1e5,5e5)?t="L":l>=5e5&&(t="XL");var u=a("size-rating",{"size-rating-small":o,"size-rating-muted":c});return r.createElement("div",{className:u},t)}},1062:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),a=n(994),i=n(1043),o=n(1);n(1029);function s(e){return r.createElement(a.a,{customClass:"bubble-popup-bottom-right bubble-popup-menu abs-width-300",position:e.position},r.createElement(i.a,{elements:e.tags,listSize:e.listSize,onSearch:e.onSearch,onSelect:e.onSelect,onUnselect:e.onUnselect,placeholder:Object(o.l)("search.search_for_tags"),selectedElements:e.selectedTags,validateSearchInput:c}))}function c(e){return e.toLowerCase().replace(/[^-a-z0-9+#.]/gi,"")}},1064:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(4),o=n(5),s=n(1012),c=n.n(s),l=n(6),u=n.n(l),p=n(248);function m(e){var t=e.style,n=e.translatedName,r=e.value;return a.a.createElement("tr",{className:"overview-analysis-graph-tooltip-line"},a.a.createElement("td",{className:"thin"},a.a.createElement(p.a,{className:"little-spacer-right line-chart-legend line-chart-legend-"+t})),a.a.createElement("td",{className:"overview-analysis-graph-tooltip-value text-right little-spacer-right thin"},r),a.a.createElement("td",{className:"text-ellipsis overview-analysis-graph-tooltip-description"},n))}var d,f=n(994),v=n(147),h=(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.render=function(){var e,t=this,n=this.props.tooltipIdx,r=this.props.tooltipPos;return r>this.props.graphWidth-160&&(r-=160,e="bubble-popup-right"),a.a.createElement(f.a,{customClass:u()(e,"disabled-pointer-events"),position:{top:16,left:r,width:160}},a.a.createElement("div",{className:"overview-analysis-graph-tooltip"},a.a.createElement("div",{className:"overview-analysis-graph-tooltip-title"},a.a.createElement(v.a,{date:this.props.selectedDate,long:!0})),a.a.createElement("table",{className:"width-100"},a.a.createElement("tbody",null,this.props.series.map(function(e,r){var i=e.data[n];return!i||!i.y&&0!==i.y?null:a.a.createElement(m,{key:e.name,style:r.toString(),translatedName:e.translatedName,value:t.props.formatValue(i.y)})})))))},t}(a.a.PureComponent),b=n(1074),g=n(1009),O=n(130),_=n(50),E=n(59),j=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k=[4,0,4,0],N=1,P=3,L=function(e){function t(t){var n=e.call(this,t)||this;n.formatValue=function(e){return Object(_.formatMeasure)(e,Object(_.getShortType)(Object(g.l)(n.state.series)))},n.getDisplayedMetrics=function(e,t){var n=Object(g.j)(e,t);return!n||n.length<=0?Object(g.j)(g.b,t):n},n.getSeries=function(e,t,r,a){var o=e;if(!o)return[];var s=n.getDisplayedMetrics(t,r),c=Object(i.minBy)(s.map(function(e){return o[e].find(function(e){return e.value||0===e.value})}),"date"),l=s.map(function(e){return{metric:e,history:c?o[e].filter(function(e){return e.date>=c.date}):o[e]}});return Object(g.h)(l,t,a,s)},n.handleClick=function(){n.context.router.push({pathname:"/project/activity",query:w({id:n.props.project},Object(E.c)(n.props.branchLike))})},n.updateTooltip=function(e,t,r){return n.setState({selectedDate:e,tooltipXPos:t,tooltipIdx:r})};var r=Object(O.b)(),a=Object(O.a)(),o=Object(g.v)(n.getSeries(t.history,r,a,t.metrics),N,P);return n.state={customMetrics:a,graph:r,selectedDate:null,series:o.length>0?o[0]:[],tooltipIdx:null,tooltipXPos:null},n}return j(t,e),t.prototype.componentWillReceiveProps=function(e){if(e.history!==this.props.history||e.metrics!==this.props.metrics){var t=Object(O.b)(),n=Object(O.a)(),r=Object(g.v)(this.getSeries(e.history,t,n,e.metrics),N,P);this.setState({customMetrics:n,graph:t,series:r.length>0?r[0]:[]})}},t.prototype.renderTimeline=function(){var e=this,t=this.state,n=t.graph,r=t.selectedDate,i=t.series,o=t.tooltipIdx,s=t.tooltipXPos;return a.a.createElement(c.a,{disableHeight:!0},function(t){var c=t.width;return a.a.createElement("div",null,a.a.createElement(b.a,{endDate:null,startDate:null,height:80,width:c,hideGrid:!0,hideXAxis:!0,interpolate:"linear",metricType:Object(g.l)(i),padding:k,series:i,showAreas:["coverage","duplications"].includes(n),updateTooltip:e.updateTooltip}),null!=r&&null!=s&&null!=o&&a.a.createElement(y,{formatValue:e.formatValue,graph:n,graphWidth:c,metrics:e.props.metrics,selectedDate:r,series:i,tooltipIdx:o,tooltipPos:s}))})},t.prototype.render=function(){var e=this.state.series;return Object(g.o)(e)?a.a.createElement("div",{className:"overview-analysis-graph big-spacer-bottom spacer-top",onClick:this.handleClick,tabIndex:0,role:"link"},this.renderTimeline()):this.props.renderWhenEmpty?this.props.renderWhenEmpty():null},t.contextTypes={router:o.object},t}(a.a.PureComponent);t.a=L},1075:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l});var r=n(3),a=n(13);function i(e){return Object(r.getJSON)("/api/project_analyses/search",e).catch(a.a)}function o(e,t,n,i){var o={analysis:e,name:t};return n&&(o.category=n),i&&(o.description=i),Object(r.postJSON)("/api/project_analyses/create_event",o).then(function(e){return e.event},a.a)}function s(e){return Object(r.post)("/api/project_analyses/delete_event",{event:e}).catch(a.a)}function c(e,t,n){var i={event:e};return t&&(i.name=t),n&&(i.description=n),Object(r.postJSON)("/api/project_analyses/update_event",i).then(function(e){return e.event},a.a)}function l(e){return Object(r.post)("/api/project_analyses/delete",{analysis:e}).catch(a.a)}},1077:function(e,t,n){},1116:function(e,t,n){},1118:function(e,t,n){},1120:function(e,t,n){},1184:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n.n(a),o=n(5),s=n.n(o),c=n(4),l=n(10),u=n(6),p=n.n(u),m=n(2),d=n(38),f=n(59),v=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y=["violations","new_violations","blocker_violations","critical_violations","major_violations","minor_violations","info_violations","new_blocker_violations","new_critical_violations","new_major_violations","new_minor_violations","new_info_violations","open_issues","reopened_issues","confirmed_issues","false_positive_issues","code_smells","new_code_smells","bugs","new_bugs","vulnerabilities","new_vulnerabilities"],b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isIssueMeasure=function(){return-1!==y.indexOf(t.props.metric)},t.propsToIssueParams=function(){var e={};switch(t.props.sinceLeakPeriod&&(e.sinceLeakPeriod=!0),t.props.metric){case"blocker_violations":case"new_blocker_violations":Object.assign(e,{resolved:"false",severities:"BLOCKER"});break;case"critical_violations":case"new_critical_violations":Object.assign(e,{resolved:"false",severities:"CRITICAL"});break;case"major_violations":case"new_major_violations":Object.assign(e,{resolved:"false",severities:"MAJOR"});break;case"minor_violations":case"new_minor_violations":Object.assign(e,{resolved:"false",severities:"MINOR"});break;case"info_violations":case"new_info_violations":Object.assign(e,{resolved:"false",severities:"INFO"});break;case"open_issues":Object.assign(e,{resolved:"false",statuses:"OPEN"});break;case"reopened_issues":Object.assign(e,{resolved:"false",statuses:"REOPENED"});break;case"confirmed_issues":Object.assign(e,{resolved:"false",statuses:"CONFIRMED"});break;case"false_positive_issues":Object.assign(e,{resolutions:"FALSE-POSITIVE"});break;case"code_smells":case"new_code_smells":Object.assign(e,{resolved:"false",types:"CODE_SMELL"});break;case"bugs":case"new_bugs":Object.assign(e,{resolved:"false",types:"BUG"});break;case"vulnerabilities":case"new_vulnerabilities":Object.assign(e,{resolved:"false",types:"VULNERABILITY"});break;default:Object.assign(e,{resolved:"false"})}return e},t.renderIssuesLink=function(){var e=Object(d.g)(t.props.component,h({},t.propsToIssueParams(),Object(f.c)(t.props.branchLike)));return a.createElement(m.Link,{to:e,className:t.props.className},t.props.children)},t}return v(t,e),t.prototype.render=function(){if(this.isIssueMeasure())return this.renderIssuesLink();var e=Object(d.f)(this.props.component,this.props.metric,this.props.branchLike);return a.createElement(m.Link,{to:e,className:this.props.className},this.props.children)},t}(a.PureComponent),g=n(1002),O=n(1001),_=n(50),E=n(1),j=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getIssuesUrl=function(e,n){var r=w({resolved:"false"},Object(f.c)(t.props.branchLike),n);return e&&Object.assign(r,{sinceLeakPeriod:"true"}),Object(d.g)(t.props.component.key,r)},t}return j(t,e),t.prototype.getDecimalsNumber=function(e,t){var n=Math.abs(e-t);if(n<.1&&n>0)return n.toFixed(20).match("[^0.]").index-1},t.prototype.getUrlForCodeSmells=function(e){return this.getIssuesUrl(e,{types:"CODE_SMELL"})},t.prototype.getUrlForBugsOrVulnerabilities=function(e,t){var n=this.props.condition,r="ERROR"===n.level?n.error:n.warning;return this.getIssuesUrl(t,{types:e,severities:["BLOCKER,CRITICAL,MAJOR,MINOR","BLOCKER,CRITICAL,MAJOR","BLOCKER,CRITICAL","BLOCKER"][Number(r)-1]})},t.prototype.getUrlForType=function(e,t){return"CODE_SMELL"===e?this.getUrlForCodeSmells(t):this.getUrlForBugsOrVulnerabilities(e,t)},t.prototype.wrapWithLink=function(e){var t=this.props,n=t.branchLike,r=t.component,a=t.condition,o=p()("overview-quality-gate-condition","overview-quality-gate-condition-"+a.level.toLowerCase(),{"overview-quality-gate-condition-leak":null!=a.period}),s=a.measure.metric.key,c={reliability_rating:["BUG",!1],new_reliability_rating:["BUG",!0],security_rating:["VULNERABILITY",!1],new_security_rating:["VULNERABILITY",!0],sqale_rating:["CODE_SMELL",!1],new_maintainability_rating:["CODE_SMELL",!0]};return c[s]?i.a.createElement(m.Link,{to:this.getUrlForType.apply(this,c[s]),className:o},e):i.a.createElement(b,{branchLike:n,className:o,component:r.key,metric:a.measure.metric.key,sinceLeakPeriod:null!=a.period},e)},t.prototype.render=function(){var e=this.props.condition,t=e.measure,n=t.metric,r=Object(_.isDiffMetric)(n.key),a="ERROR"===e.level?e.error:e.warning,o=e.period?Object(_.getPeriodValue)(t,e.period):t.value,s=Object(E.l)("quality_gates.operator",e.op),c=null;return"RATING"===n.type?s=Object(E.l)("quality_gates.operator",e.op,"rating"):"PERCENT"===n.type&&(c=this.getDecimalsNumber(parseFloat(e.error),parseFloat(o))),this.wrapWithLink(i.a.createElement("div",{className:"overview-quality-gate-condition-container"},i.a.createElement("div",{className:"overview-quality-gate-condition-value"},i.a.createElement(g.a,{decimals:c,value:o,metricKey:t.metric.key,metricType:t.metric.type})),i.a.createElement("div",null,i.a.createElement("div",{className:"overview-quality-gate-condition-metric"},i.a.createElement(O.a,{query:n.key,className:"little-spacer-right"}),n.name),!r&&null!=e.period&&i.a.createElement("div",{className:"overview-quality-gate-condition-period"},Object(E.l)("quality_gates.conditions.leak")),i.a.createElement("div",{className:"overview-quality-gate-threshold"},s," ",Object(_.formatMeasure)(a,n.type)))))},t}(i.a.PureComponent),N=Object(o.shape)({id:o.string.isRequired}),P=Object(o.shape)({key:o.string.isRequired,name:o.string.isRequired,type:o.string.isRequired}),L=Object(o.shape)({metric:P.isRequired,value:o.string,periods:o.array}),S=(Object(o.arrayOf)(L),Object(o.shape)({metric:o.string.isRequired})),C=Object(o.shape)({measure:L.isRequired}),x=Object(o.arrayOf)(S),q=(Object(o.arrayOf)(C),Object(o.shape)({index:o.number.isRequired,date:o.string.isRequired,mode:o.string.isRequired,parameter:o.string})),T=(Object(o.arrayOf)(q),Object(o.shape)({id:o.string.isRequired,date:o.object.isRequired,type:o.string.isRequired,name:o.string.isRequired,text:o.string}),n(1014)),R=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},D=["ERROR","WARN"];var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0},t}return R(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadFailedMeasures()},t.prototype.componentDidUpdate=function(e){Object(f.h)(e.branchLike,this.props.branchLike)&&e.conditions===this.props.conditions&&e.component===this.props.component||this.loadFailedMeasures()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadFailedMeasures=function(){var e=this,t=this.props,n=t.branchLike,r=t.component,a=t.conditions.filter(function(e){return"OK"!==e.level});if(a.length>0){var i=a.map(function(e){return e.metric});Object(T.e)(r.key,i,M({additionalFields:"metrics"},Object(f.c)(n))).then(function(t){if(e.mounted){var n=Object(_.enhanceMeasuresWithMetrics)(t.component.measures,t.metrics);e.setState({conditions:function(e,t){return e.map(function(e){var n=t.find(function(t){return t.metric.key===e.metric});return M({},e,{measure:n})})}(a,n),loading:!1})}})}else this.setState({loading:!1})},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.component,r=this.state,a=r.loading,o=r.conditions;if(a)return null;var s=Object(c.sortBy)(o,function(e){return D.indexOf(e.level)},function(e){return e.metric.name});return i.a.createElement("div",{className:"overview-quality-gate-conditions-list clearfix",id:"overview-quality-gate-conditions-list"},s.map(function(e){return i.a.createElement(k,{branchLike:t,component:n,condition:e,key:e.measure.metric.key})}))},t.propTypes={branchLike:s.a.object,component:N.isRequired,conditions:x.isRequired},t}(i.a.PureComponent),A=function(){return i.a.createElement("div",{className:"overview-quality-gate"},i.a.createElement("h2",{className:"overview-title"},Object(E.l)("overview.quality_gate")),i.a.createElement("p",{className:"overview-quality-gate-warning"},Object(E.l)("overview.you_should_define_quality_gate")))},U=n(15),V=n(242),B=n(25),H=n(149);function z(e){var t=e.branchLike,n=e.component,r=e.measures,a=r.find(function(e){return"alert_status"===e.metric.key}),o=r.find(function(e){return"quality_gate_details"===e.metric.key});if(!a)return function(e){return"TRK"===e.qualifier}(n)?i.a.createElement(A,null):null;var s,c=a.value,l=[],u=!1;if(o&&o.value){var p=(s=o.value,JSON.parse(s));l=p.conditions||[],u=p.ignoredConditions}return i.a.createElement("div",{className:"overview-quality-gate",id:"overview-quality-gate"},i.a.createElement("h2",{className:"overview-title"},Object(E.l)("overview.quality_gate"),i.a.createElement(V.a,{level:c})),u&&i.a.createElement("div",{className:"alert alert-info display-inline-block big-spacer-top"},Object(E.l)("overview.quality_gate.ignored_conditions"),i.a.createElement(B.a,{overlay:Object(E.l)("overview.quality_gate.ignored_conditions.tooltip")},i.a.createElement("span",{className:"spacer-left"},i.a.createElement(H.a,{fill:U.blue})))),l.length>0&&i.a.createElement(I,{branchLike:t,component:n,conditions:l}))}n(1120);var F=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCondition=function(e){var n=t.props.metrics[e.metric],r=Object(E.e)(n),i=e.errorThreshold||e.warningThreshold,o=Object(_.isDiffMetric)(e.metric);return a.createElement("li",{className:u({"is-on-leak":o}),key:e.metric},a.createElement("span",{className:"text-limited"},a.createElement("strong",null,Object(_.formatMeasure)(e.value,n.type))," ",r,!o&&e.onLeak&&" "+Object(E.l)("quality_gates.conditions.leak")),a.createElement("span",{className:u("big-spacer-left",{"text-danger":"ERROR"===e.status,"text-warning":"WARN"===e.status})},Object(E.l)("quality_gates.operator",e.comparator,"short")," ",Object(_.formatMeasure)(i,n.type)))},t}return F(t,e),t.prototype.render=function(){var e=this.props.project;return a.createElement(m.Link,{className:u("overview-quality-gate-condition","overview-quality-gate-condition-"+e.status.toLowerCase()),to:Object(d.r)(e.key)},a.createElement("div",{className:"application-quality-gate-project"},a.createElement("h4",null,e.name),a.createElement("ul",{className:"application-quality-gate-project-conditions"},e.conditions.filter(function(e){return"OK"!==e.status}).map(this.renderCondition))))},t}(a.PureComponent),K=n(1005),W=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t.fetchDetails=function(){var e=t.props.component;t.setState({loading:!0}),Object(K.j)({application:e.key,organization:e.organization}).then(function(e){var n=e.status,r=e.projects,a=e.metrics;t.mounted&&t.setState({loading:!1,metrics:Object(c.keyBy)(a,"key"),status:n,projects:r})},function(){t.mounted&&t.setState({loading:!1})})},t}return W(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchDetails()},t.prototype.componentDidUpdate=function(e){e.component.key!==this.props.component.key&&this.fetchDetails()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.metrics,n=e.status,r=e.projects;return a.createElement("div",{className:"overview-quality-gate",id:"overview-quality-gate"},a.createElement("h2",{className:"overview-title"},Object(E.l)("overview.quality_gate"),this.state.loading&&a.createElement("i",{className:"spinner spacer-left"}),null!=n&&a.createElement(V.a,{level:n})),r&&t&&a.createElement("div",{id:"overview-quality-gate-conditions-list",className:"overview-quality-gate-conditions-list clearfix"},r.filter(function(e){return"OK"!==e.status}).map(function(e){return a.createElement(J,{key:e.key,metrics:t,project:e})})))},t}(a.PureComponent),X=n(249),Y=n(262),Q=n(1006),Z=n(1e3),$=n(36),ee=n.n($),te=n(1011),ne=n(189),re=n(271),ae=ee()({displayName:"LineChart",propTypes:{data:s.a.arrayOf(s.a.object).isRequired,xTicks:s.a.arrayOf(s.a.any),xValues:s.a.arrayOf(s.a.any),padding:s.a.arrayOf(s.a.number),backdropConstraints:s.a.arrayOf(s.a.number),displayBackdrop:s.a.bool,displayPoints:s.a.bool,displayVerticalGrid:s.a.bool,height:s.a.number},mixins:[re.a],getDefaultProps:function(){return{displayBackdrop:!0,displayPoints:!0,displayVerticalGrid:!0,xTicks:[],xValues:[],padding:[10,10,10,10]}},getInitialState:function(){return{width:this.props.width,height:this.props.height}},renderBackdrop:function(e,t){if(!this.props.displayBackdrop)return null;var n=Object(ne.b)().x(function(t){return e(t.x)}).y0(t.range()[0]).y1(function(e){return t(e.y)}).defined(function(e){return null!=e.y}).curve(ne.c),r=this.props.data;if(this.props.backdropConstraints){var a=this.props.backdropConstraints;r=r.filter(function(e){return a[0]<=e.x&&e.x<=a[1]})}return i.a.createElement("path",{className:"line-chart-backdrop",d:n(r)})},renderPoints:function(e,t){if(!this.props.displayPoints)return null;var n=this.props.data.filter(function(e){return null!=e.y}).map(function(n,r){var a=e(n.x),o=t(n.y);return i.a.createElement("circle",{key:r,className:"line-chart-point",r:"3",cx:a,cy:o})});return i.a.createElement("g",null,n)},renderVerticalGrid:function(e,t){if(!this.props.displayVerticalGrid)return null;var n=this.props.data.map(function(n,r){var a=e(n.x),o=t.range()[0],s=t(n.y);return i.a.createElement("line",{key:r,className:"line-chart-grid",x1:a,x2:a,y1:o,y2:s})});return i.a.createElement("g",null,n)},renderXTicks:function(e,t){var n=this;if(!this.props.xTicks.length)return null;var r=this.props.xTicks.map(function(r,a){var o=n.props.data[a],s=e(o.x),c=t.range()[0];return i.a.createElement("text",{key:a,className:"line-chart-tick",x:s,y:c,dy:"1.5em"},r)});return i.a.createElement("g",null,r)},renderXValues:function(e,t){var n=this;if(!this.props.xValues.length)return null;var r=this.props.xValues.map(function(r,a){var o=n.props.data[a],s=e(o.x),c=t(o.y);return i.a.createElement("text",{key:a,className:"line-chart-tick",x:s,y:c,dy:"-1em"},r)});return i.a.createElement("g",null,r)},renderLine:function(e,t){var n=Object(ne.d)().x(function(t){return e(t.x)}).y(function(e){return t(e.y)}).defined(function(e){return null!=e.y}).curve(ne.c);return i.a.createElement("path",{className:"line-chart-path",d:n(this.props.data)})},render:function(){if(!this.state.width||!this.state.height)return i.a.createElement("div",null);var e,t=this.state.width-this.props.padding[1]-this.props.padding[3],n=this.state.height-this.props.padding[0]-this.props.padding[2],r=Object(te.b)().domain(Object(Z.d)(this.props.data,function(e){return e.x})).range([0,t]),a=Object(te.b)().range([n,0]);return this.props.domain?(e=this.props.domain[1],a.domain(this.props.domain)):(e=Object(Z.e)(this.props.data,function(e){return e.y}),a.domain([0,e])),i.a.createElement("svg",{className:"line-chart",width:this.state.width,height:this.state.height},i.a.createElement("g",{transform:"translate("+this.props.padding[3]+", "+this.props.padding[0]+")"},this.renderVerticalGrid(r,a,e),this.renderBackdrop(r,a),this.renderLine(r,a),this.renderPoints(r,a),this.renderXTicks(r,a),this.renderXValues(r,a)))}}),ie=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ie(t,e),t.prototype.filterSnapshots=function(){var e=this.props,t=e.history,n=e.before,r=e.after;return t.filter(function(e){var t=!n||e.date<=n,a=!r||e.date>=r;return t&&a})},t.prototype.render=function(){var e=this.filterSnapshots();if(e.length<2)return null;var t=e.map(function(e,t){return{x:t,y:e.value}}),n=[0,Object(Z.e)(this.props.history,function(e){return parseFloat(e.value)})];return a.createElement(ae,{data:t,domain:n,interpolate:"basis",displayBackdrop:!0,displayPoints:!1,displayVerticalGrid:!1,height:80,padding:[0,0,0,0]})},t}(a.PureComponent),se=n(1040),ce=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function ue(e){return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getValue=function(t){var n=e.props.leakPeriod;return t?Object(_.isDiffMetric)(t.metric.key)?Object(_.getPeriodValue)(t,n?n.index:0):t.value:"0"},e.renderHeader=function(t,n){var r=e.props,i=r.branchLike,o=r.component;return a.createElement("div",{className:"overview-card-header"},a.createElement("div",{className:"overview-title"},a.createElement("span",null,n),a.createElement(m.Link,{className:"button button-small spacer-left text-text-bottom",to:Object(d.f)(o.key,t,i)},a.createElement(X.a,{size:14}))))},e.renderMeasure=function(t){var n=e.props,r=n.branchLike,i=n.measures,o=n.component,s=i.find(function(e){return e.metric.key===t});return s?a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},a.createElement(b,{branchLike:r,component:o.key,metric:t},a.createElement("span",{className:"js-overview-main-tests"},Object(_.formatMeasure)(s.value,Object(_.getShortType)(s.metric.type))))),a.createElement("div",{className:"overview-domain-measure-label offset-left"},Object(E.e)(s.metric),e.renderHistoryLink(s.metric.key))):null},e.renderRating=function(t){var n=e.props,r=n.branchLike,i=n.component,o=n.measures.find(function(e){return e.metric.key===t});if(!o)return null;var s=e.getValue(o),c=s&&Object(_.getRatingTooltip)(t,s);return a.createElement(B.a,{overlay:c},a.createElement("div",{className:"overview-domain-measure-sup"},a.createElement(b,{branchLike:r,className:"link-no-underline",component:i.key,metric:t},a.createElement(Q.a,{value:s}))))},e.renderIssues=function(t,n){var r=e.props,i=r.branchLike,o=r.measures,s=r.component,c=o.find(function(e){return e.metric.key===t});if(!c)return null;var l=e.getValue(c),u=le({},Object(f.c)(i),{resolved:"false",types:n});return Object(_.isDiffMetric)(t)&&Object.assign(u,{sinceLeakPeriod:"true"}),a.createElement(m.Link,{to:Object(d.g)(s.key,u)},Object(_.formatMeasure)(l,"SHORT_INT"))},e.renderHistoryLink=function(t){return a.createElement(m.Link,{className:"button button-small spacer-left overview-domain-measure-history-link",to:Object(d.o)(e.props.component.key,t,e.props.branchLike)},a.createElement(Y.a,null))},e.renderTimeline=function(t,n,r){if(!e.props.history)return null;var i=e.props.history[t];if(!i)return null;var o,s=((o={history:i})[n]=Object(se.b)(e.props.leakPeriod),o);return a.createElement("div",{className:"overview-domain-timeline"},a.createElement(oe,le({},s)),r)},e}return ce(n,t),n.prototype.render=function(){return a.createElement(e,le({},this.props,{getValue:this.getValue,renderHeader:this.renderHeader,renderHistoryLink:this.renderHistoryLink,renderIssues:this.renderIssues,renderMeasure:this.renderMeasure,renderRating:this.renderRating,renderTimeline:this.renderTimeline}))},n}(a.PureComponent)).displayName="enhance("+e.displayName+")}",t;var t}var pe=n(270),me=n(3),de=n(13);var fe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={},t.fetchLeaks=function(){var e;t.state.leaks||(e=t.props.component,Object(me.getJSON)("/api/views/show_leak",{application:e}).then(function(e){return e.leaks},de.a)).then(function(e){t.mounted&&t.setState({leaks:e})},function(){t.mounted&&t.setState({leaks:[]})})},t.renderOverlay=function(){return null!=t.state.leaks?a.createElement("ul",{className:"text-left"},t.state.leaks.map(function(e){return a.createElement("li",{key:e.project},e.projectName,": ",a.createElement(pe.a,{date:e.date}))})):a.createElement("i",{className:"spinner spinner-margin"})},t}return fe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillReceiveProps=function(e){e.component!==this.props.component&&this.setState({leaks:void 0})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return a.createElement(B.a,{onShow:this.fetchLeaks,overlay:this.renderOverlay()},a.createElement("div",{className:"overview-legend  overview-legend-spaced-line"},Object(E.l)("issues.leak_period")))},t}(a.Component),he=n(240),ye=n(237),be=n(147);function ge(e){var t=e.period,n=Object(se.c)(t);if("days"===t.mode)return i.a.createElement("div",{className:"overview-legend overview-legend-spaced-line"},Object(E.m)("overview.leak_period_x",n));var r=Object(se.b)(t),a=i.a.createElement(be.a,{date:r,long:!0},function(e){return i.a.createElement("span",null,Object(E.m)(["date"].includes(t.mode)?"overview.last_analysis_on_x":"overview.started_on_x",e))});return i.a.createElement(B.a,{overlay:a},i.a.createElement("div",{className:"overview-legend"},Object(E.m)("overview.leak_period_x",n),i.a.createElement("br",null),i.a.createElement(ye.a,{date:r},function(e){return i.a.createElement("span",{className:"note"},Object(E.m)(["date"].includes(t.mode)?"overview.last_analysis_x":"overview.started_x",e))})))}var Oe=n(238);function _e(e){return Object(E.l)("overview.metric",e)}var Ee=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),je=ue(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ee(t,e),t.prototype.renderHeader=function(){var e=this.props,t=e.branchLike,n=e.component;return a.createElement("div",{className:"overview-card-header"},a.createElement("div",{className:"overview-title"},a.createElement("span",null,Object(E.l)("metric.bugs.name")),a.createElement(m.Link,{className:"button button-small spacer-left text-text-bottom",to:Object(d.f)(n.key,"Reliability",t)},a.createElement(X.a,{size:14})),a.createElement("span",{className:"big-spacer-left"},Object(E.l)("metric.vulnerabilities.name")),a.createElement(m.Link,{className:"button button-small spacer-left text-text-bottom",to:Object(d.f)(n.key,"Security",t)},a.createElement(X.a,{size:14}))))},t.prototype.renderLeak=function(){var e=this.props,t=e.component,n=e.leakPeriod;return n?a.createElement("div",{className:"overview-domain-leak"},"APP"===t.qualifier?a.createElement(ve,{component:t.key}):a.createElement(ge,{period:n}),a.createElement("div",{className:"overview-domain-measures"},a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},a.createElement("span",{style:{marginLeft:30}},this.props.renderIssues("new_bugs","BUG")),this.props.renderRating("new_reliability_rating")),a.createElement("div",{className:"overview-domain-measure-label"},a.createElement(he.a,{className:"little-spacer-right"}),_e("new_bugs"))),a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},a.createElement("span",{style:{marginLeft:30}},this.props.renderIssues("new_vulnerabilities","VULNERABILITY")),this.props.renderRating("new_security_rating")),a.createElement("div",{className:"overview-domain-measure-label"},a.createElement(Oe.a,{className:"little-spacer-right"}),_e("new_vulnerabilities"))))):null},t.prototype.renderNutshell=function(){return a.createElement("div",{className:"overview-domain-nutshell"},a.createElement("div",{className:"overview-domain-measures"},a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},this.props.renderIssues("bugs","BUG"),this.props.renderRating("reliability_rating")),a.createElement("div",{className:"overview-domain-measure-label"},a.createElement(he.a,{className:"little-spacer-right "}),_e("bugs"),this.props.renderHistoryLink("bugs"))),a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},this.props.renderIssues("vulnerabilities","VULNERABILITY"),this.props.renderRating("security_rating")),a.createElement("div",{className:"overview-domain-measure-label"},a.createElement(Oe.a,{className:"little-spacer-right "}),_e("vulnerabilities"),this.props.renderHistoryLink("vulnerabilities")))))},t.prototype.render=function(){return this.props.measures.find(function(e){return"bugs"===e.metric.key})?a.createElement("div",{className:"overview-card overview-card-special"},this.renderHeader(),a.createElement("div",{className:"overview-domain-panel"},this.renderNutshell(),this.renderLeak())):null},t}(a.PureComponent)),we=n(239),ke=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Pe=ue(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ke(t,e),t.prototype.renderHeader=function(){return this.props.renderHeader("Maintainability",Object(E.l)("metric.code_smells.name"))},t.prototype.renderDebt=function(e,t){var n=this.props,r=n.branchLike,i=n.measures,o=n.component,s=i.find(function(t){return t.metric.key===e}),c=s?this.props.getValue(s):void 0,l=Ne({},Object(f.c)(r),{resolved:"false",facetMode:"effort",types:t});return Object(_.isDiffMetric)(e)&&Object.assign(l,{sinceLeakPeriod:"true"}),a.createElement(m.Link,{to:Object(d.g)(o.key,l)},Object(_.formatMeasure)(c,"SHORT_WORK_DUR"))},t.prototype.renderTimelineStartDate=function(){return this.props.historyStartDate?a.createElement(ye.a,{date:this.props.historyStartDate},function(e){return a.createElement("span",{className:"overview-domain-timeline-date"},Object(E.m)("overview.started_x",e))}):null},t.prototype.renderTimeline=function(e,t){return this.props.renderTimeline("sqale_index",e,t?this.renderTimelineStartDate():null)},t.prototype.renderLeak=function(){return this.props.leakPeriod?a.createElement("div",{className:"overview-domain-leak"},a.createElement("div",{className:"overview-domain-measures"},a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},a.createElement("span",{style:{marginLeft:30}},this.renderDebt("new_technical_debt","CODE_SMELL")),this.props.renderRating("new_maintainability_rating")),a.createElement("div",{className:"overview-domain-measure-label"},_e("new_effort"))),a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},this.props.renderIssues("new_code_smells","CODE_SMELL")),a.createElement("div",{className:"overview-domain-measure-label"},a.createElement(we.a,{className:"little-spacer-right"}),_e("new_code_smells")))),this.renderTimeline("after")):null},t.prototype.renderNutshell=function(){return a.createElement("div",{className:"overview-domain-nutshell"},a.createElement("div",{className:"overview-domain-measures"},a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},this.renderDebt("sqale_index","CODE_SMELL"),this.props.renderRating("sqale_rating")),a.createElement("div",{className:"overview-domain-measure-label"},_e("effort"),this.props.renderHistoryLink("sqale_index"))),a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},this.props.renderIssues("code_smells","CODE_SMELL")),a.createElement("div",{className:"overview-domain-measure-label offset-left"},a.createElement(we.a,{className:"little-spacer-right "}),_e("code_smells"),this.props.renderHistoryLink("code_smells")))),this.renderTimeline("before",!0))},t.prototype.render=function(){return this.props.measures.find(function(e){return"code_smells"===e.metric.key})?a.createElement("div",{className:"overview-card",id:"overview-code-smells"},this.renderHeader(),a.createElement("div",{className:"overview-domain-panel"},this.renderNutshell(),this.renderLeak())):null},t}(a.PureComponent)),Le=n(252),Se=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=ue(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.getCoverage=function(){var e=this.props.measures.find(function(e){return"coverage"===e.metric.key});return Number(e?e.value:void 0)},t.prototype.renderHeader=function(){return this.props.renderHeader("Coverage",Object(E.l)("metric.coverage.name"))},t.prototype.renderTimeline=function(e){return this.props.renderTimeline("coverage",e)},t.prototype.renderTests=function(){return this.props.renderMeasure("tests")},t.prototype.renderCoverage=function(){var e=this.props,t=e.branchLike,n=e.component,r=this.getCoverage();return a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"display-inline-block text-middle big-spacer-right"},a.createElement(Le.a,{size:"big",value:r})),a.createElement("div",{className:"display-inline-block text-middle"},a.createElement("div",{className:"overview-domain-measure-value"},a.createElement(b,{branchLike:t,component:n.key,metric:"coverage"},a.createElement("span",{className:"js-overview-main-coverage"},Object(_.formatMeasure)(r,"PERCENT")))),a.createElement("div",{className:"overview-domain-measure-label"},_e("coverage"),this.props.renderHistoryLink("coverage"))))},t.prototype.renderNewCoverage=function(){var e=this.props,t=e.branchLike,n=e.component,r=e.leakPeriod,i=e.measures;if(!r)return null;var o=i.find(function(e){return"new_coverage"===e.metric.key}),s=o&&Object(_.getPeriodValue)(o,r.index),c=o&&void 0!==s?a.createElement("div",null,a.createElement(b,{branchLike:t,component:n.key,metric:o.metric.key},a.createElement("span",{className:"js-overview-main-new-coverage"},Object(_.formatMeasure)(s,"PERCENT")))):a.createElement("span",null,"—"),l=i.find(function(e){return"new_lines_to_cover"===e.metric.key}),u=l&&Object(_.getPeriodValue)(l,r.index),p=l&&void 0!==u&&Number(u)>0?a.createElement("div",{className:"overview-domain-measure-label"},Object(E.l)("overview.coverage_on"),a.createElement("br",null),a.createElement(b,{branchLike:t,className:"spacer-right overview-domain-secondary-measure-value",component:n.key,metric:l.metric.key},a.createElement("span",{className:"js-overview-main-new-coverage"},Object(_.formatMeasure)(u,"SHORT_INT"))),_e("new_lines_to_cover")):a.createElement("div",{className:"overview-domain-measure-label"},_e("new_coverage"));return a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},c),p)},t.prototype.renderNutshell=function(){return a.createElement("div",{className:"overview-domain-nutshell"},a.createElement("div",{className:"overview-domain-measures"},this.renderCoverage(),this.renderTests()),this.renderTimeline("before"))},t.prototype.renderLeak=function(){return this.props.leakPeriod?a.createElement("div",{className:"overview-domain-leak"},a.createElement("div",{className:"overview-domain-measures"},this.renderNewCoverage()),this.renderTimeline("after")):null},t.prototype.render=function(){return this.props.measures.find(function(e){return"coverage"===e.metric.key})?a.createElement("div",{className:"overview-card"},this.renderHeader(),a.createElement("div",{className:"overview-domain-panel"},this.renderNutshell(),this.renderLeak())):null},t}(a.PureComponent)),xe=n(253),qe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Te=ue(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qe(t,e),t.prototype.renderHeader=function(){return this.props.renderHeader("Duplications",Object(E.l)("overview.domain.duplications"))},t.prototype.renderTimeline=function(e){return this.props.renderTimeline("duplicated_lines_density",e)},t.prototype.renderDuplicatedBlocks=function(){return this.props.renderMeasure("duplicated_blocks")},t.prototype.renderDuplications=function(){var e=this.props,t=e.branchLike,n=e.component,r=e.measures.find(function(e){return"duplicated_lines_density"===e.metric.key});if(!r)return null;var i=Number(r.value);return a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"display-inline-block text-middle big-spacer-right"},a.createElement(xe.a,{size:"big",value:i})),a.createElement("div",{className:"display-inline-block text-middle"},a.createElement("div",{className:"overview-domain-measure-value"},a.createElement(b,{branchLike:t,component:n.key,metric:"duplicated_lines_density"},Object(_.formatMeasure)(i,"PERCENT"))),a.createElement("div",{className:"overview-domain-measure-label offset-left"},_e("duplications"),this.props.renderHistoryLink("duplicated_lines_density"))))},t.prototype.renderNewDuplications=function(){var e=this.props,t=e.branchLike,n=e.component,r=e.measures,i=e.leakPeriod;if(!i)return null;var o=r.find(function(e){return"new_duplicated_lines_density"===e.metric.key}),s=o&&Object(_.getPeriodValue)(o,i.index),c=o&&s?a.createElement("div",null,a.createElement(b,{branchLike:t,component:n.key,metric:o.metric.key},a.createElement("span",{className:"js-overview-main-new-duplications"},Object(_.formatMeasure)(s,"PERCENT")))):a.createElement("span",null,"—"),l=r.find(function(e){return"new_lines"===e.metric.key}),u=l&&Object(_.getPeriodValue)(l,i.index),p=l&&void 0!==u&&Number(u)>0?a.createElement("div",{className:"overview-domain-measure-label"},Object(E.l)("overview.duplications_on"),a.createElement("br",null),a.createElement(b,{branchLike:t,className:"spacer-right overview-domain-secondary-measure-value",component:n.key,metric:l.metric.key},a.createElement("span",{className:"js-overview-main-new-lines"},Object(_.formatMeasure)(u,"SHORT_INT"))),_e("new_lines")):a.createElement("div",{className:"overview-domain-measure-label"},_e("new_duplications"));return a.createElement("div",{className:"overview-domain-measure"},a.createElement("div",{className:"overview-domain-measure-value"},c),p)},t.prototype.renderNutshell=function(){return a.createElement("div",{className:"overview-domain-nutshell"},a.createElement("div",{className:"overview-domain-measures"},this.renderDuplications(),this.renderDuplicatedBlocks()),this.renderTimeline("before"))},t.prototype.renderLeak=function(){return null==this.props.leakPeriod?null:a.createElement("div",{className:"overview-domain-leak"},a.createElement("div",{className:"overview-domain-measures"},this.renderNewDuplications()),this.renderTimeline("after"))},t.prototype.render=function(){return null==this.props.measures.find(function(e){return"duplicated_lines_density"===e.metric.key})?null:a.createElement("div",{className:"overview-card"},this.renderHeader(),a.createElement("div",{className:"overview-domain-panel"},this.renderNutshell(),this.renderLeak()))},t}(a.PureComponent)),Re=n(1023);function Me(e){var t=e.componentKey,n=e.qualifier;return a.createElement(a.Fragment,null,a.createElement("h4",{className:"overview-meta-header"},Object(E.l)("overview.project_key",n)),a.createElement("div",{className:"display-flex-center"},a.createElement("input",{className:"overview-key",type:"text",value:t,readOnly:!0}),a.createElement(Re.a,{className:"little-spacer-left",copyValue:t})))}function De(e){var t=e.organization;return a.createElement(a.Fragment,null,a.createElement("h4",{className:"overview-meta-header big-spacer-top"},Object(E.l)("organization_key")),a.createElement("div",{className:"display-flex-center"},a.createElement("input",{className:"overview-key",type:"text",value:t,readOnly:!0}),a.createElement(Re.a,{className:"little-spacer-left",copyValue:t})))}var Ie=n(122),Ae=n(281);function Ue(e){var t=e.link;return a.createElement("li",null,a.createElement("a",{className:"link-with-icon",href:t.url,rel:"nofollow",target:"_blank"},a.createElement(Ve,{link:t})," ",Object(Ie.a)(t)))}function Ve(e){var t=e.link;return"issue"===t.type?a.createElement(Ae.a,null):Object(Ie.b)(t)?a.createElement("i",{className:"icon-color-link icon-"+t.type}):a.createElement("i",{className:"icon-color-link icon-detach"})}var Be=n(183),He=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={},t.loadLinks=function(){return Object(Be.c)(t.props.component.key).then(function(e){t.mounted&&t.setState({links:e})},function(){})},t}return He(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadLinks()},t.prototype.componentDidUpdate=function(e){e.component.key!==this.props.component.key&&this.loadLinks()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state.links;if(!e||0===e.length)return null;var t=Object(Ie.c)(e);return a.createElement("div",{className:"overview-meta-card"},a.createElement("h4",{className:"overview-meta-header"},Object(E.l)("overview.external_links")),a.createElement("ul",{className:"overview-meta-list"},t.map(function(e){return a.createElement(Ue,{key:e.id,link:e})})))},t}(a.PureComponent);function Fe(e){var t=e.qualityGate,n=e.organization;return a.createElement(a.Fragment,null,a.createElement("h4",{className:"overview-meta-header"},Object(E.l)("overview.quality_gate")),a.createElement("ul",{className:"overview-meta-list"},a.createElement("li",null,t.isDefault&&a.createElement("span",{className:"note spacer-right"},"("+Object(E.l)("default")+")"),a.createElement(m.Link,{to:Object(d.t)(t.key,n)},t.name))))}var Je,Ke,We=n(1004),Ge=n(7),Xe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={deprecatedByKey:{}},t}return Xe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadDeprecatedRules()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadDeprecatedRules=function(){var e=this,t=this.props.profiles.map(function(t){return e.loadDeprecatedRulesForProfile(t.key)});Promise.all(t).then(function(t){if(e.mounted){var n={};t.forEach(function(t,r){var a=e.props.profiles[r].key;n[a]=t}),e.setState({deprecatedByKey:n})}},function(){})},t.prototype.loadDeprecatedRulesForProfile=function(e){var t={activation:"true",organization:this.props.organization,ps:1,qprofile:e,statuses:"DEPRECATED"};return Object(We.f)(t).then(function(e){return e.total})},t.prototype.getDeprecatedRulesCount=function(e){return this.state.deprecatedByKey[e.key]||0},t.prototype.renderProfile=function(e){var t=this.props.languages[e.language],n=t?t.name:e.language,r=Object(d.v)(e.name,e.language,this.props.organization),i=a.createElement("div",{className:"text-ellipsis"},a.createElement("span",{className:"note spacer-right"},"("+n+")"),a.createElement(m.Link,{to:r},e.name)),o=this.getDeprecatedRulesCount(e);if(o>0){var s=Object(E.m)("overview.deprecated_profile",o);return a.createElement(B.a,{key:e.key,overlay:s},a.createElement("li",{className:"overview-deprecated-rules"},i))}return a.createElement("li",{key:e.key},i)},t.prototype.render=function(){var e=this,t=this.props,n=t.headerClassName,r=t.profiles;return a.createElement(a.Fragment,null,a.createElement("h4",{className:u("overview-meta-header",n)},Object(E.l)("overview.quality_profiles")),a.createElement("ul",{className:"overview-meta-list"},r.map(function(t){return e.renderProfile(t)})))},t}(a.PureComponent),Qe=Object(l.connect)(function(e){return{languages:Object(Ge.getLanguages)(e)}})(Ye),Ze=n(1044),$e=n(1056),et=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderLoC=function(e){return a.createElement("div",{id:"overview-ncloc",className:u("overview-meta-size-ncloc",{"is-half-width":"APP"===t.props.component.qualifier})},a.createElement("span",{className:"spacer-right"},a.createElement($e.a,{value:Number(e.value)})),a.createElement(b,{branchLike:t.props.branchLike,component:t.props.component.key,metric:"ncloc"},Object(_.formatMeasure)(e.value,"SHORT_INT")),a.createElement("div",{className:"spacer-top text-muted"},_e("ncloc")))},t.renderLoCDistribution=function(){var e=t.props.measures.find(function(e){return"ncloc_language_distribution"===e.metric.key}),n="TRK"===t.props.component.qualifier?"overview-meta-size-lang-dist":"big-spacer-top";return e?a.createElement("div",{id:"overview-language-distribution",className:n},a.createElement(Ze.a,{distribution:e.value,width:160})):null},t.renderProjects=function(){var e=t.props.measures.find(function(e){return"projects"===e.metric.key});return e?a.createElement("div",{id:"overview-projects",className:"overview-meta-size-ncloc is-half-width"},a.createElement(b,{branchLike:t.props.branchLike,component:t.props.component.key,metric:"projects"},Object(_.formatMeasure)(e.value,"SHORT_INT")),a.createElement("div",{className:"spacer-top text-muted"},Object(E.l)("metric.projects.name"))):null},t}return et(t,e),t.prototype.render=function(){var e=this.props.measures.find(function(e){return"ncloc"===e.metric.key});return null==e?null:a.createElement("div",{className:"big-spacer-top",id:"overview-size"},"APP"===this.props.component.qualifier&&this.renderProjects(),this.renderLoC(e),this.renderLoCDistribution())},t}(a.PureComponent),nt=n(1062),rt=n(33),at=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),it=10,ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={searchResult:[]},t.onSearch=function(e){return Object(rt.v)({q:e,ps:Math.min(t.props.selectedTags.length-1+it,100)}).then(function(e){var n=e.tags;t.mounted&&t.setState({searchResult:n})},function(){})},t.onSelect=function(e){t.props.setProjectTags(t.props.selectedTags.concat([e]))},t.onUnselect=function(e){t.props.setProjectTags(Object(c.without)(t.props.selectedTags,e))},t}return at(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(c.difference)(this.state.searchResult,this.props.selectedTags);return a.createElement(nt.a,{listSize:it,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,position:this.props.position,selectedTags:this.props.selectedTags,tags:e})},t}(a.PureComponent),st=n(1028),ct=n(11),lt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={popupOpen:!1,popupPosition:{top:0,right:0}},t.handleKey=function(e){27===e.keyCode&&t.setState({popupOpen:!1})},t.handleOutsideClick=function(e){t.tagsSelector&&t.tagsSelector.contains(e.target)||t.setState({popupOpen:!1})},t.handleClick=function(){t.setState(function(e){return{popupOpen:!e.popupOpen}})},t.canUpdateTags=function(){var e=t.props.component.configuration;return e&&e.showSettings},t.getPopupPos=function(e,t){return{top:e.height,right:t.width-e.width}},t.handleSetProjectTags=function(e){Object(rt.x)({project:t.props.component.key,tags:e.join(",")}).then(function(){return t.props.onComponentChange({tags:e})},function(){})},t}return lt(t,e),t.prototype.componentDidMount=function(){if(this.canUpdateTags()&&this.tagsList&&this.card){var e=this.tagsList.getBoundingClientRect(),t=this.card.getBoundingClientRect();this.setState({popupPosition:this.getPopupPos(e,t)}),window.addEventListener("keydown",this.handleKey,!1),window.addEventListener("click",this.handleOutsideClick,!1)}},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.handleKey),window.removeEventListener("click",this.handleOutsideClick)},t.prototype.render=function(){var e=this,t=this.props.component.key,n=this.state,r=n.popupOpen,i=n.popupPosition,o=this.props.component.tags||[];return this.canUpdateTags()?a.createElement("div",{className:"big-spacer-top overview-meta-tags",ref:function(t){return e.card=t}},a.createElement(ct.a,{className:"button-link",innerRef:function(t){return e.tagsList=t},onClick:this.handleClick,stopPropagation:!0},a.createElement(st.a,{allowUpdate:!0,tags:o.length?o:[Object(E.l)("no_tags")]})),r&&a.createElement("div",{ref:function(t){return e.tagsSelector=t}},a.createElement(ot,{position:i,project:t,selectedTags:o,setProjectTags:this.handleSetProjectTags}))):a.createElement("div",{className:"big-spacer-top overview-meta-tags"},a.createElement(st.a,{allowUpdate:!1,className:"note",tags:o.length?o:[Object(E.l)("no_tags")]}))},t}(a.PureComponent),pt=n(106);function mt(e,t){var n=t.branch,r=t.project,a=t.color,i=void 0===a?"white":a,o=t.metric,s=void 0===o?"alert_status":o,c=t.pullRequest;switch(e){case Je.marketing:return Object(d.k)()+"/images/project_badges/sonarcloud-"+i+".svg";case Je.qualityGate:return Object(d.k)()+"/api/project_badges/quality_gate?"+Object(pt.stringify)(Object(me.omitNil)({branch:n,project:r,pullRequest:c}));case Je.measure:default:return Object(d.k)()+"/api/project_badges/measure?"+Object(pt.stringify)(Object(me.omitNil)({branch:n,project:r,metric:s,pullRequest:c}))}}(Ke=Je||(Je={})).measure="measure",Ke.qualityGate="quality_gate",Ke.marketing="marketing";var dt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick(t.props.type)},t}return dt(t,e),t.prototype.render=function(){var e=this.props,t=e.selected,n=e.type,r=e.url,i=n!==Je.measure?"128px":void 0;return a.createElement(ct.a,{className:u("badge-button",{selected:t}),onClick:this.handleClick},a.createElement("img",{alt:Object(E.l)("overview.badges",n,"alt"),src:r,width:i}))},t}(a.PureComponent),vt=n(51),ht=n(1055),yt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={badgeMetrics:[]},t.getColorOptions=function(){return["white","black","orange"].map(function(e){return{label:Object(E.l)("overview.badges.options.colors",e),value:e}})},t.getMetricOptions=function(){return t.state.badgeMetrics.map(function(e){var n=t.props.metrics[e];return{value:e,label:n?Object(E.e)(n):e}})},t.handleColorChange=function(e){var n=e.value;return t.props.updateOptions({color:n})},t.handleMetricChange=function(e){var n=e.value;return t.props.updateOptions({metric:n})},t}return yt(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchBadgeMetrics()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchBadgeMetrics=function(){var e=this;Object(ht.b)(!1).then(function(t){if(e.mounted){var n=t.find(function(e){return"api/project_badges"===e.path}),r=n&&n.actions.find(function(e){return"measure"===e.key}),a=r&&r.params&&r.params.find(function(e){return"metric"===e.key});a&&a.possibleValues&&e.setState({badgeMetrics:a.possibleValues})}},function(){})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.options;switch(e.type){case Je.marketing:return a.createElement("div",{className:t},a.createElement("label",{className:"big-spacer-right",htmlFor:"badge-color"},Object(E.l)("color")),a.createElement(vt.c,{className:"input-medium",clearable:!1,name:"badge-color",onChange:this.handleColorChange,options:this.getColorOptions(),searchable:!1,value:n.color}));case Je.measure:return a.createElement("div",{className:t},a.createElement("label",{className:"big-spacer-right",htmlFor:"badge-metric"},Object(E.l)("overview.badges.metric")),a.createElement(vt.c,{className:"input-medium",clearable:!1,name:"badge-metric",onChange:this.handleMetricChange,options:this.getMetricOptions(),searchable:!1,value:n.metric}));default:return null}},t}(a.PureComponent),gt=n(1015),Ot=n(20),_t=(n(1118),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={open:!1,selectedType:Je.measure,badgeOptions:{color:"white",metric:"alert_status"}},t.handleClose=function(){t.setState({open:!1})},t.handleOpen=function(){t.setState({open:!0})},t.handleSelectBadge=function(e){t.setState({selectedType:e})},t.handleUpdateOptions=function(e){t.setState(function(t){return{badgeOptions:Et({},t.badgeOptions,e)}})},t}return _t(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.branchLike,r=t.project,i=t.qualifier,o=this.state,s=o.selectedType,c=o.badgeOptions,l=Object(E.l)("overview.badges.title"),u=Et({project:r},c,Object(f.c)(n)),p=this.props.onSonarCloud?[Je.measure,Je.qualityGate,Je.marketing]:[Je.measure,Je.qualityGate];return a.createElement("div",{className:"overview-meta-card"},a.createElement(ct.a,{className:"js-project-badges",onClick:this.handleOpen},Object(E.l)("overview.badges.get_badge",i)),this.state.open&&a.createElement(Ot.a,{contentLabel:l,onRequestClose:this.handleClose},a.createElement("header",{className:"modal-head"},a.createElement("h2",null,l)),a.createElement("div",{className:"modal-body"},a.createElement("p",{className:"huge-spacer-bottom"},Object(E.l)("overview.badges.description",i)),a.createElement("div",{className:"badges-list spacer-bottom"},p.map(function(t){return a.createElement(ft,{key:t,onClick:e.handleSelectBadge,selected:t===s,type:t,url:mt(t,u)})})),a.createElement("p",{className:"text-center note huge-spacer-bottom"},Object(E.l)("overview.badges",s,"description",i)),a.createElement(bt,{className:"big-spacer-bottom",metrics:this.props.metrics,options:c,type:s,updateOptions:this.handleUpdateOptions}),a.createElement(gt.a,{isOneLine:!0,snippet:mt(s,u)})),a.createElement("footer",{className:"modal-foot"},a.createElement(ct.e,{className:"js-modal-close",onClick:this.handleClose},Object(E.l)("close")))))},t}(a.PureComponent);function wt(e){var t=e.event;return"VERSION"===t.category?a.createElement(B.a,{mouseEnterDelay:.5,overlay:Object(E.l)("version")+" "+t.name},a.createElement("span",{className:"overview-analysis-event badge"},t.name)):a.createElement("div",{className:"overview-analysis-event"},a.createElement("span",{className:"note"},Object(E.l)("event.category",t.category),":")," ",t.description?a.createElement(B.a,{mouseEnterDelay:.5,overlay:t.description},a.createElement("strong",null,t.name)):a.createElement("strong",null,t.name))}var kt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};function Nt(e){var t=e.analysis,n=kt(e,["analysis"]),r=Object(c.sortBy)(t.events,function(e){return"VERSION"===e.category?0:1},"category"),i="APP"===n.qualifier?"APP":"TRK";return a.createElement("li",{className:"overview-analysis"},a.createElement("div",{className:"small little-spacer-bottom"},a.createElement("strong",null,a.createElement(pe.a,{date:t.date}))),r.length>0?a.createElement("div",{className:"project-activity-events"},r.map(function(e){return a.createElement(wt,{event:e,key:e.key})})):a.createElement("span",{className:"note"},Object(E.l)("project_activity.analyzed",i)))}var Pt=n(1075),Lt=n(1064),St=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xt=3,qt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={analyses:[],loading:!0},t.getTopLevelComponent=function(){for(var e=t.props.component,n=e.breadcrumbs.length-1;n>0&&!["TRK","VW","APP"].includes(e.breadcrumbs[n].qualifier);)n--;return e.breadcrumbs[n].key},t.fetchData=function(){t.setState({loading:!0}),Object(Pt.e)(Ct({},Object(f.c)(t.props.branchLike),{project:t.getTopLevelComponent(),ps:xt})).then(function(e){var n=e.analyses;t.mounted&&t.setState({analyses:n,loading:!1})},function(){t.mounted&&t.setState({loading:!1})})},t}return St(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchData()},t.prototype.componentDidUpdate=function(e){e.component!==this.props.component&&this.fetchData()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.renderList=function(e){var t=this;return e.length?a.createElement("ul",{className:"spacer-top"},e.map(function(e){return a.createElement(Nt,{analysis:e,key:e.key,qualifier:t.props.qualifier})})):a.createElement("p",{className:"spacer-top note"},Object(E.l)("no_results"))},t.prototype.render=function(){var e=this.state,t=e.analyses;return e.loading?null:a.createElement("div",{className:"overview-meta-card"},a.createElement("h4",{className:"overview-meta-header"},Object(E.l)("overview.project_activity",this.props.component.qualifier)),a.createElement(Lt.a,{branchLike:this.props.branchLike,history:this.props.history,metrics:this.props.metrics,project:this.props.component.key}),this.renderList(t),a.createElement("div",{className:"spacer-top small"},a.createElement(m.Link,{to:Object(d.a)(this.props.component.key,this.props.branchLike)},Object(E.l)("show_more"))))},t}(a.PureComponent),Tt=n(16),Rt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.render=function(){var e=this.context,t=e.onSonarCloud,n=e.organizationsEnabled,r=this.props,i=r.branchLike,o=r.component,s=r.metrics,c=o.qualifier,l=o.description,u=o.qualityProfiles,p=o.qualityGate,m="TRK"===c,d=o.visibility===Tt.e.Private;return a.createElement("div",{className:"overview-meta"},a.createElement("div",{className:"overview-meta-card"},a.createElement("h4",{className:"overview-meta-header"},Object(E.l)("overview.about_this_project",c)),void 0!==l&&a.createElement("p",{className:"overview-meta-description"},l),m&&a.createElement(ut,{component:o,onComponentChange:this.props.onComponentChange}),a.createElement(tt,{branchLike:i,component:o,measures:this.props.measures})),a.createElement(qt,{branchLike:i,component:o,history:this.props.history,metrics:s,qualifier:o.qualifier}),m&&a.createElement("div",{className:"overview-meta-card"},p&&a.createElement(Fe,{organization:n?o.organization:void 0,qualityGate:p}),u&&u.length>0&&a.createElement(Qe,{headerClassName:p?"big-spacer-top":void 0,organization:n?o.organization:void 0,profiles:u})),m&&a.createElement(ze,{component:o}),a.createElement("div",{className:"overview-meta-card"},a.createElement(Me,{componentKey:o.key,qualifier:o.qualifier}),n&&a.createElement(De,{organization:o.organization})),!d&&a.createElement(jt,{branchLike:i,metrics:s,onSonarCloud:t,project:o.key,qualifier:o.qualifier}))},t.contextTypes={onSonarCloud:o.bool,organizationsEnabled:o.bool},t}(a.PureComponent),Dt=n(1073),It=n(28),At=n(130),Ut=["alert_status","quality_gate_details","bugs","new_bugs","reliability_rating","new_reliability_rating","vulnerabilities","new_vulnerabilities","security_rating","new_security_rating","code_smells","new_code_smells","sqale_rating","new_maintainability_rating","sqale_index","new_technical_debt","coverage","new_coverage","new_lines_to_cover","tests","duplicated_lines_density","new_duplicated_lines_density","duplicated_blocks","ncloc","ncloc_language_distribution","projects","new_lines"],Vt=["sqale_index","duplicated_lines_density","ncloc","coverage"],Bt=n(1009),Ht=n(43),zt=(n(1116),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0,measures:[]},t.loadHistory=function(){var e=t.props,n=e.branchLike,r=e.component,a=Object(Bt.j)(Object(At.b)(),Object(At.a)());(!a||a.length<=0)&&(a=Object(Bt.j)(Bt.b,[]));var i=Object(c.uniq)(Vt.concat(a));return Object(Dt.a)(Ft({},Object(f.c)(n),{component:r.key,metrics:i.join()})).then(function(e){if(t.mounted){var n={};e.measures.forEach(function(e){var t=e.history.map(function(e){return{date:Object(It.e)(e.date),value:e.value}});n[e.metric]=t});var r=n[Vt[0]][0].date;t.setState({history:n,historyStartDate:r})}})},t.getApplicationLeakPeriod=function(){return t.state.measures.find(function(e){return"new_bugs"===e.metric.key})?{index:1}:void 0},t}return zt(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.props.fetchMetrics(),this.loadMeasures().then(this.loadHistory,function(){})},t.prototype.componentDidUpdate=function(e){this.props.component.key===e.component.key&&Object(f.h)(this.props.branchLike,e.branchLike)||this.loadMeasures().then(this.loadHistory,function(){})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadMeasures=function(){var e=this,t=this.props,n=t.branchLike,r=t.component;return this.setState({loading:!0}),Object(T.e)(r.key,Ut,Ft({additionalFields:"metrics,periods"},Object(f.c)(n))).then(function(t){e.mounted&&t.metrics&&e.setState({loading:!1,measures:Object(_.enhanceMeasuresWithMetrics)(t.component.measures,t.metrics),periods:t.periods})},function(t){Object(de.a)(t),e.mounted&&e.setState({loading:!1})})},t.prototype.renderLoading=function(){return a.createElement("div",{className:"text-center"},a.createElement("i",{className:"spinner spinner-margin"}))},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.component,r=this.state,i=r.loading,o=r.measures,s=r.periods,c=r.history,l=r.historyStartDate;if(i)return this.renderLoading();var u={branchLike:t,component:n,measures:o,leakPeriod:"APP"===n.qualifier?this.getApplicationLeakPeriod():Object(se.a)(s),history:c,historyStartDate:l};return a.createElement("div",{className:"page page-limited"},a.createElement("div",{className:"overview page-with-sidebar"},a.createElement("div",{className:"overview-main page-main"},"APP"===n.qualifier?a.createElement(G,{component:n}):a.createElement(z,{branchLike:t,component:n,measures:o}),a.createElement("div",{className:"overview-domains-list"},a.createElement(je,Ft({},u)),a.createElement(Pe,Ft({},u)),a.createElement(Ce,Ft({},u)),a.createElement(Te,Ft({},u)))),a.createElement("div",{className:"overview-sidebar page-sidebar-fixed"},a.createElement(Mt,{branchLike:t,component:n,history:c,measures:o,metrics:this.props.metrics,onComponentChange:this.props.onComponentChange}))))},t}(a.PureComponent),Kt={fetchMetrics:Ht.e},Wt=Object(l.connect)(function(e){return{metrics:Object(Ge.getMetrics)(e)}},Kt)(Jt),Gt=n(27);function Xt(e){var t=e.component,n=e.hasBranches,r=e.showWarning,i=Object(E.l)("provisioning.no_analysis.delete"),o=i.substr(0,i.indexOf("{0}")),s=i.substr(i.indexOf("{0}")+3);return a.createElement("div",{className:"page page-limited"},r&&a.createElement("div",{className:"big-spacer-bottom"},a.createElement("div",{className:"alert alert-warning"},n?a.createElement(Gt.b,{defaultMessage:Object(E.l)("provisioning.no_analysis_on_main_branch"),id:"provisioning.no_analysis_on_main_branch",values:{branch:a.createElement("div",{className:"outline-badge text-baseline little-spacer-right"},Object(E.l)("branches.main_branch"))}}):Object(E.l)("provisioning.no_analysis")),!n&&a.createElement("div",{className:"big-spacer-top"},o,a.createElement(m.Link,{className:"text-danger",to:{pathname:"/project/deletion",query:{id:t}}},Object(E.l)("provisioning.no_analysis.delete_project")),s)),a.createElement("div",null,a.createElement("h4",null,Object(E.l)("key")),a.createElement("code",null,t)))}var Yt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isPortfolio=function(){return["VW","SVW"].includes(t.props.component.qualifier)},t.isFile=function(){return["FIL","UTS"].includes(t.props.component.qualifier)},t}return Yt(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.branchLike,n=e.component;this.isPortfolio()?this.context.router.replace({pathname:"/portfolio",query:{id:n.key}}):this.isFile()?this.context.router.replace(Object(d.d)(n.breadcrumbs[0].key,t,n.key)):Object(f.i)(t)&&this.context.router.replace(Object(d.y)(n.key,t.name))},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.branchLikes,r=e.component;return this.isPortfolio()||this.isFile()||Object(f.i)(t)?null:r.analysisDate?a.createElement(Wt,{branchLike:t,component:r,onComponentChange:this.props.onComponentChange}):a.createElement(Xt,{component:r.key,hasBranches:n.length>1,showWarning:!this.props.isPending&&!this.props.isInProgress})},t.contextTypes={router:o.object},t}(a.PureComponent);t.default=Qt}}]);
//# sourceMappingURL=271.ae60a2ec.chunk.js.map