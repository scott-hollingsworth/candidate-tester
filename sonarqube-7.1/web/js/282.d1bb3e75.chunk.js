(window.webpackJsonp=window.webpackJsonp||[]).push([[282],{1003:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),a=n(1024),o=n(1);function i(t){var e=t.className,n=t.severity;return n?r.createElement("span",{className:e},r.createElement(a.a,{className:"little-spacer-right",severity:n}),Object(o.l)("severity",n)):null}},1007:function(t,e,n){"use strict";function r(t){return'"'+t.replace(/"/g,'\\"')+'"'}n.d(e,"a",function(){return r})},1024:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(0),a=n.n(r),o=n(6),i=n.n(o);function c(t){if(!t.severity)return null;var e=i()("icon-severity-"+t.severity.toLowerCase(),t.className);return a.a.createElement("i",{className:e})}},1026:function(t,e,n){"use strict";var r,a=n(0),o=n(6),i=n(250),c=n(1),s=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleFromChange=function(t){e.props.onChange({from:t,to:e.to}),setTimeout(function(){t&&!e.to&&e.toDateInput&&e.toDateInput.focus()},0)},e.handleToChange=function(t){e.setState({to:t}),e.props.onChange({from:e.from,to:t})},e}return s(e,t),Object.defineProperty(e.prototype,"from",{get:function(){return this.props.value&&this.props.value.from},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"to",{get:function(){return this.props.value&&this.props.value.to},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this;return a.createElement("div",{className:o("display-inline-flex-center",this.props.className)},a.createElement(i.a,{currentMonth:this.to,"data-test":"from",highlightTo:this.to,maxDate:this.to,onChange:this.handleFromChange,placeholder:Object(c.l)("start_date"),value:this.from}),a.createElement("span",{className:"note little-spacer-left little-spacer-right"},Object(c.l)("to_")),a.createElement(i.a,{currentMonth:this.from,"data-test":"to",highlightFrom:this.from,minDate:this.from,onChange:this.handleToChange,placeholder:Object(c.l)("end_date"),ref:function(e){return t.toDateInput=e},value:this.to}))},e}(a.PureComponent);e.a=u},1164:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(5),o=n(2),i=n(4),c=n(57),s=n(1003),u=n(1);function l(t){var e=t.severity;return r.createElement("div",{className:"nowrap"},Object(u.l)("quality_profiles.severity_set_to")," ",r.createElement(s.a,{severity:e}))}function p(t){var e=t.name,n=t.value;return r.createElement("div",{className:"quality-profile-changelog-parameter"},null==n?Object(u.m)("quality_profiles.changelog.parameter_reset_to_default_value",e):Object(u.m)("quality_profiles.parameter_set_to",e,n))}function f(t){var e=t.changes;return r.createElement("ul",null,Object.keys(e).map(function(t){return r.createElement("li",{key:t},"severity"===t?r.createElement(l,{severity:e[t]}):r.createElement(p,{name:t,value:e[t]}))}))}var h=n(148),m=n(38),d=n(28);function y(t){var e=!1,n=Object(i.sortBy)(t.events,function(t){return-Number(Object(c.startOfMinute)(Object(d.e)(t.date)))},function(t){return t.action}),a=n.map(function(a,i){var s=i>0?n[i-1]:null,l=null!=s&&Object(c.isSameMinute)(Object(d.e)(s.date),Object(d.e)(a.date)),p=null!=s&&l&&s.authorName===a.authorName&&s.action===a.action;p||(e=!e);var y="js-profile-changelog-event "+(e?"even":"odd");return r.createElement("tr",{key:i,className:y},r.createElement("td",{className:"thin nowrap"},!p&&r.createElement(h.a,{date:a.date})),r.createElement("td",{className:"thin nowrap"},!p&&(a.authorName?r.createElement("span",null,a.authorName):r.createElement("span",{className:"note"},"System"))),r.createElement("td",{className:"thin nowrap"},!p&&Object(u.l)("quality_profiles.changelog",a.action)),r.createElement("td",{className:"quality-profile-changelog-rule-cell"},r.createElement(o.Link,{to:Object(m.x)({rule_key:a.ruleKey},t.organization)},a.ruleName)),r.createElement("td",null,a.params&&r.createElement(f,{changes:a.params})))});return r.createElement("table",{className:"data zebra-hover"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{className:"thin nowrap"},Object(u.l)("date")," ",r.createElement("i",{className:"icon-sort-desc"})),r.createElement("th",{className:"thin nowrap"},Object(u.l)("user")),r.createElement("th",{className:"thin nowrap"},Object(u.l)("action")),r.createElement("th",null,Object(u.l)("rule")),r.createElement("th",null,Object(u.l)("parameters")))),r.createElement("tbody",null,a))}var g,O=n(1026),b=n(11),v=(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return v(e,t),e.prototype.render=function(){return r.createElement("div",{className:"display-inline-block",id:"quality-profile-changelog-form"},r.createElement(O.a,{onChange:this.props.onDateRangeChange,value:this.props.dateRange}),r.createElement(b.a,{className:"spacer-left",onClick:this.props.onReset},Object(u.l)("reset_verb")))},e}(r.PureComponent);function _(){return r.createElement("div",{className:"big-spacer-top"},Object(u.l)("no_results"))}var N=n(993),E=n(236),q=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mounted=!1,e.state={loading:!0},e.handleDateRangeChange=function(t){var n=t.from,r=t.to,a=Object(E.a)(e.props.profile.name,e.props.profile.language,e.props.organization,{since:n&&Object(d.h)(n),to:r&&Object(d.h)(r)});e.context.router.push(a)},e.handleReset=function(){var t=Object(E.a)(e.props.profile.name,e.props.profile.language,e.props.organization);e.context.router.push(t)},e}return q(e,t),e.prototype.componentDidMount=function(){this.mounted=!0,this.loadChangelog()},e.prototype.componentDidUpdate=function(t){t.location!==this.props.location&&this.loadChangelog()},e.prototype.componentWillUnmount=function(){this.mounted=!1},e.prototype.loadChangelog=function(){var t=this;this.setState({loading:!0});var e=this.props.location.query,n={profileKey:this.props.profile.key};e.since&&(n.since=e.since),e.to&&(n.to=e.to),Object(N.p)(n).then(function(e){t.mounted&&t.setState({events:e.events,total:e.total,page:e.p,loading:!1})})},e.prototype.loadMore=function(t){var e=this;if(t.preventDefault(),t.currentTarget.blur(),null!=this.state.page){this.setState({loading:!0});var n=this.props.location.query,r={profileKey:this.props.profile.key,p:this.state.page+1};n.since&&(r.since=n.since),n.to&&(r.to=n.to),Object(N.p)(r).then(function(t){e.mounted&&e.state.events&&e.setState({events:e.state.events.concat(t.events),total:t.total,page:t.p,loading:!1})})}},e.prototype.render=function(){var t=this.props.location.query,e=null!=this.state.events&&null!=this.state.total&&this.state.events.length<this.state.total;return r.createElement("div",{className:"boxed-group boxed-group-inner js-profile-changelog"},r.createElement("header",{className:"spacer-bottom"},r.createElement(j,{dateRange:{from:t.since?Object(d.e)(t.since):void 0,to:t.to?Object(d.e)(t.to):void 0},onDateRangeChange:this.handleDateRangeChange,onReset:this.handleReset}),this.state.loading&&r.createElement("i",{className:"spinner spacer-left"})),null!=this.state.events&&0===this.state.events.length&&r.createElement(_,null),null!=this.state.events&&this.state.events.length>0&&r.createElement(y,{events:this.state.events,organization:this.props.organization}),e&&r.createElement("footer",{className:"text-center spacer-top small"},r.createElement("a",{href:"#",onClick:this.loadMore.bind(this)},Object(u.l)("show_more"))))},e.contextTypes={router:a.object},e}(r.PureComponent);e.default=w},993:function(t,e,n){"use strict";n.d(e,"y",function(){return s}),n.d(e,"s",function(){return u}),n.d(e,"j",function(){return l}),n.d(e,"w",function(){return p}),n.d(e,"r",function(){return f}),n.d(e,"q",function(){return h}),n.d(e,"A",function(){return m}),n.d(e,"v",function(){return d}),n.d(e,"i",function(){return y}),n.d(e,"l",function(){return g}),n.d(e,"g",function(){return O}),n.d(e,"o",function(){return b}),n.d(e,"n",function(){return v}),n.d(e,"p",function(){return j}),n.d(e,"h",function(){return _}),n.d(e,"d",function(){return N}),n.d(e,"m",function(){return E}),n.d(e,"z",function(){return q}),n.d(e,"x",function(){return w}),n.d(e,"c",function(){return S}),n.d(e,"u",function(){return C}),n.d(e,"b",function(){return J}),n.d(e,"t",function(){return k}),n.d(e,"e",function(){return K}),n.d(e,"f",function(){return D}),n.d(e,"a",function(){return x}),n.d(e,"k",function(){return P});var r=n(4),a=n(1007),o=n(3),i=n(13),c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t};function s(t){return Object(o.getJSON)("/api/qualityprofiles/search",t).catch(i.a)}function u(t){return Object(o.getJSON)("/api/qualityprofiles/show",t)}function l(t){return Object(o.request)("/api/qualityprofiles/create").setMethod("post").setData(t).submit().then(o.checkStatus).then(o.parseJSON)}function p(t){return Object(o.request)("/api/qualityprofiles/restore").setMethod("post").setData(t).submit().then(o.checkStatus).then(o.parseJSON)}function f(t){return Object(o.getJSON)("/api/qualityprofiles/projects",t).catch(i.a)}function h(t){return Object(o.getJSON)("/api/qualityprofiles/inheritance",{profileKey:t}).catch(i.a)}function m(t){return Object(o.post)("/api/qualityprofiles/set_default",{profileKey:t})}function d(t,e){return Object(o.post)("/api/qualityprofiles/rename",{key:t,name:e})}function y(t,e){return Object(o.postJSON)("/api/qualityprofiles/copy",{fromKey:t,toName:e})}function g(t){return Object(o.post)("/api/qualityprofiles/delete",{profileKey:t})}function O(t,e){return Object(o.post)("/api/qualityprofiles/change_parent",{profileKey:t,parentKey:e})}function b(){return Object(o.getJSON)("/api/qualityprofiles/importers").then(function(t){return t.importers},i.a)}function v(){return Object(o.getJSON)("/api/qualityprofiles/exporters").then(function(t){return t.exporters})}function j(t){return Object(o.getJSON)("/api/qualityprofiles/changelog",t)}function _(t,e){return Object(o.getJSON)("/api/qualityprofiles/compare",{leftKey:t,rightKey:e})}function N(t,e){return Object(o.post)("/api/qualityprofiles/add_project",{profileKey:t,projectKey:e}).catch(i.a)}function E(t,e){return Object(o.post)("/api/qualityprofiles/remove_project",{profileKey:t,projectKey:e}).catch(i.a)}function q(t){return Object(o.getJSON)("/api/qualityprofiles/search_users",t).catch(i.a)}function w(t){return Object(o.getJSON)("/api/qualityprofiles/search_groups",t).catch(i.a)}function S(t){return Object(o.post)("/api/qualityprofiles/add_user",t).catch(i.a)}function C(t){return Object(o.post)("/api/qualityprofiles/remove_user",t).catch(i.a)}function J(t){return Object(o.post)("/api/qualityprofiles/add_group",t).catch(i.a)}function k(t){return Object(o.post)("/api/qualityprofiles/remove_group",t).catch(i.a)}function K(t){return Object(o.postJSON)("/api/qualityprofiles/activate_rules",t)}function D(t){return Object(o.postJSON)("/api/qualityprofiles/deactivate_rules",t)}function x(t){var e=t.params&&Object(r.map)(t.params,function(t,e){return e+"="+Object(a.a)(t)}).join(";");return Object(o.post)("/api/qualityprofiles/activate_rule",c({},t,{params:e})).catch(i.a)}function P(t){return Object(o.post)("/api/qualityprofiles/deactivate_rule",t).catch(i.a)}}}]);
//# sourceMappingURL=282.d1bb3e75.chunk.js.map