(window.webpackJsonp=window.webpackJsonp||[]).push([[252],{1008:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s});var a={ALL:"__ALL__",ALL_EXCEPT_PENDING:"__ALL_EXCEPT_PENDING__",PENDING:"PENDING",IN_PROGRESS:"IN_PROGRESS",SUCCESS:"SUCCESS",FAILED:"FAILED",CANCELED:"CANCELED"},o="ALL_TYPES",r={ALL:"__ALL__",ONLY_CURRENTS:"CURRENTS"},i={status:a.ALL_EXCEPT_PENDING,taskType:o,currents:r.ALL,minSubmittedAt:void 0,maxExecutedAt:void 0,query:""},s=250},1010:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(0),o=n(15);function r(e){var t=e.className,n=e.fill,r=void 0===n?o.green:n,i=e.size,s=void 0===i?16:i;return a.createElement("svg",{className:t,width:s,height:s,viewBox:"0 0 16 16",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve"},a.createElement("path",{style:{fill:r},d:"M12.607 6.554q0-0.25-0.161-0.411l-0.813-0.804q-0.17-0.17-0.402-0.17t-0.402 0.17l-3.643 3.634-2.018-2.018q-0.17-0.17-0.402-0.17t-0.402 0.17l-0.813 0.804q-0.161 0.161-0.161 0.411 0 0.241 0.161 0.402l3.232 3.232q0.17 0.17 0.402 0.17 0.241 0 0.411-0.17l4.848-4.848q0.161-0.161 0.161-0.402zM14.857 8q0 1.866-0.92 3.442t-2.496 2.496-3.442 0.92-3.442-0.92-2.496-2.496-0.92-3.442 0.92-3.442 2.496-2.496 3.442-0.92 3.442 0.92 2.496 2.496 0.92 3.442z"}))}},1015:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(0),o=n(6),r=n(1023),i=(n(1051)," \\\n  ");function s(e){var t=e.className,n=e.isOneLine,s=e.noCopy,c=e.snippet,l=Array.isArray(c)?c.filter(function(e){return void 0!==e}):[c],u=n?l.join(" "):l.join(i);return a.createElement("div",{className:o("code-snippet",{"code-snippet-oneline":n},t)},a.createElement("pre",null,u),!s&&a.createElement(r.a,{copyValue:u}))}},1022:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return m});var a=n(3),o=n(13);function r(e){return Object(a.getJSON)("/api/ce/activity",e)}function i(e){var t={};return e&&Object.assign(t,{componentId:e}),Object(a.getJSON)("/api/ce/activity_status",t)}function s(e,t){return Object(a.getJSON)("/api/ce/task",{id:e,additionalFields:t}).then(function(e){return e.task})}function c(e){return Object(a.post)("/api/ce/cancel",{id:e}).then(function(){return s(e)},function(){return s(e)})}function l(){return Object(a.post)("/api/ce/cancel_all")}function u(e){return Object(a.getJSON)("/api/ce/component",{componentKey:e}).catch(o.a)}function p(){return Object(a.getJSON)("/api/ce/task_types").then(function(e){return e.taskTypes})}function d(){return Object(a.getJSON)("/api/ce/worker_count").catch(o.a)}function m(e){return Object(a.post)("/api/ce/set_worker_count",{count:e}).catch(o.a)}},1023:function(e,t,n){"use strict";var a,o=n(0),r=n(6),i=n(1037),s=n(25),c=n(11),l=n(1),u=(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={tooltipShown:!1},t.showTooltip=function(){t.mounted&&(t.setState({tooltipShown:!0}),setTimeout(function(){t.mounted&&t.setState({tooltipShown:!1})},1e3))},t}return u(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.copyButton&&(this.clipboard=new i(this.copyButton),this.clipboard.on("success",this.showTooltip))},t.prototype.componentDidUpdate=function(){this.clipboard&&this.clipboard.destroy(),this.copyButton&&(this.clipboard=new i(this.copyButton),this.clipboard.on("success",this.showTooltip))},t.prototype.componentWillUnmount=function(){this.mounted=!1,this.clipboard&&this.clipboard.destroy()},t.prototype.render=function(){var e=this;return o.createElement(s.a,{overlay:Object(l.l)("copied_action"),visible:this.state.tooltipShown},o.createElement(c.a,{className:r("js-copy-to-clipboard no-select",this.props.className),"data-clipboard-text":this.props.copyValue,innerRef:function(t){return e.copyButton=t}},Object(l.l)("copy")))},t}(o.PureComponent);t.a=p},1030:function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},1031:function(e,t,n){var a=n(1030);e.exports=function(e,t,n,o,r){var i=function(e,t,n,o){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&o.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,i,r),{destroy:function(){e.removeEventListener(n,i,r)}}}},1032:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},1033:function(e,t,n){var a=n(1032),o=n(1031);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(a.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(a.string(e))return function(e,t,n){return o(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},1034:function(e,t){function n(){}n.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var a=this;function o(){a.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,o=n.length;a<o;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],o=[];if(a&&t)for(var r=0,i=a.length;r<i;r++)a[r].fn!==t&&a[r].fn._!==t&&o.push(a[r]);return o.length?n[e]=o:delete n[e],this}},e.exports=n},1035:function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var a=window.getSelection(),o=document.createRange();o.selectNodeContents(e),a.removeAllRanges(),a.addRange(o),t=a.toString()}return t}},1036:function(e,t,n){var a,o,r;o=[e,n(1035)],void 0===(r="function"==typeof(a=function(e,t){"use strict";var n,a=(n=t)&&n.__esModule?n:{default:n},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return r(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=i})?a.apply(t,o):a)||(e.exports=r)},1037:function(e,t,n){var a,o,r;o=[e,n(1036),n(1034),n(1033)],void 0===(r="function"==typeof(a=function(e,t,n,a){"use strict";var o=s(t),r=s(n),i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.resolveOptions(n),a.listenClick(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===c(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,i.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return p("action",e)}},{key:"defaultTarget",value:function(e){var t=p("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return p("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(r.default);function p(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u})?a.apply(t,o):a)||(e.exports=r)},1051:function(e,t,n){},1063:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s});var a=n(3),o=n(13);function r(e){return Object(a.getJSON)("/api/user_tokens/search",{login:e}).then(function(e){return e.userTokens},o.a)}function i(e){return Object(a.postJSON)("/api/user_tokens/generate",e).catch(o.a)}function s(e){return Object(a.post)("/api/user_tokens/revoke",e).catch(o.a)}},1145:function(e,t,n){},1177:function(e,t,n){"use strict";n.r(t);var a=n(10),o=n(0),r=n.n(o),i=n(5),s=n.n(i),c=n(22),l=n.n(c),u=n(6),p=n.n(u);function d(e){var t=p()("boxed-group","onboarding-step",{"is-open":e.open,"is-finished":e.finished}),n=!e.open&&e.finished;return r.a.createElement("div",{className:t,onClick:n?function(t){t.preventDefault(),e.onOpen()}:void 0,role:n?"button":void 0,tabIndex:n?0:void 0},r.a.createElement("div",{className:"onboarding-step-number"},e.stepNumber),!e.open&&e.renderResult(),r.a.createElement("div",{className:"boxed-group-header"},r.a.createElement("h2",null,e.stepTitle)),e.open?e.renderForm():r.a.createElement("div",{className:"boxed-group-inner"}))}var m,h=n(1063),g=n(243),f=n(1010),b=n(11),y=n(1),v=(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={canUseExisting:!1,existingToken:"",loading:!1,selection:"generate"},t.getToken=function(){return"generate"===t.state.selection?t.state.token:t.state.existingToken},t.canContinue=function(){var e=t.state,n=e.existingToken,a=e.selection,o=e.token,r=null!=n.match(/^[a-z0-9]+$/);return"generate"===a&&null!=o||"use-existing"===a&&n&&r},t.handleTokenNameChange=function(e){t.setState({tokenName:e.target.value})},t.handleTokenGenerate=function(e){e.preventDefault();var n=t.state.tokenName;n&&(t.setState({loading:!0}),Object(h.a)({name:n}).then(function(e){var n=e.token;t.mounted&&t.setState({loading:!1,token:n})},function(){t.mounted&&t.setState({loading:!1})}))},t.handleTokenRevoke=function(){var e=t.state.tokenName;e&&(t.setState({loading:!0}),Object(h.c)({name:e}).then(function(){t.mounted&&t.setState({loading:!1,token:void 0,tokenName:void 0})},function(){t.mounted&&t.setState({loading:!1})}))},t.handleContinueClick=function(e){e.preventDefault();var n=t.getToken();n&&t.props.onContinue(n)},t.handleGenerateClick=function(e){e.preventDefault(),t.setState({selection:"generate"})},t.handleUseExistingClick=function(e){e.preventDefault(),t.setState({selection:"use-existing"})},t.handleExisingTokenChange=function(e){t.setState({existingToken:e.currentTarget.value})},t.renderGenerateOption=function(){return r.a.createElement("div",null,t.state.canUseExisting?r.a.createElement("a",{className:"js-new link-base-color link-no-underline",href:"#",onClick:t.handleGenerateClick},r.a.createElement("i",{className:p()("icon-radio","spacer-right",{"is-checked":"generate"===t.state.selection})}),Object(y.l)("onboading.token.generate_token")):Object(y.l)("onboading.token.generate_token"),"generate"===t.state.selection&&r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("form",{onSubmit:t.handleTokenGenerate},r.a.createElement("input",{autoFocus:!0,className:"input-large spacer-right text-middle",onChange:t.handleTokenNameChange,placeholder:Object(y.l)("onboading.token.generate_token.placeholder"),required:!0,type:"text",value:t.state.tokenName||""}),t.state.loading?r.a.createElement("i",{className:"spinner text-middle"}):r.a.createElement("button",{className:"text-middle",disabled:!t.state.tokenName,type:"submit"},Object(y.l)("onboarding.token.generate")))))},t.renderUseExistingOption=function(){var e=t.state.existingToken,n=!e||null!=e.match(/^[a-z0-9]+$/);return r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("a",{className:"js-new link-base-color link-no-underline",href:"#",onClick:t.handleUseExistingClick},r.a.createElement("i",{className:p()("icon-radio","spacer-right",{"is-checked":"use-existing"===t.state.selection})}),Object(y.l)("onboarding.token.use_existing_token")),"use-existing"===t.state.selection&&r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("input",{autoFocus:!0,className:"input-large spacer-right text-middle",onChange:t.handleExisingTokenChange,placeholder:Object(y.l)("onboarding.token.use_existing_token.placeholder"),required:!0,type:"text",value:t.state.existingToken}),!n&&r.a.createElement("span",{className:"text-danger"},r.a.createElement(g.a,{className:"little-spacer-right text-text-top"}),Object(y.l)("onboarding.token.invalid_format"))))},t.renderForm=function(){var e=t.state,n=e.canUseExisting,a=e.loading,o=e.token,i=e.tokenName;return r.a.createElement("div",{className:"boxed-group-inner"},null!=o?r.a.createElement("form",{onSubmit:t.handleTokenRevoke},r.a.createElement("span",{className:"text-middle"},i,": "),r.a.createElement("strong",{className:"spacer-right text-middle"},o),a?r.a.createElement("i",{className:"spinner text-middle"}):r.a.createElement(b.c,{className:"button-small text-middle",onClick:t.handleTokenRevoke})):r.a.createElement("div",null,t.renderGenerateOption(),n&&t.renderUseExistingOption()),r.a.createElement("div",{className:"note big-spacer-top width-50"},Object(y.l)("onboarding.token.text")),t.canContinue()&&r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("button",{className:"js-continue",onClick:t.handleContinueClick,type:"button"},Object(y.l)("continue"))))},t.renderResult=function(){var e=t.state,n=e.selection,a=e.tokenName,o=t.getToken();return o?r.a.createElement("div",{className:"boxed-group-actions display-flex-center"},r.a.createElement(f.a,{className:"spacer-right"}),"generate"===n&&a&&a+": ",r.a.createElement("strong",null,o)):null},t}return v(t,e),t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,Object(h.b)(this.props.currentUser.login).then(function(t){e.mounted&&e.setState({canUseExisting:t.length>0})},function(){})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return r.a.createElement(d,{finished:this.props.finished,onOpen:this.props.onOpen,open:this.props.open,renderForm:this.renderForm,renderResult:this.renderResult,stepNumber:this.props.stepNumber,stepTitle:Object(y.l)("onboarding.token.header")})},t}(r.a.PureComponent),O=n(4),k=n(34),j=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_=function(e){function t(t){var n=e.call(this,t)||this;return n.stopLoading=function(){n.mounted&&n.setState({loading:!1})},n.validateOrganization=function(e){Object(k.e)(e).then(function(e){n.mounted&&n.setState({unique:null==e})})},n.sanitizeOrganization=function(e){return e.toLowerCase().replace(/[^a-z0-9-]/,"").replace(/^-/,"")},n.handleOrganizationChange=function(e){var t=n.sanitizeOrganization(e.target.value);n.setState({organization:t}),n.validateOrganization(t)},n.handleOrganizationCreate=function(e){e.preventDefault();var t=n.state.organization;t&&(n.setState({loading:!0}),Object(k.c)({key:t,name:t}).then(function(){n.mounted&&(n.setState({done:!0,loading:!1}),n.props.onDone(t))},n.stopLoading))},n.handleOrganizationDelete=function(){var e=n.state.organization;e&&(n.setState({loading:!0}),Object(k.d)(e).then(function(){n.mounted&&(n.setState({done:!1,loading:!1,organization:""}),n.props.onDelete())},n.stopLoading))},n.state={done:null!=t.organization,loading:!1,organization:t.organization||"",unique:!0},n.validateOrganization=Object(O.debounce)(n.validateOrganization,500),n}return j(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.done,n=e.loading,a=e.organization,o=e.unique,i=o&&a.length>=2;return t?r.a.createElement("div",null,r.a.createElement("span",{className:"spacer-right text-middle"},a),n?r.a.createElement("i",{className:"spinner text-middle"}):r.a.createElement(b.c,{className:"button-small",onClick:this.handleOrganizationDelete})):r.a.createElement("form",{onSubmit:this.handleOrganizationCreate},r.a.createElement("input",{autoFocus:!0,className:"input-super-large spacer-right text-middle",maxLength:32,minLength:2,onChange:this.handleOrganizationChange,placeholder:Object(y.l)("onboarding.organization.placeholder"),required:!0,type:"text",value:a}),n?r.a.createElement("i",{className:"spinner text-middle"}):r.a.createElement("button",{className:"text-middle",disabled:!i,type:"submit"},Object(y.l)("create")),!o&&r.a.createElement("span",{className:"big-spacer-left text-danger text-middle"},r.a.createElement(g.a,{className:"little-spacer-right text-text-top"}),Object(y.l)("this_name_is_already_taken")),r.a.createElement("div",{className:"note spacer-top abs-width-300"},Object(y.l)("onboarding.organization.key_requirement")))},t}(r.a.PureComponent),N=n(51),x=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!0,existingOrganizations:[],selection:"personal"},t.fetchOrganizations=function(){Object(k.g)({member:!0}).then(function(e){var n=e.organizations;if(t.mounted){var a=n.filter(function(e){return e.isAdmin}).map(function(e){return e.key}),o=1===a.length?a[0]:void 0,r=a.length>1?Object(O.sortBy)(a):[],i=o?"personal":r.length>0?"existing":"new";t.setState({loading:!1,existingOrganizations:r,personalOrganization:o,selection:i})}},function(){t.mounted&&t.setState({loading:!1})})},t.getSelectedOrganization=function(){switch(t.state.selection){case"personal":return t.state.personalOrganization;case"existing":return t.state.existingOrganization;case"new":return t.state.newOrganization;default:return null}},t.handlePersonalClick=function(e){e.preventDefault(),t.setState({selection:"personal"})},t.handleExistingClick=function(e){e.preventDefault(),t.setState({selection:"existing"})},t.handleNewClick=function(e){e.preventDefault(),t.setState({selection:"new"})},t.handleOrganizationCreate=function(e){t.setState({newOrganization:e})},t.handleOrganizationDelete=function(){t.setState({newOrganization:void 0})},t.handleExistingOrganizationSelect=function(e){var n=e.value;t.setState({existingOrganization:n})},t.handleContinueClick=function(e){e.preventDefault();var n=t.getSelectedOrganization();n&&t.props.onContinue(n)},t.renderPersonalOrganizationOption=function(){return r.a.createElement("div",null,r.a.createElement("a",{className:"link-base-color link-no-underline",href:"#",onClick:t.handlePersonalClick},r.a.createElement("i",{className:p()("icon-radio","spacer-right",{"is-checked":"personal"===t.state.selection})}),Object(y.l)("onboarding.organization.my_personal_organization"),r.a.createElement("span",{className:"note spacer-left"},t.state.personalOrganization)))},t.renderExistingOrganizationOption=function(){return r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("a",{className:"js-existing link-base-color link-no-underline",href:"#",onClick:t.handleExistingClick},r.a.createElement("i",{className:p()("icon-radio","spacer-right",{"is-checked":"existing"===t.state.selection})}),Object(y.l)("onboarding.organization.exising_organization")),"existing"===t.state.selection&&r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement(N.c,{className:"input-super-large",clearable:!1,onChange:t.handleExistingOrganizationSelect,options:t.state.existingOrganizations.map(function(e){return{label:e,value:e}}),value:t.state.existingOrganization})))},t.renderNewOrganizationOption=function(){return r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("a",{className:"js-new link-base-color link-no-underline",href:"#",onClick:t.handleNewClick},r.a.createElement("i",{className:p()("icon-radio","spacer-right",{"is-checked":"new"===t.state.selection})}),Object(y.l)("onboarding.organization.create_another_organization")),"new"===t.state.selection&&r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement(_,{onDelete:t.handleOrganizationDelete,onDone:t.handleOrganizationCreate,organization:t.state.newOrganization})))},t.renderForm=function(){return r.a.createElement("div",{className:"boxed-group-inner"},r.a.createElement("div",{className:"big-spacer-bottom width-50"},Object(y.l)("onboarding.organization.text")),t.state.loading?r.a.createElement("i",{className:"spinner"}):r.a.createElement("div",null,t.state.personalOrganization&&t.renderPersonalOrganizationOption(),t.state.existingOrganizations.length>0&&t.renderExistingOrganizationOption(),t.renderNewOrganizationOption()),null!=t.getSelectedOrganization()&&!t.state.loading&&r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("button",{className:"js-continue",onClick:t.handleContinueClick,type:"button"},Object(y.l)("continue"))))},t.renderResult=function(){var e=t.getSelectedOrganization();return null!=e?r.a.createElement("div",{className:"boxed-group-actions display-flex-center"},r.a.createElement(f.a,{className:"spacer-right"}),r.a.createElement("strong",null,e)):null},t}return x(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchOrganizations()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return r.a.createElement(d,{finished:this.props.finished,onOpen:this.props.onOpen,open:this.props.open,renderForm:this.renderForm,renderResult:this.renderResult,stepNumber:this.props.stepNumber,stepTitle:Object(y.l)("onboarding.organization.header")})},t}(r.a.PureComponent),C=n(33),w=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),z=function(e){function t(t){var n=e.call(this,t)||this;return n.stopLoading=function(){n.mounted&&n.setState({loading:!1})},n.sanitizeProjectKey=function(e){return e.replace(/[^-_a-zA-Z0-9.:]/,"")},n.handleProjectKeyChange=function(e){n.setState({projectKey:n.sanitizeProjectKey(e.target.value)})},n.handleProjectCreate=function(e){e.preventDefault();var t=n.state.projectKey,a={name:t,project:t};n.props.organization&&(a.organization=n.props.organization),n.setState({loading:!0}),Object(C.d)(a).then(function(){n.mounted&&(n.setState({done:!0,loading:!1}),n.props.onDone(t))},n.stopLoading)},n.handleProjectDelete=function(){var e=n.state.projectKey;n.setState({loading:!0}),Object(C.f)(e).then(function(){n.mounted&&(n.setState({done:!1,loading:!1,projectKey:""}),n.props.onDelete())},n.stopLoading)},n.state={done:null!=t.projectKey,loading:!1,projectKey:t.projectKey||""},n}return w(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.done,n=e.loading,a=e.projectKey,o=a.length>0,i=t?r.a.createElement("div",null,r.a.createElement("span",{className:"spacer-right text-middle"},a),n?r.a.createElement("i",{className:"spinner text-middle"}):r.a.createElement(b.c,{className:"button-small text-middle",onClick:this.handleProjectDelete})):r.a.createElement("form",{onSubmit:this.handleProjectCreate},r.a.createElement("input",{autoFocus:!0,className:"input-large spacer-right text-middle",minLength:1,maxLength:400,onChange:this.handleProjectKeyChange,required:!0,type:"text",value:a}),n?r.a.createElement("i",{className:"spinner text-middle"}):r.a.createElement("button",{className:"text-middle",disabled:!o},Object(y.l)("Done")),r.a.createElement("div",{className:"note spacer-top abs-width-300"},Object(y.l)("onboarding.project_key_requirement")));return r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.language.project_key")),i)},t}(r.a.PureComponent),T=n(160),L=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.isConfigured=function(){var e=t.state,n=e.language,a=e.javaBuild,o=e.cFamilyCompiler,r=e.os,i=e.projectKey;return"java"===n&&null!=a||"dotnet"===n&&null!=i||"c-family"===n&&("msvc"===o||null!=r)&&null!=i||"other"===n&&null!=i},t.handleChange=function(){t.isConfigured()?t.props.onDone(t.state):t.props.onReset()},t.handleLanguageChange=function(e){t.setState({language:e},t.handleChange)},t.handleJavaBuildChange=function(e){t.setState({javaBuild:e},t.handleChange)},t.handleCFamilyCompilerChange=function(e){t.setState({cFamilyCompiler:e},t.handleChange)},t.handleOSChange=function(e){t.setState({os:e},t.handleChange)},t.handleProjectKeyDone=function(e){t.setState({projectKey:e},t.handleChange)},t.handleProjectKeyDelete=function(){t.setState({projectKey:void 0},t.handleChange)},t.renderJavaBuild=function(){return r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.language.java.build_technology")),r.a.createElement(T.a,{name:"java-build",onCheck:t.handleJavaBuildChange,options:["maven","gradle"].map(function(e){return{label:Object(y.l)("onboarding.language.java.build_technology",e),value:e}}),value:t.state.javaBuild}))},t.renderCFamilyCompiler=function(){return r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.language.c-family.compiler")),r.a.createElement(T.a,{name:"c-family-compiler",onCheck:t.handleCFamilyCompilerChange,options:["msvc","clang-gcc"].map(function(e){return{label:Object(y.l)("onboarding.language.c-family.compiler",e),value:e}}),value:t.state.cFamilyCompiler}))},t.renderOS=function(){return r.a.createElement("div",{className:"big-spacer-top"},r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.language.os")),r.a.createElement(T.a,{name:"os",onCheck:t.handleOSChange,options:["linux","win","mac"].map(function(e){return{label:Object(y.l)("onboarding.language.os",e),value:e}}),value:t.state.os}))},t.renderProjectKey=function(){return r.a.createElement(z,{onDelete:t.handleProjectKeyDelete,onDone:t.handleProjectKeyDone,organization:t.props.organization,projectKey:t.state.projectKey})},t}return L(t,e),t.prototype.render=function(){var e="dotnet"===this.state.language||"c-family"===this.state.language&&("msvc"===this.state.cFamilyCompiler||"clang-gcc"===this.state.cFamilyCompiler&&null!=this.state.os)||"other"===this.state.language&&void 0!==this.state.os,t=this.props.sonarCloud?["java","dotnet","c-family","other"]:["java","dotnet","other"];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.language")),r.a.createElement(T.a,{name:"language",onCheck:this.handleLanguageChange,options:t.map(function(e){return{label:Object(y.l)("onboarding.language",e),value:e}}),value:this.state.language})),"java"===this.state.language&&this.renderJavaBuild(),"c-family"===this.state.language&&this.renderCFamilyCompiler(),("c-family"===this.state.language&&"clang-gcc"===this.state.cFamilyCompiler||"other"===this.state.language)&&this.renderOS(),e&&this.renderProjectKey())},t.defaultProps={sonarCloud:!1},t}(r.a.PureComponent),P=n(1015);function F(e){var t=["mvn sonar:sonar",e.organization&&"-Dsonar.organization="+e.organization,"-Dsonar.host.url="+e.host,"-Dsonar.login="+e.token];return r.a.createElement("div",null,r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.analysis.java.maven.header")),r.a.createElement("p",{className:"spacer-bottom markdown"},Object(y.l)("onboarding.analysis.java.maven.text")),r.a.createElement(P.a,{snippet:t}),r.a.createElement("p",{className:"big-spacer-top markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.java.maven.docs")}}),r.a.createElement("p",{className:"big-spacer-top markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.browse_url_after_analysis")}}))}function A(e){var t=["./gradlew sonarqube",e.organization&&"-Dsonar.organization="+e.organization,"-Dsonar.host.url="+e.host,"-Dsonar.login="+e.token];return r.a.createElement("div",null,r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.analysis.java.gradle.header")),r.a.createElement("p",{className:"spacer-bottom markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.java.gradle.text.1")}}),r.a.createElement(P.a,{snippet:'plugins {\n  id "org.sonarqube" version "2.6"\n}'}),r.a.createElement("p",{className:"spacer-top spacer-bottom markdown"},Object(y.l)("onboarding.analysis.java.gradle.text.2")),r.a.createElement(P.a,{snippet:t}),r.a.createElement("p",{className:"big-spacer-top markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.java.gradle.docs")}}),r.a.createElement("p",{className:"big-spacer-top markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.browse_url_after_analysis")}}))}function K(e){return r.a.createElement("div",{className:e.className},r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.analysis.msbuild.header")),r.a.createElement("p",{className:"spacer-bottom markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.msbuild.text")}}),r.a.createElement("p",null,r.a.createElement("a",{className:"button",href:"http://redirect.sonarsource.com/doc/install-configure-scanner-msbuild.html",target:"_blank"},Object(y.l)("download_verb"))))}function M(e){var t=["SonarQube.Scanner.MSBuild.exe begin",'/k:"'+e.projectKey+'"',e.organization&&'/d:sonar.organization="'+e.organization+'"','/d:sonar.host.url="'+e.host+'"','/d:sonar.login="'+e.token+'"'],n=["SonarQube.Scanner.MSBuild.exe end",'/d:sonar.login="'+e.token+'"'];return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement("h4",{className:"huge-spacer-top spacer-bottom"},Object(y.l)("onboarding.analysis.msbuild.execute")),r.a.createElement("p",{className:"spacer-bottom markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.msbuild.execute.text")}}),r.a.createElement(P.a,{isOneLine:!0,snippet:t}),r.a.createElement(P.a,{isOneLine:!0,snippet:"MsBuild.exe /t:Rebuild"}),r.a.createElement(P.a,{isOneLine:!0,snippet:n}),r.a.createElement("p",{className:"big-spacer-top markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.msbuild.docs")}}))}var R={win:"build-wrapper-win-x86.zip",linux:"build-wrapper-linux-x86.zip",mac:"build-wrapper-macosx-x86.zip"};function I(e){return r.a.createElement("div",{className:e.className},r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.analysis.build_wrapper.header",e.os)),r.a.createElement("p",{className:"spacer-bottom markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.build_wrapper.text",e.os)}}),r.a.createElement("p",null,r.a.createElement("a",{className:"button",download:R[e.os],href:window.baseUrl+"/static/cpp/"+R[e.os],target:"_blank"},Object(y.l)("download_verb"))))}function U(e){var t=["SonarQube.Scanner.MSBuild.exe begin",'/k:"'+e.projectKey+'"',e.organization&&'/d:sonar.organization="'+e.organization+'"',"/d:sonar.cfamily.build-wrapper-output=bw-output",'/d:sonar.host.url="'+e.host+'"','/d:sonar.login="'+e.token+'"'],n=["SonarQube.Scanner.MSBuild.exe end",'/d:sonar.login="'+e.token+'"'];return r.a.createElement("div",null,r.a.createElement(K,null),r.a.createElement(I,{className:"huge-spacer-top",os:"win"}),r.a.createElement("h4",{className:"huge-spacer-top spacer-bottom"},Object(y.l)("onboarding.analysis.msbuild.execute")),r.a.createElement("p",{className:"spacer-bottom markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.msbuild.execute.text")}}),r.a.createElement(P.a,{isOneLine:!0,snippet:t}),r.a.createElement(P.a,{isOneLine:!0,snippet:"build-wrapper-win-x86-64.exe --out-dir bw-output MsBuild.exe /t:Rebuild"}),r.a.createElement(P.a,{isOneLine:!0,snippet:n}),r.a.createElement("p",{className:"big-spacer-top markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.msbuild.docs")}}))}function q(e){return r.a.createElement("div",{className:e.className},r.a.createElement("h4",{className:"spacer-bottom"},Object(y.l)("onboarding.analysis.sq_scanner.header",e.os)),r.a.createElement("p",{className:"spacer-bottom markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.sq_scanner.text",e.os)}}),r.a.createElement("p",null,r.a.createElement("a",{className:"button",href:"http://redirect.sonarsource.com/doc/install-configure-scanner.html",target:"_blank"},Object(y.l)("download_verb"))))}var H={linux:"build-wrapper-linux-x86-64",win:"build-wrapper-win-x86-64.exe",mac:"build-wrapper-macosx-x86"};function G(e){var t=H[e.os]+" --out-dir bw-output make clean all",n=["win"===e.os?"sonar-scanner.bat":"sonar-scanner","-Dsonar.projectKey="+e.projectKey,e.organization&&"-Dsonar.organization="+e.organization,"-Dsonar.sources=.","-Dsonar.cfamily.build-wrapper-output=bw-output","-Dsonar.host.url="+e.host,"-Dsonar.login="+e.token];return r.a.createElement("div",null,r.a.createElement(q,{os:e.os}),r.a.createElement(I,{className:"huge-spacer-top",os:e.os}),r.a.createElement("h4",{className:"huge-spacer-top spacer-bottom"},Object(y.l)("onboarding.analysis.sq_scanner.execute")),r.a.createElement("p",{className:"spacer-bottom markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.sq_scanner.execute.text")}}),r.a.createElement(P.a,{isOneLine:!0,snippet:t}),r.a.createElement(P.a,{isOneLine:"win"===e.os,snippet:n}),r.a.createElement("p",{className:"big-spacer-top markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.sq_scanner.docs")}}))}function B(e){var t=["win"===e.os?"sonar-scanner.bat":"sonar-scanner","-Dsonar.projectKey="+e.projectKey,e.organization&&"-Dsonar.organization="+e.organization,"-Dsonar.sources=.","-Dsonar.host.url="+e.host,"-Dsonar.login="+e.token];return r.a.createElement("div",null,r.a.createElement(q,{os:e.os}),r.a.createElement("h4",{className:"huge-spacer-top spacer-bottom"},Object(y.l)("onboarding.analysis.sq_scanner.execute")),r.a.createElement("p",{className:"spacer-bottom markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.sq_scanner.execute.text")}}),r.a.createElement(P.a,{isOneLine:"win"===e.os,snippet:t}),r.a.createElement("p",{className:"big-spacer-top markdown",dangerouslySetInnerHTML:{__html:Object(y.l)("onboarding.analysis.sq_scanner.docs")}}))}var J=n(38),Q=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleLanguageSelect=function(e){t.setState({result:e});var n=e&&"java"!==e.language?e.projectKey:void 0;t.props.onFinish(n)},t.handleLanguageReset=function(){t.setState({result:void 0}),t.props.onReset()},t.renderForm=function(){return r.a.createElement("div",{className:"boxed-group-inner"},r.a.createElement("div",{className:"flex-columns"},r.a.createElement("div",{className:"flex-column flex-column-half bordered-right"},r.a.createElement(D,{onDone:t.handleLanguageSelect,onReset:t.handleLanguageReset,organization:t.props.organization,sonarCloud:t.props.sonarCloud})),r.a.createElement("div",{className:"flex-column flex-column-half"},t.renderCommand())))},t.renderFormattedCommand=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.a.createElement("pre",null,e.join(" \\\n  "))},t.renderCommand=function(){var e=t.state.result;return e?"java"===e.language?"maven"===e.javaBuild?t.renderCommandForMaven():t.renderCommandForGradle():"dotnet"===e.language?t.renderCommandForDotNet():"c-family"===e.language?"msvc"===e.cFamilyCompiler?t.renderCommandForMSVC():t.renderCommandForClangGCC():t.renderCommandForOther():null},t.renderCommandForMaven=function(){return r.a.createElement(F,{host:Object(J.k)(),organization:t.props.organization,token:t.props.token})},t.renderCommandForGradle=function(){return r.a.createElement(A,{host:Object(J.k)(),organization:t.props.organization,token:t.props.token})},t.renderCommandForDotNet=function(){return r.a.createElement(M,{host:Object(J.k)(),organization:t.props.organization,projectKey:t.state.result.projectKey,token:t.props.token})},t.renderCommandForMSVC=function(){return r.a.createElement(U,{host:Object(J.k)(),organization:t.props.organization,projectKey:t.state.result.projectKey,token:t.props.token})},t.renderCommandForClangGCC=function(){return r.a.createElement(G,{host:Object(J.k)(),organization:t.props.organization,os:t.state.result.os,projectKey:t.state.result.projectKey,token:t.props.token})},t.renderCommandForOther=function(){return r.a.createElement(B,{host:Object(J.k)(),organization:t.props.organization,os:t.state.result.os,projectKey:t.state.result.projectKey,token:t.props.token})},t.renderResult=function(){return null},t}return Q(t,e),t.prototype.render=function(){return r.a.createElement(d,{finished:!1,onOpen:function(){},open:this.props.open,renderForm:this.renderForm,renderResult:this.renderResult,stepNumber:this.props.stepNumber,stepTitle:Object(y.l)("onboarding.analysis.header")})},t}(r.a.PureComponent),V=n(1022),X=n(1008),Y=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),$=5e3,Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={inQueue:!1,status:null},t.watch=function(){return t.interval=setTimeout(t.checkProject,$)},t.checkProject=function(){var e=t.props.projectKey;Object(V.f)(e).then(function(e){if(e.queue.length>0&&t.setState({inQueue:!0}),null!=e.current){var n=e.current.status;t.setState({status:n}),n===X.e.SUCCESS?t.props.onFinish():n!==X.e.PENDING&&n!==X.e.IN_PROGRESS||t.watch()}else t.watch()},function(){})},t}return Y(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.watch(),this.timeout=setTimeout(this.props.onTimeout,6e5)},t.prototype.componentWillUnmount=function(){clearInterval(this.interval),clearInterval(this.timeout),this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.inQueue,n=e.status;return n===X.e.SUCCESS?r.a.createElement("div",{className:"big-spacer-top note text-center"},r.a.createElement(f.a,{className:"spacer-right"}),Object(y.l)("onboarding.project_watcher.finished")):t||n===X.e.PENDING||n===X.e.IN_PROGRESS?r.a.createElement("div",{className:"big-spacer-top note text-center"},r.a.createElement("i",{className:"spinner spacer-right"}),Object(y.l)("onboarding.project_watcher.in_progress")):null!=n?r.a.createElement("div",{className:"big-spacer-top note text-center"},r.a.createElement(g.a,{className:"spacer-right"}),Object(y.l)("onboarding.project_watcher.failed")):r.a.createElement("div",{className:"big-spacer-top note text-center"},Object(y.l)("onboarding.project_watcher.not_started"))},t}(r.a.PureComponent),ee=n(88),te=n(378),ne=(n(1145),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),ae=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDown=function(e){27===e.keyCode&&n.finishOnboarding()},n.finishOnboarding=function(){n.setState({skipping:!0}),Object(ee.i)().then(function(){n.mounted&&(n.props.onFinish(),n.state.projectKey&&n.context.router.push(Object(J.r)(n.state.projectKey)))},function(){n.mounted&&n.setState({skipping:!1})})},n.handleTimeout=function(){n.setState({projectKey:void 0})},n.handleTokenDone=function(e){n.setState({step:"analysis",token:e})},n.handleOrganizationDone=function(e){n.setState({organization:e,step:"token"})},n.handleTokenOpen=function(){return n.setState({step:"token"})},n.handleOrganizationOpen=function(){return n.setState({step:"organization"})},n.handleSkipClick=function(e){e.preventDefault(),n.finishOnboarding()},n.handleFinish=function(e){return n.setState({finished:!0,projectKey:e})},n.handleReset=function(){return n.setState({finished:!1,projectKey:void 0})},n.state={finished:!1,skipping:!1,step:t.organizationsEnabled?"organization":"token"},n}return ne(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,window.addEventListener("keydown",this.onKeyDown,!0),this.props.currentUser.isLoggedIn||Object(te.default)()},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDown,!0),this.mounted=!1},t.prototype.render=function(){if(!this.props.currentUser.isLoggedIn)return null;var e=this.props,t=e.organizationsEnabled,n=e.sonarCloud,a=this.state,o=a.step,i=a.token,s=1,c=Object(y.l)(n?"onboarding.header.sonarcloud":"onboarding.header");return r.a.createElement("div",{className:"modal-container"},r.a.createElement(l.a,{title:c,titleTemplate:"%s"}),r.a.createElement("div",{className:"page page-limited onboarding"},r.a.createElement("header",{className:"page-header"},r.a.createElement("h1",{className:"page-title"},c),r.a.createElement("div",{className:"page-actions"},this.state.skipping?r.a.createElement("i",{className:"spinner"}):r.a.createElement("a",{className:"js-skip text-muted",href:"#",onClick:this.handleSkipClick},Object(y.l)("tutorials.skip")),r.a.createElement("p",{className:"note"},Object(y.l)(n?"tutorials.find_it_back_in_plus":"tutorials.find_it_back_in_help"))),r.a.createElement("div",{className:"page-description"},Object(y.m)("onboarding.header.description",t?3:2))),t&&r.a.createElement(S,{currentUser:this.props.currentUser,finished:null!=this.state.organization,onContinue:this.handleOrganizationDone,onOpen:this.handleOrganizationOpen,open:"organization"===o,stepNumber:s++}),r.a.createElement(E,{currentUser:this.props.currentUser,finished:null!=this.state.token,onContinue:this.handleTokenDone,onOpen:this.handleTokenOpen,open:"token"===o,stepNumber:s++}),r.a.createElement(W,{onFinish:this.handleFinish,onReset:this.handleReset,organization:this.state.organization,open:"analysis"===o,sonarCloud:n,stepNumber:s,token:i}),this.state.finished&&!this.state.skipping&&(this.state.projectKey?r.a.createElement(Z,{onFinish:this.finishOnboarding,onTimeout:this.handleTimeout,projectKey:this.state.projectKey}):r.a.createElement("footer",{className:"text-right"},r.a.createElement("a",{className:"button",href:"#",onClick:this.handleSkipClick},Object(y.l)("tutorials.finish"))))))},t.contextTypes={router:s.a.object},t}(r.a.PureComponent),oe=n(7);t.default=Object(a.connect)(function(e){var t=Object(oe.getGlobalSettingValue)(e,"sonar.sonarcloud.enabled");return{currentUser:Object(oe.getCurrentUser)(e),organizationsEnabled:Object(oe.areThereCustomOrganizations)(e),sonarCloud:null!=t&&"true"===t.value}})(ae)}}]);
//# sourceMappingURL=252.4a325a31.chunk.js.map