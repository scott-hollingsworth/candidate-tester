{"version":3,"sources":["webpack:///./src/main/js/apps/account/organizations/OrganizationCard.tsx","webpack:///./src/main/js/apps/account/organizations/OrganizationsList.tsx","webpack:///./src/main/js/apps/account/organizations/UserOrganizations.tsx"],"names":["OrganizationCard_OrganizationCard","_a","organization","index_js_exposed","className","Object","l10n","key","OrganizationAvatar","OrganizationLink","name","isAdmin","description","url","href","title","rel","OrganizationsList_OrganizationsList","organizations","length","lodash_js_exposed","toLocaleLowerCase","map","UserOrganizations_UserOrganizations","_super","UserOrganizations","_this","apply","this","arguments","mounted","state","createOrganization","loading","stopLoading","setState","openCreateOrganizationForm","closeCreateOrganizationForm","UserOrganizations_extends","prototype","componentDidMount","props","fetchIfAnyoneCanCreateOrganizations","then","componentWillUnmount","render","anyoneCanCreate","value","canCreateOrganizations","canAdmin","Helmet_default","a","buttons","onClick","CreateOrganizationForm","onClose","onCreate","UserOrganizations_mapDispatchToProps","actions","__webpack_exports__","es","rootReducer"],"mappings":"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","file":"js/256.630d9aba.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport OrganizationAvatar from '../../../components/common/OrganizationAvatar';\nimport OrganizationLink from '../../../components/ui/OrganizationLink';\nimport { translate } from '../../../helpers/l10n';\nimport { Organization } from '../../../app/types';\n\ninterface Props {\n  organization: Organization;\n}\n\nexport default function OrganizationCard({ organization }: Props) {\n  return (\n    <div className=\"account-project-card clearfix\">\n      <aside className=\"account-project-side note\">\n        <strong>{translate('organization.key')}:</strong> {organization.key}\n      </aside>\n\n      <h3 className=\"account-project-name\">\n        <OrganizationAvatar organization={organization} />\n        <OrganizationLink className=\"spacer-left text-middle\" organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n        {organization.isAdmin && (\n          <span className=\"outline-badge spacer-left\">{translate('admin')}</span>\n        )}\n      </h3>\n\n      {!!organization.description && (\n        <div className=\"markdown spacer-top\">{organization.description}</div>\n      )}\n\n      {!!organization.url && (\n        <div className=\"markdown spacer-top\">\n          <a href={organization.url} title={organization.url} rel=\"nofollow\">\n            {organization.url}\n          </a>\n        </div>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport OrganizationCard from './OrganizationCard';\nimport { Organization } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  organizations: Organization[];\n}\n\nexport default function OrganizationsList({ organizations }: Props) {\n  if (organizations.length === 0) {\n    return <div>{translate('my_account.organizations.no_results')}</div>;\n  }\n\n  return (\n    <ul className=\"account-projects-list\">\n      {sortBy(organizations, organization => organization.name.toLocaleLowerCase()).map(\n        organization => (\n          <li key={organization.key}>\n            <OrganizationCard organization={organization} />\n          </li>\n        )\n      )}\n    </ul>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport { connect } from 'react-redux';\nimport OrganizationsList from './OrganizationsList';\nimport CreateOrganizationForm from './CreateOrganizationForm';\nimport { fetchIfAnyoneCanCreateOrganizations } from './actions';\nimport { translate } from '../../../helpers/l10n';\nimport { getAppState, getMyOrganizations, getGlobalSettingValue } from '../../../store/rootReducer';\nimport { Organization } from '../../../app/types';\nimport { Button } from '../../../components/ui/buttons';\n\ninterface StateProps {\n  anyoneCanCreate?: { value: string };\n  canAdmin: boolean;\n  organizations: Array<Organization>;\n}\n\ninterface DispatchProps {\n  fetchIfAnyoneCanCreateOrganizations: () => Promise<void>;\n}\n\ninterface Props extends StateProps, DispatchProps {}\n\ninterface State {\n  createOrganization: boolean;\n  loading: boolean;\n}\n\nclass UserOrganizations extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { createOrganization: false, loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.fetchIfAnyoneCanCreateOrganizations().then(this.stopLoading, this.stopLoading);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  openCreateOrganizationForm = () => {\n    this.setState({ createOrganization: true });\n  };\n\n  closeCreateOrganizationForm = () => {\n    this.setState({ createOrganization: false });\n  };\n\n  render() {\n    const anyoneCanCreate =\n      this.props.anyoneCanCreate != null && this.props.anyoneCanCreate.value === 'true';\n\n    const canCreateOrganizations = !this.state.loading && (anyoneCanCreate || this.props.canAdmin);\n\n    return (\n      <div className=\"account-body account-container\">\n        <Helmet title={translate('my_account.organizations')} />\n\n        <div className=\"boxed-group\">\n          {canCreateOrganizations && (\n            <div className=\"clearfix\">\n              <div className=\"boxed-group-actions\">\n                <Button onClick={this.openCreateOrganizationForm}>{translate('create')}</Button>\n              </div>\n            </div>\n          )}\n          <div className=\"boxed-group-inner\">\n            {this.state.loading ? (\n              <i className=\"spinner\" />\n            ) : (\n              <OrganizationsList organizations={this.props.organizations} />\n            )}\n          </div>\n        </div>\n\n        {this.state.createOrganization && (\n          <CreateOrganizationForm\n            onClose={this.closeCreateOrganizationForm}\n            onCreate={this.closeCreateOrganizationForm}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any): StateProps => ({\n  anyoneCanCreate: getGlobalSettingValue(state, 'sonar.organizations.anyoneCanCreate'),\n  canAdmin: getAppState(state).canAdmin,\n  organizations: getMyOrganizations(state)\n});\n\nconst mapDispatchToProps = {\n  fetchIfAnyoneCanCreateOrganizations: fetchIfAnyoneCanCreateOrganizations as any\n} as DispatchProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserOrganizations);\n"],"sourceRoot":""}