(window.webpackJsonp=window.webpackJsonp||[]).push([[299],{1008:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c});var r={ALL:"__ALL__",ALL_EXCEPT_PENDING:"__ALL_EXCEPT_PENDING__",PENDING:"PENDING",IN_PROGRESS:"IN_PROGRESS",SUCCESS:"SUCCESS",FAILED:"FAILED",CANCELED:"CANCELED"},o="ALL_TYPES",a={ALL:"__ALL__",ONLY_CURRENTS:"CURRENTS"},i={status:r.ALL_EXCEPT_PENDING,taskType:o,currents:a.ALL,minSubmittedAt:void 0,maxExecutedAt:void 0,query:""},c=250},1022:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return h});var r=n(3),o=n(13);function a(e){return Object(r.getJSON)("/api/ce/activity",e)}function i(e){var t={};return e&&Object.assign(t,{componentId:e}),Object(r.getJSON)("/api/ce/activity_status",t)}function c(e,t){return Object(r.getJSON)("/api/ce/task",{id:e,additionalFields:t}).then(function(e){return e.task})}function s(e){return Object(r.post)("/api/ce/cancel",{id:e}).then(function(){return c(e)},function(){return c(e)})}function l(){return Object(r.post)("/api/ce/cancel_all")}function p(e){return Object(r.getJSON)("/api/ce/component",{componentKey:e}).catch(o.a)}function u(){return Object(r.getJSON)("/api/ce/task_types").then(function(e){return e.taskTypes})}function m(){return Object(r.getJSON)("/api/ce/worker_count").catch(o.a)}function h(e){return Object(r.post)("/api/ce/set_worker_count",{count:e}).catch(o.a)}},1046:function(e,t,n){},1047:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(6);n(1046);function a(e){var t=e.className,n=e.color,a=e.size;return r.createElement("i",{className:o("status-indicator",n,{"small-status-indicator":"small"===a,"big-status-indicator":"big"===a},t)})}},1052:function(e,t,n){"use strict";var r,o=n(0),a=n(6),i=n(25),c=n(104),s=n(1),l=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.toggleFavorite=function(e){e.preventDefault(),n.state.favorite?n.removeFavorite():n.addFavorite()},n.state={favorite:n.props.favorite},n}return l(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillReceiveProps=function(e){e.favorite!==this.props.favorite&&e.favorite!==this.state.favorite&&this.setState({favorite:e.favorite})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.addFavorite=function(){var e=this;this.props.addFavorite().then(function(){e.mounted&&e.setState({favorite:!0})})},t.prototype.removeFavorite=function(){var e=this;this.props.removeFavorite().then(function(){e.mounted&&e.setState({favorite:!1})})},t.prototype.render=function(){var e=this.state.favorite?Object(s.l)("favorite.current",this.props.qualifier):Object(s.l)("favorite.check",this.props.qualifier);return o.createElement(i.a,{overlay:e},o.createElement("a",{className:a("display-inline-block","link-no-underline",this.props.className),href:"#",onClick:this.toggleFavorite},o.createElement(c.a,{favorite:this.state.favorite})))},t}(o.PureComponent),u=n(192);n.d(t,"a",function(){return d});var m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function d(e){var t=e.component,n=h(e,["component"]);return o.createElement(p,m({},n,{addFavorite:function(){return Object(u.a)(t)},removeFavorite:function(){return Object(u.b)(t)}}))}},1053:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(0),o=n(1047),a=n(242),i=n(240),c=n(239),s=n(149),l=n(25),p=n(238),u=n(59),m=n(1),h=n(50);n(1070);function d(e){var t=e.branchLike,n=e.concise,d=void 0!==n&&n;if(Object(u.i)(t)||Object(u.g)(t)){if(!t.status)return null;var f=t.status.bugs+t.status.vulnerabilities+t.status.codeSmells,b=t.status.qualityGateStatus,g=function(e){var t="gray";"ERROR"===e?t="red":"WARN"===e?t="orange":"OK"===e&&(t="green");return t}(b),v="OK"===b&&f>0,y=Object(m.m)("overview.quality_gate_x",Object(h.formatMeasure)(b,"LEVEL"))+("OK"!==b?" "+Object(m.m)("overview.quality_gate_failed_with_x",f):"");return d?r.createElement(l.a,{overlay:y,placement:"right"},r.createElement("ul",{className:"branch-status"},r.createElement("li",null,f),r.createElement("li",{className:"spacer-left"},r.createElement(o.a,{color:g,size:"small"})))):r.createElement("ul",{className:"branch-status"},r.createElement("li",{className:"little-spacer-right"},r.createElement(o.a,{color:g,size:"small"})),r.createElement("li",{className:"spacer-left"},t.status.bugs,r.createElement(i.a,{className:"little-spacer-left"})),r.createElement("li",{className:"spacer-left"},t.status.vulnerabilities,r.createElement(p.a,{className:"little-spacer-left"})),r.createElement("li",{className:"spacer-left"},t.status.codeSmells,r.createElement(c.a,{className:"little-spacer-left"})),v&&r.createElement(l.a,{overlay:Object(m.m)("branches.short_lived.quality_gate.description",f)},r.createElement("li",{className:"spacer-left"},r.createElement(s.a,{className:"text-info"}))))}return Object(u.e)(t)&&t.status?r.createElement(a.a,{level:t.status.qualityGateStatus,small:!0}):null}},1054:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return l});var r=n(3),o=n(13);function a(e){return Object(r.getJSON)("/api/project_branches/list",{project:e}).then(function(e){return e.branches},o.a)}function i(e){return Object(r.getJSON)("/api/project_pull_requests/list",{project:e}).then(function(e){return e.pullRequests},o.a)}function c(e){return Object(r.post)("/api/project_branches/delete",e).catch(o.a)}function s(e){return Object(r.post)("/api/project_pull_requests/delete",e).catch(o.a)}function l(e,t){return Object(r.post)("/api/project_branches/rename",{project:e,name:t}).catch(o.a)}},1070:function(e,t,n){},1095:function(e,t,n){},1169:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(5),a=n(10),i=n(2),c=n(1);function s(){return r.createElement("div",{id:"bd",className:"page-wrapper-simple"},r.createElement("div",{id:"nonav",className:"page-simple"},r.createElement("h2",{className:"big-spacer-bottom"},Object(c.l)("dashboard.project_not_found")),r.createElement("p",{className:"spacer-bottom"},Object(c.l)("dashboard.project_not_found.2")),r.createElement("p",null,r.createElement(i.Link,{to:"/"},"Go back to the homepage"))))}var l=n(6),p=n(27),u=n(1053),m=n(255),h=n(59),d=n(38),f=n(25),b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function g(e){var t=e.branchLike,n=b(e,["branchLike"]),o=Object(h.a)(t),a=Object(h.i)(t)&&!t.isOrphan||Object(h.g)(t);return r.createElement("li",{key:Object(h.b)(t),onMouseEnter:function(){n.onSelect(t)}},r.createElement(i.Link,{className:l("navbar-context-meta-branch-menu-item",{active:n.selected}),to:Object(d.c)(n.component.key,t)},r.createElement(f.a,{mouseEnterDelay:.5,overlay:o,placement:"left"},r.createElement("div",{className:"navbar-context-meta-branch-menu-item-name text-ellipsis"},r.createElement(m.a,{branchLike:t,className:l("little-spacer-right",{"big-spacer-left":a})}),o,Object(h.f)(t)&&r.createElement("div",{className:"outline-badge spacer-left"},Object(c.l)("branches.main_branch")))),r.createElement("div",{className:"big-spacer-left note"},r.createElement(u.a,{branchLike:t,concise:!0}))))}var v,y=n(47),k=(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),O=function(e){function t(t){var n=e.call(this,t)||this;return n.getFilteredBranchLikes=function(){var e=n.state.query.toLowerCase();return Object(h.j)(n.props.branchLikes).filter(function(t){var n=Object(h.d)(t)&&t.name.toLowerCase().includes(e),r=Object(h.g)(t)&&(t.title.includes(e)||t.key.includes(e));return n||r})},n.handleClickOutside=function(e){n.node&&n.node.contains(e.target)||n.props.onClose()},n.handleSearchChange=function(e){return n.setState({query:e,selected:void 0})},n.handleKeyDown=function(e){switch(e.keyCode){case 13:return e.preventDefault(),void n.openSelected();case 38:return e.preventDefault(),void n.selectPrevious();case 40:return e.preventDefault(),void n.selectNext()}},n.openSelected=function(){var e=n.getSelected();e&&n.context.router.push(n.getProjectBranchUrl(e))},n.selectPrevious=function(){var e=n.getSelected(),t=n.getFilteredBranchLikes(),r=t.findIndex(function(t){return Object(h.h)(t,e)});r>0&&n.setState({selected:t[r-1]})},n.selectNext=function(){var e=n.getSelected(),t=n.getFilteredBranchLikes(),r=t.findIndex(function(t){return Object(h.h)(t,e)});r>=0&&r<t.length-1&&n.setState({selected:t[r+1]})},n.handleSelect=function(e){n.setState({selected:e})},n.getSelected=function(){if(n.state.selected)return n.state.selected;var e=n.getFilteredBranchLikes();return e.find(function(e){return Object(h.h)(e,n.props.currentBranchLike)})?n.props.currentBranchLike:e.length>0?e[0]:void 0},n.getProjectBranchUrl=function(e){return Object(d.c)(n.props.component.key,e)},n.isOrphan=function(e){return(Object(h.i)(e)||Object(h.g)(e))&&e.isOrphan},n.renderSearch=function(){return r.createElement("div",{className:"menu-search"},r.createElement(y.a,{autoFocus:!0,onChange:n.handleSearchChange,onKeyDown:n.handleKeyDown,placeholder:Object(c.l)("branches.search_for_branches"),value:n.state.query}))},n.renderBranchesList=function(){var e=n.getFilteredBranchLikes(),t=n.getSelected();if(0===e.length)return r.createElement("div",{className:"menu-message note"},Object(c.l)("no_results"));var o=e.map(function(o,a){var i=n.isOrphan(o),s=a>0?e[a-1]:void 0,l=void 0!==s&&n.isOrphan(s),p=Object(h.e)(o)||i&&!l,u=i&&!l,m=!u&&Object(h.g)(o)&&!Object(h.g)(s),d=!u&&Object(h.i)(o)&&!Object(h.i)(s);return r.createElement(r.Fragment,{key:Object(h.b)(o)},p&&r.createElement("li",{className:"divider"}),u&&r.createElement("li",{className:"dropdown-header"},Object(c.l)("branches.orphan_branches"),r.createElement(f.a,{overlay:Object(c.l)("branches.orphan_branches.tooltip")},r.createElement("i",{className:"icon-help spacer-left"}))),m&&r.createElement("li",{className:"dropdown-header navbar-context-meta-branch-menu-title"},Object(c.l)("branches.pull_requests")),d&&r.createElement("li",{className:"dropdown-header navbar-context-meta-branch-menu-title"},Object(c.l)("branches.short_lived_branches")),r.createElement(g,{branchLike:o,component:n.props.component,key:Object(h.b)(o),onSelect:n.handleSelect,selected:Object(h.h)(o,t)}))});return r.createElement("ul",{className:"menu menu-vertically-limited"},o)},n.state={query:"",selected:void 0},n}return k(t,e),t.prototype.componentDidMount=function(){window.addEventListener("click",this.handleClickOutside)},t.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.handleClickOutside)},t.prototype.render=function(){var e=this,t=this.props.component,n="TRK"===t.qualifier&&t.configuration&&t.configuration.showSettings;return r.createElement("div",{className:"dropdown-menu",ref:function(t){return e.node=t}},this.renderSearch(),this.renderBranchesList(),n&&r.createElement("div",{className:"dropdown-bottom-hint text-right"},r.createElement(i.Link,{className:"text-muted",to:{pathname:"/project/branches",query:{id:t.key}}},Object(c.l)("branches.manage"))))},t.contextTypes={router:o.object},t}(r.PureComponent),E=n(994);function j(e){return r.createElement(E.a,{position:e.popupPosition,customClass:"bubble-popup-bottom"},r.createElement("div",{className:"abs-width-400"},r.createElement("h6",{className:"spacer-bottom"},Object(c.l)("branches.learn_how_to_analyze")),r.createElement("p",{className:"big-spacer-bottom markdown"},Object(c.l)("branches.learn_how_to_analyze.text")),r.createElement("a",{className:"button",href:"https://redirect.sonarsource.com/doc/branches.html",target:"_blank"},Object(c.l)("about_page.read_documentation"))))}function _(e){return r.createElement(E.a,{position:e.popupPosition,customClass:"bubble-popup-bottom"},r.createElement("div",{className:"abs-width-400"},r.createElement("h6",{className:"spacer-bottom"},Object(c.l)("branches.no_support.header")),r.createElement("p",{className:"big-spacer-bottom markdown"},Object(c.l)("branches.no_support.header.text")),r.createElement("p",null,r.createElement("a",{href:"https://redirect.sonarsource.com/editions/developer.html",target:"_blank"},Object(c.l)("learn_more")))))}var L=n(15),N=n(149),P=n(996),w=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleClick=function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.blur(),n.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},n.closeDropdown=function(){n.mounted&&n.setState({dropdownOpen:!1})},n.toggleSingleBranchPopup=function(e){void 0!==e?n.setState({singleBranchPopupOpen:e}):n.setState(function(e){return{singleBranchPopupOpen:!e.singleBranchPopupOpen}})},n.toggleNoBranchSupportPopup=function(e){void 0!==e?n.setState({noBranchSupportPopupOpen:e}):n.setState(function(e){return{noBranchSupportPopupOpen:!e.noBranchSupportPopupOpen}})},n.handleSingleBranchClick=function(e){e.preventDefault(),e.stopPropagation(),n.toggleSingleBranchPopup()},n.handleNoBranchSupportClick=function(e){e.preventDefault(),e.stopPropagation(),n.toggleNoBranchSupportPopup()},n.renderDropdown=function(){var e=n.props.component.configuration;return n.state.dropdownOpen?r.createElement(O,{branchLikes:n.props.branchLikes,canAdmin:e&&e.showSettings,component:n.props.component,currentBranchLike:n.props.currentBranchLike,onClose:n.closeDropdown}):null},n.renderMergeBranch=function(){var e=n.props.currentBranchLike;return Object(h.i)(e)?e.isOrphan?r.createElement("span",{className:"note big-spacer-left text-ellipsis flex-shrink"},Object(c.l)("branches.orphan_branch"),r.createElement(f.a,{overlay:Object(c.l)("branches.orphan_branches.tooltip")},r.createElement("i",{className:"icon-help spacer-left"}))):r.createElement("span",{className:"note big-spacer-left"},Object(c.l)("from")," ",r.createElement("strong",null,e.mergeBranch)):Object(h.g)(e)?r.createElement("span",{className:"note big-spacer-left text-ellipsis flex-shrink"},r.createElement(p.b,{defaultMessage:Object(c.l)("branches.pull_request.for_merge_into_x_from_y"),id:"branches.pull_request.for_merge_into_x_from_y",values:{base:r.createElement("strong",null,e.base),branch:r.createElement("strong",null,e.branch)}})):null},n.renderSingleBranchPopup=function(){return r.createElement("div",{className:"display-inline-block spacer-left"},r.createElement("a",{className:"link-no-underline",href:"#",onClick:n.handleSingleBranchClick},r.createElement(N.a,{fill:L.blue})),r.createElement(P.a,{isOpen:n.state.singleBranchPopupOpen,popup:r.createElement(j,null),position:"bottomleft",togglePopup:n.toggleSingleBranchPopup}))},n.renderNoBranchSupportPopup=function(){return r.createElement("div",{className:"display-inline-block spacer-left"},r.createElement("a",{className:"link-no-underline",href:"#",onClick:n.handleNoBranchSupportClick},r.createElement(N.a,{fill:L.gray80})),r.createElement(P.a,{isOpen:n.state.noBranchSupportPopupOpen,popup:r.createElement(_,null),position:"bottomleft",togglePopup:n.toggleNoBranchSupportPopup}))},n.state={dropdownOpen:!1,noBranchSupportPopupOpen:!1,singleBranchPopupOpen:!1},n}return w(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillReceiveProps=function(e){e.component===this.props.component&&Object(h.h)(e.currentBranchLike,this.props.currentBranchLike)&&e.location===this.props.location||this.setState({dropdownOpen:!1,singleBranchPopupOpen:!1})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.branchLikes,n=e.currentBranchLike;if(this.context.onSonarCloud&&!this.context.branchesEnabled)return null;var o=Object(h.a)(n);return this.context.branchesEnabled?t.length<2?r.createElement("div",{className:"navbar-context-branches"},r.createElement(m.a,{branchLike:n,className:"little-spacer-right"}),r.createElement("span",{className:"note"},o),this.renderSingleBranchPopup()):r.createElement("div",{className:l("navbar-context-branches","dropdown",{open:this.state.dropdownOpen})},r.createElement("a",{className:"link-base-color link-no-underline nowrap",href:"#",onClick:this.handleClick},r.createElement(m.a,{branchLike:n,className:"little-spacer-right"}),r.createElement(f.a,{mouseEnterDelay:1,overlay:o},r.createElement("span",{className:"text-limited text-top"},o)),r.createElement("i",{className:"icon-dropdown little-spacer-left"})),this.renderDropdown(),this.renderMergeBranch()):r.createElement("div",{className:"navbar-context-branches"},r.createElement(m.a,{branchLike:n,className:"little-spacer-right",fill:L.gray80}),r.createElement("span",{className:"note"},o),this.renderNoBranchSupportPopup())},t.contextTypes={branchesEnabled:o.bool.isRequired,onSonarCloud:o.bool},t}(r.PureComponent),S=n(53),q=n(7),x=n(159),B=n(267),D=n(247),A=n(257),R=n(235);var T=Object(a.connect)(function(e,t){return{organization:t.component.organization&&Object(q.getOrganizationByKey)(e,t.component.organization),shouldOrganizationBeDisplayed:Object(q.areThereCustomOrganizations)(e)}})(function(e){var t,n,o=e.component,a=e.organization,c=e.shouldOrganizationBeDisplayed;return r.createElement("header",{className:"navbar-context-header"},r.createElement(B.a,{organization:a&&c?a:void 0,title:o.name}),a&&c&&r.createElement(r.Fragment,null,r.createElement(x.a,{organization:a}),r.createElement(D.a,{className:"navbar-context-header-breadcrumb-link link-base-color link-no-underline spacer-left",organization:a},a.name),r.createElement("span",{className:"slash-separator"})),(t=o.breadcrumbs,n=t[t.length-1],t.map(function(e,o){var a="DIR"===e.qualifier,c=a?Object(R.a)(e.name,15):Object(R.d)(e.name);return r.createElement(r.Fragment,{key:e.key},0===o&&r.createElement(S.a,{className:"spacer-right",qualifier:n.qualifier}),r.createElement(i.Link,{className:"navbar-context-header-breadcrumb-link link-base-color link-no-underline",title:e.name,to:Object(d.r)(e.key)},c),o<t.length-1&&r.createElement("span",{className:"slash-separator"}))})),"private"===o.visibility&&r.createElement(A.a,{className:"spacer-left",qualifier:o.qualifier}),e.currentBranchLike&&r.createElement(C,{branchLikes:e.branchLikes,component:o,currentBranchLike:e.currentBranchLike,location:e.location}))}),I=n(16),F=n(148),z=n(1052),M=n(153);var K=Object(a.connect)(function(e){return{currentUser:Object(q.getCurrentUser)(e)}})(function(e){var t=e.branchLike,n=e.component,o=e.currentUser,a=!t||Object(h.f)(t),i=Object(h.e)(t),s=function(e,t){var n;if("VW"===e.qualifier||"SVW"===e.qualifier)n={type:I.b.Portfolio,component:e.key};else if("APP"===e.qualifier)n={type:I.b.Application,component:e.key};else if("TRK"===e.qualifier){var r=Object(h.e)(t)?t.name:void 0;n={type:I.b.Project,component:e.key,branch:r}}return n}(n,t),l=void 0!==n.version&&(a||i);return r.createElement("div",{className:"navbar-context-meta"},n.analysisDate&&r.createElement("div",{className:"spacer-left text-ellipsis"},r.createElement(F.a,{date:n.analysisDate})),l&&r.createElement(f.a,{mouseEnterDelay:.5,overlay:Object(c.l)("version")+" "+n.version},r.createElement("div",{className:"spacer-left text-limited"},Object(c.l)("version")," ",n.version)),Object(I.f)(o)&&r.createElement("div",{className:"navbar-context-meta-secondary"},a&&r.createElement(z.a,{component:n.key,favorite:Boolean(n.isFavorite),qualifier:n.qualifier}),(a||i)&&void 0!==s&&r.createElement(M.a,{className:"spacer-left",currentPage:s})),(Object(h.i)(t)||Object(h.g)(t))&&r.createElement("div",{className:"navbar-context-meta-secondary"},Object(h.g)(t)&&void 0!==t.url&&r.createElement("a",{className:"big-spacer-right",href:t.url,rel:"nofollow",target:"_blank"},Object(c.l)("branches.see_the_pr"),r.createElement("i",{className:"icon-detach little-spacer-left"})),r.createElement(u.a,{branchLike:t})))}),U=n(42),W=n(118),G=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},J=["/project/admin","/project/branches","/project/settings","/project/quality_profiles","/project/quality_gate","/custom_measures","/project/links","/project_roles","/project/history","background_tasks","/project/key","/project/deletion","/project/webhooks"],V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getQuery=function(){return Q({id:t.props.component.key},Object(h.c)(t.props.branchLike))},t.renderExtension=function(e,n){var o=e.key,a=e.name,c=n?"/project/admin/extension/"+o:"/project/extension/"+o;return r.createElement("li",{key:o},r.createElement(i.Link,{to:{pathname:c,query:{id:t.props.component.key}},activeClassName:"active"},a))},t}return G(t,e),t.prototype.isProject=function(){return"TRK"===this.props.component.qualifier},t.prototype.isDeveloper=function(){return"DEV"===this.props.component.qualifier},t.prototype.isPortfolio=function(){var e=this.props.component.qualifier;return"VW"===e||"SVW"===e},t.prototype.isApplication=function(){return"APP"===this.props.component.qualifier},t.prototype.getConfiguration=function(){return this.props.component.configuration||{}},t.prototype.renderDashboardLink=function(){var e=this.props.branchLike;if(Object(h.i)(e)||Object(h.g)(e))return null;var t=this.isPortfolio()?"/portfolio":"/dashboard";return r.createElement("li",null,r.createElement(i.Link,{activeClassName:"active",to:{pathname:t,query:this.getQuery()}},Object(c.l)("overview.page")))},t.prototype.renderCodeLink=function(){return this.isDeveloper()?null:r.createElement("li",null,r.createElement(i.Link,{to:{pathname:"/code",query:this.getQuery()},activeClassName:"active"},this.isPortfolio()||this.isApplication()?Object(c.l)("view_projects.page"):Object(c.l)("code.page")))},t.prototype.renderActivityLink=function(){var e=this.props.branchLike;return Object(h.i)(e)||Object(h.g)(e)?null:r.createElement("li",null,r.createElement(i.Link,{to:{pathname:"/project/activity",query:this.getQuery()},activeClassName:"active"},Object(c.l)("project_activity.page")))},t.prototype.renderIssuesLink=function(){var e=this.props.location,t=(void 0===e?{pathname:""}:e).pathname.startsWith("project/issues");return r.createElement("li",null,r.createElement(i.Link,{activeClassName:"active",className:l({active:t}),to:{pathname:"/project/issues",query:Q({},this.getQuery(),{resolved:"false"})}},Object(c.l)("issues.page")))},t.prototype.renderComponentMeasuresLink=function(){var e=this.props.branchLike;return Object(h.i)(e)||Object(h.g)(e)?null:r.createElement("li",null,r.createElement(i.Link,{to:{pathname:"/component_measures",query:this.getQuery()},activeClassName:"active"},Object(c.l)("layout.measures")))},t.prototype.renderAdministration=function(){var e=this.props.branchLike;if(!this.getConfiguration().showSettings||e&&!Object(h.f)(e))return null;var t=J.some(function(e){return-1!==window.location.href.indexOf(e)}),n=this.renderAdministrationLinks();return n.some(function(e){return null!=e})?r.createElement(U.a,{"data-test":"extensions"},function(e){var o=e.onToggleClick,a=e.open;return r.createElement("li",{className:l("dropdown",{open:a})},r.createElement("a",{className:l("dropdown-toggle",{active:t||a}),href:"#",id:"component-navigation-admin",onClick:o},Object(c.l)("layout.settings"),r.createElement("i",{className:"icon-dropdown little-spacer-left"})),r.createElement("ul",{className:"dropdown-menu"},n))}):null},t.prototype.renderAdministrationLinks=function(){return[this.renderSettingsLink(),this.renderBranchesLink(),this.renderProfilesLink(),this.renderQualityGateLink(),this.renderCustomMeasuresLink(),this.renderLinksLink(),this.renderPermissionsLink(),this.renderBackgroundTasksLink(),this.renderUpdateKeyLink(),this.renderWebhooksLink()].concat(this.renderAdminExtensions(),[this.renderDeletionLink()])},t.prototype.renderSettingsLink=function(){return!this.getConfiguration().showSettings||this.isApplication()||this.isPortfolio()?null:r.createElement("li",{key:"settings"},r.createElement(i.Link,{to:{pathname:"/project/settings",query:this.getQuery()},activeClassName:"active"},Object(c.l)("project_settings.page")))},t.prototype.renderBranchesLink=function(){return this.context.branchesEnabled&&this.isProject()&&this.getConfiguration().showSettings?r.createElement("li",{key:"branches"},r.createElement(i.Link,{to:{pathname:"/project/branches",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("project_branches.page"))):null},t.prototype.renderProfilesLink=function(){return this.getConfiguration().showQualityProfiles?r.createElement("li",{key:"profiles"},r.createElement(i.Link,{to:{pathname:"/project/quality_profiles",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("project_quality_profiles.page"))):null},t.prototype.renderQualityGateLink=function(){return this.getConfiguration().showQualityGates?r.createElement("li",{key:"quality_gate"},r.createElement(i.Link,{to:{pathname:"/project/quality_gate",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("project_quality_gate.page"))):null},t.prototype.renderCustomMeasuresLink=function(){return this.getConfiguration().showManualMeasures?r.createElement("li",{key:"custom_measures"},r.createElement(i.Link,{to:{pathname:"/custom_measures",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("custom_measures.page"))):null},t.prototype.renderLinksLink=function(){return this.getConfiguration().showLinks?r.createElement("li",{key:"links"},r.createElement(i.Link,{to:{pathname:"/project/links",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("project_links.page"))):null},t.prototype.renderPermissionsLink=function(){return this.getConfiguration().showPermissions?r.createElement("li",{key:"permissions"},r.createElement(i.Link,{to:{pathname:"/project_roles",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("permissions.page"))):null},t.prototype.renderBackgroundTasksLink=function(){return this.getConfiguration().showBackgroundTasks?r.createElement("li",{key:"background_tasks"},r.createElement(i.Link,{to:{pathname:"/project/background_tasks",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("background_tasks.page"))):null},t.prototype.renderUpdateKeyLink=function(){return this.getConfiguration().showUpdateKey?r.createElement("li",{key:"update_key"},r.createElement(i.Link,{to:{pathname:"/project/key",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("update_key.page"))):null},t.prototype.renderWebhooksLink=function(){return this.getConfiguration().showSettings&&this.isProject()?r.createElement("li",{key:"webhooks"},r.createElement(i.Link,{to:{pathname:"/project/webhooks",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("webhooks.page"))):null},t.prototype.renderDeletionLink=function(){var e=this.props.component.qualifier;return this.getConfiguration().showSettings?"TRK"!==e&&"VW"!==e&&"APP"!==e?null:r.createElement("li",{key:"project_delete"},r.createElement(i.Link,{to:{pathname:"/project/deletion",query:{id:this.props.component.key}},activeClassName:"active"},Object(c.l)("deletion.page"))):null},t.prototype.renderAdminExtensions=function(){var e=this;return this.props.branchLike&&!Object(h.f)(this.props.branchLike)?[]:(this.getConfiguration().extensions||[]).map(function(t){return e.renderExtension(t,!0)})},t.prototype.renderExtensions=function(){var e=this,t=this.props.component.extensions||[];return!t.length||this.props.branchLike&&!Object(h.f)(this.props.branchLike)?null:r.createElement(U.a,{"data-test":"admin-extensions"},function(n){var o=n.onToggleClick,a=n.open;return r.createElement("li",{className:l("dropdown",{open:a})},r.createElement("a",{className:l("dropdown-toggle",{active:a}),href:"#",id:"component-navigation-more",onClick:o},Object(c.l)("more"),r.createElement("i",{className:"icon-dropdown little-spacer-left"})),r.createElement("ul",{className:"dropdown-menu"},t.map(function(t){return e.renderExtension(t,!1)})))})},t.prototype.render=function(){return r.createElement(W.a,null,this.renderDashboardLink(),this.renderIssuesLink(),this.renderComponentMeasuresLink(),this.renderCodeLink(),this.renderActivityLink(),this.renderAdministration(),this.renderExtensions())},t.contextTypes={branchesEnabled:o.bool.isRequired},t}(r.PureComponent),H=n(99),X=n(261),Y=n(1008),Z=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.renderMessage=function(e,t){var n=this.props.component,o=n.configuration&&n.configuration.showBackgroundTasks,a=Object(d.e)(n.key,t);return o?r.createElement(p.b,{defaultMessage:Object(c.l)(e,"admin"),id:e+".admin",values:{url:r.createElement(i.Link,{to:a},Object(c.l)("background_tasks.page"))}}):r.createElement("span",null,Object(c.l)(e))},t.prototype.render=function(){var e=this.props,t=e.currentTask,n=e.isInProgress,o=e.isPending;return n?r.createElement(H.a,{className:"alert alert-info"},r.createElement("i",{className:"spinner spacer-right text-bottom"}),this.renderMessage("component_navigation.status.in_progress")):o?r.createElement(H.a,{className:"alert alert-info"},r.createElement(X.a,{className:"spacer-right"}),this.renderMessage("component_navigation.status.pending",Y.e.ALL)):t&&t.status===Y.e.FAILED?t.errorType&&t.errorType.includes("LICENSING")&&Object(c.i)("license.component_navigation.button",t.errorType)?r.createElement(H.a,{className:"alert alert-danger"},r.createElement("span",{className:"little-spacer-right"},t.errorMessage),this.context.canAdmin?r.createElement(i.Link,{to:"/admin/extension/license/app"},Object(c.l)("license.component_navigation.button",t.errorType),"."):Object(c.l)("please_contact_administrator")):r.createElement(H.a,{className:"alert alert-danger"},this.renderMessage("component_navigation.status.failed")):null},t.contextTypes={canAdmin:o.bool.isRequired},t}(r.PureComponent),ee=n(84),te=n(123),ne=(n(1095),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.populateRecentHistory=function(){var e=t.props.component.breadcrumbs,n=e[e.length-1].qualifier;-1!==["TRK","VW","APP","DEV"].indexOf(n)&&ee.a.add(t.props.component.key,t.props.component.name,n.toLowerCase(),t.props.component.organization)},t}return ne(t,e),t.prototype.componentDidMount=function(){this.populateRecentHistory()},t.prototype.componentDidUpdate=function(e){this.props.component.key!==e.component.key&&this.populateRecentHistory()},t.prototype.render=function(){var e,t=this.props,n=t.currentTask,o=t.isInProgress,a=t.isPending;return(o||a||n&&n.status===Y.e.FAILED)&&(e=r.createElement($,{component:this.props.component,currentTask:n,isInProgress:o,isPending:a})),r.createElement(te.a,{height:e?L.contextNavHeightRaw+20:L.contextNavHeightRaw,id:"context-navigation",notif:e},r.createElement("div",{className:"navbar-context-justified"},r.createElement(T,{branchLikes:this.props.branchLikes,component:this.props.component,currentBranchLike:this.props.currentBranchLike,location:this.props.location}),r.createElement(K,{branchLike:this.props.currentBranchLike,component:this.props.component})),r.createElement(V,{branchLike:this.props.currentBranchLike,component:this.props.component,location:this.props.location}))},t}(r.PureComponent),oe=n(119),ae=n(1054),ie=n(1022),ce=n(33),se=n(85),le=n(43);n.d(t,"ComponentContainer",function(){return me});var pe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},me=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.addQualifier=function(e){return ue({},e,{qualifier:e.breadcrumbs[e.breadcrumbs.length-1].qualifier})},n.fetchBranches=function(e){var t=e.breadcrumbs.find(function(e){return"TRK"===e.qualifier});return t?Promise.all([Object(ae.c)(t.key),Object(ae.d)(t.key)]).then(function(e){var t=e[0],n=e[1];return t.concat(n)}):Promise.resolve([])},n.fetchStatus=function(e){Object(ie.f)(e.key).then(function(e){var t=e.current,r=e.queue;n.mounted&&n.setState({currentTask:t,isInProgress:r.some(function(e){return e.status===Y.e.IN_PROGRESS}),isPending:r.some(function(e){return e.status===Y.e.PENDING})})},function(){})},n.handleComponentChange=function(e){n.mounted&&n.setState(function(t){return{component:ue({},t.component,e)}})},n.handleBranchesChange=function(){n.mounted&&n.state.component&&n.fetchBranches(n.state.component).then(function(e){n.mounted&&n.setState({branchLikes:e})},function(){})},n.state={branchLikes:[],loading:!0},n}return pe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchComponent(this.props)},t.prototype.componentWillReceiveProps=function(e){e.location.query.id===this.props.location.query.id&&e.location.query.branch===this.props.location.query.branch&&e.location.query.pullRequest===this.props.location.query.pullRequest||this.fetchComponent(e)},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchComponent=function(e){var t=this,n=e.location.query,r=n.branch,o=n.id,a=n.pullRequest;this.setState({loading:!0});var i=function(e){t.mounted&&(e.response&&403===e.response.status?Object(oe.default)():t.setState({loading:!1}))};Promise.all([Object(se.a)({componentKey:o,branch:r,pullRequest:a}),Object(ce.j)({component:o,branch:r,pullRequest:a})]).then(function(e){var n=e[0],r=e[1],o=t.addQualifier(ue({},n,r));t.context.organizationsEnabled&&t.props.fetchOrganizations([o.organization]),t.fetchBranches(o).then(function(e){t.mounted&&t.setState({loading:!1,branchLikes:e,component:o})},i),t.fetchStatus(o)},i)},t.prototype.render=function(){var e=this.props.location.query,t=this.state,n=t.branchLikes,o=t.component,a=t.loading;if(!a&&!o)return r.createElement(s,null);var i=e.pullRequest?n.find(function(t){return Object(h.g)(t)&&t.key===e.pullRequest}):n.find(function(t){return Object(h.d)(t)&&(e.branch?t.name===e.branch:t.isMain)});return r.createElement("div",null,o&&!["FIL","UTS"].includes(o.qualifier)&&r.createElement(re,{branchLikes:n,component:o,currentBranchLike:i,currentTask:this.state.currentTask,isInProgress:this.state.isInProgress,isPending:this.state.isPending,location:this.props.location}),a?r.createElement("div",{className:"page page-limited"},r.createElement("i",{className:"spinner"})):r.cloneElement(this.props.children,{branchLike:i,branchLikes:n,component:o,isInProgress:this.state.isInProgress,isPending:this.state.isPending,onBranchesChange:this.handleBranchesChange,onComponentChange:this.handleComponentChange}))},t.contextTypes={organizationsEnabled:o.bool},t}(r.PureComponent),he={fetchOrganizations:le.f};t.default=Object(a.connect)(null,he)(me)},994:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o=n(6),a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function i(e){var t=o("bubble-popup",e.customClass),n=a({},e.position);return r.createElement("div",{className:t,style:n},e.children,r.createElement("div",{className:"bubble-popup-arrow"}))}},996:function(e,t,n){"use strict";var r,o=n(0),a=n(6),i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={position:{top:0,right:0}},t.handleKey=function(e){27===e.keyCode&&t.props.togglePopup(!1)},t.handleOutsideClick=function(e){t.popupContainer&&t.popupContainer.contains(e.target)||t.props.togglePopup(!1)},t}return i(t,e),t.prototype.componentDidMount=function(){this.setState({position:this.getPosition(this.props)})},t.prototype.componentWillReceiveProps=function(e){!this.props.isOpen&&e.isOpen?(window.addEventListener("keydown",this.handleKey,!1),window.addEventListener("click",this.handleOutsideClick,!1)):this.props.isOpen&&!e.isOpen&&(window.removeEventListener("keydown",this.handleKey),window.removeEventListener("click",this.handleOutsideClick))},t.prototype.handleClick=function(e){e.stopPropagation()},t.prototype.getPosition=function(e){if(this.container){var t=this.container.getBoundingClientRect(),n=e.position,r=e.offset||{vertical:0,horizontal:0};return"bottomleft"===n?{top:t.height+r.vertical,left:r.horizontal}:{top:t.height+r.vertical,right:r.horizontal}}return{top:0,right:0}},t.prototype.render=function(){var e=this;return o.createElement("div",{className:a(this.props.className,"bubble-popup-helper"),onClick:this.handleClick,ref:function(t){return e.container=t},role:"tooltip",tabIndex:0},this.props.children,this.props.isOpen&&o.createElement("div",{ref:function(t){return e.popupContainer=t}},o.cloneElement(this.props.popup,{popupPosition:this.state.position})))},t}(o.PureComponent);t.a=c}}]);
//# sourceMappingURL=299.765cc457.chunk.js.map