(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{1004:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return u}),n.d(t,"h",function(){return h});var r=n(3),o=n(13);function s(e){return Object(r.getJSON)("/api/rules/app",e).catch(o.a)}function a(e){return Object(r.getJSON)("/api/rules/search",e).catch(o.a)}function i(e,t){var n=e.facets.find(function(e){return e.property===t});return n?n.values:[]}function c(e){return Object(r.getJSON)("/api/rules/show",e).catch(o.a)}function l(e){return Object(r.getJSON)("/api/rules/tags",e).then(function(e){return e.tags},o.a)}function p(e){return Object(r.postJSON)("/api/rules/create",e).then(function(e){return e.rule},function(e){return e&&e.response&&409===e.response.status?Promise.reject(e.response):Object(o.a)(e)})}function u(e){return Object(r.post)("/api/rules/delete",e).catch(o.a)}function h(e){return Object(r.postJSON)("/api/rules/update",e).then(function(e){return e.rule},o.a)}},1013:function(e,t,n){"use strict";var r,o=n(0),s=n(4),a=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(t){var n=e.call(this,t)||this;return n.getPosition=function(){var e=n.container&&n.container.getBoundingClientRect();return e?{top:window.pageYOffset+e.top,left:window.pageXOffset+e.left}:{top:0,left:0}},n.debouncedOnResize=Object(s.debounce)(function(){return n.forceUpdate()},250),n}return a(t,e),t.prototype.componentDidMount=function(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.debouncedOnResize)},t.prototype.render=function(){var e=this;return o.createElement("div",{className:this.props.className,ref:function(t){return e.container=t}},this.props.children(this.getPosition()))},t}(o.PureComponent);t.a=i},1026:function(e,t,n){"use strict";var r,o=n(0),s=n(6),a=n(250),i=n(1),c=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleFromChange=function(e){t.props.onChange({from:e,to:t.to}),setTimeout(function(){e&&!t.to&&t.toDateInput&&t.toDateInput.focus()},0)},t.handleToChange=function(e){t.setState({to:e}),t.props.onChange({from:t.from,to:e})},t}return c(t,e),Object.defineProperty(t.prototype,"from",{get:function(){return this.props.value&&this.props.value.from},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"to",{get:function(){return this.props.value&&this.props.value.to},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this;return o.createElement("div",{className:s("display-inline-flex-center",this.props.className)},o.createElement(a.a,{currentMonth:this.to,"data-test":"from",highlightTo:this.to,maxDate:this.to,onChange:this.handleFromChange,placeholder:Object(i.l)("start_date"),value:this.from}),o.createElement("span",{className:"note little-spacer-left little-spacer-right"},Object(i.l)("to_")),o.createElement(a.a,{currentMonth:this.from,"data-test":"to",highlightFrom:this.from,minDate:this.from,onChange:this.handleToChange,placeholder:Object(i.l)("end_date"),ref:function(t){return e.toDateInput=t},value:this.to}))},t}(o.PureComponent);t.a=l},1027:function(e,t,n){"use strict";var r=n(0),o=n(10),s=n(7),a=n(247);function i(e){var t=e.link,n=void 0===t||t,o=e.organization;return e.shouldBeDisplayed&&o?r.createElement("span",null,n?r.createElement(a.a,{className:e.linkClassName,organization:o},o.name):o.name,r.createElement("span",{className:"slash-separator"})):null}t.a=Object(o.connect)(function(e,t){return{organization:Object(s.getOrganizationByKey)(e,t.organizationKey),shouldBeDisplayed:Object(s.areThereCustomOrganizations)(e)}})(i)},1042:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(1059),s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function a(e){return r.createElement("div",{className:"search-navigator-facet-footer"},r.createElement(o.a,s({autofocus:!1},e)))}},1048:function(e,t,n){},1059:function(e,t,n){"use strict";var r,o=n(0),s=n(4),a=n(51),i=n(1),c=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleSearch=function(e){var t=e;n.props.onSearch(t).then(function(e){n.mounted&&n.setState(function(n){return{loading:!1,options:n.query===t?e:n.options}})},function(){n.mounted&&n.setState({loading:!1})})},n.handleChange=function(e){Array.isArray(e)?n.props.onMultiSelect&&n.props.onMultiSelect(e):n.props.onSelect&&n.props.onSelect(e)},n.handleInputChange=function(e){if(e.length>=n.minimumQueryLength)n.setState({loading:!0,query:e}),n.handleSearch(e);else{var t=0===e.length&&n.props.defaultOptions||[];n.setState({options:t,query:e})}},n.handleFilterOption=function(){return!0},n.state={loading:!1,options:t.defaultOptions||[],query:""},n.handleSearch=Object(s.debounce)(n.handleSearch,250),n}return c(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},Object.defineProperty(t.prototype,"autofocus",{get:function(){return void 0===this.props.autofocus||this.props.autofocus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumQueryLength",{get:function(){return void 0!==this.props.minimumQueryLength?this.props.minimumQueryLength:2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resetOnBlur",{get:function(){return void 0===this.props.resetOnBlur||this.props.resetOnBlur},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.canCreate?a.b:a.c;return o.createElement(e,{autofocus:this.autofocus,className:"input-super-large",clearable:this.props.clearable,escapeClearsValue:!1,filterOption:this.handleFilterOption,isLoading:this.state.loading,multi:this.props.multi,noResultsText:this.state.query.length<this.minimumQueryLength?Object(i.m)("select2.tooShort",this.minimumQueryLength):Object(i.l)("select2.noMatches"),onBlurResetsInput:this.resetOnBlur,onChange:this.handleChange,onInputChange:this.handleInputChange,optionRenderer:this.props.renderOption,options:this.state.options,placeholder:Object(i.l)("search_verb"),promptTextCreator:this.props.promptTextCreator,searchable:!0,value:this.props.value,valueRenderer:this.props.renderOption})},t}(o.PureComponent);t.a=l},1078:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(1);n(1048);function s(){return r.createElement("div",{className:"empty-search"},r.createElement("h3",null,Object(o.l)("no_results_search")),r.createElement("p",{className:"big-spacer-top"},Object(o.l)("no_results_search.2")))}},1080:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(11),s=n(1);function a(e){var t=e.displayReset,n=e.onReset;return r.createElement("div",{className:"search-navigator-filters-header"},t&&r.createElement("div",{className:"pull-right"},r.createElement(o.a,{className:"button-red",id:"coding-rules-clear-all-filters",onClick:n},Object(s.l)("clear_all_filters"))),r.createElement("h3",null,Object(s.l)("filters")))}},1081:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(1001),s=n(1);function a(e){return r.createElement("span",{className:e.className},r.createElement(o.a,{className:"little-spacer-right",query:e.type}),Object(s.l)("issue.type",e.type))}},1082:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),o=n(6),s=n(50);function a(e){var t=e.className,n=e.current,a=e.label,i=e.total;return r.createElement("div",{className:o("display-inline-block",t)},r.createElement("strong",{className:"little-spacer-right"},void 0!==n&&Object(s.formatMeasure)(n+1,"INT")+" / ",r.createElement("span",{className:"js-page-counter-total"},Object(s.formatMeasure)(i,"INT"))),a)}},1126:function(e,t,n){},1185:function(e,t,n){"use strict";n.r(t);var r,o=n(0),s=n.n(o),a=n(22),i=n.n(a),c=n(6),l=n(187),p=n(4),u=n(5),h=n.n(u),d=n(233),f=n(234),m=n(16),g=n(13),y=n(1061),v=n(1059),b=n(46),O=n(20),C=n(51),k=n(25),E=n(1003),j=n(70),_=n(11),I=n(1001),S=n(1),N=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=v.a,L=v.a,P=function(e){function t(t){var n=e.call(this,t)||this;n.mounted=!1,n.loadIssues=function(){return n.props.fetchIssues({additionalFields:"actions,transitions",ps:250})},n.getDefaultAssignee=function(){var e=n.props.currentUser,t=n.state.issues,r=[];Object(m.f)(e)&&(t.filter(function(t){return t.assignee!==e.login}).length>0&&r.push({avatar:e.avatar,label:e.name,value:e.login}));return t.filter(function(e){return e.assignee}).length>0&&r.push({label:Object(S.l)("unassigned"),value:""}),r},n.handleCloseClick=function(e){e.preventDefault(),e.currentTarget.blur(),n.props.onClose()},n.handleAssigneeSearch=function(e){return Object(d.m)(e,n.state.organization)},n.handleAssigneeSelect=function(e){n.setState({assignee:e})},n.handleTagsSearch=function(e){return Object(f.h)({organization:n.state.organization,q:e}).then(function(e){return e.map(function(e){return{label:e,value:e}})})},n.handleTagsSelect=function(e){return function(t){var r;n.setState(((r={})[e]=t,r))}},n.handleFieldCheck=function(e){return function(t){var r,o;t?"notifications"===e&&n.setState(((o={})[e]=!0,o)):n.setState(((r={})[e]=void 0,r))}},n.handleFieldChange=function(e){return function(t){var r;n.setState(((r={})[e]=t.currentTarget.value,r))}},n.handleSelectFieldChange=function(e){return function(t){var r,o;t?n.setState(((r={})[e]=t.value,r)):n.setState(((o={})[e]=void 0,o))}},n.handleSubmit=function(e){e.preventDefault();var t=Object(p.pickBy)({add_tags:n.state.addTags&&n.state.addTags.map(function(e){return e.value}).join(),assign:n.state.assignee,comment:n.state.comment,do_transition:n.state.transition,remove_tags:n.state.removeTags&&n.state.removeTags.map(function(e){return e.value}).join(),sendNotifications:n.state.notifications,set_severity:n.state.severity,set_type:n.state.type},function(e){return void 0!==e}),r=n.state.issues.map(function(e){return e.key});n.setState({submitting:!0}),Object(f.b)(r,t).then(function(){n.setState({submitting:!1}),n.props.onDone()},function(e){n.setState({submitting:!1}),Object(g.a)(e)})},n.renderCancelButton=function(){return o.createElement("a",{href:"#",id:"bulk-change-cancel",onClick:n.handleCloseClick},Object(S.l)("cancel"))},n.renderLoading=function(){return o.createElement("div",null,o.createElement("div",{className:"modal-head"},o.createElement("h2",null,Object(S.l)("bulk_change"))),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"text-center"},o.createElement("i",{className:"spinner spinner-margin"}))),o.createElement("div",{className:"modal-foot"},n.renderCancelButton()))},n.renderCheckbox=function(e){return o.createElement(b.a,{checked:void 0!==n.state[e],onCheck:n.handleFieldCheck(e)})},n.renderAffected=function(e){return o.createElement("div",{className:"pull-right note"},"(",Object(S.m)("issue_bulk_change.x_issues",e),")")},n.renderField=function(e,t,r,s){return o.createElement("div",{className:"modal-field",id:"issues-bulk-change-"+e},o.createElement("label",{htmlFor:e},Object(S.l)(t)),s,void 0!==r&&n.renderAffected(r))},n.renderAssigneeOption=function(e){return o.createElement("span",null,void 0!==e.avatar&&o.createElement(j.a,{className:"spacer-right",hash:e.avatar,name:e.label,size:16}),e.label)},n.renderAssigneeField=function(){var e=n.state.issues.filter(F("assign")).length;if(0===e)return null;var t=o.createElement(w,{clearable:!0,defaultOptions:n.getDefaultAssignee(),onSearch:n.handleAssigneeSearch,onSelect:n.handleAssigneeSelect,renderOption:n.renderAssigneeOption,resetOnBlur:!1,value:n.state.assignee});return n.renderField("assignee","issue.assign.formlink",e,t)},n.renderTypeField=function(){var e=n.state.issues.filter(F("set_type")).length;if(0===e)return null;var t=["BUG","VULNERABILITY","CODE_SMELL"].map(function(e){return{label:Object(S.l)("issue.type",e),value:e}}),r=function(e){return o.createElement("span",null,o.createElement(I.a,{className:"little-spacer-right",query:e.value}),e.label)},s=o.createElement(C.c,{clearable:!0,onChange:n.handleSelectFieldChange("type"),optionRenderer:r,options:t,searchable:!1,value:n.state.type,valueRenderer:r});return n.renderField("type","issue.set_type",e,s)},n.renderSeverityField=function(){var e=n.state.issues.filter(F("set_severity")).length;if(0===e)return null;var t=["BLOCKER","CRITICAL","MAJOR","MINOR","INFO"].map(function(e){return{label:Object(S.l)("severity",e),value:e}}),r=o.createElement(C.c,{clearable:!0,onChange:n.handleSelectFieldChange("severity"),optionRenderer:function(e){return o.createElement(E.a,{severity:e.value})},options:t,searchable:!1,value:n.state.severity,valueRenderer:function(e){return o.createElement(E.a,{severity:e.value})}});return n.renderField("severity","issue.set_severity",e,r)},n.renderTagOption=function(e){return o.createElement("span",null,e.label)},n.renderTagsField=function(e,t,r){var s=n.state.initialTags,a=n.state.issues.filter(F("set_tags")).length;if(void 0===s||0===a)return null;var i=o.createElement(L,{canCreate:r,clearable:!0,defaultOptions:n.state.initialTags,minimumQueryLength:0,multi:!0,onMultiSelect:n.handleTagsSelect(e),onSearch:n.handleTagsSearch,promptTextCreator:x,renderOption:n.renderTagOption,resetOnBlur:!1,value:n.state[e]});return n.renderField(e,t,a,i)},n.renderTransitionsField=function(){var e=n.getAvailableTransitions(n.state.issues);return 0===e.length?null:o.createElement("div",{className:"modal-field"},o.createElement("label",null,Object(S.l)("issue.transition")),e.map(function(e){return o.createElement("span",{key:e.transition},o.createElement("input",{checked:n.state.transition===e.transition,id:"transition-"+e.transition,name:"do_transition.transition",onChange:n.handleFieldChange("transition"),type:"radio",value:e.transition}),o.createElement("label",{htmlFor:"transition-"+e.transition,style:{float:"none",display:"inline",left:0,cursor:"pointer"}},Object(S.l)("issue.transition",e.transition)),n.renderAffected(e.count),o.createElement("br",null))}))},n.renderCommentField=function(){return 0===n.state.issues.filter(F("comment")).length?null:o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"comment"},Object(S.l)("issue.comment.formlink"),o.createElement(k.a,{overlay:Object(S.l)("issue_bulk_change.comment.help")},o.createElement("i",{className:"icon-help little-spacer-left"}))),o.createElement("div",null,o.createElement("textarea",{id:"comment",onChange:n.handleFieldChange("comment"),rows:4,style:{width:"100%"},value:n.state.comment||""})),o.createElement("div",{className:"pull-right"},o.createElement(y.a,null)))},n.renderNotificationsField=function(){return o.createElement("div",{className:"modal-field"},o.createElement("label",{htmlFor:"send-notifications"},Object(S.l)("issue.send_notifications")),n.renderCheckbox("notifications"))},n.renderForm=function(){var e=n.state,t=e.issues,r=e.paging,s=e.submitting,a=void 0!==r&&r.total>r.pageIndex*r.pageSize;return o.createElement("form",{id:"bulk-change-form",onSubmit:n.handleSubmit},o.createElement("div",{className:"modal-head"},o.createElement("h2",null,Object(S.m)("issue_bulk_change.form.title",t.length))),o.createElement("div",{className:"modal-body"},a&&o.createElement("div",{className:"alert alert-warning"},Object(S.m)("issue_bulk_change.max_issues_reached",t.length)),n.renderAssigneeField(),n.renderTypeField(),n.renderSeverityField(),n.renderTagsField("addTags","issue.add_tags",!0),n.renderTagsField("removeTags","issue.remove_tags",!1),n.renderTransitionsField(),n.renderCommentField(),n.renderNotificationsField()),o.createElement("div",{className:"modal-foot"},s&&o.createElement("i",{className:"spinner spacer-right"}),o.createElement(_.f,{disabled:s,id:"bulk-change-submit"},Object(S.l)("apply")),n.renderCancelButton()))};var r=t.component&&t.component.organization;return t.organization&&!r&&(r=t.organization.key),n.state={initialTags:[],issues:[],loading:!0,submitting:!1,organization:r},n}return N(t,e),t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,Promise.all([this.loadIssues(),Object(f.h)({organization:this.state.organization})]).then(function(t){var n=t[0],r=t[1];e.mounted&&e.setState({initialTags:r.map(function(e){return{label:e,value:e}}),issues:n.issues,loading:!1,paging:n.paging})},function(){})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.getAvailableTransitions=function(e){var t={};return e.forEach(function(e){e.transitions&&e.transitions.forEach(function(e){void 0!==t[e]?t[e]++:t[e]=1})}),Object(p.sortBy)(Object.keys(t)).map(function(e){return{transition:e,count:t[e]}})},t.prototype.render=function(){return o.createElement(O.a,{contentLabel:"modal",onRequestClose:this.props.onClose},this.state.loading?this.renderLoading():this.renderForm())},t}(o.PureComponent);function F(e){return function(t){return t.actions&&t.actions.includes(e)}}function x(e){return"+ "+e}var T=n(2),B=n(1027),A=n(235),M=n(38);function R(e){var t=e.branchLike,n=e.component,r=e.issue,s=e.organization,a=e.selectedFlowIndex,i=e.selectedLocationIndex,c=!s&&(!n||["VW","SVW"].includes(n.qualifier)),l=!n||!["TRK","BRC","DIR"].includes(n.qualifier),p=!n||!["BRC","DIR"].includes(n.qualifier),u=Object(d.g)(r,a,i),h=u?u.component:r.component,f=u?u.componentName:r.componentLongName;return o.createElement("div",{className:"component-name text-ellipsis"},c&&o.createElement(B.a,{linkClassName:"link-no-underline",organizationKey:r.organization}),l&&o.createElement("span",{title:r.projectName},o.createElement(T.Link,{className:"link-no-underline",to:Object(M.c)(r.project,t)},Object(A.d)(r.projectName)),o.createElement("span",{className:"slash-separator"})),p&&void 0!==r.subProject&&void 0!==r.subProjectName&&o.createElement("span",{title:r.subProjectName},o.createElement(T.Link,{className:"link-no-underline",to:Object(M.c)(r.subProject,t)},Object(A.d)(r.subProjectName)),o.createElement("span",{className:"slash-separator"})),o.createElement(T.Link,{className:"link-no-underline",to:Object(M.d)(r.project,t,h)},o.createElement("span",{title:f},Object(A.a)(f||""))))}var z=n(1088),q=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={similarIssues:!1},t.handleFilter=function(e,n){var r=t.props.onFilterChange,o={issues:[]};if(e.startsWith("tag###")){var s=e.substr(6);r(D({},o,{tags:[s]}))}else switch(e){case"type":r(D({},o,{types:[n.type]}));break;case"severity":r(D({},o,{severities:[n.severity]}));break;case"status":r(D({},o,{statuses:[n.status]}));break;case"resolution":n.resolution?r(D({},o,{resolved:!0,resolutions:[n.resolution]})):r(D({},o,{resolved:!1,resolutions:[]}));break;case"assignee":n.assignee?r(D({},o,{assigned:!0,assignees:[n.assignee]})):r(D({},o,{assigned:!1,assignees:[]}));break;case"rule":r(D({},o,{rules:[n.rule]}));break;case"project":r(D({},o,{projects:[n.projectUuid]}));break;case"module":n.subProjectUuid&&r(D({},o,{modules:[n.subProjectUuid]}));break;case"file":r(D({},o,{files:[n.componentUuid]}))}},t}return q(t,e),t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.component,r=e.issue,s=e.previousIssue,a=!s||s.component!==r.component;return o.createElement("div",{className:"issues-workspace-list-item"},a&&o.createElement("div",{className:"issues-workspace-list-component"},o.createElement(R,{branchLike:t,component:n,issue:this.props.issue,organization:this.props.organization})),o.createElement(z.a,{branchLike:t,checked:this.props.checked,displayLocationsLink:!1,issue:r,onChange:this.props.onChange,onCheck:this.props.onCheck,onClick:this.props.onClick,onFilter:this.handleFilter,onPopupToggle:this.props.onPopupToggle,openPopup:this.props.openPopup,selected:this.props.selected}))},t}(o.PureComponent),H=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return H(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.branchLike,r=t.checked,s=t.component,a=t.issues,i=t.openPopup,c=t.selectedIssue;return o.createElement("div",null,a.map(function(t,l){return o.createElement(U,{branchLike:n,checked:r.includes(t.key),component:s,issue:t,key:t.key,onChange:e.props.onIssueChange,onCheck:e.props.onIssueCheck,onClick:e.props.onIssueClick,onFilterChange:e.props.onFilterChange,onPopupToggle:e.props.onPopupToggle,openPopup:i&&i.issue===t.key?i.name:void 0,organization:e.props.organization,previousIssue:l>0?a[l-1]:void 0,selected:null!=c&&c.key===t.key})}))},t}(o.PureComponent),K=n(1038),W=n(244),J=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollToIssue=function(e){if(void 0===e&&(e=!0),t.node){var n=t.node.querySelector('[data-issue="'+t.props.openIssue.key+'"]');n&&t.handleScroll(n,e)}},t.handleScroll=function(e,t){void 0===t&&(t=!0);var n=window.innerHeight/2;Object(W.a)(e,{topOffset:n-100,bottomOffset:n,smooth:t})},t.handleLoaded=function(){t.scrollToIssue(!1)},t}return J(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.openIssue,r=t.selectedLocationIndex,o=-1===r&&r!==e.selectedLocationIndex;e.openIssue.component!==n.component||e.openIssue===n&&!o||this.scrollToIssue()},t.prototype.render=function(){var e=this,t=this.props,n=t.openIssue,r=t.selectedFlowIndex,s=t.selectedLocationIndex,a=Object(d.e)(n,r),i=Object(d.g)(n,r,s),c=i?i.component:n.component,l=i?i.textRange.startLine:n.textRange&&n.textRange.endLine,p=a.map(function(e){return e.component===c?e:void 0}),u=this.props.locationsNavigator&&void 0!==s?i&&{index:s,text:i.msg}:void 0,h=void 0!==a&&a.every(function(e){return!e.msg}),f=c===n.component?this.props.loadIssues:function(){return Promise.resolve([])},m=c===n.component?n.key:void 0;return o.createElement("div",{ref:function(t){return e.node=t}},o.createElement(K.a,{aroundLine:l,branchLike:this.props.branchLike,component:c,displayAllIssues:!0,displayIssueLocationsCount:!1,displayIssueLocationsLink:!1,displayLocationMarkers:!h,highlightedLocationMessage:u,highlightedLocations:p,loadIssues:f,onIssueChange:this.props.onIssueChange,onIssueSelect:this.props.onIssueSelect,onLoaded:this.handleLoaded,onLocationSelect:this.props.onLocationSelect,scroll:this.handleScroll,selectedIssue:m}))},t}(o.PureComponent),X=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){return function(){t.props.onMyIssuesChange(e)}},t}return X(t,e),t.prototype.render=function(){var e=this.props.myIssues;return o.createElement("div",{className:"issues-my-issues-filter"},o.createElement("div",{className:"button-group"},o.createElement(_.a,{className:e?"button-active":void 0,onClick:this.handleClick(!0)},Object(S.l)("issues.my_issues")),o.createElement(_.a,{className:e?void 0:"button-active",onClick:this.handleClick(!1)},Object(S.l)("all"))))},t}(o.PureComponent);n(1048);function Y(){return o.createElement("div",{className:"empty-search"},o.createElement("h3",null,Object(S.l)("issues.no_my_issues")))}var Z=n(1082);function $(e){return o.createElement(Z.a,{className:"spacer-left flash flash-heavy",current:e.current,label:Object(S.l)("issues.issues"),total:e.total})}var ee=o.createElement("svg",{height:"24",viewBox:"0 0 18 24",width:"18"},o.createElement("path",{d:"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z"}));function te(e){return o.createElement(k.a,{overlay:Object(S.l)("reload")},o.createElement("a",{className:c("concise-issues-list-header-button",e.className),href:"#",onClick:function(t){t.preventDefault(),e.onClick()}},ee))}var ne=n(32),re=n(153),oe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.renderShortcuts=function(){return o.createElement("span",{className:"note big-spacer-right"},o.createElement("span",{className:"big-spacer-right"},o.createElement("span",{className:"shortcut-button little-spacer-right"},"↑"),o.createElement("span",{className:"shortcut-button little-spacer-right"},"↓"),Object(S.l)("issues.to_select_issues")),o.createElement("span",null,o.createElement("span",{className:"shortcut-button little-spacer-right"},"←"),o.createElement("span",{className:"shortcut-button little-spacer-right"},"→"),Object(S.l)("issues.to_navigate")))},t.prototype.render=function(){var e=this.props,t=e.paging,n=e.selectedIndex;return o.createElement("div",{className:"pull-right"},this.renderShortcuts(),o.createElement("div",{className:"issues-page-actions"},o.createElement(ne.a,{className:"issues-main-header-spinner",loading:this.props.loading},o.createElement(te,{onClick:this.props.onReload})),null!=t&&o.createElement($,{className:"spacer-left",current:n,total:t.total})),this.props.canSetHome&&o.createElement(re.a,{className:"huge-spacer-left",currentPage:this.props.onSonarCloud?{type:m.b.MyIssues}:{type:m.b.Issues}}))},t}(o.PureComponent),ae=n(1060),ie=n(50);function ce(e){return o.createElement(k.a,{mouseEnterDelay:.5,overlay:Object(S.m)("issue.this_issue_involves_x_code_locations",Object(ie.formatMeasure)(e.count,"INT"))},o.createElement(ae.a,{onClick:e.onClick,selected:e.selected},"+",e.count))}var le=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={collapsed:!0},t.handleExpandClick=function(e){e.preventDefault(),t.setState({collapsed:!1})},t}return le(t,e),t.prototype.renderExpandButton=function(){return o.createElement("a",{className:"little-spacer-left link-no-underline",href:"#",onClick:this.handleExpandClick},"...")},t.prototype.render=function(){var e=this,t=this.props.issue,n=t.secondaryLocations,r=t.flows,s=[];return n.length>0&&s.push(o.createElement(ce,{count:n.length,key:"-1",selected:!this.props.selectedFlowIndex})),r.forEach(function(t,n){s.push(o.createElement(ce,{count:t.length,key:n,onClick:function(){return e.props.onFlowSelect(n)},selected:n===e.props.selectedFlowIndex}))}),this.state.collapsed?o.createElement("div",{className:"concise-issue-locations pull-right"},s.slice(0,3),s.length>3&&this.renderExpandButton()):o.createElement("div",{className:"concise-issue-locations spacer-top"},s)},t}(o.PureComponent),ue=n(1090),he=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.onClick(t.props.index)},t}return he(t,e),t.prototype.componentDidMount=function(){this.props.selected&&this.node&&this.props.scroll(this.node)},t.prototype.componentDidUpdate=function(e){this.props.selected&&e.selected!==this.props.selected&&this.node&&this.props.scroll(this.node)},t.prototype.render=function(){var e=this;return o.createElement("div",{className:"little-spacer-top",ref:function(t){return e.node=t}},o.createElement("a",{className:"concise-issue-locations-navigator-location",href:"#",onClick:this.handleClick},o.createElement(ae.a,{selected:this.props.selected},this.props.index+1),o.createElement(ue.a,{selected:this.props.selected},this.props.message)))},t}(o.PureComponent),fe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={collapsed:!0},t.handleMoreLocationsClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.setState({collapsed:!1})},t.groupByFile=function(e){for(var t,n,r=[],o=[],s=0,a=0;a<e.length;a++){var i=e[a];i.component===t?o.push(i):(o.length>0&&r.push({component:t,componentName:n,firstLocationIndex:s,locations:o}),o=[i],t=i.component,n=i.componentName,s=a)}return o.length>0&&r.push({component:t,componentName:n,firstLocationIndex:s,locations:o}),r},t.renderLocation=function(e,n){return o.createElement(de,{index:e,key:e,message:n,onClick:t.props.onLocationSelect,scroll:t.props.scroll,selected:e===t.props.selectedLocationIndex})},t.renderGroup=function(e,n,r){var s=void 0===r?{}:r,a=s.onlyFirst,i=void 0!==a&&a,c=s.onlyLast,l=void 0!==c&&c,p=e.firstLocationIndex,u=e.locations.length-1;return o.createElement("div",{className:"concise-issue-locations-navigator-file",key:n},o.createElement("div",{className:"concise-issue-location-file"},o.createElement("i",{className:"concise-issue-location-file-circle little-spacer-right"}),Object(A.a)(e.componentName||"",15)),e.locations.length>0&&o.createElement("div",{className:"concise-issue-location-file-locations"},i&&t.renderLocation(p,e.locations[0].msg),l&&t.renderLocation(p+u,e.locations[u].msg),!i&&!l&&e.locations.map(function(e,n){return t.renderLocation(p+n,e.msg)})))},t}return fe(t,e),t.prototype.componentWillReceiveProps=function(e){e.issue.key!==this.props.issue.key&&this.setState({collapsed:!0});var t=e.locations;e.selectedLocationIndex&&e.selectedLocationIndex>0&&void 0!==t&&e.selectedLocationIndex<t.length-1&&this.setState({collapsed:!1})},t.prototype.render=function(){var e=this,t=this.props.locations,n=this.groupByFile(t);if(t.length>2&&n.length>1&&this.state.collapsed){var r=n[0],s=n[n.length-1];return o.createElement("div",{className:"concise-issue-locations-navigator spacer-top"},this.renderGroup(r,0,{onlyFirst:!0}),o.createElement("div",{className:"concise-issue-locations-navigator-file"},o.createElement("div",{className:"concise-issue-location-file"},o.createElement("i",{className:"concise-issue-location-file-circle-multiple little-spacer-right"}),o.createElement("a",{className:"concise-issue-location-file-more",href:"#",onClick:this.handleMoreLocationsClick},Object(S.m)("issues.x_more_locations",t.length-2)))),this.renderGroup(s,n.length-1,{onlyLast:!0}))}return o.createElement("div",{className:"concise-issue-locations-navigator spacer-top"},n.map(function(t,n){return e.renderGroup(t,n)}))},t}(o.PureComponent),ge=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ge(t,e),t.prototype.render=function(){var e=this,t=Object(d.e)(this.props.issue,this.props.selectedFlowIndex);if(!t||0===t.length||t.every(function(e){return!e.msg}))return null;var n=[this.props.issue.component].concat(t.map(function(e){return e.component}));return Object(p.uniq)(n).length>1?o.createElement(me,{issue:this.props.issue,locations:t,onLocationSelect:this.props.onLocationSelect,scroll:this.props.scroll,selectedLocationIndex:this.props.selectedLocationIndex}):o.createElement("div",{className:"concise-issue-locations-navigator spacer-top"},t.map(function(t,n){return o.createElement(de,{index:n,key:n,message:t.msg,onClick:e.props.onLocationSelect,scroll:e.props.scroll,selected:n===e.props.selectedLocationIndex})}))},t}(o.PureComponent),ve=n(1081),be=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ce=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleScroll=function(){var e=t.props.selectedFlowIndex,n=t.props.issue,r=n.flows,o=n.secondaryLocations,s=void 0!==e?r[e]:r.length>0?r[0]:o;!s||s.length<15?t.rootElement&&t.props.scroll(t.rootElement):t.messageElement&&t.props.scroll(t.messageElement,window.innerHeight-250)},t.handleClick=function(e){e.preventDefault(),t.props.onClick(t.props.issue.key)},t}return be(t,e),t.prototype.componentDidMount=function(){this.props.selected&&this.handleScroll()},t.prototype.componentDidUpdate=function(e){this.props.selected&&e.selected!==this.props.selected&&this.handleScroll()},t.prototype.render=function(){var e=this,t=this.props,n=t.issue,r=t.selected,s=r?{}:{onClick:this.handleClick,role:"listitem",tabIndex:0},a=r?{onClick:this.handleClick,role:"listitem",tabIndex:0}:{};return o.createElement("div",Oe({className:c("concise-issue-box","clearfix",{selected:r}),ref:function(t){return e.rootElement=t}},s),o.createElement("div",Oe({className:"concise-issue-box-message"},a,{ref:function(t){return e.messageElement=t}}),n.message),o.createElement("div",{className:"concise-issue-box-attributes"},o.createElement(ve.a,{type:n.type}),o.createElement(E.a,{className:"big-spacer-left",severity:n.severity}),o.createElement(pe,{issue:n,onFlowSelect:this.props.onFlowSelect,selectedFlowIndex:this.props.selectedFlowIndex})),r&&o.createElement(ye,{issue:n,onLocationSelect:this.props.onLocationSelect,scroll:this.props.scroll,selectedFlowIndex:this.props.selectedFlowIndex,selectedLocationIndex:this.props.selectedLocationIndex}))},t}(o.PureComponent);function ke(e){return o.createElement("div",{className:"concise-issue-component note text-ellipsis"},Object(A.a)(e.path,20))}var Ee=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),je=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ee(t,e),t.prototype.render=function(){var e=this.props,t=e.issue,n=e.previousIssue,r=e.selected,s=!n||n.component!==t.component;return o.createElement("div",null,s&&o.createElement(ke,{path:t.componentLongName}),o.createElement(Ce,{issue:t,onClick:this.props.onSelect,onFlowSelect:this.props.onFlowSelect,onLocationSelect:this.props.onLocationSelect,scroll:this.props.scroll,selected:r,selectedFlowIndex:r?this.props.selectedFlowIndex:void 0,selectedLocationIndex:r?this.props.selectedLocationIndex:void 0}))},t}(o.PureComponent),_e=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleScroll=function(e,t){void 0===t&&(t=100);var n=document.querySelector(".layout-page-side");e&&n&&Object(W.a)(e,{topOffset:150,bottomOffset:t,parent:n})},t}return _e(t,e),t.prototype.render=function(){var e=this;return o.createElement("div",null,this.props.issues.map(function(t,n){return o.createElement(je,{issue:t,key:t.key,onFlowSelect:e.props.onFlowSelect,onLocationSelect:e.props.onLocationSelect,onSelect:e.props.onIssueSelect,previousIssue:n>0?e.props.issues[n-1]:void 0,scroll:e.handleScroll,selected:t.key===e.props.selected,selectedFlowIndex:e.props.selectedFlowIndex,selectedLocationIndex:e.props.selectedLocationIndex})}))},t}(o.PureComponent),Se=o.createElement("svg",{height:"24",viewBox:"0 0 21 24",width:"21"},o.createElement("path",{d:"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z"}));function Ne(e){return o.createElement(k.a,{overlay:Object(S.l)("issues.return_to_list")},o.createElement("a",{className:c("concise-issues-list-header-button",e.className),href:"#",onClick:function(t){t.preventDefault(),e.onClick()}},Se))}function we(e){var t=e.displayBackButton,n=void 0===t||t,r=e.paging,s=e.selectedIndex;return o.createElement("header",{className:"layout-page-header-panel concise-issues-list-header"},o.createElement("div",{className:"layout-page-header-panel-inner concise-issues-list-header-inner"},n&&o.createElement(Ne,{className:"pull-left",onClick:e.onBackClick}),e.loading?o.createElement("i",{className:"spinner pull-right"}):o.createElement(te,{className:"pull-right",onClick:e.onReload}),r&&o.createElement($,{current:s,total:r.total})))}var Le=n(995),Pe=n(1042),Fe=n(998),xe=n(997),Te=n(999),Be=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="assignees",t.handleItemClick=function(e){if(""===e)t.props.onChange({assigned:!t.props.assigned,assignees:[]});else{var n=t.props.assignees,r=Object(p.sortBy)(n.includes(e)?Object(p.without)(n,e):n.concat([e]));t.props.onChange({assigned:!0,assignees:r})}},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){t.props.onChange({assigned:!0,assignees:[]})},t.handleSearch=function(e){var n=t.props.component&&t.props.component.organization;return t.props.organization&&!n&&(n=t.props.organization.key),Object(d.m)(e,n)},t.handleSelect=function(e){var n,r=t.props.assignees;t.props.onChange(((n={assigned:!0})[t.property]=Object(p.uniq)(r.concat([e.value])),n))},t.renderOption=function(e){return o.createElement("span",null,void 0!==e.avatar&&o.createElement(j.a,{className:"little-spacer-right",hash:e.avatar,name:e.label,size:16}),e.label)},t}return Be(t,e),t.prototype.isAssigneeActive=function(e){return""===e?!this.props.assigned:this.props.assignees.includes(e)},t.prototype.getAssigneeName=function(e){if(""===e)return Object(S.l)("unassigned");var t=this.props.referencedUsers;return t[e]?o.createElement("span",null,o.createElement(j.a,{className:"little-spacer-right",hash:t[e].avatar,name:t[e].name,size:16}),t[e].name):e},t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.getValues=function(){var e=this,t=this.props.assignees.map(function(t){var n=e.props.referencedUsers[t];return n?n.name:t});return this.props.assigned||t.push(Object(S.l)("unassigned")),t},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return""===e?0:1},function(e){return-t[e]});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.isAssigneeActive(t),key:t,name:e.getAssigneeName(t),onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.renderFooter=function(){return this.props.stats?o.createElement(Pe.a,{onSearch:this.handleSearch,onSelect:this.handleSelect,renderOption:this.renderOption}):null},t.prototype.render=function(){return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.getValues()}),this.props.open&&this.renderList(),this.props.open&&this.renderFooter())},t.defaultProps={open:!0},t}(o.PureComponent),Me=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="authors",t.handleItemClick=function(e){var n,r=t.props.authors,o=Object(p.sortBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t}return Me(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return-t[e]});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.props.authors.includes(t),key:t,name:t,onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.render=function(){return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.props.authors}),this.props.open&&this.renderList())},t.defaultProps={open:!0},t}(o.PureComponent),ze=n(27),qe=n(147),De=n(237),Ue=n(148),He=n(36),Ve=n.n(He),Ke=n(1e3),We=n(1011),Je=n(271),Qe=Ve()({displayName:"BarChart",propTypes:{data:h.a.arrayOf(h.a.object).isRequired,xTicks:h.a.arrayOf(h.a.any),xValues:h.a.arrayOf(h.a.any),height:h.a.number,padding:h.a.arrayOf(h.a.number),barsWidth:h.a.number.isRequired,onBarClick:h.a.func},mixins:[Je.a],getDefaultProps:function(){return{xTicks:[],xValues:[],padding:[10,10,10,10]}},getInitialState:function(){return{width:this.props.width,height:this.props.height}},componentDidUpdate:function(e){this.props.width&&e.width!==this.props.width&&this.setState({width:this.props.width}),this.props.height&&e.height!==this.props.height&&this.setState({height:this.props.height})},handleClick:function(e){this.props.onBarClick(e)},renderXTicks:function(e,t){var n=this;if(!this.props.xTicks.length)return null;var r=this.props.xTicks.map(function(r,o){var a=n.props.data[o],i=Math.round(e(a.x)+e.bandwidth()/2),c=t.range()[0],l=n.props.data[o],p=s.a.createElement("text",{className:"bar-chart-tick",dy:"1.5em",key:o,onClick:n.props.onBarClick&&n.handleClick.bind(n,a),style:{cursor:n.props.onBarClick?"pointer":"default"},x:i,y:c},r);return s.a.createElement(k.a,{key:o,overlay:l.tooltip||void 0},p)});return s.a.createElement("g",null,r)},renderXValues:function(e,t){var n=this;if(!this.props.xValues.length)return null;var r=this.props.xValues.map(function(r,o){var a=n.props.data[o],i=Math.round(e(a.x)+e.bandwidth()/2),c=t(a.y),l=n.props.data[o],p=s.a.createElement("text",{className:"bar-chart-tick",dy:"-1em",key:o,onClick:n.props.onBarClick&&n.handleClick.bind(n,a),style:{cursor:n.props.onBarClick?"pointer":"default"},x:i,y:c},r);return s.a.createElement(k.a,{key:o,overlay:l.tooltip||void 0},p)});return s.a.createElement("g",null,r)},renderBars:function(e,t){var n=this,r=this.props.data.map(function(r,o){var a=Math.round(e(r.x)),i=t.range()[0],c=Math.round(t(r.y))-1,l=i-c,p=s.a.createElement("rect",{className:"bar-chart-bar",height:l,key:o,onClick:n.props.onBarClick&&n.handleClick.bind(n,r),style:{cursor:n.props.onBarClick?"pointer":"default"},width:n.props.barsWidth,x:a,y:c});return s.a.createElement(k.a,{key:o,overlay:r.tooltip||void 0},p)});return s.a.createElement("g",null,r)},render:function(){if(!this.state.width||!this.state.height)return s.a.createElement("div",null);var e=this.state.width-this.props.padding[1]-this.props.padding[3],t=this.state.height-this.props.padding[0]-this.props.padding[2],n=(e-this.props.barsWidth*this.props.data.length)/(this.props.data.length-1),r=n/(n+this.props.barsWidth),o=Object(Ke.e)(this.props.data,function(e){return e.y}),a=Object(We.a)().domain(this.props.data.map(function(e){return e.x})).range([0,e]).paddingInner(r),i=Object(We.b)().domain([0,o]).range([t,0]);return s.a.createElement("svg",{className:"bar-chart",height:this.state.height,width:this.state.width},s.a.createElement("g",{transform:"translate("+this.props.padding[3]+", "+this.props.padding[0]+")"},this.renderXTicks(a,i),this.renderXValues(a,i),this.renderBars(a,i)))}}),Xe=n(1026),Ge=n(28),Ye=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="createdAt",t.hasValue=function(){return void 0!==t.props.createdAfter||t.props.createdAt.length>0||void 0!==t.props.createdBefore||t.props.createdInLast.length>0||t.props.sinceLeakPeriod},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){t.resetTo({})},t.resetTo=function(e){t.props.onChange(Ze({createdAfter:void 0,createdAt:void 0,createdBefore:void 0,createdInLast:void 0,sinceLeakPeriod:void 0},e))},t.handleBarClick=function(e){var n=e.createdAfter,r=e.createdBefore;t.resetTo({createdAfter:n,createdBefore:r})},t.handlePeriodChange=function(e){var n=e.from,r=e.to;t.resetTo({createdAfter:n,createdBefore:r})},t.handlePeriodClick=function(e){return t.resetTo({createdInLast:e})},t.handleLeakPeriodClick=function(){return t.resetTo({sinceLeakPeriod:!0})},t}return Ye(t,e),t.prototype.getValues=function(){var e=this.props,t=e.createdAfter,n=e.createdAt,r=e.createdBefore,o=e.createdInLast,s=e.sinceLeakPeriod,a=this.context.intl.formatDate,i=[];return t&&i.push(a(t,qe.b)),n&&i.push(a(n,qe.b)),r&&i.push(a(r,qe.b)),"1w"===o&&i.push(Object(S.l)("issues.facet.createdAt.last_week")),"1m"===o&&i.push(Object(S.l)("issues.facet.createdAt.last_month")),"1y"===o&&i.push(Object(S.l)("issues.facet.createdAt.last_year")),s&&i.push(Object(S.l)("issues.leak_period")),i},t.prototype.renderBarChart=function(){var e=this.props,t=e.createdBefore,n=e.stats;if(!n)return null;var r=Object.keys(n);if(r.length<2||r.every(function(e){return!n[e]}))return null;var s=this.context.intl.formatDate,a=r.map(function(e,a){var i,c=Object(Ge.e)(e);a<r.length-1?(i=Object(Ge.e)(r[a+1])).setDate(i.getDate()-1):i=t?Object(Ge.e)(t):void 0;var l=i||new Date;return{createdAfter:c,createdBefore:i,tooltip:o.createElement(o.Fragment,null,Object(ie.formatMeasure)(n[e],"SHORT_INT"),o.createElement("br",null),s(c,qe.b),!Object(Ge.c)(l,c)&&" - "+s(l,qe.b)),x:a,y:n[e]}}),i=Math.floor(250/a.length),c=i*a.length-1+10,l=Object(p.max)(a.map(function(e){return e.y})),u="count"===this.props.facetMode?"SHORT_INT":"SHORT_WORK_DUR",h=a.map(function(e){return e.y===l?Object(ie.formatMeasure)(l,u):""});return o.createElement(Qe,{barsWidth:i-1,data:a,height:75,onBarClick:this.handleBarClick,padding:[25,0,5,10],width:c,xValues:h})},t.prototype.renderExactDate=function(){return o.createElement("div",{className:"search-navigator-facet-container"},o.createElement(Ue.a,{date:this.props.createdAt}),o.createElement("br",null),o.createElement("span",{className:"note"},o.createElement(De.a,{date:this.props.createdAt})))},t.prototype.renderPeriodSelectors=function(){var e=this.props,t=e.createdAfter,n=e.createdBefore;return o.createElement("div",{className:"search-navigator-date-facet-selection"},o.createElement(Xe.a,{onChange:this.handlePeriodChange,value:{from:t,to:n}}))},t.prototype.renderPredefinedPeriods=function(){var e=this.props,t=e.component,n=e.createdInLast,r=e.sinceLeakPeriod;return o.createElement("div",{className:"spacer-top issues-predefined-periods"},o.createElement(xe.a,{active:!this.hasValue(),name:Object(S.l)("issues.facet.createdAt.all"),onClick:this.handlePeriodClick,value:""}),t?o.createElement(xe.a,{active:r,name:Object(S.l)("issues.leak_period"),onClick:this.handleLeakPeriodClick,value:""}):o.createElement(o.Fragment,null,o.createElement(xe.a,{active:"1w"===n,name:Object(S.l)("issues.facet.createdAt.last_week"),onClick:this.handlePeriodClick,value:"1w"}),o.createElement(xe.a,{active:"1m"===n,name:Object(S.l)("issues.facet.createdAt.last_month"),onClick:this.handlePeriodClick,value:"1m"}),o.createElement(xe.a,{active:"1y"===n,name:Object(S.l)("issues.facet.createdAt.last_year"),onClick:this.handlePeriodClick,value:"1y"})))},t.prototype.renderInner=function(){return this.props.createdAt?this.renderExactDate():o.createElement("div",null,this.renderBarChart(),this.renderPeriodSelectors(),this.renderPredefinedPeriods())},t.prototype.render=function(){return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.getValues()}),this.props.open&&this.renderInner())},t.defaultProps={open:!0},t.contextTypes={intl:ze.h},t}(o.PureComponent),et=n(53),tt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="directories",t.handleItemClick=function(e){var n,r=t.props.directories,o=Object(p.sortBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t}return tt(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.renderName=function(e){return o.createElement("span",null,o.createElement(et.a,{className:"little-spacer-right",qualifier:"DIR"}),e)},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return-t[e]});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.props.directories.includes(t),key:t,name:e.renderName(t),onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.render=function(){var e=this.props.directories.map(function(e){return Object(A.a)(e)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:e}),this.props.open&&this.renderList())},t.defaultProps={open:!0},t}(o.PureComponent),rt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="facetMode",t.handleItemClick=function(e){var n;t.props.onChange(((n={})[t.property]=e,n))},t}return rt(t,e),t.prototype.render=function(){var e=this,t=this.props.facetMode;return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet.mode"),open:!1}),o.createElement(Te.a,null,["count","effort"].map(function(n){return o.createElement(xe.a,{active:t===n,halfWidth:!0,key:n,name:Object(S.l)("issues.facet.mode",n),onClick:e.handleItemClick,value:n})})))},t}(o.PureComponent),st=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="files",t.handleItemClick=function(e){var n,r=t.props.files,o=Object(p.sortBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t}return st(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.getFileName=function(e){var t=this.props.referencedComponents;return t[e]?Object(A.a)(t[e].path,15):e},t.prototype.renderName=function(e){var t=this.getFileName(e);return o.createElement("span",null,o.createElement(et.a,{className:"little-spacer-right",qualifier:"FIL"}),t)},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return-t[e]});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.props.files.includes(t),key:t,name:e.renderName(t),onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.render=function(){var e=this,t=this.props.files.map(function(t){return e.getFileName(t)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:t}),this.props.open&&this.renderList())},t.defaultProps={open:!0},t}(o.PureComponent),it=n(10),ct=n(7),lt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.onSelect(e.value)},t}return lt(t,e),t.prototype.render=function(){var e=this.props.languages.map(function(e){return{label:e.name,value:e.key}});return o.createElement("div",{className:"search-navigator-facet-footer"},o.createElement(C.c,{className:"input-super-large",clearable:!1,noResultsText:Object(S.l)("select2.noMatches"),onChange:this.handleChange,options:e,placeholder:Object(S.l)("search.search_for_languages"),searchable:!0}))},t}(o.PureComponent),ut=Object(it.connect)(function(e){return{languages:Object.values(Object(ct.getLanguages)(e))}})(pt),ht=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="languages",t.handleItemClick=function(e){var n,r=t.props.languages,o=Object(p.sortBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t.handleSelect=function(e){var n,r=t.props.languages;t.props.onChange(((n={})[t.property]=Object(p.uniq)(r.concat([e])),n))},t}return ht(t,e),t.prototype.getLanguageName=function(e){var t=this.props.referencedLanguages;return t[e]?t[e].name:e},t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return-t[e]});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.props.languages.includes(t),key:t,name:e.getLanguageName(t),onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.renderFooter=function(){return this.props.stats?o.createElement(ut,{onSelect:this.handleSelect}):null},t.prototype.render=function(){var e=this,t=this.props.languages.map(function(t){return e.getLanguageName(t)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:t}),this.props.open&&this.renderList(),this.props.open&&this.renderFooter())},t.defaultProps={open:!0},t}(o.PureComponent),ft=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="modules",t.handleItemClick=function(e){var n,r=t.props.modules,o=Object(p.sortBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t}return ft(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.getModuleName=function(e){var t=this.props.referencedComponents;return t[e]?t[e].name:e},t.prototype.renderName=function(e){return o.createElement("span",null,o.createElement(et.a,{className:"little-spacer-right",qualifier:"BRC"}),this.getModuleName(e))},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return-t[e]});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.props.modules.includes(t),key:t,name:e.renderName(t),onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.render=function(){var e=this,t=this.props.modules.map(function(t){return e.getModuleName(t)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:t}),this.props.open&&this.renderList())},t.defaultProps={open:!0},t}(o.PureComponent),gt=n(33),yt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="projects",t.handleItemClick=function(e){var n,r=t.props.projects,o=Object(p.sortBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t.handleSearch=function(e){var n=t.props,r=n.component,o=n.organization;return r&&["VW","SVW","APP"].includes(r.qualifier)?Object(gt.u)(r.key,{ps:50,q:e,qualifiers:"TRK"}).then(function(e){return e.components.map(function(e){return{label:e.name,organization:e.organization,value:e.refId}})}):Object(gt.w)({ps:50,filter:e?'query = "'+e+'"':"",organization:o&&o.key}).then(function(e){return e.components.map(function(e){return{label:e.name,organization:e.organization,value:e.id}})})},t.handleSelect=function(e){var n,r=t.props.projects;t.props.onChange(((n={})[t.property]=Object(p.uniq)(r.concat([e.value])),n))},t.renderOption=function(e){return o.createElement("span",null,o.createElement(B.a,{link:!1,organizationKey:e.organization}),e.label)},t}return yt(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.getProjectName=function(e){var t=this.props.referencedComponents;return t[e]?t[e].name:e},t.prototype.renderName=function(e){var t=this.props,n=t.organization,r=t.referencedComponents;return r[e]?o.createElement("span",null,o.createElement(et.a,{className:"little-spacer-right",qualifier:"TRK"}),!n&&o.createElement(B.a,{link:!1,organizationKey:r[e].organization}),r[e].name):o.createElement("span",null,o.createElement(et.a,{className:"little-spacer-right",qualifier:"TRK"}),e)},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return-t[e]});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.props.projects.includes(t),key:t,name:e.renderName(t),onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.renderFooter=function(){return this.props.stats?o.createElement(Pe.a,{minimumQueryLength:3,onSearch:this.handleSearch,onSelect:this.handleSelect,renderOption:this.renderOption}):null},t.prototype.render=function(){var e=this,t=this.props.projects.map(function(t){return e.getProjectName(t)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:t}),this.props.open&&this.renderList(),this.props.open&&this.renderFooter())},t.defaultProps={open:!0},t}(o.PureComponent),bt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="resolutions",t.handleItemClick=function(e){if(""===e)t.props.onChange({resolved:!t.props.resolved,resolutions:[]});else{var n=t.props.resolutions,r=Object(p.orderBy)(n.includes(e)?Object(p.without)(n,e):n.concat([e]));t.props.onChange({resolved:!0,resolutions:r})}},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){t.props.onChange({resolved:!1,resolutions:[]})},t.renderItem=function(e){var n=t.isFacetItemActive(e),r=t.getStat(e);return o.createElement(xe.a,{active:n,disabled:0===r&&!n,halfWidth:!0,key:e,name:t.getFacetItemName(e),onClick:t.handleItemClick,stat:Object(d.d)(r,t.props.facetMode),value:e})},t}return bt(t,e),t.prototype.isFacetItemActive=function(e){return""===e?!this.props.resolved:this.props.resolutions.includes(e)},t.prototype.getFacetItemName=function(e){return""===e?Object(S.l)("unresolved"):Object(S.l)("issue.resolution",e)},t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.render=function(){var e=this,t=this.props.resolutions.map(function(t){return e.getFacetItemName(t)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:t}),this.props.open&&o.createElement(Te.a,null,["","FIXED","FALSE-POSITIVE","WONTFIX","REMOVED"].map(this.renderItem)))},t.defaultProps={open:!0},t}(o.PureComponent),Ct=n(1004),kt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="rules",t.handleItemClick=function(e){var n,r=t.props.rules,o=Object(p.sortBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t.handleSearch=function(e){var n=t.props,r=n.languages,o=n.organization;return Object(Ct.f)({f:"name,langName",languages:r.length?r.join():void 0,organization:o,q:e}).then(function(e){return e.rules.map(function(e){return{label:"("+e.langName+") "+e.name,value:e.key}})})},t.handleSelect=function(e){var n,r=t.props.rules;t.props.onChange(((n={})[t.property]=Object(p.uniq)(r.concat([e.value])),n))},t}return kt(t,e),t.prototype.getRuleName=function(e){var t=this.props.referencedRules;return t[e]?t[e].name:e},t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return-t[e]},function(t){return e.getRuleName(t)});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.props.rules.includes(t),key:t,name:e.getRuleName(t),onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.renderFooter=function(){return this.props.stats?o.createElement(Pe.a,{onSearch:this.handleSearch,onSelect:this.handleSelect}):null},t.prototype.render=function(){var e=this,t=this.props.rules.map(function(t){return e.getRuleName(t)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:t}),this.props.open&&this.renderList(),this.props.open&&this.renderFooter())},t.defaultProps={open:!0},t}(o.PureComponent),jt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="severities",t.handleItemClick=function(e){var n,r=t.props.severities,o=Object(p.orderBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t.renderItem=function(e){var n=t.props.severities.includes(e),r=t.getStat(e);return o.createElement(xe.a,{active:n,disabled:0===r&&!n,halfWidth:!0,key:e,name:o.createElement(E.a,{severity:e}),onClick:t.handleItemClick,stat:Object(d.d)(r,t.props.facetMode),value:e})},t}return jt(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.render=function(){var e=this.props.severities.map(function(e){return Object(S.l)("severity",e)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:e}),this.props.open&&o.createElement(Te.a,null,["BLOCKER","MINOR","CRITICAL","INFO","MAJOR"].map(this.renderItem)))},t.defaultProps={open:!0},t}(o.PureComponent),It=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="statuses",t.handleItemClick=function(e){var n,r=t.props.statuses,o=Object(p.orderBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t.renderItem=function(e){var n=t.props.statuses.includes(e),r=t.getStat(e);return o.createElement(xe.a,{active:n,disabled:0===r&&!n,halfWidth:!0,key:e,name:t.renderStatus(e),onClick:t.handleItemClick,stat:Object(d.d)(r,t.props.facetMode),value:e})},t}return It(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.renderStatus=function(e){return o.createElement("span",null,o.createElement("i",{className:"icon-status-"+e.toLowerCase()})," ",Object(S.l)("issue.status",e))},t.prototype.render=function(){var e=this.props.statuses.map(function(e){return Object(S.l)("issue.status",e)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:e}),this.props.open&&o.createElement(Te.a,null,["OPEN","RESOLVED","REOPENED","CLOSED","CONFIRMED"].map(this.renderItem)))},t.defaultProps={open:!0},t}(o.PureComponent),Nt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="tags",t.handleItemClick=function(e){var n,r=t.props.tags,o=Object(p.sortBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t.handleSearch=function(e){var n=t.props.component&&t.props.component.organization;return t.props.organization&&!n&&(n=t.props.organization.key),Object(f.h)({organization:n,ps:50,q:e}).then(function(e){return e.map(function(e){return{label:e,value:e}})})},t.handleSelect=function(e){var n,r=t.props.tags;t.props.onChange(((n={})[t.property]=Object(p.uniq)(r.concat([e.value])),n))},t}return Nt(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.renderTag=function(e){return o.createElement("span",null,o.createElement("i",{className:"icon-tags icon-gray little-spacer-right"}),e)},t.prototype.renderList=function(){var e=this,t=this.props.stats;if(!t)return null;var n=Object(p.sortBy)(Object.keys(t),function(e){return-t[e]});return o.createElement(Te.a,null,n.map(function(t){return o.createElement(xe.a,{active:e.props.tags.includes(t),key:t,name:e.renderTag(t),onClick:e.handleItemClick,stat:Object(d.d)(e.getStat(t),e.props.facetMode),value:t})}))},t.prototype.renderFooter=function(){return this.props.stats?o.createElement(Pe.a,{onSearch:this.handleSearch,onSelect:this.handleSelect}):null},t.prototype.render=function(){return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.props.tags}),this.props.open&&this.renderList(),this.props.open&&this.renderFooter())},t.defaultProps={open:!0},t}(o.PureComponent),Lt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property="types",t.handleItemClick=function(e){var n,r=t.props.types,o=Object(p.orderBy)(r.includes(e)?Object(p.without)(r,e):r.concat([e]));t.props.onChange(((n={})[t.property]=o,n))},t.handleHeaderClick=function(){t.props.onToggle(t.property)},t.handleClear=function(){var e;t.props.onChange(((e={})[t.property]=[],e))},t.renderItem=function(e){var n=t.props.types.includes(e),r=t.getStat(e);return o.createElement(xe.a,{active:n,disabled:0===r&&!n,key:e,name:o.createElement("span",null,o.createElement(I.a,{query:e})," ",Object(S.l)("issue.type",e)),onClick:t.handleItemClick,stat:Object(d.d)(r,t.props.facetMode),value:e})},t}return Lt(t,e),t.prototype.getStat=function(e){var t=this.props.stats;return t?t[e]:void 0},t.prototype.render=function(){var e=this.props.types.map(function(e){return Object(S.l)("issue.type",e)});return o.createElement(Le.a,{property:this.property},o.createElement(Fe.a,{name:Object(S.l)("issues.facet",this.property),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:e}),this.props.open&&o.createElement(Te.a,null,["BUG","VULNERABILITY","CODE_SMELL"].map(this.renderItem)))},t.defaultProps={open:!0},t}(o.PureComponent),Ft=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ft(t,e),t.prototype.render=function(){var e=this.props,t=e.component,n=e.facets,r=e.openFacets,s=e.query,a=!t||!["TRK","BRC","DIR","DEV_PRJ"].includes(t.qualifier),i=void 0!==t&&"DIR"!==t.qualifier,c=void 0!==t&&"DIR"!==t.qualifier,l=void 0!==t,p=!t||"DEV"!==t.qualifier;return o.createElement("div",{className:"search-navigator-facets-list"},o.createElement(ot,{facetMode:s.facetMode,onChange:this.props.onFilterChange}),o.createElement(Pt,{facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.types,stats:n.types,types:s.types}),o.createElement(_t,{facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.severities,severities:s.severities,stats:n.severities}),o.createElement(Ot,{facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.resolutions,resolutions:s.resolutions,resolved:s.resolved,stats:n.resolutions}),o.createElement(St,{facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.statuses,stats:n.statuses,statuses:s.statuses}),o.createElement($e,{component:t,createdAfter:s.createdAfter,createdAt:s.createdAt,createdBefore:s.createdBefore,createdInLast:s.createdInLast,facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.createdAt,sinceLeakPeriod:s.sinceLeakPeriod,stats:n.createdAt}),o.createElement(Et,{facetMode:s.facetMode,languages:s.languages,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.rules,organization:this.props.organization&&this.props.organization.key,referencedRules:this.props.referencedRules,rules:s.rules,stats:n.rules}),o.createElement(wt,{component:t,facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.tags,organization:this.props.organization,stats:n.tags,tags:s.tags}),a&&o.createElement(vt,{component:t,facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.projects,organization:this.props.organization,projects:s.projects,referencedComponents:this.props.referencedComponents,stats:n.projects}),i&&o.createElement(mt,{facetMode:s.facetMode,modules:s.modules,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.modules,referencedComponents:this.props.referencedComponents,stats:n.modules}),c&&o.createElement(nt,{directories:s.directories,facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.directories,referencedComponents:this.props.referencedComponents,stats:n.directories}),l&&o.createElement(at,{facetMode:s.facetMode,files:s.files,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.files,referencedComponents:this.props.referencedComponents,stats:n.files}),!this.props.myIssues&&o.createElement(Ae,{assigned:s.assigned,assignees:s.assignees,component:t,facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.assignees,organization:this.props.organization,referencedUsers:this.props.referencedUsers,stats:n.assignees}),p&&o.createElement(Re,{authors:s.authors,facetMode:s.facetMode,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.authors,stats:n.authors}),o.createElement(dt,{facetMode:s.facetMode,languages:s.languages,onChange:this.props.onFilterChange,onToggle:this.props.onFacetToggle,open:!!r.languages,referencedLanguages:this.props.referencedLanguages,stats:n.languages}))},t}(o.PureComponent);function Tt(e){var t=e.openIssue,n=e.selectedLocationIndex;if(t&&(t.secondaryLocations.length>0||t.flows.length>0)){var r=e.selectedFlowIndex||(t.flows.length>0?0:void 0);if(!Object(d.a)(t,r))return{locationsNavigator:!0,selectedFlowIndex:r,selectedLocationIndex:!n||n<0?0:n}}}function Bt(){return{locationsNavigator:!1}}function At(e){var t=e.selectedFlowIndex,n=e.selectedLocationIndex,r=e.openIssue;if(r){var o=(void 0!==t?r.flows[t]:r.secondaryLocations).length-1;return n===o?{selectedLocationIndex:-1}:{selectedLocationIndex:void 0!==n&&n<o?n+1:n}}}function Mt(e){var t=e.selectedFlowIndex,n=e.selectedLocationIndex,r=e.openIssue;if(r)return-1===n?{selectedLocationIndex:(void 0!==t?r.flows[t]:r.secondaryLocations).length-1}:{selectedLocationIndex:void 0!==n&&n>0?n-1:n}}function Rt(e){var t=e.openIssue,n=e.selectedFlowIndex;if(t&&void 0!==n&&t.flows.length>n+1)return{selectedFlowIndex:n+1,selectedLocationIndex:0}}function zt(e){var t=e.openIssue,n=e.selectedFlowIndex;if(t&&void 0!==n&&n>0)return{selectedFlowIndex:n-1,selectedLocationIndex:0}}var qt=n(378),Dt=n(42),Ut=n(78),Ht=n(1078),Vt=n(1080),Kt=n(1013),Wt=n(59),Jt=(n(1126),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},Gt={resolved:"false"},Yt=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleKeyDown=function(e){"issues"===l.getScope()&&(18===e.keyCode?(e.preventDefault(),n.setState(Tt)):40===e.keyCode&&e.altKey?(e.preventDefault(),n.selectNextLocation()):38===e.keyCode&&e.altKey?(e.preventDefault(),n.selectPreviousLocation()):37===e.keyCode&&e.altKey?(e.preventDefault(),n.selectPreviousFlow()):39===e.keyCode&&e.altKey&&(e.preventDefault(),n.selectNextFlow()))},n.handleKeyUp=function(e){"issues"===l.getScope()&&18===e.keyCode&&n.setState(Bt)},n.getOpenIssue=function(e,t){var n=Object(d.f)(e.location.query);return n?t.find(function(e){return e.key===n}):void 0},n.selectNextIssue=function(){var e=n.state.issues,t=n.getSelectedIndex();void 0!==t&&t<e.length-1&&(n.state.openIssue?n.openIssue(e[t+1].key):n.setState({selected:e[t+1].key,selectedFlowIndex:void 0,selectedLocationIndex:void 0}))},n.selectPreviousIssue=function(){var e=n.state.issues,t=n.getSelectedIndex();void 0!==t&&t>0&&(n.state.openIssue?n.openIssue(e[t-1].key):n.setState({selected:e[t-1].key,selectedFlowIndex:void 0,selectedLocationIndex:void 0}))},n.openIssue=function(e){var t={pathname:n.props.location.pathname,query:Qt({},Object(d.n)(n.state.query),Object(Wt.c)(n.props.branchLike),{id:n.props.component&&n.props.component.key,myIssues:n.state.myIssues?"true":void 0,open:e})};n.state.openIssue?t.query.open&&t.query.open===n.state.openIssue.key?n.setState({locationsNavigator:!1,selectedFlowIndex:void 0,selectedLocationIndex:void 0},n.scrollToSelectedIssue):n.context.router.replace(t):n.context.router.push(t)},n.closeIssue=function(){n.state.query&&(n.context.router.push({pathname:n.props.location.pathname,query:Qt({},Object(d.n)(n.state.query),Object(Wt.c)(n.props.branchLike),{id:n.props.component&&n.props.component.key,myIssues:n.state.myIssues?"true":void 0,open:void 0})}),n.scrollToSelectedIssue(!1))},n.openSelectedIssue=function(){var e=n.state.selected;e&&n.openIssue(e)},n.scrollToSelectedIssue=function(e){void 0===e&&(e=!0);var t=n.state.selected;if(t){var r=document.querySelector('[data-issue="'+t+'"]');r&&Object(W.a)(r,{topOffset:250,bottomOffset:100,smooth:e})}},n.fetchIssues=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!0);var o=n.props,s=o.component,a=o.organization,i=n.state,c=i.myIssues,l=i.openFacets,p=i.query,u=t?Object.keys(l).filter(function(e){return l[e]}).map(d.i).join(","):void 0,h=Qt({},Object(Wt.c)(n.props.branchLike),{componentKeys:s&&s.key,s:"FILE_LINE"},Object(d.n)(p),{ps:"100",organization:a&&a.key,facets:u},e);return p.sort&&Object.assign(h,{asc:"false"}),c&&Object.assign(h,{assignees:"__me__"}),n.props.fetchIssues(h,r)},n.fetchIssuesPage=function(e){return n.fetchIssues({p:e})},n.fetchIssuesUntil=function(e,t){return n.fetchIssuesPage(e).then(function(r){var o=r.issues,s=r.paging;return t(o,s)?{issues:o,paging:s}:n.fetchIssuesUntil(e+1,t).then(function(e){return{issues:o.concat(e.issues),paging:e.paging}})})},n.fetchMoreIssues=function(){var e=n.state.paging;if(e){var t=e.pageIndex+1;n.setState({loading:!0}),n.fetchIssuesPage(t).then(function(e){n.mounted&&n.setState(function(t){return{loading:!1,issues:t.issues.concat(e.issues),paging:e.paging}})},function(){n.mounted&&n.setState({loading:!1})})}},n.fetchIssuesForComponent=function(e,t,r){var o=n.state,s=o.issues,a=o.openIssue,i=o.paging;if(!a||!i)return Promise.reject(void 0);var c=function(e){return e.component===a.component},l=function(e,t){if(t.total<=t.pageIndex*t.pageSize)return!0;var n=e[e.length-1];return n.component!==a.component||void 0!==n.textRange&&n.textRange.endLine>r};return l(s,i)?Promise.resolve(s.filter(c)):(n.setState({loading:!0}),n.fetchIssuesUntil(i.pageIndex+1,l).then(function(e){var t=s.concat(e.issues);return n.mounted&&n.setState({issues:t,loading:!1,paging:e.paging}),t.filter(c)},function(){return n.mounted&&n.setState({loading:!1}),[]}))},n.fetchFacet=function(e){var t="projects"===e;return n.fetchIssues({ps:1,facets:Object(d.i)(e)},!1,t).then(function(e){var t=e.facets,r=Xt(e,["facets"]);n.mounted&&n.setState(function(e){return{facets:Qt({},e.facets,Object(d.j)(t)),referencedComponents:Qt({},e.referencedComponents,Object(p.keyBy)(r.components,"uuid")),referencedLanguages:Qt({},e.referencedLanguages,Object(p.keyBy)(r.languages,"key")),referencedRules:Qt({},e.referencedRules,Object(p.keyBy)(r.rules,"key")),referencedUsers:Qt({},e.referencedUsers,Object(p.keyBy)(r.users,"login"))}})},function(){})},n.isFiltered=function(){var e=Object(d.n)(n.state.query);return!Object(d.c)(e,Gt)},n.getCheckedIssues=function(){var e=n.state.checked.map(function(e){return n.state.issues.find(function(t){return t.key===e})}).filter(function(e){return void 0!==e}),t={pageIndex:1,pageSize:e.length,total:e.length};return Promise.resolve({issues:e,paging:t})},n.handleFilterChange=function(e){n.context.router.push({pathname:n.props.location.pathname,query:Qt({},Object(d.n)(Qt({},n.state.query,e)),Object(Wt.c)(n.props.branchLike),{id:n.props.component&&n.props.component.key,myIssues:n.state.myIssues?"true":void 0})})},n.handleMyIssuesChange=function(e){n.closeFacet("assignees"),n.props.component||Object(d.l)(e),n.context.router.push({pathname:n.props.location.pathname,query:Qt({},Object(d.n)(Qt({},n.state.query,{assigned:!0,assignees:[]})),Object(Wt.c)(n.props.branchLike),{id:n.props.component&&n.props.component.key,myIssues:e?"true":void 0})})},n.closeFacet=function(e){n.setState(function(t){return{openFacets:Qt({},t.openFacets,(n={},n[e]=!1,n))};var n})},n.handleFacetToggle=function(e){n.setState(function(t){return{openFacets:Qt({},t.openFacets,(n={},n[e]=!t.openFacets[e],n))};var n}),n.state.facets[e]||n.fetchFacet(e)},n.handleReset=function(){n.context.router.push({pathname:n.props.location.pathname,query:Qt({},Gt,Object(Wt.c)(n.props.branchLike),{id:n.props.component&&n.props.component.key,myIssues:n.state.myIssues?"true":void 0})})},n.handlePopupToggle=function(e,t,r){n.setState(function(n){var o=n.openPopup&&n.openPopup.name===t&&n.openPopup.issue===e;return!1===r||o?!0!==r&&o?{openPopup:void 0}:n:{openPopup:{issue:e,name:t}}})},n.handleIssueCheck=function(e,t){var r=n.state.lastChecked;t.shiftKey&&r?n.setState(function(t){var n=t.issues.map(function(e){return e.key}),o=n.indexOf(e),s=n.indexOf(r),a=t.checked.includes(r),i=t.checked;if(o<0)return null;for(var c=Math.min(o,s),l=Math.max(o,s),u=c;u<l+1;u++)i=a?Object(p.union)(i,[t.issues[u].key]):Object(p.without)(i,t.issues[u].key);return{checked:i}}):n.setState(function(t){return{lastChecked:e,checked:t.checked.includes(e)?Object(p.without)(t.checked,e):t.checked.concat([e])}})},n.handleIssueChange=function(e){n.setState(function(t){return{issues:t.issues.map(function(t){return t.key===e.key?e:t})}})},n.openBulkChange=function(e){n.setState({bulkChange:e}),l.setScope("issues-bulk-change")},n.closeBulkChange=function(){l.setScope("issues"),n.setState({bulkChange:void 0})},n.handleBulkChangeClick=function(){n.openBulkChange("all")},n.handleBulkChangeSelectedClick=function(e){e.preventDefault(),e.currentTarget.blur(),n.openBulkChange("selected")},n.handleBulkChangeDone=function(){n.fetchFirstIssues(),n.closeBulkChange()},n.handleReload=function(){n.fetchFirstIssues(),(Object(Wt.i)(n.props.branchLike)||Object(Wt.g)(n.props.branchLike))&&n.props.onBranchesChange()},n.handleReloadAndOpenFirst=function(){n.fetchFirstIssues().then(function(e){e.length>0&&n.openIssue(e[0].key)},function(){})},n.selectLocation=function(e){var t;n.setState((t=e,function(e){var n=e.selectedLocationIndex;if(e.openIssue)if(e.locationsNavigator){if(void 0!==n)return{locationsNavigator:t!==n,selectedLocationIndex:t}}else if(void 0!==t)return{locationsNavigator:!0,selectedLocationIndex:t}}))},n.selectNextLocation=function(){n.setState(At)},n.selectPreviousLocation=function(){n.setState(Mt)},n.onCheckAll=function(e){e?n.setState(function(e){return{checked:e.issues.map(function(e){return e.key})}}):n.setState({checked:[]})},n.selectFlow=function(e){var t;n.setState((t=e,function(){return{selectedFlowIndex:t,selectedLocationIndex:0}}))},n.selectNextFlow=function(){n.setState(Rt)},n.selectPreviousFlow=function(){n.setState(zt)},n.state={checked:[],facets:{},issues:[],loading:!0,locationsNavigator:!1,myIssues:t.myIssues||Object(d.b)(t.location.query),openFacets:{severities:!0,types:!0},query:Object(d.k)(t.location.query),referencedComponents:{},referencedLanguages:{},referencedRules:{},referencedUsers:{},selected:Object(d.f)(t.location.query)},n}return Jt(t,e),t.prototype.componentDidMount=function(){if(this.mounted=!0,!this.state.myIssues||this.props.currentUser.isLoggedIn){document.body.classList.add("white-page"),document.documentElement.classList.add("white-page");var e=document.getElementById("footer");e&&e.classList.add("page-footer-with-sidebar"),this.attachShortcuts(),this.fetchFirstIssues()}else Object(qt.default)()},t.prototype.componentWillReceiveProps=function(e){var t=this.getOpenIssue(e,this.state.issues);t&&t.key!==this.state.selected&&this.setState({locationsNavigator:!1,selected:t.key,selectedFlowIndex:void 0,selectedLocationIndex:void 0}),t||this.setState({selectedFlowIndex:void 0,selectedLocationIndex:void 0}),this.setState({myIssues:e.myIssues||Object(d.b)(e.location.query),openIssue:t,query:Object(d.k)(e.location.query)})},t.prototype.componentDidUpdate=function(e,t){var n=this.props.location.query,r=e.location.query;e.component===this.props.component&&Object(Wt.h)(e.branchLike,this.props.branchLike)&&Object(d.c)(r,n)&&Object(d.b)(r)===Object(d.b)(n)?this.state.openIssue||t.selected===this.state.selected&&!t.openIssue||this.scrollToSelectedIssue():this.fetchFirstIssues()},t.prototype.componentWillUnmount=function(){this.detachShortcuts(),document.body.classList.remove("white-page"),document.documentElement.classList.remove("white-page");var e=document.getElementById("footer");e&&e.classList.remove("page-footer-with-sidebar"),this.mounted=!1},t.prototype.attachShortcuts=function(){var e=this;l.setScope("issues"),l("up","issues",function(){return e.selectPreviousIssue(),!1}),l("down","issues",function(){return e.selectNextIssue(),!1}),l("right","issues",function(){return e.openSelectedIssue(),!1}),l("left","issues",function(){return 1!==e.state.query.issues.length&&e.closeIssue(),!1}),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)},t.prototype.detachShortcuts=function(){l.deleteScope("issues"),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)},t.prototype.getSelectedIndex=function(){var e=this.state,t=e.issues,n=void 0===t?[]:t,r=e.selected,o=n.findIndex(function(e){return e.key===r});return-1!==o?o:void 0},t.prototype.fetchFirstIssues=function(){var e=this;return this.setState({checked:[],loading:!0}),this.fetchIssues({},!0).then(function(t){var n=t.facets,r=t.issues,o=t.paging,s=Xt(t,["facets","issues","paging"]);if(e.mounted){var a=e.getOpenIssue(e.props,r);e.setState({facets:Object(d.j)(n),loading:!1,issues:r,openIssue:a,paging:o,referencedComponents:Object(p.keyBy)(s.components,"uuid"),referencedLanguages:Object(p.keyBy)(s.languages,"key"),referencedRules:Object(p.keyBy)(s.rules,"key"),referencedUsers:Object(p.keyBy)(s.users,"login"),selected:r.length>0?a?a.key:r[0].key:void 0,selectedFlowIndex:void 0,selectedLocationIndex:void 0})}return r},function(){return e.mounted&&e.setState({loading:!1}),[]})},t.prototype.renderBulkChange=function(e){var t=this,n=this.props,r=n.component,s=n.currentUser,a=this.state,i=a.bulkChange,l=a.checked,p=a.paging,u=a.issues,h=l.length>0&&u.length===l.length,d=l.length>0&&!h,f=h||d;return!s.isLoggedIn||e?null:o.createElement("div",{className:"pull-left"},o.createElement(b.a,{checked:f,className:"spacer-right vertical-middle",id:"issues-selection",onCheck:this.onCheckAll,thirdState:d}),l.length>0?o.createElement(Dt.a,null,function(e){var n=e.onToggleClick,r=e.open;return o.createElement("div",{className:c("dropdown display-inline-block",{open:r})},o.createElement(_.a,{id:"issues-bulk-change",onClick:n},Object(S.l)("bulk_change"),o.createElement("i",{className:"icon-dropdown little-spacer-left"})),o.createElement("ul",{className:"dropdown-menu"},o.createElement("li",null,o.createElement("a",{href:"#",onClick:t.handleBulkChangeClick},Object(S.m)("issues.bulk_change",p?p.total:0))),o.createElement("li",null,o.createElement("a",{href:"#",onClick:t.handleBulkChangeSelectedClick},Object(S.m)("issues.bulk_change_selected",l.length)))))}):o.createElement(_.a,{id:"issues-bulk-change",onClick:this.handleBulkChangeClick},Object(S.l)("bulk_change")),i&&o.createElement(P,{component:r,currentUser:s,fetchIssues:"all"===i?this.fetchIssues:this.getCheckedIssues,onClose:this.closeBulkChange,onDone:this.handleBulkChangeDone,organization:this.props.organization}))},t.prototype.renderFacets=function(){var e=this.props,t=e.component,n=e.currentUser,r=e.onSonarCloud,s=this.state.query;return o.createElement("div",{className:"layout-page-filters"},n.isLoggedIn&&!r&&o.createElement(G,{myIssues:this.state.myIssues,onMyIssuesChange:this.handleMyIssuesChange}),o.createElement(Vt.a,{displayReset:this.isFiltered(),onReset:this.handleReset}),o.createElement(xt,{component:t,facets:this.state.facets,myIssues:this.state.myIssues,onFacetToggle:this.handleFacetToggle,onFilterChange:this.handleFilterChange,openFacets:this.state.openFacets,organization:this.props.organization,query:s,referencedComponents:this.state.referencedComponents,referencedLanguages:this.state.referencedLanguages,referencedRules:this.state.referencedRules,referencedUsers:this.state.referencedUsers}))},t.prototype.renderConciseIssuesList=function(){var e=this.state,t=e.issues,n=e.paging,r=e.query;return o.createElement("div",{className:"layout-page-filters"},o.createElement(we,{displayBackButton:1!==r.issues.length,loading:this.state.loading,onBackClick:this.closeIssue,onReload:this.handleReloadAndOpenFirst,paging:n,selectedIndex:this.getSelectedIndex()}),o.createElement(Ie,{issues:t,onFlowSelect:this.selectFlow,onIssueSelect:this.openIssue,onLocationSelect:this.selectLocation,selected:this.state.selected,selectedFlowIndex:this.state.selectedFlowIndex,selectedLocationIndex:this.state.selectedLocationIndex}),n&&n.total>0&&o.createElement(Ut.a,{count:t.length,loadMore:this.fetchMoreIssues,total:n.total}))},t.prototype.renderSide=function(e){var t=this;return o.createElement(Kt.a,{className:"layout-page-side-outer"},function(n){var r=n.top;return o.createElement("div",{className:"layout-page-side",style:{top:r}},o.createElement("div",{className:"layout-page-side-inner"},e?t.renderConciseIssuesList():t.renderFacets()))})},t.prototype.renderList=function(){var e=this.props,t=e.branchLike,n=e.component,r=e.currentUser,s=e.organization,a=this.state,i=a.issues,c=a.openIssue,l=a.paging,p=this.getSelectedIndex(),u=void 0!==p?i[p]:void 0;return!l||c?null:o.createElement("div",null,l.total>0&&o.createElement(V,{branchLike:t,checked:this.state.checked,component:n,issues:i,onFilterChange:this.handleFilterChange,onIssueChange:this.handleIssueChange,onIssueCheck:r.isLoggedIn?this.handleIssueCheck:void 0,onIssueClick:this.openIssue,onPopupToggle:this.handlePopupToggle,openPopup:this.state.openPopup,organization:s,selectedIssue:u}),l.total>0&&o.createElement(Ut.a,{count:i.length,loadMore:this.fetchMoreIssues,total:l.total}),0===l.total&&(this.state.myIssues&&!this.isFiltered()?o.createElement(Y,null):o.createElement(Ht.a,null)))},t.prototype.renderShortcutsForLocations=function(){var e=this.state.openIssue;if(!e||!e.secondaryLocations.length&&!e.flows.length)return null;var t=e.flows.length>1;return o.createElement("div",{className:"pull-right note"},o.createElement("span",{className:"shortcut-button little-spacer-right"},"alt"),o.createElement("span",{className:"little-spacer-right"},"+"),o.createElement("span",{className:"shortcut-button little-spacer-right"},"↑"),o.createElement("span",{className:"shortcut-button little-spacer-right"},"↓"),t&&o.createElement("span",null,o.createElement("span",{className:"shortcut-button little-spacer-right"},"←"),o.createElement("span",{className:"shortcut-button little-spacer-right"},"→")),Object(S.l)("issues.to_navigate_issue_locations"))},t.prototype.render=function(){var e=this.props.component,t=this.state,n=t.openIssue,r=t.paging,s=this.getSelectedIndex();return o.createElement("div",{className:"layout-page issues",id:"issues-page"},o.createElement(i.a,{title:Object(S.l)("issues.page")}),this.renderSide(n),o.createElement("div",{className:"layout-page-main"},o.createElement("div",{className:"layout-page-header-panel layout-page-main-header issues-main-header"},o.createElement("div",{className:"layout-page-header-panel-inner layout-page-main-header-inner"},o.createElement("div",{className:"layout-page-main-inner"},this.renderBulkChange(n),n?o.createElement("div",{className:"pull-left width-60"},o.createElement(R,{branchLike:this.props.branchLike,component:e,issue:n,organization:this.props.organization,selectedFlowIndex:this.state.selectedFlowIndex,selectedLocationIndex:this.state.selectedLocationIndex})):o.createElement(se,{canSetHome:Boolean(!this.props.organization&&!this.props.component&&(!this.props.onSonarCloud||this.props.myIssues)),loading:this.state.loading,onReload:this.handleReload,onSonarCloud:this.props.onSonarCloud,paging:r,selectedIndex:s}),this.renderShortcutsForLocations()))),o.createElement("div",{className:"layout-page-main-inner"},o.createElement("div",null,n?o.createElement(Q,{branchLike:this.props.branchLike,loadIssues:this.fetchIssuesForComponent,locationsNavigator:this.state.locationsNavigator,onIssueChange:this.handleIssueChange,onIssueSelect:this.openIssue,onLocationSelect:this.selectLocation,openIssue:n,selectedFlowIndex:this.state.selectedFlowIndex,selectedLocationIndex:this.state.selectedLocationIndex}):this.renderList()))))},t.contextTypes={router:u.object.isRequired},t}(o.PureComponent);t.default=Yt},995:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(0),o=n(6);function s(e){return r.createElement("div",{className:o("search-navigator-facet-box",e.className),"data-property":e.property},e.children)}},997:function(e,t,n){"use strict";var r,o=n(0),s=n(6),a=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClick(t.props.value)},t}return a(t,e),t.prototype.render=function(){var e=s("facet","search-navigator-facet",this.props.className,{active:this.props.active,"search-navigator-facet-half":this.props.halfWidth});return this.props.disabled?o.createElement("span",{className:e,"data-facet":this.props.value},o.createElement("span",{className:"facet-name"},this.props.name),null!=this.props.stat&&o.createElement("span",{className:"facet-stat"},this.props.stat)):o.createElement("a",{className:e,"data-facet":this.props.value,href:"#",onClick:this.handleClick},o.createElement("span",{className:"facet-name"},this.props.name),null!=this.props.stat&&o.createElement("span",{className:"facet-stat"},this.props.stat))},t.defaultProps={disabled:!1,halfWidth:!1},t}(o.PureComponent);t.a=i},998:function(e,t,n){"use strict";var r,o=n(0),s=n(246),a=n(149),i=n(25),c=n(11),l=n(1),p=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClick&&t.props.onClick()},t}return p(t,e),t.prototype.renderHelper=function(){return this.props.helper?o.createElement(i.a,{overlay:this.props.helper},o.createElement("span",null,o.createElement(a.a,{className:"spacer-left text-info"}))):null},t.prototype.renderValueIndicator=function(){var e=this.props.values;if(this.props.open||!e||!e.length)return null;var t=1===e.length?e[0]:Object(l.m)("x_selected",e.length);return o.createElement("span",{className:"badge badge-secondary is-rounded text-ellipsis",title:t},t)},t.prototype.render=function(){var e=null!=this.props.values&&this.props.values.length>0&&null!=this.props.onClear;return o.createElement("div",{className:"search-navigator-facet-header-wrapper"},this.props.onClick?o.createElement("span",{className:"search-navigator-facet-header"},o.createElement("a",{href:"#",onClick:this.handleClick},o.createElement(s.a,{className:"little-spacer-right",open:this.props.open}),this.props.name),this.renderHelper()):o.createElement("span",{className:"search-navigator-facet-header"},this.props.name,this.renderHelper()),o.createElement("span",{className:"search-navigator-facet-header-value spacer-left spacer-right "},this.renderValueIndicator()),e&&o.createElement(c.a,{className:"search-navigator-facet-header-button button-small button-red",onClick:this.props.onClear},Object(l.l)("clear")))},t}(o.PureComponent);t.a=u},999:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0);function o(e){return r.createElement("div",{className:"search-navigator-facet-list"},e.children)}}}]);
//# sourceMappingURL=268.c0ee6e84.chunk.js.map