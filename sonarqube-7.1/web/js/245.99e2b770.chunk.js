(window.webpackJsonp=window.webpackJsonp||[]).push([[245],{1013:function(e,t,n){"use strict";var a,r=n(0),o=n(4),c=(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=e.call(this,t)||this;return n.getPosition=function(){var e=n.container&&n.container.getBoundingClientRect();return e?{top:window.pageYOffset+e.top,left:window.pageXOffset+e.left}:{top:0,left:0}},n.debouncedOnResize=Object(o.debounce)(function(){return n.forceUpdate()},250),n}return c(t,e),t.prototype.componentDidMount=function(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.debouncedOnResize)},t.prototype.render=function(){var e=this;return r.createElement("div",{className:this.props.className,ref:function(t){return e.container=t}},this.props.children(this.getPosition()))},t}(r.PureComponent);t.a=l},1055:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var a=n(3),r=n(13),o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function c(e){return void 0===e&&(e=!0),Object(a.getJSON)("/api/webservices/list",{include_internals:e}).then(function(e){return e.webServices.map(function(e){var t=!e.actions.find(function(e){return!e.deprecatedSince}),n=!e.actions.find(function(e){return!e.internal});return o({},e,{deprecated:t,internal:n})})}).catch(r.a)}function l(e,t){return Object(a.getJSON)("/api/webservices/response_example",{controller:e,action:t}).catch(r.a)}},1097:function(e,t,n){},1166:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(5),o=n(22),c=n.n(o),l=n(2),s=n(6),i=n(25),p=n(1);function m(e){var t=e.since,n=t?Object(p.m)("api_documentation.deprecated_since_x",t):Object(p.l)("api_documentation.deprecated");return a.createElement(i.a,{overlay:Object(p.l)("api_documentation.deprecation_tooltip")},a.createElement("span",{className:"badge badge-warning"},n))}function u(){return a.createElement(i.a,{overlay:Object(p.l)("api_documentation.internal_tooltip")},a.createElement("span",{className:"badge badge-danger"},Object(p.l)("internal")))}function d(e,t,n,a,r){var o=n.toLowerCase();return(t||!r.internal)&&(e||!r.deprecatedSince)&&(h(a.path,r.key).includes(o)||(r.description||"").toLowerCase().includes(o))}function h(e,t){return e+"/"+t}var f=function(e,t){var n=e.split("/"),a=t.split("/");if(n.length>a.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==a[r])return!1;return!0},E=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function w(e){var t=e.domains,n=e.showInternal,r=e.showDeprecated,o=e.searchQuery,c=e.splat,i=(t||[]).map(function(e){var t=e.actions.filter(function(t){return d(r,n,o,e,t)});return E({},e,{filteredActions:t})}).filter(function(e){return e.filteredActions.length});return a.createElement("div",{className:"api-documentation-results panel"},a.createElement("div",{className:"list-group"},i.map(function(e){return a.createElement(l.Link,{className:s("list-group-item",{active:f(e.path,c)}),key:e.path,to:"/web_api/"+e.path},a.createElement("h3",{className:"list-group-item-heading"},e.path,e.deprecated&&a.createElement(m,null),e.internal&&a.createElement(u,null)))})))}var g=n(46),v=n(149),y=n(47);function b(e){var t=e.showInternal,n=e.showDeprecated,r=e.onToggleInternal,o=e.onToggleDeprecated;return a.createElement("div",{className:"web-api-search"},a.createElement("div",null,a.createElement(y.a,{onChange:e.onSearch,placeholder:Object(p.l)("api_documentation.search")})),a.createElement("div",{className:"big-spacer-top"},a.createElement(g.a,{checked:t,onCheck:r},a.createElement("span",{className:"little-spacer-left"},Object(p.l)("api_documentation.show_internal"))),a.createElement(i.a,{overlay:Object(p.l)("api_documentation.internal_tooltip")},a.createElement("span",null,a.createElement(v.a,{className:"spacer-left text-info"})))),a.createElement("div",{className:"spacer-top"},a.createElement(g.a,{checked:n,onCheck:o},a.createElement("span",{className:"little-spacer-left"},Object(p.l)("api_documentation.show_deprecated"))),a.createElement(i.a,{overlay:Object(p.l)("api_documentation.deprecation_tooltip")},a.createElement("span",null,a.createElement(v.a,{className:"spacer-left text-info"})))))}function _(e){var t=e.params,n=e.showDeprecated,r=e.showInternal,o=t.filter(function(e){return n||!e.deprecatedSince}).filter(function(e){return r||!e.internal});return a.createElement("div",{className:"web-api-params"},a.createElement("table",null,a.createElement("tbody",null,o.map(function(e){return a.createElement("tr",{key:e.key},a.createElement("td",{className:"markdown",style:{width:180}},a.createElement("code",null,e.key),e.internal&&a.createElement("div",{className:"little-spacer-top"},a.createElement(u,null)),e.deprecatedSince&&a.createElement("div",{className:"little-spacer-top"},a.createElement(m,{since:e.deprecatedSince})),n&&e.deprecatedKey&&a.createElement("div",{className:"little-spacer-top"},a.createElement("code",null,e.deprecatedKey)),n&&e.deprecatedKey&&e.deprecatedKeySince&&a.createElement("div",{className:"little-spacer-top"},a.createElement(m,{since:e.deprecatedKeySince})),a.createElement("div",{className:"note little-spacer-top"},e.required?"required":"optional"),e.since&&a.createElement("div",{className:"note little-spacer-top"},Object(p.m)("since_x",e.since))),a.createElement("td",null,a.createElement("div",{className:"markdown",dangerouslySetInnerHTML:{__html:e.description}})),a.createElement("td",{style:{width:250}},e.possibleValues&&a.createElement("div",null,a.createElement("h4",null,Object(p.l)("api_documentation.possible_values")),a.createElement("ul",{className:"list-styled"},e.possibleValues.map(function(e){return a.createElement("li",{key:e,className:"little-spacer-top"},a.createElement("code",null,e))}))),e.defaultValue&&a.createElement("div",{className:"little-spacer-top"},a.createElement("h4",null,Object(p.l)("api_documentation.default_values")),a.createElement("code",null,e.defaultValue)),e.exampleValue&&a.createElement("div",{className:"little-spacer-top"},a.createElement("h4",null,Object(p.l)("api_documentation.example_values")),a.createElement("code",null,e.exampleValue)),null!=e.maxValuesAllowed&&a.createElement("div",{className:"little-spacer-top"},a.createElement("h4",null,Object(p.l)("api_documentation.max_values")),a.createElement("code",null,e.maxValuesAllowed))))}))))}var N,O=n(1055),j=(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={},t}return j(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchResponseExample()},t.prototype.componentDidUpdate=function(e){e.action!==this.props.action&&this.fetchResponseExample()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.fetchResponseExample=function(){var e=this,t=this.props,n=t.domain,a=t.action;Object(O.a)(n.path,a.key).then(function(t){return e.setState({responseExample:t})},function(){})},t.prototype.render=function(){var e=this.state.responseExample;return a.createElement("div",{className:"web-api-response"},e&&a.createElement("pre",{style:{whiteSpace:"pre-wrap"}},e.example))},t}(a.PureComponent);function S(e){var t=e.changelog;return a.createElement("ul",{className:"big-spacer-top"},t.map(function(e,t){return a.createElement("li",{key:t,className:"spacer-top"},a.createElement("span",{className:"spacer-right badge"},e.version),e.description)}))}var I=n(245),C=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showChangelog:!1,showParams:!1,showResponse:!1},t.handleShowParamsClick=function(e){e.preventDefault(),t.setState({showChangelog:!1,showResponse:!1,showParams:!t.state.showParams})},t.handleShowResponseClick=function(e){e.preventDefault(),t.setState({showChangelog:!1,showParams:!1,showResponse:!t.state.showResponse})},t.handleChangelogClick=function(e){e.preventDefault(),t.setState({showChangelog:!t.state.showChangelog,showParams:!1,showResponse:!1})},t}return C(t,e),t.prototype.renderTabs=function(){var e=this.props.action,t=this.state,n=t.showChangelog,r=t.showParams,o=t.showResponse;return e.params||e.hasResponseExample||e.changelog.length>0?a.createElement("ul",{className:"web-api-action-actions tabs"},e.params&&a.createElement("li",null,a.createElement("a",{className:s({selected:r}),href:"#",onClick:this.handleShowParamsClick},Object(p.l)("api_documentation.parameters"))),e.hasResponseExample&&a.createElement("li",null,a.createElement("a",{className:s({selected:o}),href:"#",onClick:this.handleShowResponseClick},Object(p.l)("api_documentation.response_example"))),e.changelog.length>0&&a.createElement("li",null,a.createElement("a",{className:s({selected:n}),href:"#",onClick:this.handleChangelogClick},Object(p.l)("api_documentation.changelog")))):null},t.prototype.render=function(){var e=this.props,t=e.action,n=e.domain,r=this.state,o=r.showChangelog,c=r.showParams,s=r.showResponse,i=t.post?"POST":"GET",d=h(n.path,t.key);return a.createElement("div",{id:d,className:"boxed-group"},a.createElement("header",{className:"web-api-action-header boxed-group-header"},a.createElement(l.Link,{to:{pathname:"/web_api/"+d},className:"spacer-right link-no-underline"},a.createElement(I.a,null)),a.createElement("h3",{className:"web-api-action-title"},i," ",d),t.internal&&a.createElement("span",{className:"spacer-left"},a.createElement(u,null)),t.since&&a.createElement("span",{className:"spacer-left badge"},Object(p.m)("since_x",t.since)),t.deprecatedSince&&a.createElement("span",{className:"spacer-left"},a.createElement(m,{since:t.deprecatedSince}))),a.createElement("div",{className:"boxed-group-inner"},a.createElement("div",{className:"web-api-action-description markdown",dangerouslySetInnerHTML:{__html:t.description}}),this.renderTabs(),c&&t.params&&a.createElement(_,{params:t.params,showDeprecated:this.props.showDeprecated,showInternal:this.props.showInternal}),s&&t.hasResponseExample&&a.createElement(k,{domain:n,action:t}),o&&a.createElement(S,{changelog:t.changelog})))},t}(a.PureComponent);function D(e){var t=e.domain,n=e.showInternal,r=e.showDeprecated,o=e.searchQuery,c=t.actions.filter(function(e){return d(r,n,o,t,e)});return a.createElement("div",{className:"web-api-domain"},a.createElement("header",{className:"web-api-domain-header"},a.createElement("h2",{className:"web-api-domain-title"},t.path),t.deprecated&&a.createElement("span",{className:"spacer-left"},a.createElement(m,null)),t.internal&&a.createElement("span",{className:"spacer-left"},a.createElement(u,null))),t.description&&a.createElement("div",{className:"web-api-domain-description markdown",dangerouslySetInnerHTML:{__html:t.description}}),a.createElement("div",{className:"web-api-domain-actions"},c.map(function(e){return a.createElement(x,{key:h(t.path,e.key),action:e,domain:t,showDeprecated:r,showInternal:n})})))}var P=n(1013),R=n(244),T=(n(1097),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),L=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.scrollToAction=function(){var e=n.props.params.splat||"",t=document.getElementById(e);t?Object(R.a)(t,{topOffset:20,bottomOffset:20}):window.scrollTo(0,0)},n.handleSearch=function(e){return n.setState({searchQuery:e})},n.handleToggleInternal=function(){var e=n.props.params.splat||"",t=n.context.router,a=n.state.domains.find(function(t){return f(t.path,e)}),r=!n.state.showInternal;a&&a.internal&&!r&&t.push("/web_api"),n.setState({showInternal:r})},n.handleToggleDeprecated=function(){return n.setState(function(e){return{showDeprecated:!e.showDeprecated}})},n.state={domains:[],searchQuery:"",showDeprecated:!1,showInternal:!1},n}return T(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchList();var e=document.getElementById("footer");e&&e.classList.add("page-footer-with-sidebar")},t.prototype.componentDidUpdate=function(){this.toggleInternalInitially(),this.scrollToAction()},t.prototype.componentWillUnmount=function(){this.mounted=!1;var e=document.getElementById("footer");e&&e.classList.remove("page-footer-with-sidebar")},t.prototype.fetchList=function(){var e=this;Object(O.b)().then(function(t){e.mounted&&e.setState({domains:t})},function(){})},t.prototype.toggleInternalInitially=function(){var e=this,t=this.props.params.splat||"",n=this.state,a=n.domains;n.showInternal||a.forEach(function(n){n.path===t&&n.internal&&e.setState({showInternal:!0}),n.actions.forEach(function(a){h(n.path,a.key)===t&&a.internal&&e.setState({showInternal:!0})})})},t.prototype.render=function(){var e=this,t=this.props.params.splat||"",n=this.state,r=n.domains,o=n.showInternal,s=n.showDeprecated,i=n.searchQuery,m=r.find(function(e){return f(e.path,t)});return a.createElement("div",{className:"layout-page"},a.createElement(c.a,{title:Object(p.l)("api_documentation.page")}),a.createElement(P.a,{className:"layout-page-side-outer"},function(n){var r=n.top;return a.createElement("div",{className:"layout-page-side",style:{top:r}},a.createElement("div",{className:"layout-page-side-inner"},a.createElement("div",{className:"layout-page-filters"},a.createElement("div",{className:"web-api-page-header"},a.createElement(l.Link,{to:"/web_api/"},a.createElement("h1",null,Object(p.l)("api_documentation.page")))),a.createElement(b,{showDeprecated:s,showInternal:o,onSearch:e.handleSearch,onToggleInternal:e.handleToggleInternal,onToggleDeprecated:e.handleToggleDeprecated}),a.createElement(w,{domains:e.state.domains,showDeprecated:s,showInternal:o,searchQuery:i,splat:t}))))}),a.createElement("div",{className:"layout-page-main"},a.createElement("div",{className:"layout-page-main-inner"},m&&a.createElement(D,{key:m.path,domain:m,showDeprecated:s,showInternal:o,searchQuery:i}))))},t.contextTypes={router:r.object.isRequired},t}(a.PureComponent);t.default=L}}]);
//# sourceMappingURL=245.99e2b770.chunk.js.map