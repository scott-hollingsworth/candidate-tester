(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{1152:function(e,a,t){"use strict";t.r(a);var r,o=t(0),s=t.n(o),n=t(22),c=t.n(n),l=t(10),i=t(88),d=t(1),m=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var t in a)a.hasOwnProperty(t)&&(e[t]=a[t])},function(e,a){function t(){this.constructor=e}r(e,a),e.prototype=null===a?Object.create(a):(t.prototype=a.prototype,new t)}),u=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return a.state={success:!1,errors:null},a.handleSuccessfulChange=function(){a.oldPassword.value="",a.password.value="",a.passwordConfirmation.value="",a.setState({success:!0,errors:null})},a.handleFailedChange=function(e){e.response.json().then(function(e){a.oldPassword.focus(),a.setErrors(e.errors.map(function(e){return e.msg}))})},a.setErrors=function(e){a.setState({success:!1,errors:e})},a.handleChangePassword=function(e){e.preventDefault();var t=a.props.user,r=a.oldPassword.value,o=a.password.value;o!==a.passwordConfirmation.value?(a.password.focus(),a.setErrors([Object(d.l)("user.password_doesnt_match_confirmation")])):Object(i.a)({login:t.login,password:o,previousPassword:r}).then(a.handleSuccessfulChange).catch(a.handleFailedChange)},a}return m(a,e),a.prototype.render=function(){var e=this,a=this.state,t=a.success,r=a.errors;return s.a.createElement("section",{className:"boxed-group"},s.a.createElement("h2",{className:"spacer-bottom"},Object(d.l)("my_profile.password.title")),s.a.createElement("form",{className:"boxed-group-inner",onSubmit:this.handleChangePassword},t&&s.a.createElement("div",{className:"alert alert-success"},Object(d.l)("my_profile.password.changed")),r&&r.map(function(e,a){return s.a.createElement("div",{key:a,className:"alert alert-danger"},e)}),s.a.createElement("div",{className:"modal-field"},s.a.createElement("label",{htmlFor:"old_password"},Object(d.l)("my_profile.password.old"),s.a.createElement("em",{className:"mandatory"},"*")),s.a.createElement("input",{ref:function(a){return e.oldPassword=a},autoComplete:"off",id:"old_password",name:"old_password",required:!0,type:"password"})),s.a.createElement("div",{className:"modal-field"},s.a.createElement("label",{htmlFor:"password"},Object(d.l)("my_profile.password.new"),s.a.createElement("em",{className:"mandatory"},"*")),s.a.createElement("input",{ref:function(a){return e.password=a},autoComplete:"off",id:"password",name:"password",required:!0,type:"password"})),s.a.createElement("div",{className:"modal-field"},s.a.createElement("label",{htmlFor:"password_confirmation"},Object(d.l)("my_profile.password.confirm"),s.a.createElement("em",{className:"mandatory"},"*")),s.a.createElement("input",{ref:function(a){return e.passwordConfirmation=a},autoComplete:"off",id:"password_confirmation",name:"password_confirmation",required:!0,type:"password"})),s.a.createElement("div",{className:"modal-field"},s.a.createElement("button",{id:"change-password",type:"submit"},Object(d.l)("my_profile.password.submit")))))},a}(o.Component),p=t(1086);function f(e){var a=e.login;return o.createElement("div",{className:"boxed-group"},o.createElement("h2",null,Object(d.l)("users.tokens")),o.createElement("div",{className:"boxed-group-inner"},o.createElement("div",{className:"big-spacer-bottom big-spacer-right markdown"},Object(d.l)("my_account.tokens_description")),o.createElement(p.a,{login:a})))}var w=t(7);a.default=Object(l.connect)(function(e){return{user:Object(w.getCurrentUser)(e)}})(function(e){var a=e.user;return s.a.createElement("div",{className:"account-body account-container"},s.a.createElement(c.a,{title:Object(d.l)("my_account.security")}),s.a.createElement(f,{login:a.login}),a.local&&s.a.createElement(u,{user:a}))})}}]);
//# sourceMappingURL=259.e2adeb8c.chunk.js.map