(window.webpackJsonp=window.webpackJsonp||[]).push([[269],{1122:function(e,t,n){},1178:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(0),o=n(5),l=n(4),i=n(22),s=n.n(i),c=n(1);function p(){return r.createElement("header",{id:"marketplace-header",className:"page-header"},r.createElement("h1",{className:"page-title"},Object(c.l)("marketplace.page")),r.createElement("p",{className:"page-description"},Object(c.l)("marketplace.page.description")))}var u=n(27),d=n(263);function m(e){var t=e.editionKey,n=e.status,a=n.currentEditionKey===t||!n.currentEditionKey&&"community"===t,o=n.nextEditionKey===t||!n.nextEditionKey&&"community"===t;if(["AUTOMATIC_READY","AUTOMATIC_IN_PROGRESS","UNINSTALL_IN_PROGRESS"].includes(n.installationStatus)){if(o)return r.createElement("span",{className:"marketplace-edition-badge badge badge-normal-size"},"AUTOMATIC_IN_PROGRESS"===n.installationStatus?Object(c.l)("marketplace.installing"):Object(c.l)("marketplace.pending"))}else if(a)return r.createElement("span",{className:"marketplace-edition-badge badge badge-normal-size display-flex-center"},r.createElement(d.a,{size:14,className:"little-spacer-right"}),Object(c.l)("marketplace.installed"));return null}var g,h=n(11),f=(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleAction=function(){t.props.onAction(t.props.edition)},t}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.disableAction,n=e.displayAction,a=e.edition,o=e.editionStatus;return r.createElement("div",{className:"boxed-group boxed-group-inner marketplace-edition"},o&&r.createElement(m,{editionKey:a.key,status:o}),r.createElement("div",null,r.createElement("h3",{className:"spacer-bottom"},a.name),r.createElement("p",null,a.textDescription)),r.createElement("div",{className:"marketplace-edition-action spacer-top"},r.createElement("a",{href:a.homeUrl,target:"_blank"},Object(c.l)("marketplace.learn_more")),n&&r.createElement(h.a,{disabled:t,onClick:this.handleAction},this.props.actionLabel)))},t}(r.PureComponent),y=n(303),E=n(68),v=n(20),O=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={license:"",submitting:!1},t.handleLicenseChange=function(e,n){t.mounted&&t.setState({license:e,status:n})},t.handleConfirmClick=function(){var e=t.state,n=e.license,a=e.status;n&&a&&(t.setState({submitting:!0}),Object(E.a)({license:n}).then(function(e){t.props.updateEditionStatus(e),t.props.onClose()},function(){t.mounted&&t.setState({submitting:!1})}))},t}return O(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.edition,n=e.isDowngrade,a=this.state,o=a.license,l=a.submitting,i=a.status,s=n?Object(c.m)("marketplace.downgrade_to_x",t.name):Object(c.m)("marketplace.upgrade_to_x",t.name);return r.createElement(v.a,{contentLabel:s,onRequestClose:this.props.onClose},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,s)),r.createElement(y.a,{className:"modal-body",edition:t,editions:this.props.editions,updateLicense:this.handleLicenseChange}),r.createElement("footer",{className:"modal-foot"},l&&r.createElement("i",{className:"spinner spacer-right"}),i&&r.createElement(h.a,{className:"js-confirm",disabled:!o||l,onClick:this.handleConfirmClick},"AUTOMATIC_INSTALL"===i?Object(c.l)("marketplace.install"):Object(c.l)("save")),r.createElement(h.e,{onClick:this.props.onClose},Object(c.l)("cancel"))))},t}(r.PureComponent),k=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),j=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!1},t.handleConfirmClick=function(){t.setState({loading:!0}),Object(E.g)().then(function(){t.props.updateEditionStatus(j({},t.props.editionStatus,{currentEditionKey:void 0,installationStatus:"UNINSTALL_IN_PROGRESS"})),t.props.onClose()}).catch(function(){t.mounted&&t.setState({loading:!1})})},t}return k(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.edition,t=this.state.loading,n=e?e.name:Object(c.l)("marketplace.commercial_edition"),a=Object(c.m)("marketplace.downgrade_to_community_edition");return r.createElement(v.a,{contentLabel:a,onRequestClose:this.props.onClose},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,a)),r.createElement("div",{className:"modal-body"},r.createElement("p",null,Object(c.m)("marketplace.uninstall_x_confirmation",n))),r.createElement("footer",{className:"modal-foot"},t&&r.createElement("i",{className:"spinner spacer-right"}),r.createElement(h.a,{disabled:t,onClick:this.handleConfirmClick},Object(c.l)("marketplace.downgrade")),r.createElement(h.e,{className:"js-modal-close",onClick:this.props.onClose},Object(c.l)("cancel"))))},t}(r.PureComponent),P=n(8);function C(e){return void 0!==e.release}function S(e){return function(e){return void 0!==e.version}(e)&&void 0!==e.updatedAt}var w=["community","developer","enterprise","datacenter"];var A=Object(l.memoize)(function(e){return{filter:Object(P.h)(e.filter)||"all",search:Object(P.h)(e.search)}}),U=Object(l.memoize)(function(e){return Object(P.a)({filter:"all"===e.filter?void 0:Object(P.m)(e.filter),search:e.search?Object(P.m)(e.search):void 0})}),x=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openUninstallForm:!1},t.handleOpenLicenseForm=function(e){return t.setState({installEdition:e})},t.handleCloseLicenseForm=function(){return t.setState({installEdition:void 0})},t.handleOpenUninstallForm=function(){return t.setState({openUninstallForm:!0})},t.handleCloseUninstallForm=function(){return t.setState({openUninstallForm:!1})},t}return x(t,e),t.prototype.renderForms=function(e,t){var n=this.props,a=n.canInstall,o=n.canUninstall,l=n.editionStatus,i=this.state,s=i.installEdition,c=i.openUninstallForm,p=s&&e.findIndex(function(e){return e.key===s.key});return a&&s?r.createElement(_,{edition:s,editions:e,isDowngrade:void 0!==t&&void 0!==p&&p<t,onClose:this.handleCloseLicenseForm,updateEditionStatus:this.props.updateEditionStatus}):o&&c&&l&&l.currentEditionKey?r.createElement(N,{edition:e.find(function(e){return e.key===l.currentEditionKey}),editionStatus:l,onClose:this.handleCloseUninstallForm,updateEditionStatus:this.props.updateEditionStatus}):null},t.prototype.render=function(){var e=this,t=this.props,n=t.canInstall,a=t.canUninstall,o=t.editions;if(t.loading)return r.createElement("i",{className:"big-spacer-bottom spinner"});if(!o)return r.createElement("div",{className:"spacer-bottom marketplace-editions"},r.createElement("span",{className:"alert alert-info"},r.createElement(u.b,{defaultMessage:Object(c.l)("marketplace.editions_unavailable"),id:"marketplace.editions_unavailable",values:{url:r.createElement("a",{href:"https://redirect.sonarsource.com/editions/editions.html",target:"_blank"},"SonarSource.com")}})));var i=function(e){return Object(l.sortBy)(e,function(e){return w.indexOf(e.key)})}(o),s=this.props.editionStatus||{installationStatus:"NONE"},p=["AUTOMATIC_IN_PROGRESS","AUTOMATIC_READY","UNINSTALL_IN_PROGRESS"].includes(s.installationStatus),d=i.findIndex(function(e){return e.key===s.currentEditionKey}),m=i.findIndex(function(e){return e.key===s.nextEditionKey}),g=p?m:d;return r.createElement("div",{className:"spacer-bottom marketplace-editions"},r.createElement(b,{actionLabel:Object(c.l)("marketplace.downgrade"),disableAction:p,displayAction:a&&g>0,edition:i[0],editionStatus:s,key:i[0].key,onAction:this.handleOpenUninstallForm}),i.slice(1).map(function(t,a){return r.createElement(b,{actionLabel:g>a+1?Object(c.l)("marketplace.downgrade"):Object(c.l)("marketplace.upgrade"),disableAction:p,displayAction:n&&g!==a+1,edition:t,editionStatus:s,key:t.key,onAction:e.handleOpenLicenseForm})}),this.renderForms(i,d))},t}(r.PureComponent);function T(e){var t=e.total;return r.createElement("footer",{className:"spacer-top note text-center"},Object(c.m)("x_show",t))}var I=n(147),M=n(25);function R(e){var t=e.release,n=e.update;return r.createElement("li",{className:"big-spacer-bottom"},r.createElement("div",{className:"little-spacer-bottom"},"COMPATIBLE"!==n.status&&n.status?r.createElement(M.a,{overlay:Object(c.l)("marketplace.update_status",n.status)},r.createElement("span",{className:"js-plugin-changelog-version badge badge-warning spacer-right"},t.version)):r.createElement("span",{className:"js-plugin-changelog-version badge badge-success spacer-right"},t.version),r.createElement("span",{className:"js-plugin-changelog-date note spacer-right"},r.createElement(I.a,{date:t.date})),t.changeLogUrl&&r.createElement("a",{className:"js-plugin-changelog-link",href:t.changeLogUrl,target:"_blank"},Object(c.l)("marketplace.release_notes"))),r.createElement("div",{className:"js-plugin-changelog-description"},t.description))}var F=n(994);function z(e){var t=e.popupPosition,n=e.release,a=e.update;return r.createElement(F.a,{position:t,customClass:"bubble-popup-bottom-right"},r.createElement("div",{className:"abs-width-300 bubble-popup-container"},r.createElement("div",{className:"bubble-popup-title"},Object(c.l)("changelog")),r.createElement("ul",{className:"js-plugin-changelog-list"},a.previousUpdates&&a.previousUpdates.map(function(e){return e.release?r.createElement(R,{key:e.release.version,release:e.release,update:e}):null}),r.createElement(R,{release:n,update:a}))))}var q=n(996),K=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={changelogOpen:!1},t.toggleChangelog=function(e){void 0!==e?t.setState({changelogOpen:e}):t.setState(function(e){return{changelogOpen:!e.changelogOpen}})},t.handleClick=function(){t.toggleChangelog()},t}return K(t,e),t.prototype.render=function(){return r.createElement("div",{className:"display-inline-block little-spacer-left"},r.createElement(h.a,{className:"button-link js-changelog issue-rule icon-ellipsis-h",onClick:this.handleClick}),r.createElement(q.a,{isOpen:this.state.changelogOpen,popup:r.createElement(z,{release:this.props.release,update:this.props.update}),position:"bottomright",togglePopup:this.toggleChangelog}))},t}(r.PureComponent),B=function(e){return r.createElement("td",{className:"text-top width-25 big-spacer-right"},r.createElement("div",null,r.createElement("strong",{className:"js-plugin-name"},e.plugin.name),e.plugin.category&&r.createElement("span",{className:"js-plugin-category badge spacer-left"},e.plugin.category)),r.createElement("div",{className:"js-plugin-description little-spacer-top"},e.plugin.description))};function Q(e){var t=e.license;return t?r.createElement(M.a,{overlay:t},r.createElement("li",{className:"little-spacer-bottom marketplace-plugin-license"},r.createElement(u.b,{defaultMessage:Object(c.l)("marketplace.licensed_under_x"),id:"marketplace.licensed_under_x",values:{license:r.createElement("span",{className:"js-plugin-license"},t)}}))):null}function G(e){var t=e.plugin;return t.organizationName?r.createElement("li",{className:"little-spacer-bottom"},r.createElement(u.b,{defaultMessage:Object(c.l)("marketplace.developed_by_x"),id:"marketplace.developed_by_x",values:{organization:t.organizationUrl?r.createElement("a",{className:"js-plugin-organization",href:t.organizationUrl,target:"_blank"},t.organizationName):r.createElement("span",{className:"js-plugin-organization"},t.organizationName)}})):null}var W=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick(t.props.update)},t}return W(t,e),t.prototype.render=function(){var e=this.props,t=e.disabled,n=e.update;return"COMPATIBLE"===n.status&&n.release?r.createElement(h.a,{className:"js-update little-spacer-bottom",disabled:t,onClick:this.handleClick},Object(c.m)("marketplace.update_to_x",n.release.version)):null},t}(r.PureComponent),Y=n(158),V=n(46),H=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={acceptTerms:!1,loading:!1},t.doPluginAction=function(e){t.setState({loading:!0}),e({key:t.props.plugin.key}).then(function(){t.props.refreshPending(),t.mounted&&t.setState({loading:!1})},function(){t.mounted&&t.setState({loading:!1})})},t.handleInstall=function(){return t.doPluginAction(Y.g)},t.handleUpdate=function(){return t.doPluginAction(Y.i)},t.handleUninstall=function(){return t.doPluginAction(Y.h)},t.handleTermsCheck=function(e){return t.setState({acceptTerms:e})},t}return H(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.renderBundled=function(){var e=this,t=this.props.plugin;return r.createElement("div",{className:"js-actions"},C(t)&&r.createElement("div",null,r.createElement("p",{className:"little-spacer-bottom"},Object(c.l)("marketplace.available_under_commercial_license")),r.createElement("a",{href:t.homepageUrl,target:"_blank"},Object(c.l)("marketplace.learn_more"))),S(t)&&r.createElement("p",null,r.createElement(d.a,{className:"little-spacer-right"}),Object(c.l)("marketplace.installed")),S(t)&&t.updates&&t.updates.length>0&&r.createElement("div",{className:"spacer-top"},t.updates.map(function(t,n){return r.createElement(J,{disabled:e.state.loading,key:n,onClick:e.handleUpdate,update:t})})))},t.prototype.render=function(){var e=this,t=this.props.plugin;if(t.editionBundled)return this.renderBundled();var n=this.state.loading;return r.createElement("div",{className:"js-actions"},C(t)&&t.termsAndConditionsUrl&&r.createElement("p",{className:"little-spacer-bottom"},r.createElement(V.a,{checked:this.state.acceptTerms,className:"js-terms",id:"plugin-terms-"+t.key,onCheck:this.handleTermsCheck},r.createElement("label",{className:"little-spacer-left",htmlFor:"plugin-terms-"+t.key},Object(c.l)("marketplace.i_accept_the"))),r.createElement("a",{className:"js-plugin-terms nowrap little-spacer-left",href:t.termsAndConditionsUrl,target:"_blank"},Object(c.l)("marketplace.terms_and_conditions"))),n&&r.createElement("i",{className:"spinner spacer-right little-spacer-top little-spacer-bottom"}),S(t)&&r.createElement("div",{className:"display-inlin-block"},t.updates&&t.updates.map(function(t,a){return r.createElement(J,{disabled:n,key:a,onClick:e.handleUpdate,update:t})}),r.createElement(h.a,{className:"js-uninstall button-red little-spacer-left",disabled:n,onClick:this.handleUninstall},Object(c.l)("marketplace.uninstall"))),C(t)&&r.createElement(h.a,{className:"js-install",disabled:n||null!=t.termsAndConditionsUrl&&!this.state.acceptTerms,onClick:this.handleInstall},Object(c.l)("marketplace.install")))},t}(r.PureComponent);function Z(e){var t=e.plugin,n=e.refreshPending,a=e.status;return r.createElement("td",{className:"text-top text-right width-20 little-spacer-left"},"installing"===a&&r.createElement("p",{className:"text-success"},Object(c.l)("marketplace.install_pending")),"updating"===a&&r.createElement("p",{className:"text-success"},Object(c.l)("marketplace.update_pending")),"removing"===a&&r.createElement("p",{className:"text-danger"},Object(c.l)("marketplace.uninstall_pending")),null==a&&r.createElement(X,{plugin:t,refreshPending:n}))}function $(e){var t=e.plugin;return t.homepageUrl||t.issueTrackerUrl?r.createElement("li",{className:"little-spacer-bottom"},r.createElement("ul",{className:"list-inline"},t.homepageUrl&&r.createElement("li",null,r.createElement("a",{className:"js-plugin-homepage",href:t.homepageUrl,target:"_blank"},Object(c.l)("marketplace.homepage"))),t.issueTrackerUrl&&r.createElement("li",null,r.createElement("a",{className:"js-plugin-issues",href:t.issueTrackerUrl,target:"_blank"},Object(c.l)("marketplace.issue_tracker"))))):null}function ee(e){var t=e.plugin,n=e.readOnly,a=e.refreshPending,o=e.status;return r.createElement("tr",null,r.createElement(B,{plugin:t}),r.createElement("td",{className:"text-top big-spacer-right"},r.createElement("ul",null,r.createElement("li",{className:"display-flex-row little-spacer-bottom"},r.createElement("div",{className:"pull-left spacer-right"},r.createElement("span",{className:"badge badge-success"},t.release.version)),r.createElement("div",null,t.release.description,r.createElement(D,{release:t.release,update:t.update}),t.update.requires.length>0&&r.createElement("p",{className:"little-spacer-top"},r.createElement("strong",null,Object(c.m)("marketplace.installing_this_plugin_will_also_install_x",t.update.requires.map(function(e){return e.name}).join(", ")))))))),r.createElement("td",{className:"text-top width-20"},r.createElement("ul",null,r.createElement($,{plugin:t}),r.createElement(Q,{license:t.license}),r.createElement(G,{plugin:t}))),!n&&r.createElement(Z,{plugin:t,status:o,refreshPending:a}))}var te=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={changelogOpen:!1},t.handleChangelogClick=function(e){e.preventDefault(),e.stopPropagation(),t.toggleChangelog()},t.toggleChangelog=function(e){void 0!==e?t.setState({changelogOpen:e}):t.setState(function(e){return{changelogOpen:!e.changelogOpen}})},t}return te(t,e),t.prototype.render=function(){var e=this.props,t=e.release,n=e.update;return r.createElement("li",{key:t.version,className:"display-flex-row little-spacer-bottom"},r.createElement("div",{className:"pull-left spacer-right"},"COMPATIBLE"===n.status?r.createElement("span",{className:"js-update-version badge badge-success"},t.version):r.createElement(M.a,{overlay:Object(c.l)("marketplace.update_status",n.status)},r.createElement("span",{className:"js-update-version badge badge-warning"},t.version))),r.createElement("div",null,t.description,r.createElement(D,{release:t,update:n})))},t}(r.PureComponent);function ae(e){var t=e.updates;return!t||t.length<=0?null:r.createElement("li",{className:"spacer-top"},r.createElement("strong",null,Object(c.l)("marketplace.updates"),":"),r.createElement("ul",{className:"little-spacer-top"},t.map(function(e){return e.release?r.createElement(ne,{key:e.release.version,release:e.release,update:e}):null})))}function re(e){var t=e.plugin,n=e.readOnly,a=e.refreshPending,o=e.status;return r.createElement("tr",null,r.createElement(B,{plugin:t}),r.createElement("td",{className:"text-top big-spacer-right"},r.createElement("ul",null,r.createElement("li",{className:"little-spacer-bottom"},r.createElement("strong",{className:"js-plugin-installed-version little-spacer-right"},t.version),Object(c.l)("marketplace._installed")),r.createElement(ae,{updates:t.updates}))),r.createElement("td",{className:"text-top width-20"},r.createElement("ul",null,r.createElement($,{plugin:t}),r.createElement(Q,{license:t.license}),r.createElement(G,{plugin:t}))),!n&&r.createElement(Z,{plugin:t,status:o,refreshPending:a}))}var oe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPluginStatus=function(e){var n=t.props.pending,a=n.installing,r=n.updating,o=n.removing;return a.find(function(t){return t.key===e.key})?"installing":r.find(function(t){return t.key===e.key})?"updating":o.find(function(t){return t.key===e.key})?"removing":void 0},t.renderPlugin=function(e){var n=t.getPluginStatus(e);return S(e)?r.createElement(re,{plugin:e,readOnly:t.props.readOnly,refreshPending:t.props.refreshPending,status:n}):C(e)?r.createElement(ee,{plugin:e,readOnly:t.props.readOnly,refreshPending:t.props.refreshPending,status:n}):null},t}return oe(t,e),t.prototype.render=function(){var e=this;return r.createElement("div",{className:"boxed-group boxed-group-inner",id:"marketplace-plugins"},r.createElement("ul",null,this.props.plugins.map(function(t){return r.createElement("li",{className:"panel panel-vertical",key:t.key},r.createElement("table",{className:"marketplace-plugin-table"},r.createElement("tbody",null,e.renderPlugin(t))))})))},t}(r.PureComponent),ie=n(160),se=n(47),ce=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSearch=function(e){t.props.updateQuery({search:e})},t.handleFilterChange=function(e){return t.props.updateQuery({filter:e})},t}return ce(t,e),t.prototype.render=function(){var e=this.props,t=e.query,n=e.updateCenterActive,a=[{label:Object(c.l)("marketplace.all"),value:"all"},{label:Object(c.l)("marketplace.installed"),value:"installed"},{disabled:!n,label:Object(c.l)("marketplace.updates_only"),tooltip:n?void 0:Object(c.l)("marketplace.not_activated"),value:"updates"}];return r.createElement("div",{className:"big-spacer-bottom",id:"marketplace-search"},r.createElement("div",{className:"display-inline-block text-top nowrap abs-width-240 spacer-right"},r.createElement(ie.a,{name:"marketplace-filter",onCheck:this.handleFilterChange,options:a,value:t.filter})),r.createElement(se.a,{onChange:this.handleSearch,placeholder:Object(c.l)("marketplace.search"),value:t.search}))},t}(r.PureComponent),ue=(n(1122),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}()),de=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},me=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.fetchQueryPlugins=function(){var e=A(n.props.location.query),t=n.fetchAllPlugins;"updates"===e.filter?t=Y.f:"installed"===e.filter&&(t=Y.c),n.setState({loadingPlugins:!0}),t().then(function(e){n.mounted&&n.setState({loadingPlugins:!1,plugins:Object(l.sortBy)(e,"name")})},n.stopLoadingPlugins)},n.fetchAllPlugins=function(){return Promise.all([Object(Y.d)(),Object(Y.b)()]).then(function(e){var t=e[0],n=e[1];return Object(l.uniqBy)(t.concat(n.plugins),"key")},n.stopLoadingPlugins)},n.updateQuery=function(e){var t=U(de({},A(n.props.location.query),e));n.context.router.push({pathname:n.props.location.pathname,query:t})},n.stopLoadingPlugins=function(){n.mounted&&n.setState({loadingPlugins:!1})},n.state={loadingPlugins:!0,plugins:[]},n}return ue(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.props.fetchPendingPlugins(),this.fetchQueryPlugins()},t.prototype.componentDidUpdate=function(e){e.location.query.filter!==this.props.location.query.filter&&this.fetchQueryPlugins()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.editions,n=e.editionStatus,a=e.standaloneMode,o=e.pendingPlugins,l=this.state,i=l.loadingPlugins,u=l.plugins,d=A(this.props.location.query),m=d.search?function(e,t){var n=t.toLowerCase();return e.filter(function(e){return e.name.toLowerCase().includes(n)||(e.description||"").toLowerCase().includes(n)||(e.category||"").toLowerCase().includes(n)})}(u,d.search):u;return r.createElement("div",{className:"page page-limited",id:"marketplace-page"},r.createElement(s.a,{title:Object(c.l)("marketplace.page")}),r.createElement(p,null),r.createElement(L,{canInstall:a&&!this.props.editionsReadOnly,canUninstall:a,editionStatus:n,editions:t,loading:this.props.loadingEditions,updateCenterActive:this.props.updateCenterActive,updateEditionStatus:this.props.setEditionStatus}),r.createElement(pe,{query:d,updateCenterActive:this.props.updateCenterActive,updateQuery:this.updateQuery}),i&&r.createElement("i",{className:"spinner"}),!i&&r.createElement(le,{pending:o,plugins:m,readOnly:!a,refreshPending:this.props.fetchPendingPlugins}),!i&&r.createElement(T,{total:m.length}))},t.contextTypes={router:o.object.isRequired},t}(r.PureComponent),ge=n(7),he=n(124),fe={setEditionStatus:he.c,fetchPendingPlugins:he.b};t.default=Object(a.connect)(function(e){return{editions:Object(ge.getMarketplaceEditions)(e),editionsReadOnly:Object(ge.getMarketplaceState)(e).readOnly,editionStatus:Object(ge.getMarketplaceEditionStatus)(e),loadingEditions:Object(ge.getMarketplaceState)(e).loading,pendingPlugins:Object(ge.getMarketplacePendingPlugins)(e),standaloneMode:Object(ge.getAppState)(e).standalone,updateCenterActive:"true"===(Object(ge.getGlobalSettingValue)(e,"sonar.updatecenter.activate")||{}).value}},fe)(me)},994:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(0),r=n(6),o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function l(e){var t=r("bubble-popup",e.customClass),n=o({},e.position);return a.createElement("div",{className:t,style:n},e.children,a.createElement("div",{className:"bubble-popup-arrow"}))}},996:function(e,t,n){"use strict";var a,r=n(0),o=n(6),l=(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={position:{top:0,right:0}},t.handleKey=function(e){27===e.keyCode&&t.props.togglePopup(!1)},t.handleOutsideClick=function(e){t.popupContainer&&t.popupContainer.contains(e.target)||t.props.togglePopup(!1)},t}return l(t,e),t.prototype.componentDidMount=function(){this.setState({position:this.getPosition(this.props)})},t.prototype.componentWillReceiveProps=function(e){!this.props.isOpen&&e.isOpen?(window.addEventListener("keydown",this.handleKey,!1),window.addEventListener("click",this.handleOutsideClick,!1)):this.props.isOpen&&!e.isOpen&&(window.removeEventListener("keydown",this.handleKey),window.removeEventListener("click",this.handleOutsideClick))},t.prototype.handleClick=function(e){e.stopPropagation()},t.prototype.getPosition=function(e){if(this.container){var t=this.container.getBoundingClientRect(),n=e.position,a=e.offset||{vertical:0,horizontal:0};return"bottomleft"===n?{top:t.height+a.vertical,left:a.horizontal}:{top:t.height+a.vertical,right:a.horizontal}}return{top:0,right:0}},t.prototype.render=function(){var e=this;return r.createElement("div",{className:o(this.props.className,"bubble-popup-helper"),onClick:this.handleClick,ref:function(t){return e.container=t},role:"tooltip",tabIndex:0},this.props.children,this.props.isOpen&&r.createElement("div",{ref:function(t){return e.popupContainer=t}},r.cloneElement(this.props.popup,{popupPosition:this.state.position})))},t}(r.PureComponent);t.a=i}}]);
//# sourceMappingURL=269.0d28fa9d.chunk.js.map