(window.webpackJsonp=window.webpackJsonp||[]).push([[264],{1007:function(e,t,n){"use strict";function r(e){return'"'+e.replace(/"/g,'\\"')+'"'}n.d(t,"a",function(){return r})},1013:function(e,t,n){"use strict";var r,a=n(0),o=n(4),i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n=e.call(this,t)||this;return n.getPosition=function(){var e=n.container&&n.container.getBoundingClientRect();return e?{top:window.pageYOffset+e.top,left:window.pageXOffset+e.left}:{top:0,left:0}},n.debouncedOnResize=Object(o.debounce)(function(){return n.forceUpdate()},250),n}return i(t,e),t.prototype.componentDidMount=function(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.debouncedOnResize)},t.prototype.render=function(){var e=this;return a.createElement("div",{className:this.props.className,ref:function(t){return e.container=t}},this.props.children(this.getPosition()))},t}(a.PureComponent);t.a=l},1041:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0),a=n(6),o=n(25),i=n(1);function l(e){var t=e.className,n=e.tooltip,l=void 0===n||n,s=r.createElement("div",{className:a("outline-badge",t)},Object(i.l)("quality_profiles.built_in")),c=r.createElement("span",null,Object(i.l)("quality_profiles.built_in.description.1")," ",Object(i.l)("quality_profiles.built_in.description.2"));return r.createElement(o.a,{overlay:l?c:void 0},s)}},1042:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(1059),o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function i(e){return r.createElement("div",{className:"search-navigator-facet-footer"},r.createElement(a.a,o({autofocus:!1},e)))}},1059:function(e,t,n){"use strict";var r,a=n(0),o=n(4),i=n(51),l=n(1),s=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleSearch=function(e){var t=e;n.props.onSearch(t).then(function(e){n.mounted&&n.setState(function(n){return{loading:!1,options:n.query===t?e:n.options}})},function(){n.mounted&&n.setState({loading:!1})})},n.handleChange=function(e){Array.isArray(e)?n.props.onMultiSelect&&n.props.onMultiSelect(e):n.props.onSelect&&n.props.onSelect(e)},n.handleInputChange=function(e){if(e.length>=n.minimumQueryLength)n.setState({loading:!0,query:e}),n.handleSearch(e);else{var t=0===e.length&&n.props.defaultOptions||[];n.setState({options:t,query:e})}},n.handleFilterOption=function(){return!0},n.state={loading:!1,options:t.defaultOptions||[],query:""},n.handleSearch=Object(o.debounce)(n.handleSearch,250),n}return s(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},Object.defineProperty(t.prototype,"autofocus",{get:function(){return void 0===this.props.autofocus||this.props.autofocus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumQueryLength",{get:function(){return void 0!==this.props.minimumQueryLength?this.props.minimumQueryLength:2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resetOnBlur",{get:function(){return void 0===this.props.resetOnBlur||this.props.resetOnBlur},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props.canCreate?i.b:i.c;return a.createElement(e,{autofocus:this.autofocus,className:"input-super-large",clearable:this.props.clearable,escapeClearsValue:!1,filterOption:this.handleFilterOption,isLoading:this.state.loading,multi:this.props.multi,noResultsText:this.state.query.length<this.minimumQueryLength?Object(l.m)("select2.tooShort",this.minimumQueryLength):Object(l.l)("select2.noMatches"),onBlurResetsInput:this.resetOnBlur,onChange:this.handleChange,onInputChange:this.handleInputChange,optionRenderer:this.props.renderOption,options:this.state.options,placeholder:Object(l.l)("search_verb"),promptTextCreator:this.props.promptTextCreator,searchable:!0,value:this.props.value,valueRenderer:this.props.renderOption})},t}(a.PureComponent);t.a=c},1080:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(11),o=n(1);function i(e){var t=e.displayReset,n=e.onReset;return r.createElement("div",{className:"search-navigator-filters-header"},t&&r.createElement("div",{className:"pull-right"},r.createElement(a.a,{className:"button-red",id:"coding-rules-clear-all-filters",onClick:n},Object(o.l)("clear_all_filters"))),r.createElement("h3",null,Object(o.l)("filters")))}},1081:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(1001),o=n(1);function i(e){return r.createElement("span",{className:e.className},r.createElement(a.a,{className:"little-spacer-right",query:e.type}),Object(o.l)("issue.type",e.type))}},1082:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),a=n(6),o=n(50);function i(e){var t=e.className,n=e.current,i=e.label,l=e.total;return r.createElement("div",{className:a("display-inline-block",t)},r.createElement("strong",{className:"little-spacer-right"},void 0!==n&&Object(o.formatMeasure)(n+1,"INT")+" / ",r.createElement("span",{className:"js-page-counter-total"},Object(o.formatMeasure)(l,"INT"))),i)}},1181:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n(22),i=n(5),l=n(4),s=n(187),c=n(6),u=n(190),p=n(993),d=n(20),f=n(51),m=n(1),h=n(50),g=n(11),v=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},b=function(e){function t(t){var n=e.call(this,t)||this;n.mounted=!1,n.handleProfileSelect=function(e){var t=e.map(function(e){return e.value});n.setState({selectedProfiles:t})},n.getAvailableQualityProfiles=function(e){var t=void 0===e?n.props:e,r=t.query,a=t.referencedProfiles,o=Object.values(a);return r.languages.length>0&&(o=o.filter(function(e){return r.languages.includes(e.language)})),o.filter(function(e){return e.actions&&e.actions.edit}).filter(function(e){return!e.isBuiltIn})},n.processResponse=function(e,t){if(n.mounted){var r={failed:t.failed||0,profile:e,succeeded:t.succeeded||0};n.setState(function(e){return{results:e.results.concat([r])}})}},n.sendRequests=function(){var e=Promise.resolve(),t=Object(u.f)(n.props.query);delete t.profile;for(var r="activate"===n.props.action?p.e:p.f,a=function(a){e=e.then(function(){return r(y({},t,{organization:n.props.organization,targetKey:a})).then(function(e){return n.processResponse(a,e)})})},o=0,i=n.props.profile?[n.props.profile.key]:n.state.selectedProfiles;o<i.length;o++){a(i[o])}return e},n.handleFormSubmit=function(e){e.preventDefault(),n.setState({submitting:!0}),n.sendRequests().then(function(){n.mounted&&n.setState({finished:!0,submitting:!1})},function(){n.mounted&&n.setState({submitting:!1})})},n.renderResult=function(e){var t=e.profile,r=n.props.referencedProfiles[t];return r?a.createElement("div",{className:c("alert",{"alert-warning":e.failed>0,"alert-success":0===e.failed}),key:e.profile},e.failed?Object(m.m)("coding_rules.bulk_change.warning",r.name,r.language,e.succeeded,e.failed):Object(m.m)("coding_rules.bulk_change.success",r.name,r.language,e.succeeded)):null},n.renderProfileSelect=function(){var e=n.getAvailableQualityProfiles().map(function(e){return{label:e.name+" - "+e.languageName,value:e.key}});return a.createElement(f.c,{multi:!0,onChange:n.handleProfileSelect,options:e,value:n.state.selectedProfiles})};var r=[],o=n.getAvailableQualityProfiles(t);return 1===o.length&&r.push(o[0].key),n.state={finished:!1,results:[],selectedProfiles:r,submitting:!1},n}return v(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.action,n=e.profile,r=e.total,o="activate"===t?Object(m.l)("coding_rules.activate_in_quality_profile")+" ("+Object(h.formatMeasure)(r,"INT")+" "+Object(m.l)("coding_rules._rules")+")":Object(m.l)("coding_rules.deactivate_in_quality_profile")+" ("+Object(h.formatMeasure)(r,"INT")+" "+Object(m.l)("coding_rules._rules")+")";return a.createElement(d.a,{contentLabel:o,onRequestClose:this.props.onClose},a.createElement("form",{onSubmit:this.handleFormSubmit},a.createElement("header",{className:"modal-head"},a.createElement("h2",null,o)),a.createElement("div",{className:"modal-body"},this.state.results.map(this.renderResult),!this.state.finished&&!this.state.submitting&&a.createElement("div",{className:"modal-field"},a.createElement("h3",null,a.createElement("label",{htmlFor:"coding-rules-bulk-change-profile"},"activate"===t?Object(m.l)("coding_rules.activate_in"):Object(m.l)("coding_rules.deactivate_in"))),n?a.createElement("h3",{className:"readonly-field"},n.name," — ",Object(m.l)("are_you_sure")):this.renderProfileSelect())),a.createElement("footer",{className:"modal-foot"},this.state.submitting&&a.createElement("i",{className:"spinner spacer-right"}),!this.state.finished&&a.createElement(g.f,{disabled:this.state.submitting,id:"coding-rules-submit-bulk-change"},Object(m.l)("apply")),a.createElement(g.e,{onClick:this.props.onClose},this.state.finished?Object(m.l)("close"):Object(m.l)("cancel")))))},t}(a.PureComponent),O=n(42),_=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={modal:!1},t.getSelectedProfile=function(){var e=t.props.query.profile;return e&&t.props.referencedProfiles[e]||void 0},t.closeModal=function(){return t.setState({action:void 0,modal:!1,profile:void 0})},t.handleActivateClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.closeDropdown&&t.closeDropdown(),t.setState({action:"activate",modal:!0,profile:void 0})},t.handleActivateInProfileClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.closeDropdown&&t.closeDropdown(),t.setState({action:"activate",modal:!0,profile:t.getSelectedProfile()})},t.handleDeactivateClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.closeDropdown&&t.closeDropdown(),t.setState({action:"deactivate",modal:!0,profile:void 0})},t.handleDeactivateInProfileClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.closeDropdown&&t.closeDropdown(),t.setState({action:"deactivate",modal:!0,profile:t.getSelectedProfile()})},t}return _(t,e),t.prototype.render=function(){var e=this;if(!Object.values(this.props.referencedProfiles).some(function(e){return Boolean(e.actions&&e.actions.edit)}))return null;var t=this.props.query.activation,n=this.getSelectedProfile(),r=Boolean(n&&!n.isBuiltIn&&n.actions&&n.actions.edit),o=r&&!1===t,i=r&&!0===t;return a.createElement(a.Fragment,null,a.createElement(O.a,null,function(t){var r=t.closeDropdown,l=t.onToggleClick,s=t.open;return e.closeDropdown=r,a.createElement("div",{className:c("pull-left dropdown",{open:s})},a.createElement(g.a,{className:"js-bulk-change",onClick:l},Object(m.l)("bulk_change")),a.createElement("ul",{className:"dropdown-menu"},a.createElement("li",null,a.createElement("a",{href:"#",onClick:e.handleActivateClick},Object(m.l)("coding_rules.activate_in"),"…")),o&&n&&a.createElement("li",null,a.createElement("a",{href:"#",onClick:e.handleActivateInProfileClick},Object(m.l)("coding_rules.activate_in")," ",a.createElement("strong",null,n.name))),a.createElement("li",null,a.createElement("a",{href:"#",onClick:e.handleDeactivateClick},Object(m.l)("coding_rules.deactivate_in"),"…")),i&&n&&a.createElement("li",null,a.createElement("a",{href:"#",onClick:e.handleDeactivateInProfileClick},Object(m.l)("coding_rules.deactivate_in")," ",a.createElement("strong",null,n.name)))))}),this.state.modal&&this.state.action&&a.createElement(b,{action:this.state.action,onClose:this.closeModal,organization:this.props.organization,profile:this.state.profile,query:this.props.query,referencedProfiles:this.props.referencedProfiles,total:this.props.total}))},t}(a.PureComponent),j=n(995),N=n(998),C=n(997),P=n(999),k=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleItemClick=function(e){var n,r,a=t.props.values;t.props.singleSelection?n=e===(a.length?a[0]:void 0)?void 0:e:n=Object(l.orderBy)(a.includes(e)?Object(l.without)(a,e):a.concat([e]));t.props.onChange(((r={})[t.props.property]=n,r))},t.handleHeaderClick=function(){return t.props.onToggle(t.props.property)},t.handleClear=function(){return t.props.onChange(((e={})[t.props.property]=[],e));var e},t.getStat=function(e){return t.props.stats&&t.props.stats[e]},t.renderItem=function(e){var n=t.props.values.includes(e),r=t.getStat(e),o=t.props.renderName,i=void 0===o?R:o;return a.createElement(C.a,{active:n,disabled:0===r&&!n,halfWidth:t.props.halfWidth,key:e,name:i(e),onClick:t.handleItemClick,stat:r&&Object(h.formatMeasure)(r,"SHORT_INT"),value:e})},t}return k(t,e),t.prototype.render=function(){var e=this.props,t=e.renderTextName,n=void 0===t?R:t,r=e.stats,o=this.props.values.map(n),i=this.props.options||r&&Object(l.sortBy)(Object.keys(r),function(e){return-r[e]},function(e){return n(e).toLowerCase()});return a.createElement(j.a,{className:c({"search-navigator-facet-box-forbidden":this.props.disabled}),property:this.props.property},a.createElement(N.a,{helper:this.props.disabled?this.props.disabledHelper:void 0,name:Object(m.l)("coding_rules.facet",this.props.property),onClear:this.handleClear,onClick:this.props.disabled?void 0:this.handleHeaderClick,open:this.props.open&&!this.props.disabled,values:o}),this.props.open&&void 0!==i&&a.createElement(P.a,null,i.map(this.renderItem)),this.props.open&&void 0!==this.props.renderFooter&&this.props.renderFooter())},t}(a.PureComponent);function R(e){return e}var w=n(1003),q=n(241),D=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderName=function(e){return a.createElement(w.a,{severity:e})},t.renderTextName=function(e){return Object(m.l)("severity",e)},t}return D(t,e),t.prototype.render=function(){return a.createElement(S,T({},this.props,{disabled:this.props.disabled,disabledHelper:Object(m.l)("coding_rules.filters.active_severity.inactive"),halfWidth:!0,options:q.c,property:"activationSeverities",renderName:this.renderName,renderTextName:this.renderTextName}))},t}(a.PureComponent),x=n(27),z=n(250),A=n(147),I=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleHeaderClick=function(){return t.props.onToggle("availableSince")},t.handleClear=function(){return t.props.onChange({availableSince:void 0})},t.handlePeriodChange=function(e){t.props.onChange({availableSince:e})},t.getValues=function(){return t.props.value?[t.context.intl.formatDate(t.props.value,A.b)]:void 0},t}return I(t,e),t.prototype.render=function(){return a.createElement(j.a,{property:"availableSince"},a.createElement(N.a,{name:Object(m.l)("coding_rules.facet.available_since"),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.getValues()}),this.props.open&&a.createElement(z.a,{name:"available-since",onChange:this.handlePeriodChange,placeholder:Object(m.l)("date"),value:this.props.value}))},t.contextTypes={intl:x.h},t}(a.PureComponent),B=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderName=function(e){return a.createElement(w.a,{severity:e})},t.renderTextName=function(e){return Object(m.l)("severity",e)},t}return B(t,e),t.prototype.render=function(){return a.createElement(S,M({},this.props,{halfWidth:!0,options:q.c,property:"severities",renderName:this.renderName,renderTextName:this.renderTextName}))},t}(a.PureComponent),W=n(16),H=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},V=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},J=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderName=function(e){return Object(m.l)("coding_rules.filters.inheritance",e.toLowerCase())},t}return H(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=V(e,["value"]);return a.createElement(S,U({},n,{disabled:this.props.disabled,disabledHelper:Object(m.l)("coding_rules.filters.inheritance.inactive"),options:Object.values(W.c),property:"inheritance",renderName:this.renderName,renderTextName:this.renderName,singleSelection:!0,values:t?[t]:[]}))},t}(a.PureComponent),Q=n(10),Y=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){return t.props.onSelect(e.value)},t}return Y(t,e),t.prototype.render=function(){var e=Object.values(this.props.referencedLanguages).map(function(e){return{label:e.name,value:e.key}});return a.createElement("div",{className:"search-navigator-facet-footer"},a.createElement(f.c,{className:"input-super-large",clearable:!1,noResultsText:Object(m.l)("select2.noMatches"),onChange:this.handleChange,options:e,placeholder:Object(m.l)("search.search_for_languages"),searchable:!0}))},t}(a.PureComponent),Z=n(7),G=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ee=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLanguageName=function(e){var n=t.props.referencedLanguages;return n[e]?n[e].name:e},t.handleSelect=function(e){var n=t.props.values;t.props.onChange({languages:Object(l.uniq)(n.concat([e]))})},t.renderFooter=function(){return t.props.stats?a.createElement(X,{onSelect:t.handleSelect,referencedLanguages:t.props.referencedLanguages}):null},t}return G(t,e),t.prototype.render=function(){var e=this.props,t=(e.referencedLanguages,ee(e,["referencedLanguages"]));return a.createElement(S,$({},t,{property:"languages",renderFooter:this.renderFooter,renderName:this.getLanguageName,renderTextName:this.getLanguageName}))},t}(a.PureComponent),ne=Object(Q.connect)(function(e){return{referencedLanguages:Object(Z.getLanguages)(e)}})(te),re=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ae=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleItemClick=function(e){var n=t.props.value===e?"":e;t.props.onChange({activation:void 0===t.props.activation||t.props.activation,compareToProfile:void 0,profile:n})},t.handleHeaderClick=function(){return t.props.onToggle("profile")},t.handleClear=function(){return t.props.onChange({activation:void 0,activationSeverities:[],compareToProfile:void 0,inheritance:void 0,profile:void 0})},t.handleActiveClick=function(e){t.stopPropagation(e),t.props.onChange({activation:!0,compareToProfile:void 0})},t.handleInactiveClick=function(e){t.stopPropagation(e),t.props.onChange({activation:!1,compareToProfile:void 0})},t.stopPropagation=function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.blur()},t.getTextValue=function(){var e=t.props,n=e.referencedProfiles,r=e.value;if(r){var a=n[r];return[a&&a.name+" "+a.languageName||r]}return[]},t.renderName=function(e){return a.createElement(a.Fragment,null,e.name,a.createElement("span",{className:"note little-spacer-left"},e.languageName,e.isBuiltIn&&" ("+Object(m.l)("quality_profiles.built_in")+")"))},t.renderActivation=function(e){var n=e.key===t.props.compareToProfile,r=!!n||t.props.activation;return a.createElement(a.Fragment,null,a.createElement("span",{"aria-checked":r,className:c("js-active","facet-toggle","facet-toggle-green",{"facet-toggle-active":r}),onClick:n?t.stopPropagation:t.handleActiveClick,role:"radio",tabIndex:-1},"active"),a.createElement("span",{"aria-checked":!r,className:c("js-inactive","facet-toggle","facet-toggle-red",{"facet-toggle-active":!r}),onClick:n?t.stopPropagation:t.handleInactiveClick,role:"radio",tabIndex:-1},"inactive"))},t.renderItem=function(e){var n=[t.props.value,t.props.compareToProfile].includes(e.key);return a.createElement(C.a,{active:n,className:t.props.compareToProfile===e.key?"compare":void 0,key:e.key,name:t.renderName(e),onClick:t.handleItemClick,stat:t.renderActivation(e),value:e.key})},t}return re(t,e),t.prototype.render=function(){var e=this.props,t=e.languages,n=e.referencedProfiles,r=Object.values(n);return t.length>0&&(r=r.filter(function(e){return t.includes(e.language)})),r=Object(l.sortBy)(r,function(e){return e.name.toLowerCase()},function(e){return e.languageName}),a.createElement(j.a,{property:"profile"},a.createElement(N.a,{name:Object(m.l)("coding_rules.facet.qprofile"),onClear:this.handleClear,onClick:this.handleHeaderClick,open:this.props.open,values:this.getTextValue()}),this.props.open&&a.createElement(P.a,null,r.map(this.renderItem)))},t}(a.PureComponent),oe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},le=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLanguageName=function(e){var n=t.props.referencedLanguages[e];return n&&n.name||e},t.renderName=function(e){var n=t.props.referencedRepositories[e];return n?a.createElement(a.Fragment,null,n.name,a.createElement("span",{className:"note little-spacer-left"},t.getLanguageName(n.language))):e},t.renderTextName=function(e){var n=t.props.referencedRepositories[e];return n&&n.name||e},t}return oe(t,e),t.prototype.render=function(){var e=this.props,t=(e.referencedLanguages,e.referencedRepositories,le(e,["referencedLanguages","referencedRepositories"]));return a.createElement(S,ie({},t,{property:"repositories",renderName:this.renderName,renderTextName:this.renderTextName}))},t}(a.PureComponent),ce=Object(Q.connect)(function(e){return{referencedLanguages:Object(Z.getLanguages)(e)}})(se),ue=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderName=function(e){return Object(m.l)("rules.status",e.toLowerCase())},t}return ue(t,e),t.prototype.render=function(){return a.createElement(S,pe({},this.props,{options:q.b,property:"statuses",renderName:this.renderName,renderTextName:this.renderName}))},t}(a.PureComponent),fe=n(1004),me=n(1042),he=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSearch=function(e){return Object(fe.d)({organization:t.props.organization,ps:50,q:e}).then(function(e){return e.map(function(e){return{label:e,value:e}})})},t.handleSelect=function(e){t.props.onChange({tags:Object(l.uniq)(t.props.values.concat([e.value]))})},t.renderName=function(e){return a.createElement(a.Fragment,null,a.createElement("i",{className:"icon-tags icon-gray little-spacer-right"}),e)},t.renderFooter=function(){return t.props.stats?a.createElement(me.a,{onSearch:t.handleSearch,onSelect:t.handleSelect}):null},t}return he(t,e),t.prototype.render=function(){var e=this.props,t=(e.organization,ve(e,["organization"]));return a.createElement(S,ge({},t,{property:"tags",renderFooter:this.renderFooter,renderName:this.renderName}))},t}(a.PureComponent),be=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n},Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n=Array.isArray(e.template)||void 0===e.template?void 0:"true"===e.template;t.props.onChange(Oe({},e,{template:n}))},t.renderName=function(e){return"true"===e?Object(m.l)("coding_rules.filters.template.is_template"):Object(m.l)("coding_rules.filters.template.is_not_template")},t}return be(t,e),t.prototype.render=function(){var e=this.props,t=(e.onChange,e.value),n=_e(e,["onChange","value"]);return a.createElement(S,Oe({},n,{onChange:this.handleChange,options:["true","false"],property:"template",renderName:this.renderName,renderTextName:this.renderName,singleSelection:!0,values:void 0!==t?[String(t)]:[]}))},t}(a.PureComponent),je=n(1001),Ne=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderName=function(e){return a.createElement(a.Fragment,null,a.createElement(je.a,{className:"little-spacer-right",query:e}),Object(m.l)("issue.type",e))},t.renderTextName=function(e){return Object(m.l)("issue.type",e)},t}return Ne(t,e),t.prototype.render=function(){return a.createElement(S,Ce({},this.props,{options:["BUG","VULNERABILITY","CODE_SMELL"],property:"types",renderName:this.renderName,renderTextName:this.renderTextName}))},t}(a.PureComponent);function ke(e){var t=void 0!==e.query.compareToProfile||void 0===e.selectedProfile||!e.selectedProfile.isInherited,n=void 0!==e.query.compareToProfile||void 0===e.selectedProfile||!e.query.activation;return a.createElement("div",{className:"search-navigator-facets-list"},a.createElement(ne,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.languages,stats:e.facets&&e.facets.languages,values:e.query.languages}),a.createElement(Pe,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.types,stats:e.facets&&e.facets.types,values:e.query.types}),a.createElement(ye,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,organization:e.organization,open:!!e.openFacets.tags,stats:e.facets&&e.facets.tags,values:e.query.tags}),a.createElement(ce,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.repositories,stats:e.facets&&e.facets.repositories,referencedRepositories:e.referencedRepositories,values:e.query.repositories}),a.createElement(K,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.severities,stats:e.facets&&e.facets.severities,values:e.query.severities}),a.createElement(de,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.statuses,stats:e.facets&&e.facets.statuses,values:e.query.statuses}),a.createElement(L,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.availableSince,value:e.query.availableSince}),!e.organizationsEnabled&&a.createElement(Ee,{onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.template,value:e.query.template}),a.createElement(ae,{activation:e.query.activation,compareToProfile:e.query.compareToProfile,languages:e.query.languages,onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.profile,referencedProfiles:e.referencedProfiles,value:e.query.profile}),a.createElement(J,{disabled:t,onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.inheritance,value:e.query.inheritance}),a.createElement(F,{disabled:n,onChange:e.onFilterChange,onToggle:e.onFacetToggle,open:!!e.openFacets.activationSeverities,stats:e.facets&&e.facets.activationSeverities,values:e.query.activationSeverities}))}var Se=n(32),Re=n(1082),we=n(289);function qe(e){return a.createElement("div",{className:"pull-right"},a.createElement(De,null),a.createElement(Se.a,{loading:e.loading},a.createElement(we.a,{onClick:e.onReload})),e.paging&&a.createElement(Re.a,{className:"spacer-left flash flash-heavy",current:e.selectedIndex,label:Object(m.l)("coding_rules._rules"),total:e.paging.total}))}function De(){return a.createElement("span",{className:"note big-spacer-right"},a.createElement("span",{className:"big-spacer-right"},a.createElement("span",{className:"shortcut-button little-spacer-right"},"↑"),a.createElement("span",{className:"shortcut-button little-spacer-right"},"↓"),Object(m.l)("coding_rules.to_select_rules")),a.createElement("span",null,a.createElement("span",{className:"shortcut-button little-spacer-right"},"←"),a.createElement("span",{className:"shortcut-button little-spacer-right"},"→"),Object(m.l)("issues.to_navigate")))}for(var Te=n(1061),Fe=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],xe={},ze=0;ze<Fe.length;ze++)for(var Ae=Fe[ze].letters.split(""),Ie=0;Ie<Ae.length;Ie++)xe[Ae[Ie]]=Fe[ze].base;var Le=n(1081),Be=n(1007),Me=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},We=function(e){function t(t){var n=e.call(this,t)||this;n.mounted=!1,n.prepareRequest=function(){var e=n.props,t=e.customRule,r=e.organization,a=e.templateRule,o=Object.keys(n.state.params).map(function(e){return e+"="+Object(Be.a)(n.state.params[e])}).join(";"),i={markdown_description:n.state.description,name:n.state.name,organization:r,params:o,severity:n.state.severity,status:n.state.status};return t?Object(fe.h)(Ke({},i,{key:t.key})):Object(fe.a)(Ke({},i,{custom_key:n.state.key,prevent_reactivation:!n.state.reactivating,template_key:a.key,type:n.state.type}))},n.handleFormSubmit=function(e){e.preventDefault(),n.setState({submitting:!0}),n.prepareRequest().then(function(e){n.mounted&&(n.setState({submitting:!1}),n.props.onDone(e))},function(e){n.mounted&&n.setState({reactivating:409===e.status,submitting:!1})})},n.handleNameChange=function(e){var t=e.currentTarget.value;n.setState(function(e){var n,r={name:t};return e.keyModifiedByUser||(r.key=(n=t,n.replace(/[^\u0000-\u007E]/g,function(e){return xe[e]||e})).replace(/[^A-Za-z0-9]/g,"_")),r})},n.handleKeyChange=function(e){return n.setState({key:e.currentTarget.value,keyModifiedByUser:!0})},n.handleDescriptionChange=function(e){return n.setState({description:e.currentTarget.value})},n.handleTypeChange=function(e){var t=e.value;return n.setState({type:t})},n.handleSeverityChange=function(e){var t=e.value;return n.setState({severity:t})},n.handleStatusChange=function(e){var t=e.value;return n.setState({status:t})},n.handleParameterChange=function(e){var t=e.currentTarget,r=t.name,a=t.value;n.setState(function(e){return{params:Ke({},e.params,(t={},t[r]=a,t))};var t})},n.renderNameField=function(){return a.createElement("tr",{className:"property"},a.createElement("th",{className:"nowrap"},a.createElement("h3",null,Object(m.l)("name")," ",a.createElement("em",{className:"mandatory"},"*"))),a.createElement("td",null,a.createElement("input",{autoFocus:!0,className:"coding-rules-name-key",disabled:n.state.submitting,id:"coding-rules-custom-rule-creation-name",onChange:n.handleNameChange,required:!0,type:"text",value:n.state.name})))},n.renderKeyField=function(){return a.createElement("tr",{className:"property"},a.createElement("th",{className:"nowrap"},a.createElement("h3",null,Object(m.l)("key")," ",!n.props.customRule&&a.createElement("em",{className:"mandatory"},"*"))),a.createElement("td",null,n.props.customRule?a.createElement("span",{className:"coding-rules-detail-custom-rule-key",title:n.props.customRule.key},n.props.customRule.key):a.createElement("input",{className:"coding-rules-name-key",disabled:n.state.submitting,id:"coding-rules-custom-rule-creation-key",onChange:n.handleKeyChange,required:!0,type:"text",value:n.state.key})))},n.renderDescriptionField=function(){return a.createElement("tr",{className:"property"},a.createElement("th",{className:"nowrap"},a.createElement("h3",null,Object(m.l)("description")," ",a.createElement("em",{className:"mandatory"},"*"))),a.createElement("td",null,a.createElement("textarea",{className:"coding-rules-markdown-description",disabled:n.state.submitting,id:"coding-rules-custom-rule-creation-html-description",onChange:n.handleDescriptionChange,required:!0,rows:5,value:n.state.description}),a.createElement("span",{className:"text-right"},a.createElement(Te.a,null))))},n.renderTypeOption=function(e){var t=e.value;return a.createElement(Le.a,{type:t})},n.renderTypeField=function(){return a.createElement("tr",{className:"property"},a.createElement("th",{className:"nowrap"},a.createElement("h3",null,Object(m.l)("type"))),a.createElement("td",null,a.createElement(f.c,{className:"input-medium",clearable:!1,disabled:n.state.submitting,onChange:n.handleTypeChange,optionRenderer:n.renderTypeOption,options:q.d.map(function(e){return{label:Object(m.l)("issue.type",e),value:e}}),searchable:!1,value:n.state.type,valueRenderer:n.renderTypeOption})))},n.renderSeverityOption=function(e){var t=e.value;return a.createElement(w.a,{severity:t})},n.renderSeverityField=function(){return a.createElement("tr",{className:"property"},a.createElement("th",{className:"nowrap"},a.createElement("h3",null,Object(m.l)("severity"))),a.createElement("td",null,a.createElement(f.c,{className:"input-medium",clearable:!1,disabled:n.state.submitting,onChange:n.handleSeverityChange,optionRenderer:n.renderSeverityOption,options:q.c.map(function(e){return{label:Object(m.l)("severity",e),value:e}}),searchable:!1,value:n.state.severity,valueRenderer:n.renderSeverityOption})))},n.renderStatusField=function(){return a.createElement("tr",{className:"property"},a.createElement("th",{className:"nowrap"},a.createElement("h3",null,Object(m.l)("coding_rules.filters.status"))),a.createElement("td",null,a.createElement(f.c,{className:"input-medium",clearable:!1,disabled:n.state.submitting,onChange:n.handleStatusChange,options:q.b.map(function(e){return{label:Object(m.l)("rules.status",e),value:e}}),searchable:!1,value:n.state.status})))},n.renderParameterField=function(e){return a.createElement("tr",{className:"property",key:e.key},a.createElement("th",{className:"nowrap"},a.createElement("h3",null,e.key)),a.createElement("td",null,"TEXT"===e.type?a.createElement("textarea",{className:"width100",disabled:n.state.submitting,name:e.key,onChange:n.handleParameterChange,placeholder:e.defaultValue,rows:3,value:n.state.params[e.key]||""}):a.createElement("input",{className:"input-super-large",disabled:n.state.submitting,name:e.key,onChange:n.handleParameterChange,placeholder:e.defaultValue,type:"text",value:n.state.params[e.key]||""}),a.createElement("div",{className:"note",dangerouslySetInnerHTML:{__html:e.htmlDesc||""}}),e.extra&&a.createElement("div",{className:"note"},e.extra)))},n.renderSubmitButton=function(){return n.state.reactivating?a.createElement(g.f,{disabled:n.state.submitting,id:"coding-rules-custom-rule-creation-reactivate"},Object(m.l)("coding_rules.reactivate")):a.createElement(g.f,{disabled:n.state.submitting,id:"coding-rules-custom-rule-creation-create"},Object(m.l)(n.props.customRule?"save":"create"))};var r={};if(t.customRule&&t.customRule.params)for(var o=0,i=t.customRule.params;o<i.length;o++){var l=i[o];r[l.key]=l.defaultValue||""}return n.state={description:t.customRule&&t.customRule.mdDesc||"",key:"",keyModifiedByUser:!1,name:t.customRule&&t.customRule.name||"",params:r,reactivating:!1,severity:t.customRule&&t.customRule.severity||t.templateRule.severity,status:t.customRule&&t.customRule.status||t.templateRule.status,submitting:!1,type:t.customRule&&t.customRule.type||t.templateRule.type},n}return Me(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.customRule,n=e.templateRule,r=this.state,o=r.reactivating,i=r.submitting,l=n.params,s=void 0===l?[]:l,c=Object(m.l)(t?"coding_rules.update_custom_rule":"coding_rules.create_custom_rule");return a.createElement(d.a,{contentLabel:c,onRequestClose:this.props.onClose},a.createElement("form",{onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,c)),a.createElement("div",{className:"modal-body modal-container"},o&&a.createElement("div",{className:"alert alert-warning"},Object(m.l)("coding_rules.reactivate.help")),a.createElement("table",null,a.createElement("tbody",null,this.renderNameField(),this.renderKeyField(),this.renderDescriptionField(),!t&&this.renderTypeField(),this.renderSeverityField(),this.renderStatusField(),s.map(this.renderParameterField)))),a.createElement("div",{className:"modal-foot"},i&&a.createElement("i",{className:"spinner spacer-right"}),this.renderSubmitButton(),a.createElement(g.e,{disabled:i,id:"coding-rules-custom-rule-creation-cancel",onClick:this.props.onClose},Object(m.l)("cancel")))))},t}(a.PureComponent),He=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={modal:!1},t.handleClick=function(){t.setState({modal:!0})},t.handleModalClose=function(){t.mounted&&t.setState({modal:!1})},t.handleDone=function(e){t.handleModalClose(),t.props.onDone(e)},t}return He(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return a.createElement(a.Fragment,null,this.props.children({onClick:this.handleClick}),this.state.modal&&a.createElement(We,{customRule:this.props.customRule,onClose:this.handleModalClose,onDone:this.handleDone,organization:this.props.organization,templateRule:this.props.templateRule}))},t}(a.PureComponent),Ve=n(2),Je=n(79),Qe=n(38),Ye=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!1},t.fetchRules=function(){t.setState({loading:!0}),Object(fe.f)({f:"name,severity,params",organization:t.props.organization,template_key:t.props.ruleDetails.key}).then(function(e){var n=e.rules;t.mounted&&t.setState({rules:n,loading:!1})},function(){t.mounted&&t.setState({loading:!1})})},t.handleRuleCreate=function(e){t.mounted&&t.setState(function(t){var n=t.rules;return{rules:(void 0===n?[]:n).concat([e])}})},t.handleRuleDelete=function(e){return Object(fe.b)({key:e,organization:t.props.organization}).then(function(){t.mounted&&t.setState(function(t){var n=t.rules;return{rules:(void 0===n?[]:n).filter(function(t){return t.key!==e})}})})},t.renderRule=function(e){return a.createElement("tr",{"data-rule":e.key,key:e.key},a.createElement("td",{className:"coding-rules-detail-list-name"},a.createElement(Ve.Link,{to:Object(Qe.w)(e.key,t.props.organization)},e.name)),a.createElement("td",{className:"coding-rules-detail-list-severity"},a.createElement(w.a,{severity:e.severity})),a.createElement("td",{className:"coding-rules-detail-list-parameters"},e.params&&e.params.filter(function(e){return e.defaultValue}).map(function(e){return a.createElement("div",{className:"coding-rules-detail-list-parameter",key:e.key},a.createElement("span",{className:"key"},e.key),a.createElement("span",{className:"sep"},": "),a.createElement("span",{className:"value",title:e.defaultValue},e.defaultValue))})),t.props.canChange&&a.createElement("td",{className:"coding-rules-detail-list-actions"},a.createElement(Je.a,{confirmButtonText:Object(m.l)("delete"),confirmData:e.key,isDestructive:!0,modalBody:Object(m.m)("coding_rules.delete.custom.confirm",e.name),modalHeader:Object(m.l)("coding_rules.delete_rule"),onConfirm:t.handleRuleDelete},function(e){var t=e.onClick;return a.createElement(g.a,{className:"button-red js-delete-custom-rule",onClick:t},Object(m.l)("delete"))})))},t}return Ye(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchRules()},t.prototype.componentDidUpdate=function(e){e.ruleDetails.key!==this.props.ruleDetails.key&&this.fetchRules()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.loading,n=e.rules,r=void 0===n?[]:n;return a.createElement("div",{className:"js-rule-custom-rules coding-rule-section"},a.createElement("div",{className:"coding-rules-detail-custom-rules-section"},a.createElement("div",{className:"coding-rule-section-separator"}),a.createElement("h3",{className:"coding-rules-detail-title"},Object(m.l)("coding_rules.custom_rules")),this.props.canChange&&a.createElement(Ue,{onDone:this.handleRuleCreate,organization:this.props.organization,templateRule:this.props.ruleDetails},function(e){var t=e.onClick;return a.createElement(g.a,{className:"js-create-custom-rule spacer-left",onClick:t},Object(m.l)("coding_rules.create"))}),a.createElement(Se.a,{loading:t},r.length>0&&a.createElement("table",{className:"coding-rules-detail-list",id:"coding-rules-detail-custom-rules"},a.createElement("tbody",null,Object(l.sortBy)(r,function(e){return e.name}).map(this.renderRule))))))},t}(a.PureComponent),Ze=n(1084),Ge=n(25),$e=n(234),et=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t.fetchIssues=function(){t.setState({loading:!0}),Object($e.e)({organization:t.props.organization,rules:t.props.ruleKey,resolved:!1},"projectUuids").then(function(e){var n=e.facet,r=e.response;if(t.mounted){for(var a=r.components,o=void 0===a?[]:a,i=r.paging,l=[],s=function(e){var t=o.find(function(t){return t.uuid===e.val});t&&l.push({count:e.count,id:e.val,key:t.key,name:t.name})},c=0,u=n;c<u.length;c++){s(u[c])}t.setState({projects:l,loading:!1,total:i.total})}},function(){t.mounted&&t.setState({loading:!1})})},t.renderTotal=function(){var e=t.state.total;if(void 0===e)return null;var n=Object(Qe.l)({resolved:"false",rules:t.props.ruleKey},t.props.organization),r=a.createElement("span",{className:"little-spacer-left"},"(",a.createElement(Ve.Link,{to:n},e),")");return t.context.branchesEnabled?a.createElement(Ge.a,{overlay:Object(m.l)("coding_rules.issues.only_main_branches")},r):r},t.renderProject=function(e){var n=Object(Qe.l)({projectUuids:e.id,resolved:"false",rules:t.props.ruleKey},t.props.organization);return a.createElement("tr",{key:e.key},a.createElement("td",{className:"coding-rules-detail-list-name"},e.name),a.createElement("td",{className:"coding-rules-detail-list-parameters"},a.createElement(Ve.Link,{to:n},Object(h.formatMeasure)(e.count,"INT"))))},t}return et(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchIssues()},t.prototype.componentDidUpdate=function(e){e.ruleKey!==this.props.ruleKey&&this.fetchIssues()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.loading,n=e.projects,r=void 0===n?[]:n;return a.createElement("div",{className:"js-rule-issues coding-rule-section"},a.createElement("div",{className:"coding-rule-section-separator"}),a.createElement(Se.a,{loading:t},a.createElement("h3",{className:"coding-rules-detail-title"},Object(m.l)("coding_rules.issues"),this.renderTotal()),r.length>0&&a.createElement("table",{className:"coding-rules-detail-list coding-rules-most-violated-projects"},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",{className:"coding-rules-detail-list-name",colSpan:2},Object(m.l)("coding_rules.most_violating_projects"))),r.map(this.renderProject)))))},t.contextTypes={branchesEnabled:i.bool},t}(a.PureComponent),nt=n(1085),rt=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderParameter=function(e){return a.createElement("tr",{className:"coding-rules-detail-parameter",key:e.key},a.createElement("td",{className:"coding-rules-detail-parameter-name"},e.key),a.createElement("td",{className:"coding-rules-detail-parameter-description"},a.createElement("p",{dangerouslySetInnerHTML:{__html:e.htmlDesc||""}}),void 0!==e.defaultValue&&a.createElement("div",{className:"note spacer-top"},Object(m.l)("coding_rules.parameters.default_value"),a.createElement("br",null),a.createElement("span",{className:"coding-rules-detail-parameter-value"},e.defaultValue))))},t}return rt(t,e),t.prototype.render=function(){return a.createElement("div",{className:"js-rule-parameters"},a.createElement("h3",{className:"coding-rules-detail-title"},Object(m.l)("coding_rules.parameters")),a.createElement("table",{className:"coding-rules-detail-parameters"},a.createElement("tbody",null,this.props.params.map(this.renderParameter))))},t}(a.PureComponent),ot=n(236),it=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},st=function(e){function t(t){var n=e.call(this,t)||this;n.mounted=!1,n.getParams=function(e){var t=void 0===e?n.props:e,r=t.activation,a=t.rule,o={};if(a&&a.params){for(var i=0,l=a.params;i<l.length;i++){o[(u=l[i]).key]=u.defaultValue||""}if(r&&r.params)for(var s=0,c=r.params;s<c.length;s++){var u;o[(u=c[s]).key]=u.value}}return o},n.getQualityProfilesWithDepth=function(e){var t=(void 0===e?n.props:e).profiles;return Object(ot.g)(t.filter(function(e){return!e.isBuiltIn&&e.actions&&e.actions.edit&&e.language===n.props.rule.lang})).map(function(e){return lt({},e,{depth:e.depth-1})})},n.handleFormSubmit=function(e){e.preventDefault(),n.setState({submitting:!0});var t={key:n.state.profile,organization:n.props.organization,params:n.state.params,rule:n.props.rule.key,severity:n.state.severity};Object(p.a)(t).then(function(){return n.props.onDone(t.severity)}).then(function(){n.mounted&&(n.setState({submitting:!1}),n.props.onClose())},function(){n.mounted&&n.setState({submitting:!1})})},n.handleParameterChange=function(e){var t=e.currentTarget,r=t.name,a=t.value;n.setState(function(e){return{params:lt({},e.params,(t={},t[r]=a,t))};var t})},n.handleProfileChange=function(e){var t=e.value;n.setState({profile:t})},n.handleSeverityChange=function(e){var t=e.value;n.setState({severity:t})},n.renderSeverityOption=function(e){var t=e.value;return a.createElement(w.a,{severity:t})};var r=n.getQualityProfilesWithDepth(t);return n.state={params:n.getParams(t),profile:r.length>0?r[0].key:"",severity:t.activation?t.activation.severity:t.rule.severity,submitting:!1},n}return it(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this,t=this.props,n=t.activation,r=t.rule,o=this.state,i=o.profile,l=o.severity,s=o.submitting,c=r.params,u=void 0===c?[]:c,p=this.getQualityProfilesWithDepth(),h=!!r.templateKey,v=p.length<=0,y=!!n;return a.createElement(d.a,{contentLabel:this.props.modalHeader,onRequestClose:this.props.onClose},a.createElement("form",{onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,this.props.modalHeader)),a.createElement("div",{className:"modal-body"},!y&&v&&a.createElement("div",{className:"alert alert-info"},Object(m.l)("coding_rules.active_in_all_profiles")),a.createElement("div",{className:"modal-field"},a.createElement("label",null,Object(m.l)("coding_rules.quality_profile")),a.createElement(f.c,{className:"js-profile",clearable:!1,disabled:s||1===p.length,onChange:this.handleProfileChange,options:p.map(function(e){return{label:"   ".repeat(e.depth)+e.name,value:e.key}}),value:i})),a.createElement("div",{className:"modal-field"},a.createElement("label",null,Object(m.l)("severity")),a.createElement(f.c,{className:"js-severity",clearable:!1,disabled:s,onChange:this.handleSeverityChange,optionRenderer:this.renderSeverityOption,options:q.c.map(function(e){return{label:Object(m.l)("severity",e),value:e}}),searchable:!1,value:l,valueRenderer:this.renderSeverityOption})),h?a.createElement("div",{className:"modal-field"},a.createElement("p",{className:"note"},Object(m.l)("coding_rules.custom_rule.activation_notice"))):u.map(function(t){return a.createElement("div",{className:"modal-field",key:t.key},a.createElement("label",null,a.createElement(Ge.a,{overlay:t.key},a.createElement("span",null,t.key))),"TEXT"===t.type?a.createElement("textarea",{className:"width100",disabled:s,name:t.key,onChange:e.handleParameterChange,placeholder:t.defaultValue,rows:3,value:e.state.params[t.key]||""}):a.createElement("input",{className:"input-super-large",disabled:s,name:t.key,onChange:e.handleParameterChange,placeholder:t.defaultValue,type:"text",value:e.state.params[t.key]||""}),a.createElement("div",{className:"note",dangerouslySetInnerHTML:{__html:t.htmlDesc||""}}),t.extra&&a.createElement("div",{className:"note"},t.extra))})),a.createElement("footer",{className:"modal-foot"},s&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(g.f,{disabled:s||v},y?Object(m.l)("save"):Object(m.l)("coding_rules.activate")),a.createElement(g.e,{disabled:s,onClick:this.props.onClose},Object(m.l)("cancel")))))},t}(a.PureComponent),ct=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={modal:!1},t.handleButtonClick=function(){t.setState({modal:!0})},t.handleCloseModal=function(){t.setState({modal:!1})},t}return ct(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(g.a,{className:this.props.className,id:"coding-rules-quality-profile-activate",onClick:this.handleButtonClick},this.props.buttonText),this.state.modal&&a.createElement(st,{activation:this.props.activation,modalHeader:this.props.modalHeader,onClose:this.handleCloseModal,onDone:this.props.onDone,organization:this.props.organization,profiles:this.props.profiles,rule:this.props.rule,updateMode:this.props.updateMode}))},t}(a.PureComponent);function pt(e){return a.createElement("i",{className:c("icon-inheritance",{"icon-inheritance-overridden":e.inheritance===W.c.Overridden}),title:Object(m.m)("coding_rules.overrides",e.profileName,e.parentProfileName)})}var dt=n(1041),ft=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.fetchProfiles=function(){return t.setState({loading:!0})},t.handleActivate=function(){return t.props.onActivate()},t.handleDeactivate=function(e){e&&Object(p.k)({key:e,organization:t.props.organization,rule:t.props.ruleDetails.key}).then(t.props.onDeactivate,function(){})},t.handleRevert=function(e){e&&Object(p.a)({key:e,organization:t.props.organization,rule:t.props.ruleDetails.key,reset:!0}).then(t.props.onActivate,function(){})},t.renderInheritedProfile=function(e,n){if(!n.parentName)return null;var r=Object(Qe.v)(n.parentName,n.language,t.props.organization);return a.createElement("div",{className:"coding-rules-detail-quality-profile-inheritance"},(e.inherit===W.c.Overridden||e.inherit===W.c.Inherited)&&a.createElement(a.Fragment,null,a.createElement(pt,{inheritance:e.inherit,parentProfileName:n.parentName,profileName:n.name}),a.createElement(Ve.Link,{className:"link-base-color spacer-left",to:r},n.parentName)))},t.renderSeverity=function(e,t){return a.createElement("td",{className:"coding-rules-detail-quality-profile-severity"},a.createElement(Ge.a,{overlay:Object(m.l)("coding_rules.activation_severity")},a.createElement("span",null,a.createElement(w.a,{severity:e.severity}))),void 0!==t&&e.severity!==t.severity&&a.createElement("div",{className:"coding-rules-detail-quality-profile-inheritance"},Object(m.l)("coding_rules.original")," ",Object(m.l)("severity",t.severity)))},t.renderParameter=function(e,t){var n=t&&t.params.find(function(t){return t.key===e.key}),r=n&&n.value;return a.createElement("div",{className:"coding-rules-detail-quality-profile-parameter",key:e.key},a.createElement("span",{className:"key"},e.key),a.createElement("span",{className:"sep"},": "),a.createElement("span",{className:"value",title:e.value},e.value),t&&e.value!==r&&a.createElement("div",{className:"coding-rules-detail-quality-profile-inheritance"},Object(m.l)("coding_rules.original")," ",a.createElement("span",{className:"value"},r)))},t.renderParameters=function(e,n){return a.createElement("td",{className:"coding-rules-detail-quality-profile-parameters"},e.params.map(function(e){return t.renderParameter(e,n)}))},t.renderActions=function(e,n){var r=n.actions&&n.actions.edit&&!n.isBuiltIn,o=t.props.ruleDetails,i=e.inherit!==W.c.NotInherited&&n.parentKey;return a.createElement("td",{className:"coding-rules-detail-quality-profile-actions"},r&&a.createElement(a.Fragment,null,!o.isTemplate&&a.createElement(ut,{activation:e,buttonText:Object(m.l)("change_verb"),className:"coding-rules-detail-quality-profile-change",modalHeader:Object(m.l)("coding_rules.change_details"),onDone:t.handleActivate,organization:t.props.organization,profiles:[n],rule:o}),i?e.inherit===W.c.Overridden&&n.parentName&&a.createElement(Je.a,{confirmButtonText:Object(m.l)("yes"),confirmData:n.key,modalBody:Object(m.m)("coding_rules.revert_to_parent_definition.confirm",n.parentName),modalHeader:Object(m.l)("coding_rules.revert_to_parent_definition"),onConfirm:t.handleRevert},function(e){var t=e.onClick;return a.createElement(g.a,{className:"coding-rules-detail-quality-profile-revert button-red spacer-left",onClick:t},Object(m.l)("coding_rules.revert_to_parent_definition"))}):a.createElement(Je.a,{confirmButtonText:Object(m.l)("yes"),confirmData:n.key,modalBody:Object(m.l)("coding_rules.deactivate.confirm"),modalHeader:Object(m.l)("coding_rules.deactivate"),onConfirm:t.handleDeactivate},function(e){var t=e.onClick;return a.createElement(g.a,{className:"coding-rules-detail-quality-profile-deactivate button-red spacer-left",onClick:t},Object(m.l)("coding_rules.deactivate"))})))},t.renderActivation=function(e){var n=t.props,r=n.activations,o=void 0===r?[]:r,i=n.ruleDetails,l=t.props.referencedProfiles[e.qProfile];if(!l)return null;var s=o.find(function(e){return e.qProfile===l.parentKey});return a.createElement("tr",{"data-profile":l.key,key:l.key},a.createElement("td",{className:"coding-rules-detail-quality-profile-name"},a.createElement(Ve.Link,{to:Object(Qe.v)(l.name,l.language,t.props.organization)},l.name),l.isBuiltIn&&a.createElement(dt.a,{className:"spacer-left"}),t.renderInheritedProfile(e,l)),t.renderSeverity(e,s),!i.templateKey&&t.renderParameters(e,s),t.renderActions(e,l))},t}return ft(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchProfiles()},t.prototype.componentDidUpdate=function(e){e.ruleDetails.key!==this.props.ruleDetails.key&&this.fetchProfiles()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.activations,n=void 0===t?[]:t,r=e.referencedProfiles,o=e.ruleDetails,i=Object.values(r).some(function(e){return Boolean(e.actions&&e.actions.edit&&e.language===o.lang)});return a.createElement("div",{className:"js-rule-profiles coding-rule-section"},a.createElement("div",{className:"coding-rules-detail-quality-profiles-section"},a.createElement("div",{className:"coding-rule-section-separator"}),a.createElement("h3",{className:"coding-rules-detail-title"},Object(m.l)("coding_rules.quality_profiles")),i&&a.createElement(ut,{buttonText:Object(m.l)("coding_rules.activate"),className:"coding-rules-quality-profile-activate spacer-left",modalHeader:Object(m.l)("coding_rules.activate_in_quality_profile"),onDone:this.handleActivate,organization:this.props.organization,profiles:Object(l.filter)(this.props.referencedProfiles,function(e){return!n.find(function(t){return t.qProfile===e.key})}),rule:o}),n.length>0&&a.createElement("table",{className:"coding-rules-detail-quality-profiles width100",id:"coding-rules-detail-quality-profiles"},a.createElement("tbody",null,n.map(this.renderActivation)))))},t}(a.PureComponent),ht=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},vt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!0},t.fetchRuleDetails=function(){return Object(fe.c)({actives:!0,key:t.props.ruleKey,organization:t.props.organization}).then(function(e){var n=e.actives,r=e.rule;t.mounted&&t.setState({actives:n,loading:!1,ruleDetails:r})},function(){t.mounted&&t.setState({loading:!1})})},t.handleRuleChange=function(e){t.mounted&&t.setState({ruleDetails:e})},t.handleTagsChange=function(e){var n=t.state.ruleDetails&&t.state.ruleDetails.tags;t.setState(function(t){return{ruleDetails:gt({},t.ruleDetails,{tags:e})}}),Object(fe.h)({key:t.props.ruleKey,organization:t.props.organization,tags:e.join()}).catch(function(){t.mounted&&t.setState(function(e){return{ruleDetails:gt({},e.ruleDetails,{tags:n})}})})},t.handleActivate=function(){return t.fetchRuleDetails().then(function(){var e=t.props,n=e.ruleKey,r=e.selectedProfile;if(r&&t.state.actives){var a=t.state.actives.find(function(e){return e.qProfile===r.key});a&&t.props.onActivate(r.key,n,a)}})},t.handleDeactivate=function(){return t.fetchRuleDetails().then(function(){var e=t.props,n=e.ruleKey,r=e.selectedProfile;r&&t.state.actives&&(t.state.actives.find(function(e){return e.qProfile===r.key})||t.props.onDeactivate(r.key,n))})},t.handleDelete=function(){return Object(fe.b)({key:t.props.ruleKey,organization:t.props.organization}).then(function(){return t.props.onDelete(t.props.ruleKey)})},t}return ht(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.setState({loading:!0}),this.fetchRuleDetails()},t.prototype.componentDidUpdate=function(e){e.ruleKey!==this.props.ruleKey&&(this.setState({loading:!0}),this.fetchRuleDetails())},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state.ruleDetails;if(!e)return a.createElement("div",{className:"coding-rule-details"});var t=this.props,n=t.allowCustomRules,r=t.canWrite,o=t.organization,i=t.referencedProfiles,l=e.params,s=void 0===l?[]:l,c=!!e.templateKey,u=r&&!!this.props.allowCustomRules&&c;return a.createElement("div",{className:"coding-rule-details"},a.createElement(Se.a,{loading:this.state.loading},a.createElement(nt.a,{canWrite:r,onFilterChange:this.props.onFilterChange,onTagsChange:this.handleTagsChange,organization:o,referencedRepositories:this.props.referencedRepositories,ruleDetails:e}),a.createElement(Ze.a,{canWrite:r,onChange:this.handleRuleChange,organization:o,ruleDetails:e}),s.length>0&&a.createElement(at,{params:s}),u&&a.createElement("div",{className:"coding-rules-detail-description"},a.createElement(Ue,{customRule:e,onDone:this.handleRuleChange,organization:o,templateRule:e},function(e){var t=e.onClick;return a.createElement(g.a,{className:"js-edit-custom",id:"coding-rules-detail-custom-rule-change",onClick:t},Object(m.l)("edit"))}),a.createElement(Je.a,{confirmButtonText:Object(m.l)("delete"),isDestructive:!0,modalBody:Object(m.m)("coding_rules.delete.custom.confirm",e.name),modalHeader:Object(m.l)("coding_rules.delete_rule"),onConfirm:this.handleDelete},function(e){var t=e.onClick;return a.createElement(g.a,{className:"button-red spacer-left js-delete",id:"coding-rules-detail-rule-delete",onClick:t},Object(m.l)("delete"))})),e.isTemplate&&a.createElement(Xe,{canChange:n&&r,organization:o,ruleDetails:e}),!e.isTemplate&&a.createElement(mt,{activations:this.state.actives,canWrite:r,onActivate:this.handleActivate,onDeactivate:this.handleDeactivate,organization:o,referencedProfiles:i,ruleDetails:e}),!e.isTemplate&&a.createElement(tt,{organization:o,ruleKey:e.key})))},t}(a.PureComponent),yt=n(1092),bt=n(1024),Ot=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDeactivate=function(){if(t.props.selectedProfile){var e={key:t.props.selectedProfile.key,organization:t.props.organization,rule:t.props.rule.key};Object(p.k)(e).then(function(){return t.props.onDeactivate(e.key,e.rule)},function(){})}},t.handleActivate=function(e){return t.props.selectedProfile&&t.props.onActivate(t.props.selectedProfile.key,t.props.rule.key,{severity:e,inherit:W.c.NotInherited}),Promise.resolve()},t.renderActivation=function(){var e=t.props,n=e.activation,r=e.selectedProfile;return n?a.createElement("td",{className:"coding-rule-table-meta-cell coding-rule-activation"},a.createElement(bt.a,{severity:n.severity}),r&&r.parentName&&a.createElement(a.Fragment,null,n.inherit===W.c.Overridden&&a.createElement(Ge.a,{overlay:Object(m.m)("coding_rules.overrides",r.name,r.parentName)},a.createElement("i",{className:"little-spacer-left icon-inheritance icon-inheritance-overridden"})),n.inherit===W.c.Inherited&&a.createElement(Ge.a,{overlay:Object(m.m)("coding_rules.inherits",r.name,r.parentName)},a.createElement("i",{className:"little-spacer-left icon-inheritance"})))):null},t.renderActions=function(){var e=t.props,n=e.activation,r=e.rule,o=e.selectedProfile;return o?!(o.actions&&o.actions.edit)||o.isBuiltIn?null:a.createElement("td",{className:"coding-rule-table-meta-cell coding-rule-activation-actions"},n?t.renderDeactivateButton(n.inherit):!r.isTemplate&&a.createElement(ut,{buttonText:Object(m.l)("coding_rules.activate"),className:"coding-rules-detail-quality-profile-activate",modalHeader:Object(m.l)("coding_rules.activate_in_quality_profile"),onDone:t.handleActivate,organization:t.props.organization,profiles:[o],rule:r})):null},t.renderDeactivateButton=function(e){return"NONE"===e?a.createElement(Je.a,{confirmButtonText:Object(m.l)("yes"),modalBody:Object(m.l)("coding_rules.deactivate.confirm"),modalHeader:Object(m.l)("coding_rules.deactivate"),onConfirm:t.handleDeactivate},function(e){var t=e.onClick;return a.createElement(g.a,{className:"coding-rules-detail-quality-profile-deactivate button-red",onClick:t},Object(m.l)("coding_rules.deactivate"))}):a.createElement(Ge.a,{overlay:Object(m.l)("coding_rules.can_not_deactivate")},a.createElement(g.a,{className:"coding-rules-detail-quality-profile-deactivate button-red disabled"},Object(m.l)("coding_rules.deactivate")))},t}return Ot(t,e),t.prototype.render=function(){var e=this.props,t=e.rule,n=e.selected,r=(t.tags||[]).concat(t.sysTags||[]);return a.createElement("div",{className:c("coding-rule",{selected:n}),"data-rule":t.key},a.createElement("table",{className:"coding-rule-table"},a.createElement("tbody",null,a.createElement("tr",null,this.renderActivation(),a.createElement("td",null,a.createElement("div",{className:"coding-rule-title"},a.createElement(Ve.Link,{className:"link-no-underline",to:this.props.path},t.name),t.isTemplate&&a.createElement(Ge.a,{overlay:Object(m.l)("coding_rules.rule_template.title")},a.createElement("span",{className:"outline-badge spacer-left"},Object(m.l)("coding_rules.rule_template"))))),a.createElement("td",{className:"coding-rule-table-meta-cell"},a.createElement("div",{className:"display-flex-center coding-rule-meta"},"READY"!==t.status&&a.createElement("span",{className:"spacer-left badge badge-normal-size badge-tiny-height badge-danger-light"},Object(m.l)("rules.status",t.status)),a.createElement("span",{className:"spacer-left note"},t.langName),a.createElement(Ge.a,{overlay:Object(m.l)("coding_rules.type.tooltip",t.type)},a.createElement("span",{className:"display-inline-flex-center spacer-left note"},a.createElement(je.a,{className:"little-spacer-right",query:t.type}),Object(m.l)("issue.type",t.type))),r.length>0&&a.createElement("span",{className:"spacer-left"},a.createElement("i",{className:"icon-tags little-spacer-right"}),a.createElement("span",{className:"note"},r.join(", "))),a.createElement(yt.a,{onFilterChange:this.props.onFilterChange,rule:t}))),this.renderActions()))))},t}(a.PureComponent),Et=n(1013),jt=n(78),Nt=n(1080),Ct=n(47),Pt=n(244),kt=(n(1091),function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Rt=100,wt=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.attachShortcuts=function(){s.setScope("coding-rules"),s("up","coding-rules",function(){return n.selectPreviousRule(),!1}),s("down","coding-rules",function(){return n.selectNextRule(),!1}),s("right","coding-rules",function(){return n.openSelectedRule(),!1}),s("left","coding-rules",function(){return n.closeRule(),!1})},n.detachShortcuts=function(){return s.deleteScope("coding-rules")},n.getOpenRule=function(e,t){var n=Object(u.c)(e.location.query);return n&&t.find(function(e){return e.key===n})},n.getFacetsToFetch=function(){return Object.keys(n.state.openFacets).filter(function(e){return n.state.openFacets[e]}).filter(function(e){return Object(u.g)(e)}).map(function(e){return Object(u.d)(e)})},n.getFieldsToFetch=function(){var e=["isTemplate","name","lang","langName","severity","status","sysTags","tags","templateKey"];return n.state.query.profile&&e.push("actives","params"),e},n.getSearchParameters=function(){return St({f:n.getFieldsToFetch().join(),facets:n.getFacetsToFetch().join(),organization:n.props.organization&&n.props.organization.key,ps:Rt,s:"name"},Object(u.f)(n.state.query))},n.stopLoading=function(){n.mounted&&n.setState({loading:!1})},n.fetchInitialData=function(){n.setState({loading:!0});var e=n.props.organization&&n.props.organization.key;Promise.all([Object(fe.e)({organization:e}),Object(p.y)({organization:e})]).then(function(e){var t=e[0],r=t.canWrite,a=t.repositories,o=e[1].profiles;n.setState({canWrite:r,referencedProfiles:Object(l.keyBy)(o,"key"),referencedRepositories:Object(l.keyBy)(a,"key")}),n.fetchFirstRules()},n.stopLoading)},n.makeFetchRequest=function(e){return Object(fe.f)(St({},n.getSearchParameters(),e)).then(function(e){var t=e.actives,n=e.facets,r=e.p,a=e.ps,o=e.rules,i=e.total;return{actives:t&&function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var a=r[n],o=a[0],i=a[1];t[o]={};for(var l=0,s=i;l<s.length;l++){var c=s[l],u=c.inherit,p=c.qProfile,d=c.severity;t[o][p]={inherit:u,severity:d}}}return t}(t),facets:n&&function(e){for(var t={},n=0,r=e;n<r.length;n++){for(var a=r[n],o={},i=0,l=a.values;i<l.length;i++){var s=l[i];o[s.val]=s.count}t[Object(u.b)(a.property)]=o}return t}(n),paging:{pageIndex:r,pageSize:a,total:i},rules:o}})},n.fetchFirstRules=function(e){n.setState({loading:!0}),n.makeFetchRequest(e).then(function(e){var t=e.actives,r=e.facets,a=e.paging,o=e.rules;if(n.mounted){var i=n.getOpenRule(n.props,o),l=o.length>0?i&&i.key||o[0].key:void 0;n.setState({actives:t,facets:r,loading:!1,openRule:i,paging:a,rules:o,selected:l})}},n.stopLoading)},n.fetchMoreRules=function(){var e=n.state.paging;if(e){n.setState({loading:!0});var t=e.pageIndex+1;n.makeFetchRequest({p:t,facets:void 0}).then(function(e){var t=e.actives,r=e.paging,a=e.rules;n.mounted&&n.setState(function(e){return{actives:St({},e.actives,{actives:t}),loading:!1,paging:r,rules:e.rules.concat(a)}})},n.stopLoading)}},n.fetchFacet=function(e){n.setState({loading:!0}),n.makeFetchRequest({ps:1,facets:Object(u.d)(e)}).then(function(e){var t=e.facets;n.mounted&&n.setState(function(e){return{facets:St({},e.facets,t),loading:!1}})},n.stopLoading)},n.getSelectedIndex=function(e){var t=void 0===e?n.state:e,r=t.selected,a=t.rules.findIndex(function(e){return e.key===r});return-1!==a?a:void 0},n.selectNextRule=function(){var e=n.state.rules,t=n.getSelectedIndex();e&&void 0!==t&&t<e.length-1&&(n.state.openRule?n.openRule(e[t+1].key):n.setState({selected:e[t+1].key}))},n.selectPreviousRule=function(){var e=n.state.rules,t=n.getSelectedIndex();e&&void 0!==t&&t>0&&(n.state.openRule?n.openRule(e[t-1].key):n.setState({selected:e[t-1].key}))},n.getRulePath=function(e){return{pathname:n.props.location.pathname,query:St({},Object(u.f)(n.state.query),{open:e})}},n.openRule=function(e){var t=n.getRulePath(e);n.state.openRule?n.context.router.replace(t):n.context.router.push(t)},n.openSelectedRule=function(){var e=n.state.selected;e&&n.openRule(e)},n.closeRule=function(){n.context.router.push({pathname:n.props.location.pathname,query:St({},Object(u.f)(n.state.query),{open:void 0})}),n.scrollToSelectedRule(!1)},n.scrollToSelectedRule=function(e){void 0===e&&(e=!0);var t=n.state.selected;if(t){var r=document.querySelector('[data-rule="'+t+'"]');r&&Object(Pt.a)(r,{topOffset:150,bottomOffset:100,smooth:e})}},n.getRuleActivation=function(e){var t=n.state,r=t.actives,a=t.query;return r&&r[e]&&a.profile?r[e][a.profile]:void 0},n.getSelectedProfile=function(){var e=n.state,t=e.query,r=e.referencedProfiles;return t.profile?r[t.profile]:void 0},n.closeFacet=function(e){return n.setState(function(t){return{openFacets:St({},t.openFacets,(n={},n[e]=!1,n))};var n})},n.handleBack=function(e){e.preventDefault(),e.currentTarget.blur(),n.closeRule()},n.handleFilterChange=function(e){return n.context.router.push({pathname:n.props.location.pathname,query:Object(u.f)(St({},n.state.query,e))})},n.handleFacetToggle=function(e){n.setState(function(t){return{openFacets:St({},t.openFacets,(n={},n[e]=!t.openFacets[e],n))};var n}),!Object(u.g)(e)||n.state.facets&&n.state.facets[e]||n.fetchFacet(e)},n.handleReload=function(){return n.fetchFirstRules()},n.handleReset=function(){return n.context.router.push({pathname:n.props.location.pathname})},n.pickRuleAround=function(e,t){if(void 0!==t&&0!==e.length)return t>=0&&t<e.length?e[t].key:e[e.length-1].key},n.handleRuleDelete=function(e){n.state.query.ruleKey===e?n.handleReset():(n.setState(function(t){var r=t.rules.filter(function(t){return t.key!==e}),a=n.getSelectedIndex(t);return{rules:r,selected:n.pickRuleAround(r,a)}}),n.closeRule())},n.handleRuleActivate=function(e,t,r){return n.setState(function(n){var a,o,i,l,s=n.actives,c=void 0===s?{}:s;return c[t]?{actives:St({},c,(i={},i[t]=St({},c[t],(l={},l[e]=r,l)),i))}:{actives:St({},c,(a={},a[t]=(o={},o[e]=r,o),a))}})},n.handleRuleDeactivate=function(e,t){return n.setState(function(n){var r,a,o=n.actives;return o&&o[t]?{actives:St({},o,(r={},r[t]=St({},o[t],(a={},a[e]=void 0,a)),r))}:{}})},n.handleSearch=function(e){return n.handleFilterChange({searchQuery:e})},n.isFiltered=function(){return Object.keys(Object(u.f)(n.state.query)).length>0},n.state={loading:!0,openFacets:{languages:!0,types:!0},query:Object(u.e)(t.location.query),referencedProfiles:{},referencedRepositories:{},rules:[]},n}return kt(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,document.body.classList.add("white-page"),document.documentElement.classList.add("white-page");var e=document.getElementById("footer");e&&e.classList.add("page-footer-with-sidebar"),this.attachShortcuts(),this.fetchInitialData()},t.prototype.componentWillReceiveProps=function(e){var t=this.getOpenRule(e,this.state.rules);t&&t.key!==this.state.selected&&this.setState({selected:t.key}),this.setState({openRule:t,query:Object(u.e)(e.location.query)})},t.prototype.componentDidUpdate=function(e,t){Object(u.a)(e.location.query,this.props.location.query)||this.fetchFirstRules(),this.state.openRule||t.selected===this.state.selected&&!t.openRule||this.scrollToSelectedRule()},t.prototype.componentWillUnmount=function(){this.mounted=!1,document.body.classList.remove("white-page"),document.documentElement.classList.remove("white-page");var e=document.getElementById("footer");e&&e.classList.remove("page-footer-with-sidebar"),this.detachShortcuts()},t.prototype.render=function(){var e=this,t=this.state,n=t.paging,r=t.rules,i=this.getSelectedIndex(),l=this.props.organization&&this.props.organization.key;return a.createElement(a.Fragment,null,a.createElement(o.Helmet,{title:Object(m.l)("coding_rules.page")}),a.createElement("div",{className:"layout-page",id:"coding-rules-page"},a.createElement(Et.a,{className:"layout-page-side-outer"},function(t){var n=t.top;return a.createElement("div",{className:"layout-page-side",style:{top:n}},a.createElement("div",{className:"layout-page-side-inner"},a.createElement("div",{className:"layout-page-filters"},a.createElement(Nt.a,{displayReset:e.isFiltered(),onReset:e.handleReset}),a.createElement(Ct.a,{className:"spacer-bottom",id:"coding-rules-search",minLength:2,onChange:e.handleSearch,placeholder:Object(m.l)("search.search_for_rules"),value:e.state.query.searchQuery||""}),a.createElement(ke,{facets:e.state.facets,onFacetToggle:e.handleFacetToggle,onFilterChange:e.handleFilterChange,organization:l,organizationsEnabled:e.context.organizationsEnabled,openFacets:e.state.openFacets,query:e.state.query,referencedProfiles:e.state.referencedProfiles,referencedRepositories:e.state.referencedRepositories,selectedProfile:e.getSelectedProfile()}))))}),a.createElement("div",{className:"layout-page-main"},a.createElement("div",{className:"layout-page-header-panel layout-page-main-header"},a.createElement("div",{className:"layout-page-header-panel-inner layout-page-main-header-inner"},a.createElement("div",{className:"layout-page-main-inner"},this.state.openRule?a.createElement("a",{href:"#",className:"js-back",onClick:this.handleBack},Object(m.l)("coding_rules.return_to_list")):this.state.paging&&a.createElement(E,{organization:l,query:this.state.query,referencedProfiles:this.state.referencedProfiles,total:this.state.paging.total}),a.createElement(qe,{loading:this.state.loading,onReload:this.handleReload,paging:n,selectedIndex:i})))),a.createElement("div",{className:"layout-page-main-inner"},this.state.openRule?a.createElement(vt,{allowCustomRules:!this.context.organizationsEnabled,canWrite:this.state.canWrite,onActivate:this.handleRuleActivate,onDeactivate:this.handleRuleDeactivate,onDelete:this.handleRuleDelete,onFilterChange:this.handleFilterChange,organization:l,referencedProfiles:this.state.referencedProfiles,referencedRepositories:this.state.referencedRepositories,ruleKey:this.state.openRule.key,selectedProfile:this.getSelectedProfile()}):a.createElement(a.Fragment,null,r.map(function(t){return a.createElement(_t,{activation:e.getRuleActivation(t.key),key:t.key,onActivate:e.handleRuleActivate,onDeactivate:e.handleRuleDeactivate,onFilterChange:e.handleFilterChange,organization:l,path:e.getRulePath(t.key),rule:t,selected:t.key===e.state.selected,selectedProfile:e.getSelectedProfile()})}),void 0!==n&&a.createElement(jt.a,{count:r.length,loadMore:this.fetchMoreRules,ready:!this.state.loading,total:n.total}))))))},t.contextTypes={organizationsEnabled:i.bool,router:i.object.isRequired},t}(a.PureComponent);t.default=wt},993:function(e,t,n){"use strict";n.d(t,"y",function(){return s}),n.d(t,"s",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"w",function(){return p}),n.d(t,"r",function(){return d}),n.d(t,"q",function(){return f}),n.d(t,"A",function(){return m}),n.d(t,"v",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"l",function(){return v}),n.d(t,"g",function(){return y}),n.d(t,"o",function(){return b}),n.d(t,"n",function(){return O}),n.d(t,"p",function(){return _}),n.d(t,"h",function(){return E}),n.d(t,"d",function(){return j}),n.d(t,"m",function(){return N}),n.d(t,"z",function(){return C}),n.d(t,"x",function(){return P}),n.d(t,"c",function(){return k}),n.d(t,"u",function(){return S}),n.d(t,"b",function(){return R}),n.d(t,"t",function(){return w}),n.d(t,"e",function(){return q}),n.d(t,"f",function(){return D}),n.d(t,"a",function(){return T}),n.d(t,"k",function(){return F});var r=n(4),a=n(1007),o=n(3),i=n(13),l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function s(e){return Object(o.getJSON)("/api/qualityprofiles/search",e).catch(i.a)}function c(e){return Object(o.getJSON)("/api/qualityprofiles/show",e)}function u(e){return Object(o.request)("/api/qualityprofiles/create").setMethod("post").setData(e).submit().then(o.checkStatus).then(o.parseJSON)}function p(e){return Object(o.request)("/api/qualityprofiles/restore").setMethod("post").setData(e).submit().then(o.checkStatus).then(o.parseJSON)}function d(e){return Object(o.getJSON)("/api/qualityprofiles/projects",e).catch(i.a)}function f(e){return Object(o.getJSON)("/api/qualityprofiles/inheritance",{profileKey:e}).catch(i.a)}function m(e){return Object(o.post)("/api/qualityprofiles/set_default",{profileKey:e})}function h(e,t){return Object(o.post)("/api/qualityprofiles/rename",{key:e,name:t})}function g(e,t){return Object(o.postJSON)("/api/qualityprofiles/copy",{fromKey:e,toName:t})}function v(e){return Object(o.post)("/api/qualityprofiles/delete",{profileKey:e})}function y(e,t){return Object(o.post)("/api/qualityprofiles/change_parent",{profileKey:e,parentKey:t})}function b(){return Object(o.getJSON)("/api/qualityprofiles/importers").then(function(e){return e.importers},i.a)}function O(){return Object(o.getJSON)("/api/qualityprofiles/exporters").then(function(e){return e.exporters})}function _(e){return Object(o.getJSON)("/api/qualityprofiles/changelog",e)}function E(e,t){return Object(o.getJSON)("/api/qualityprofiles/compare",{leftKey:e,rightKey:t})}function j(e,t){return Object(o.post)("/api/qualityprofiles/add_project",{profileKey:e,projectKey:t}).catch(i.a)}function N(e,t){return Object(o.post)("/api/qualityprofiles/remove_project",{profileKey:e,projectKey:t}).catch(i.a)}function C(e){return Object(o.getJSON)("/api/qualityprofiles/search_users",e).catch(i.a)}function P(e){return Object(o.getJSON)("/api/qualityprofiles/search_groups",e).catch(i.a)}function k(e){return Object(o.post)("/api/qualityprofiles/add_user",e).catch(i.a)}function S(e){return Object(o.post)("/api/qualityprofiles/remove_user",e).catch(i.a)}function R(e){return Object(o.post)("/api/qualityprofiles/add_group",e).catch(i.a)}function w(e){return Object(o.post)("/api/qualityprofiles/remove_group",e).catch(i.a)}function q(e){return Object(o.postJSON)("/api/qualityprofiles/activate_rules",e)}function D(e){return Object(o.postJSON)("/api/qualityprofiles/deactivate_rules",e)}function T(e){var t=e.params&&Object(r.map)(e.params,function(e,t){return t+"="+Object(a.a)(e)}).join(";");return Object(o.post)("/api/qualityprofiles/activate_rule",l({},e,{params:t})).catch(i.a)}function F(e){return Object(o.post)("/api/qualityprofiles/deactivate_rule",e).catch(i.a)}},995:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n(6);function o(e){return r.createElement("div",{className:a("search-navigator-facet-box",e.className),"data-property":e.property},e.children)}},997:function(e,t,n){"use strict";var r,a=n(0),o=n(6),i=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClick(t.props.value)},t}return i(t,e),t.prototype.render=function(){var e=o("facet","search-navigator-facet",this.props.className,{active:this.props.active,"search-navigator-facet-half":this.props.halfWidth});return this.props.disabled?a.createElement("span",{className:e,"data-facet":this.props.value},a.createElement("span",{className:"facet-name"},this.props.name),null!=this.props.stat&&a.createElement("span",{className:"facet-stat"},this.props.stat)):a.createElement("a",{className:e,"data-facet":this.props.value,href:"#",onClick:this.handleClick},a.createElement("span",{className:"facet-name"},this.props.name),null!=this.props.stat&&a.createElement("span",{className:"facet-stat"},this.props.stat))},t.defaultProps={disabled:!1,halfWidth:!1},t}(a.PureComponent);t.a=l},998:function(e,t,n){"use strict";var r,a=n(0),o=n(246),i=n(149),l=n(25),s=n(11),c=n(1),u=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.props.onClick&&t.props.onClick()},t}return u(t,e),t.prototype.renderHelper=function(){return this.props.helper?a.createElement(l.a,{overlay:this.props.helper},a.createElement("span",null,a.createElement(i.a,{className:"spacer-left text-info"}))):null},t.prototype.renderValueIndicator=function(){var e=this.props.values;if(this.props.open||!e||!e.length)return null;var t=1===e.length?e[0]:Object(c.m)("x_selected",e.length);return a.createElement("span",{className:"badge badge-secondary is-rounded text-ellipsis",title:t},t)},t.prototype.render=function(){var e=null!=this.props.values&&this.props.values.length>0&&null!=this.props.onClear;return a.createElement("div",{className:"search-navigator-facet-header-wrapper"},this.props.onClick?a.createElement("span",{className:"search-navigator-facet-header"},a.createElement("a",{href:"#",onClick:this.handleClick},a.createElement(o.a,{className:"little-spacer-right",open:this.props.open}),this.props.name),this.renderHelper()):a.createElement("span",{className:"search-navigator-facet-header"},this.props.name,this.renderHelper()),a.createElement("span",{className:"search-navigator-facet-header-value spacer-left spacer-right "},this.renderValueIndicator()),e&&a.createElement(s.a,{className:"search-navigator-facet-header-button button-small button-red",onClick:this.props.onClear},Object(c.l)("clear")))},t}(a.PureComponent);t.a=p},999:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0);function a(e){return r.createElement("div",{className:"search-navigator-facet-list"},e.children)}}}]);
//# sourceMappingURL=264.34eb7162.chunk.js.map