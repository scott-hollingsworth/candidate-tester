{"version":3,"sources":["webpack:///./src/main/js/components/icons-components/CollapseIcon.tsx","webpack:///./src/main/js/components/icons-components/ExpandIcon.tsx","webpack:///./src/main/js/components/icons-components/MinimizeIcon.tsx","webpack:///./src/main/js/components/workspace/WorkspaceHeader.tsx","webpack:///./src/main/js/components/workspace/WorkspaceComponentViewer.tsx"],"names":["CollapseIcon_CollapseIcon","_a","className","_b","fill","_c","size","index_js_exposed","height","version","viewBox","width","xmlSpace","xmlnsXlink","d","style","ExpandIcon_ExpandIcon","MinimizeIcon_MinimizeIcon","WorkspaceHeader_WorkspaceHeader","_super","WorkspaceHeader","_this","apply","this","arguments","handleDrag","_event","data","props","onResize","deltaY","WorkspaceHeader_extends","prototype","render","children","react_draggable","offsetParent","document","body","onDrag","WorkspaceHeader_WorkspaceHeaderButton","icon","onClick","onCollapse","tooltip","maximized","onMinimize","onMaximize","ClearIcon","onClose","Icon","buttons","color","Object","l10n","undefined","WorkspaceComponentViewer","handleClose","component","key","handleLoaded","onLoad","name","path","qualifier","q","container","line","row","querySelector","_helpers_scrolling__WEBPACK_IMPORTED_MODULE_4__","smooth","parent","topOffset","bottomOffset","__extends","componentDidMount","documentElement","classList","add","componentWillUnmount","remove","react__WEBPACK_IMPORTED_MODULE_0__","_WorkspaceHeader__WEBPACK_IMPORTED_MODULE_1__","_WorkspaceComponentTitle__WEBPACK_IMPORTED_MODULE_2__","ref","node","_SourceViewer_SourceViewer__WEBPACK_IMPORTED_MODULE_3__","aroundLine","branchLike","highlightedLine","onLoaded"],"mappings":"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","file":"js/253.65a04bfc.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './types';\n\nexport default function CollapseIcon({ className, fill = 'currentColor', size = 16 }: IconProps) {\n  return (\n    <svg\n      className={className}\n      height={size}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={size}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n      <path\n        d=\"M8 8.509v3.56c0 .138-.05.257-.151.357-.1.101-.22.151-.358.151a.489.489 0 0 1-.357-.15l-1.145-1.145-2.638 2.639a.251.251 0 0 1-.366 0l-.906-.906a.251.251 0 0 1 0-.366l2.639-2.638-1.144-1.145a.489.489 0 0 1-.151-.357c0-.138.05-.257.15-.358.101-.1.22-.151.358-.151h3.56c.138 0 .257.05.358.151.1.1.151.22.151.358zm6-5.34c0 .068-.026.129-.08.182l-2.638 2.638 1.144 1.145c.101.1.151.22.151.357 0 .138-.05.257-.15.358-.101.1-.22.151-.358.151h-3.56a.489.489 0 0 1-.358-.151A.489.489 0 0 1 8 7.491v-3.56c0-.138.05-.257.151-.357.1-.101.22-.151.358-.151.137 0 .257.05.357.15l1.145 1.145 2.638-2.639a.251.251 0 0 1 .366 0l.906.906c.053.053.079.114.079.183z\"\n        style={{ fill }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './types';\n\nexport default function ExpandIcon({ className, fill = 'currentColor', size = 16 }: IconProps) {\n  return (\n    <svg\n      className={className}\n      height={size}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={size}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n      <path\n        d=\"M7.898 9.25a.247.247 0 0 1-.078.18l-2.593 2.593 1.125 1.125a.48.48 0 0 1 .148.352.48.48 0 0 1-.148.352A.48.48 0 0 1 6 14H2.5a.48.48 0 0 1-.352-.148A.48.48 0 0 1 2 13.5V10a.48.48 0 0 1 .148-.352A.48.48 0 0 1 2.5 9.5a.48.48 0 0 1 .352.148l1.125 1.125L6.57 8.18a.247.247 0 0 1 .36 0l.89.89a.247.247 0 0 1 .078.18zM14 2.5V6a.48.48 0 0 1-.148.352.48.48 0 0 1-.352.148.48.48 0 0 1-.352-.148l-1.125-1.125L9.43 7.82a.247.247 0 0 1-.36 0l-.89-.89a.247.247 0 0 1 0-.36l2.593-2.593-1.125-1.125A.48.48 0 0 1 9.5 2.5a.48.48 0 0 1 .148-.352A.48.48 0 0 1 10 2h3.5a.48.48 0 0 1 .352.148A.48.48 0 0 1 14 2.5z\"\n        style={{ fill }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { IconProps } from './types';\n\nexport default function MinimizeIcon({ className, fill = 'currentColor', size = 16 }: IconProps) {\n  return (\n    <svg\n      className={className}\n      height={size}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={size}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\">\n      <path\n        d=\"M14 12.1v1.267c0 .176-.08.325-.239.448a.918.918 0 0 1-.58.185H2.819a.918.918 0 0 1-.58-.185C2.08 13.692 2 13.543 2 13.367V12.1c0-.176.08-.326.239-.449a.918.918 0 0 1 .58-.185h10.363c.227 0 .42.062.58.185.158.123.238.273.238.449z\"\n        style={{ fill }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DraggableCore, DraggableData } from 'react-draggable';\nimport { translate } from '../../helpers/l10n';\nimport { ButtonIcon } from '../ui/buttons';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport CollapseIcon from '../icons-components/CollapseIcon';\nimport ExpandIcon from '../icons-components/ExpandIcon';\nimport MinimizeIcon from '../icons-components/MinimizeIcon';\nimport { IconProps } from '../icons-components/types';\n\nexport interface Props {\n  children: React.ReactNode;\n  maximized?: boolean;\n  onClose: () => void;\n  onCollapse: () => void;\n  onMaximize: () => void;\n  onMinimize: () => void;\n  onResize: (deltaY: number) => void;\n}\n\nexport default class WorkspaceHeader extends React.PureComponent<Props> {\n  handleDrag = (_event: MouseEvent, data: DraggableData) => {\n    this.props.onResize(data.deltaY);\n  };\n\n  render() {\n    return (\n      <header className=\"workspace-viewer-header\">\n        <h6 className=\"workspace-viewer-name\">{this.props.children}</h6>\n\n        <DraggableCore offsetParent={document.body} onDrag={this.handleDrag}>\n          <div className=\"workspace-viewer-resize js-resize\" />\n        </DraggableCore>\n\n        <div className=\"workspace-viewer-actions\">\n          <WorkspaceHeaderButton\n            icon={MinimizeIcon}\n            onClick={this.props.onCollapse}\n            tooltip=\"workspace.minimize\"\n          />\n\n          {this.props.maximized ? (\n            <WorkspaceHeaderButton\n              icon={CollapseIcon}\n              onClick={this.props.onMinimize}\n              tooltip=\"workspace.normal_size\"\n            />\n          ) : (\n            <WorkspaceHeaderButton\n              icon={ExpandIcon}\n              onClick={this.props.onMaximize}\n              tooltip=\"workspace.full_window\"\n            />\n          )}\n\n          <WorkspaceHeaderButton\n            icon={ClearIcon}\n            onClick={this.props.onClose}\n            tooltip=\"workspace.close\"\n          />\n        </div>\n      </header>\n    );\n  }\n}\n\ninterface WorkspaceHeaderButtonProps {\n  icon: React.SFC<IconProps>;\n  onClick: () => void;\n  tooltip: string;\n}\n\nfunction WorkspaceHeaderButton({ icon: Icon, onClick, tooltip }: WorkspaceHeaderButtonProps) {\n  return (\n    <ButtonIcon\n      className=\"workspace-header-icon\"\n      color=\"#fff\"\n      onClick={onClick}\n      tooltip={translate(tooltip)}>\n      <Icon fill={undefined} />\n    </ButtonIcon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ComponentDescriptor } from './context';\nimport WorkspaceHeader, { Props as WorkspaceHeaderProps } from './WorkspaceHeader';\nimport WorkspaceComponentTitle from './WorkspaceComponentTitle';\nimport SourceViewer from '../SourceViewer/SourceViewer';\nimport { SourceViewerFile, Omit } from '../../app/types';\nimport { scrollToElement } from '../../helpers/scrolling';\n\nexport interface Props extends Omit<WorkspaceHeaderProps, 'children' | 'onClose'> {\n  component: ComponentDescriptor;\n  height: number;\n  onClose: (componentKey: string) => void;\n  onLoad: (details: { key: string; name: string; qualifier: string }) => void;\n}\n\nexport default class WorkspaceComponentViewer extends React.PureComponent<Props> {\n  container?: HTMLElement | null;\n\n  componentDidMount() {\n    document.documentElement.classList.add('with-workspace');\n  }\n\n  componentWillUnmount() {\n    document.documentElement.classList.remove('with-workspace');\n  }\n\n  handleClose = () => {\n    this.props.onClose(this.props.component.key);\n  };\n\n  handleLoaded = (component: SourceViewerFile) => {\n    this.props.onLoad({\n      key: this.props.component.key,\n      name: component.path,\n      qualifier: component.q\n    });\n\n    if (this.container && this.props.component.line) {\n      const row = this.container.querySelector(\n        `.source-line[data-line-number=\"${this.props.component.line}\"]`\n      );\n      if (row) {\n        scrollToElement(row, {\n          smooth: false,\n          parent: this.container,\n          topOffset: 50,\n          bottomOffset: 50\n        });\n      }\n    }\n  };\n\n  render() {\n    const { component } = this.props;\n\n    return (\n      <div className=\"workspace-viewer\">\n        <WorkspaceHeader\n          maximized={this.props.maximized}\n          onClose={this.handleClose}\n          onCollapse={this.props.onCollapse}\n          onMaximize={this.props.onMaximize}\n          onMinimize={this.props.onMinimize}\n          onResize={this.props.onResize}>\n          <WorkspaceComponentTitle component={component} />\n        </WorkspaceHeader>\n\n        <div\n          className=\"workspace-viewer-container\"\n          ref={node => (this.container = node)}\n          style={{ height: this.props.height }}>\n          <SourceViewer\n            aroundLine={component.line}\n            branchLike={component.branchLike}\n            component={component.key}\n            highlightedLine={component.line}\n            onLoaded={this.handleLoaded}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}