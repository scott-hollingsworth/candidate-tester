{"version":3,"sources":["webpack:///./src/main/js/apps/account/profile/UserExternalIdentity.js","webpack:///./src/main/js/apps/account/profile/UserGroups.js","webpack:///./src/main/js/apps/account/profile/UserScmAccounts.js","webpack:///./src/main/js/apps/account/profile/Profile.js"],"names":["_super","UserExternalIdentity","_this","apply","this","arguments","state","loading","UserExternalIdentity_extends","prototype","componentDidMount","mounted","fetchIdentityProviders","componentDidUpdate","prevProps","user","props","componentWillUnmount","setState","Object","users","then","r","identityProviders","providers","identityProvider","find","provider","key","externalProvider","catch","render","_a","index_js_exposed_default","a","createElement","className","style","backgroundColor","color","colors","theme","src","window","baseUrl","iconPath","width","height","alt","name","externalIdentity","PureComponent","UserGroups","UserGroups_extends","groups","l10n","id","map","group","title","propTypes","prop_types_default","arrayOf","string","isRequired","UserScmAccounts","UserScmAccounts_extends","scmAccounts","login","email","scmAccount","object","__webpack_exports__","es","customOrganizations","rootReducer","local","profile_UserExternalIdentity","profile_UserGroups","profile_UserScmAccounts"],"mappings":"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","file":"js/260.c4eb37b8.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport { getIdentityProviders } from '../../../api/users';\nimport * as theme from '../../../app/theme';\nimport { getTextColor } from '../../../helpers/colors';\n\nexport default class UserExternalIdentity extends React.PureComponent {\n  state = {\n    loading: true\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIdentityProviders();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.user !== this.props.user) {\n      this.this.fetchIdentityProviders();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIdentityProviders() {\n    this.setState({ loading: true });\n    getIdentityProviders()\n      .then(r => r.identityProviders)\n      .then(providers => {\n        if (this.mounted) {\n          const identityProvider = providers.find(\n            provider => provider.key === this.props.user.externalProvider\n          );\n          this.setState({ loading: false, identityProvider });\n        }\n      })\n      .catch(() => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      });\n  }\n\n  render() {\n    const { user } = this.props;\n    const { loading, identityProvider } = this.state;\n\n    if (loading) {\n      return null;\n    }\n\n    if (!identityProvider) {\n      return (\n        <div>\n          {user.externalProvider}\n          {': '}\n          {user.externalIdentity}\n        </div>\n      );\n    }\n\n    return (\n      <div\n        className=\"identity-provider\"\n        style={{\n          backgroundColor: identityProvider.backgroundColor,\n          color: getTextColor(identityProvider.backgroundColor, theme.secondFontColor)\n        }}>\n        <img\n          className=\"little-spacer-right\"\n          src={window.baseUrl + identityProvider.iconPath}\n          width=\"14\"\n          height=\"14\"\n          alt={identityProvider.name}\n        />{' '}\n        {user.externalIdentity}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class UserGroups extends React.PureComponent {\n  static propTypes = {\n    groups: PropTypes.arrayOf(PropTypes.string).isRequired\n  };\n\n  render() {\n    const { groups } = this.props;\n\n    return (\n      <div>\n        <h2 className=\"spacer-bottom\">{translate('my_profile.groups')}</h2>\n        <ul id=\"groups\">\n          {groups.map(group => (\n            <li key={group} className=\"little-spacer-bottom\" title={group}>\n              {group}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class UserScmAccounts extends React.PureComponent {\n  static propTypes = {\n    user: PropTypes.object.isRequired,\n    scmAccounts: PropTypes.arrayOf(PropTypes.string).isRequired\n  };\n\n  render() {\n    const { user, scmAccounts } = this.props;\n\n    return (\n      <div>\n        <h2 className=\"spacer-bottom\">{translate('my_profile.scm_accounts')}</h2>\n        <ul id=\"scm-accounts\">\n          <li className=\"little-spacer-bottom text-ellipsis\" title={user.login}>\n            {user.login}\n          </li>\n\n          {user.email && (\n            <li className=\"little-spacer-bottom text-ellipsis\" title={user.email}>\n              {user.email}\n            </li>\n          )}\n\n          {scmAccounts.map(scmAccount => (\n            <li key={scmAccount} className=\"little-spacer-bottom\" title={scmAccount}>\n              {scmAccount}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport UserExternalIdentity from './UserExternalIdentity';\nimport UserGroups from './UserGroups';\nimport UserScmAccounts from './UserScmAccounts';\nimport { getCurrentUser, areThereCustomOrganizations } from '../../../store/rootReducer';\nimport { translate } from '../../../helpers/l10n';\n\n/*::\ntype Props = {\n  customOrganizations: boolean,\n  user: {\n    email?: string,\n    externalProvider?: string,\n    groups: Array<*>,\n    local: boolean,\n    login: string,\n    scmAccounts: Array<*>\n  }\n};\n*/\n\nfunction Profile(props /*: Props */) {\n  const { customOrganizations, user } = props;\n\n  return (\n    <div className=\"account-body account-container\">\n      <div className=\"boxed-group boxed-group-inner\">\n        <div className=\"spacer-bottom\">\n          {translate('login')}: <strong id=\"login\">{user.login}</strong>\n        </div>\n\n        {!user.local &&\n          user.externalProvider !== 'sonarqube' && (\n            <div id=\"identity-provider\" className=\"spacer-bottom\">\n              <UserExternalIdentity user={user} />\n            </div>\n          )}\n\n        {!!user.email && (\n          <div className=\"spacer-bottom\">\n            {translate('my_profile.email')}: <strong id=\"email\">{user.email}</strong>\n          </div>\n        )}\n\n        {!customOrganizations && <hr className=\"account-separator\" />}\n        {!customOrganizations && <UserGroups groups={user.groups} />}\n\n        <hr />\n\n        <UserScmAccounts user={user} scmAccounts={user.scmAccounts} />\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = state => ({\n  customOrganizations: areThereCustomOrganizations(state),\n  user: getCurrentUser(state)\n});\n\nexport default connect(mapStateToProps)(Profile);\n"],"sourceRoot":""}