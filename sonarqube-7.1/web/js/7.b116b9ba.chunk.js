(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1004:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"h",function(){return d});var r=n(3),a=n(13);function o(e){return Object(r.getJSON)("/api/rules/app",e).catch(a.a)}function i(e){return Object(r.getJSON)("/api/rules/search",e).catch(a.a)}function l(e,t){var n=e.facets.find(function(e){return e.property===t});return n?n.values:[]}function s(e){return Object(r.getJSON)("/api/rules/show",e).catch(a.a)}function c(e){return Object(r.getJSON)("/api/rules/tags",e).then(function(e){return e.tags},a.a)}function u(e){return Object(r.postJSON)("/api/rules/create",e).then(function(e){return e.rule},function(e){return e&&e.response&&409===e.response.status?Promise.reject(e.response):Object(a.a)(e)})}function p(e){return Object(r.post)("/api/rules/delete",e).catch(a.a)}function d(e){return Object(r.postJSON)("/api/rules/update",e).then(function(e){return e.rule},a.a)}},1084:function(e,t,n){"use strict";var r=n(0),a=n(65),o=n(11),i=n(1);function l(e){var t=e.onCancel,n=e.onSubmit,l=Object(i.l)("coding_rules.remove_extended_description");return r.createElement(a.a,{header:l,onClose:t,onSubmit:n},function(e){var t=e.onCloseClick,n=e.onFormSubmit,a=e.submitting;return r.createElement("form",{onSubmit:n},r.createElement("header",{className:"modal-head"},r.createElement("h2",null,l)),r.createElement("div",{className:"modal-body"},Object(i.l)("coding_rules.remove_extended_description.confirm")),r.createElement("footer",{className:"modal-foot"},a&&r.createElement("i",{className:"spinner spacer-right"}),r.createElement(o.f,{className:"button-red",disabled:a,id:"coding-rules-detail-extend-description-remove-submit"},Object(i.l)("remove")),r.createElement(o.e,{onClick:t},Object(i.l)("cancel"))))})}var s,c=n(1004),u=n(1061),p=(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={description:"",descriptionForm:!1,submitting:!1,removeDescriptionModal:!1},t.handleDescriptionChange=function(e){return t.setState({description:e.currentTarget.value})},t.handleCancelClick=function(){t.setState({descriptionForm:!1})},t.handleSaveClick=function(){t.updateDescription(t.state.description)},t.handleRemoveDescriptionClick=function(){t.setState({removeDescriptionModal:!0})},t.handleCancelRemoving=function(){return t.setState({removeDescriptionModal:!1})},t.handleConfirmRemoving=function(){t.setState({removeDescriptionModal:!1}),t.updateDescription("")},t.updateDescription=function(e){t.setState({submitting:!0}),Object(c.h)({key:t.props.ruleDetails.key,markdown_note:e,organization:t.props.organization}).then(function(e){t.props.onChange(e),t.mounted&&t.setState({submitting:!1,descriptionForm:!1})},function(){t.mounted&&t.setState({submitting:!1})})},t.handleExtendDescriptionClick=function(){t.setState({description:t.props.ruleDetails.mdNote||"",descriptionForm:!0})},t.renderDescription=function(){return r.createElement("div",{id:"coding-rules-detail-description-extra"},void 0!==t.props.ruleDetails.htmlNote&&r.createElement("div",{className:"rule-desc spacer-bottom markdown",dangerouslySetInnerHTML:{__html:t.props.ruleDetails.htmlNote}}),t.props.canWrite&&r.createElement(o.a,{id:"coding-rules-detail-extend-description",onClick:t.handleExtendDescriptionClick},Object(i.l)("coding_rules.extend_description")))},t.renderForm=function(){return r.createElement("div",{className:"coding-rules-detail-extend-description-form"},r.createElement("table",{className:"width100"},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:"width100",colSpan:2},r.createElement("textarea",{autoFocus:!0,id:"coding-rules-detail-extend-description-text",onChange:t.handleDescriptionChange,rows:4,style:{width:"100%",marginBottom:4},value:t.state.description}))),r.createElement("tr",null,r.createElement("td",null,r.createElement(o.a,{disabled:t.state.submitting,id:"coding-rules-detail-extend-description-submit",onClick:t.handleSaveClick},Object(i.l)("save")),void 0!==t.props.ruleDetails.mdNote&&r.createElement(r.Fragment,null,r.createElement(o.a,{className:"button-red spacer-left",disabled:t.state.submitting,id:"coding-rules-detail-extend-description-remove",onClick:t.handleRemoveDescriptionClick},Object(i.l)("remove")),t.state.removeDescriptionModal&&r.createElement(l,{onCancel:t.handleCancelRemoving,onSubmit:t.handleConfirmRemoving})),r.createElement(o.e,{className:"spacer-left",disabled:t.state.submitting,id:"coding-rules-detail-extend-description-cancel",onClick:t.handleCancelClick},Object(i.l)("cancel")),t.state.submitting&&r.createElement("i",{className:"spinner spacer-left"})),r.createElement("td",{className:"text-right"},r.createElement(u.a,null))))))},t}return p(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props.ruleDetails;return r.createElement("div",{className:"js-rule-description"},r.createElement("div",{className:"coding-rules-detail-description rule-desc markdown",dangerouslySetInnerHTML:{__html:e.htmlDesc||""}}),!e.templateKey&&r.createElement("div",{className:"coding-rules-detail-description coding-rules-detail-description-extra"},!this.state.descriptionForm&&this.renderDescription(),this.state.descriptionForm&&this.props.canWrite&&this.renderForm()))},t}(r.PureComponent);t.a=d},1085:function(e,t,n){"use strict";var r,a=n(0),o=n(2),i=n(4),l=n(1062),s=n(1004),c=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=10,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={searchResult:[]},t.onSearch=function(e){return Object(s.d)({q:e,ps:Math.min(t.props.tags.length+u,100),organization:t.props.organization}).then(function(e){t.mounted&&t.setState({searchResult:i.without.apply(void 0,[e].concat(t.props.sysTags))})},function(){})},t.onSelect=function(e){t.props.setTags(Object(i.uniq)(t.props.tags.concat([e])))},t.onUnselect=function(e){t.props.setTags(Object(i.without)(t.props.tags,e))},t}return c(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=Object(i.difference)(this.state.searchResult,this.props.tags);return a.createElement(l.a,{listSize:u,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,position:this.props.popupPosition||{},selectedTags:this.props.tags,tags:e})},t}(a.PureComponent),d=n(1092),m=n(16),g=n(38),f=n(245);function h(e){var t=e.className,n=e.fill,r=void 0===n?"currentColor":n,o=e.size,i=void 0===o?16:o;return a.createElement("svg",{className:t,width:i,height:i,viewBox:"0 0 16 16",version:"1.1",xmlnsXlink:"http://www.w3.org/1999/xlink",xmlSpace:"preserve"},a.createElement("path",{style:{fill:r},d:"M8 3.071c2.724 0 4.929 2.204 4.929 4.929s-2.204 4.929-4.929 4.929c-2.724 0-4.929-2.204-4.929-4.929s2.204-4.929 4.929-4.929zM8 1.357c-3.669 0-6.643 2.974-6.643 6.643s2.974 6.643 6.643 6.643 6.643-2.974 6.643-6.643-2.974-6.643-6.643-6.643zM8 6.286c0.945 0 1.714 0.769 1.714 1.714s-0.769 1.714-1.714 1.714-1.714-0.769-1.714-1.714 0.769-1.714 1.714-1.714zM8 4.571c-1.893 0-3.429 1.535-3.429 3.429s1.535 3.429 3.429 3.429 3.429-1.535 3.429-3.429-1.535-3.429-3.429-3.429z"}))}var y=n(25),v=n(1),b=n(1001),E=n(1003),_=n(996),O=n(1028),N=n(147),C=n(11),j=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={tagsPopup:!1},t.handleTagsClick=function(){t.setState(function(e){return{tagsPopup:!e.tagsPopup}})},t.handleTagsPopupToggle=function(e){return t.setState({tagsPopup:e})},t.renderType=function(){var e=t.props.ruleDetails;return a.createElement(y.a,{overlay:Object(v.l)("coding_rules.type.tooltip",e.type)},a.createElement("li",{className:"coding-rules-detail-property","data-meta":"type"},a.createElement(b.a,{className:"little-spacer-right",query:e.type}),Object(v.l)("issue.type",e.type)))},t.renderSeverity=function(){return a.createElement(y.a,{overlay:Object(v.l)("default_severity")},a.createElement("li",{className:"coding-rules-detail-property","data-meta":"severity"},a.createElement(E.a,{className:"display-inline-flex-center",severity:t.props.ruleDetails.severity})))},t.renderStatus=function(){var e=t.props.ruleDetails;return"READY"===e.status?null:a.createElement(y.a,{overlay:Object(v.l)("status")},a.createElement("li",{className:"coding-rules-detail-property","data-meta":"status"},a.createElement("span",{className:"badge badge-normal-size badge-danger-light"},Object(v.l)("rules.status",e.status))))},t.renderTags=function(){var e=t.props,n=e.canWrite,r=e.ruleDetails,o=r.sysTags,i=void 0===o?[]:o,l=r.tags,s=void 0===l?[]:l,c=i.concat(s);return a.createElement("li",{className:"coding-rules-detail-property","data-meta":"tags"},t.props.canWrite?a.createElement(_.a,{isOpen:t.state.tagsPopup,popup:a.createElement(p,{organization:t.props.organization,setTags:t.props.onTagsChange,sysTags:i,tags:c}),position:"bottomleft",togglePopup:t.handleTagsPopupToggle},a.createElement(C.a,{className:"button-link",onClick:t.handleTagsClick},a.createElement(O.a,{allowUpdate:n,tags:c.length>0?c:[Object(v.l)("coding_rules.no_tags")]}))):a.createElement(O.a,{allowUpdate:n,className:"display-flex-center",tags:c.length>0?c:[Object(v.l)("coding_rules.no_tags")]}))},t.renderCreationDate=function(){return a.createElement("li",{className:"coding-rules-detail-property","data-meta":"available-since"},a.createElement("span",{className:"little-spacer-right"},Object(v.l)("coding_rules.available_since")),a.createElement(N.a,{date:t.props.ruleDetails.createdAt}))},t.renderRepository=function(){var e=t.props,n=e.referencedRepositories,r=e.ruleDetails,o=n[r.repo];return o?a.createElement(y.a,{overlay:Object(v.l)("coding_rules.repository_language")},a.createElement("li",{className:"coding-rules-detail-property","data-meta":"repository"},o.name," (",r.langName,")")):null},t.renderTemplate=function(){return t.props.ruleDetails.isTemplate?a.createElement(y.a,{overlay:Object(v.l)("coding_rules.rule_template.title")},a.createElement("li",{className:"coding-rules-detail-property"},Object(v.l)("coding_rules.rule_template"))):null},t.renderParentTemplate=function(){var e=t.props.ruleDetails;return e.templateKey?a.createElement(y.a,{overlay:Object(v.l)("coding_rules.custom_rule.title")},a.createElement("li",{className:"coding-rules-detail-property"},Object(v.l)("coding_rules.custom_rule")," (",a.createElement(o.Link,{to:Object(g.w)(e.templateKey,t.props.organization)},Object(v.l)("coding_rules.show_template")),")")):null},t.renderRemediation=function(){var e=t.props.ruleDetails;return e.debtRemFnType?a.createElement(y.a,{overlay:Object(v.l)("coding_rules.remediation_function")},a.createElement("li",{className:"coding-rules-detail-property","data-meta":"remediation-function"},Object(v.l)("coding_rules.remediation_function",e.debtRemFnType),":",void 0!==e.debtRemFnOffset&&" "+e.debtRemFnOffset,void 0!==e.debtRemFnCoeff&&" +"+e.debtRemFnCoeff,void 0!==e.effortToFixDescription&&" "+e.effortToFixDescription)):null},t.renderScope=function(){var e=t.props.ruleDetails.scope||m.d.Main;return a.createElement(y.a,{overlay:Object(v.l)("coding_rules.scope.title")},a.createElement("li",{className:"coding-rules-detail-property"},a.createElement(h,{className:"little-spacer-right"}),Object(v.l)("coding_rules.scope",e)))},t}return j(t,e),t.prototype.render=function(){var e=this.props.ruleDetails;return a.createElement("div",{className:"js-rule-meta"},a.createElement("header",{className:"page-header"},a.createElement("div",{className:"pull-right"},a.createElement("span",{className:"note text-middle"},e.key),a.createElement(o.Link,{className:"coding-rules-detail-permalink link-no-underline spacer-left text-middle",to:Object(g.w)(e.key,this.props.organization)},a.createElement(f.a,null)),!this.props.hideSimilarRulesFilter&&a.createElement(d.a,{onFilterChange:this.props.onFilterChange,rule:e})),a.createElement("h3",{className:"page-title coding-rules-detail-header"},a.createElement("big",null,e.name))),a.createElement("ul",{className:"coding-rules-detail-properties"},this.renderType(),this.renderSeverity(),this.renderStatus(),this.renderScope(),this.renderTags(),this.renderCreationDate(),this.renderRepository(),this.renderTemplate(),this.renderParentTemplate(),this.renderRemediation()))},t}(a.PureComponent);t.a=D},1091:function(e,t,n){},1092:function(e,t,n){"use strict";var r,a=n(0),o=n(6),i=n(42),l=n(1),s=n(1003),c=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLanguageClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.closeDropdown&&t.closeDropdown(),t.props.onFilterChange({languages:[t.props.rule.lang]})},t.handleTypeClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.closeDropdown&&t.closeDropdown(),t.props.onFilterChange({types:[t.props.rule.type]})},t.handleSeverityClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.closeDropdown&&t.closeDropdown(),t.props.rule.severity&&t.props.onFilterChange({severities:[t.props.rule.severity]})},t.handleTagClick=function(e){e.preventDefault(),e.currentTarget.blur(),t.closeDropdown&&t.closeDropdown();var n=e.currentTarget.dataset.tag;n&&t.props.onFilterChange({tags:[n]})},t}return c(t,e),t.prototype.render=function(){var e=this,t=this.props.rule,n=t.tags,r=void 0===n?[]:n,c=t.sysTags,u=void 0===c?[]:c,p=t.severity,d=r.concat(u);return a.createElement(i.a,null,function(n){var r=n.closeDropdown,i=n.onToggleClick,c=n.open;return e.closeDropdown=r,a.createElement("div",{className:o("dropdown display-inline-block",{open:c})},a.createElement("a",{className:"js-rule-filter link-no-underline spacer-left dropdown-toggle",href:"#",onClick:i},a.createElement("i",{className:"icon-filter icon-half-transparent"}),a.createElement("i",{className:"icon-dropdown little-spacer-left"})),a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},a.createElement("header",{className:"dropdown-header"},Object(l.l)("coding_rules.filter_similar_rules")),a.createElement("ul",{className:"menu"},a.createElement("li",null,a.createElement("a",{"data-field":"language",href:"#",onClick:e.handleLanguageClick},t.langName)),a.createElement("li",null,a.createElement("a",{"data-field":"type",href:"#",onClick:e.handleTypeClick},Object(l.l)("issue.type",t.type))),p&&a.createElement("li",null,a.createElement("a",{"data-field":"severity",href:"#",onClick:e.handleSeverityClick},a.createElement(s.a,{severity:t.severity}))),d.length>0&&a.createElement(a.Fragment,null,a.createElement("li",{className:"divider"}),d.map(function(t){return a.createElement("li",{key:t},a.createElement("a",{"data-field":"tag","data-tag":t,href:"#",onClick:e.handleTagClick},a.createElement("i",{className:"icon-tags icon-half-transparent little-spacer-right"}),t))})))))})},t}(a.PureComponent);t.a=u}}]);
//# sourceMappingURL=7.b116b9ba.chunk.js.map