{"version":3,"sources":["webpack:///./src/main/js/app/components/AdminContext.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/EllipsisIcon.js","webpack:///./src/main/js/apps/marketplace/style.css?a187","webpack:///./src/main/js/apps/marketplace/style.css","webpack:///../sonar-docs/src/tooltips/editions/datacenter.md","webpack:///../sonar-docs/src/tooltips/editions/developer.md","webpack:///../sonar-docs/src/tooltips/editions/enterprise.md","webpack:///./src/main/js/apps/marketplace/components/EditionBox.tsx","webpack:///./src/main/js/apps/marketplace/EditionBoxes.tsx","webpack:///./src/main/js/apps/marketplace/Footer.tsx","webpack:///./src/main/js/apps/marketplace/Header.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginChangeLogItem.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginChangeLog.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginChangeLogButton.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginDescription.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginLicense.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginOrganization.tsx","webpack:///./src/main/js/apps/marketplace/utils.ts","webpack:///./src/main/js/apps/marketplace/components/PluginUpdateButton.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginActions.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginStatus.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginUrls.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginAvailable.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginUpdateItem.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginUpdates.tsx","webpack:///./src/main/js/apps/marketplace/components/PluginInstalled.tsx","webpack:///./src/main/js/apps/marketplace/PluginsList.tsx","webpack:///./src/main/js/apps/marketplace/Search.tsx","webpack:///./src/main/js/apps/marketplace/App.tsx","webpack:///./src/main/js/apps/marketplace/AppContainer.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.js","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css?d95d","webpack:///./node_modules/sonar-ui-common/components/controls/Checkbox.css","webpack:///./node_modules/lodash/toInteger.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./node_modules/sonar-ui-common/components/icons/CheckIcon.js","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.js","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.css?55ff","webpack:///./node_modules/sonar-ui-common/components/controls/RadioToggle.css","webpack:///./src/main/js/api/nav.ts","webpack:///./src/main/js/api/plugins.ts","webpack:///./node_modules/lodash/findLastIndex.js"],"names":["__webpack_require__","d","__webpack_exports__","defaultPendingPlugins","defaultSystemStatus","react__WEBPACK_IMPORTED_MODULE_0__","installing","removing","updating","AdminContext","fetchSystemStatus","fetchPendingPlugins","pendingPlugins","systemStatus","Object","defineProperty","exports","value","React","Icon_1","default","_a","className","_b","fill","size","createElement","style","content","module","i","options","hmr","transform","insertInto","undefined","locals","push","datacenter","developer","enterprise","DocMarkdownBlock","lazyLoad","Promise","all","e","then","bind","EditionBox","edition","ncloc","serverId","currentEdition","index_js_exposed","key","href","editions","sourceEdition","rel","target","l10n","_super","EditionBoxes","_this","apply","this","arguments","mounted","state","fetchData","nav","formData","setState","__assign","__extends","prototype","componentDidMount","componentWillUnmount","render","props","visibleEditions","length","map","Footer","total","Header","id","PluginChangeLogItem","release","update","status","Tooltip_default","a","overlay","version","DateFormatter","date","changeLogUrl","description","PluginChangeLog","previousUpdates","previousUpdate","PluginChangeLogButton","Dropdown_default","buttons","EllipsisIcon_default","components_PluginDescription","plugin","name","category","PluginLicense","license","index_es","defaultMessage","values","PluginOrganization","organizationName","organization","organizationUrl","EXCLUDED_PLUGINS","isPluginAvailable","isPluginInstalled","isPluginPending","updatedAt","parseQuery","memoize_default","urlQuery","filter","helpers_query","search","serializeQuery","query","PluginUpdateButton","handleClick","onClick","PluginUpdateButton_extends","disabled","PluginActions","acceptTerms","loading","doPluginAction","apiAction","refreshPending","handleInstall","api_plugins","handleUpdate","handleUninstall","handleTermsCheck","checked","PluginActions_extends","renderBundled","homepageUrl","CheckIcon_default","updates","idx","components_PluginUpdateButton","editionBundled","termsAndConditionsUrl","Checkbox_default","onCheck","htmlFor","PluginStatus","components_PluginActions","PluginUrls","issueTrackerUrl","PluginAvailable","readOnly","requires","requiredPlugin","join","PluginUpdateItem","changelogOpen","handleChangelogClick","event","preventDefault","stopPropagation","toggleChangelog","show","PluginUpdateItem_extends","PluginUpdates","components_PluginUpdateItem","PluginInstalled","PluginsList","getPluginStatus","pending","find","p","renderPlugin","PluginsList_extends","plugins","Search","handleSearch","updateQuery","handleFilterChange","Search_extends","updateCenterActive","radioOptions","label","tooltip","RadioToggle_default","SearchBox_default","onChange","placeholder","App_App","App","loadingPlugins","fetchQueryPlugins","location","fetchFunction","fetchAllPlugins","sortBy_default","stopLoadingPlugins","installed","available","uniqBy_default","__spreadArrays","newQuery","App_assign","router","pathname","App_extends","componentDidUpdate","prevProps","standaloneMode","filteredPlugins","includes","s","toLowerCase","filterPlugins","Suggestions","suggestions","index_module","title","marketplace_EditionBoxes","marketplace_Search","marketplace_PluginsList","marketplace_App","withRouter","es","rootReducer","standalone","Boolean","Consumer","AppContainer_assign","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","addSuggestions","removeSuggestions","SuggestionsInner","extendStatics","b","setPrototypeOf","__proto__","Array","hasOwnProperty","__","constructor","create","classNames","DeferredSpinner_1","Checkbox","currentTarget","blur","children","right","thirdState","icon-checkbox-checked","icon-checkbox-single","icon-checkbox-disabled","aria-checked","note","role","defaultProps","PureComponent","formatterOption","year","month","day","longFormatterOption","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","toNumber","INFINITY","MAX_INTEGER","toFinite","result","remainder","array","predicate","fromIndex","fromRight","index","Tooltip_1","RadioToggle","renderOption","option","htmlId","toString","type","getComponentNavigation","getMarketplaceNavigation","getSettingsNavigation","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","data","catch","getAvailablePlugins","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_1__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_3__","getPendingPlugins","getLastUpdates","lodash_findLastIndex__WEBPACK_IMPORTED_MODULE_0___default","sonar_ui_common_helpers_types__WEBPACK_IMPORTED_MODULE_2__","addChangelog","indexOf","slice","getInstalledPlugins","f","getInstalledPluginsWithUpdates","updatePlugin","getPluginUpdates","installPlugin","uninstallPlugin","cancelPendingPlugins","baseFindIndex","baseIteratee","toInteger","nativeMax","Math","max","nativeMin","min"],"mappings":"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","file":"js/305.1582644816097.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { PluginPendingResult } from '../../api/plugins';\n\nexport interface AdminContextInterface {\n  fetchSystemStatus: () => void;\n  fetchPendingPlugins: () => void;\n  pendingPlugins: PluginPendingResult;\n  systemStatus: T.SysStatus;\n}\n\nexport const defaultPendingPlugins = { installing: [], removing: [], updating: [] };\nexport const defaultSystemStatus = 'UP';\n\nconst AdminContext = React.createContext<AdminContextInterface>({\n  fetchSystemStatus: () => {},\n  fetchPendingPlugins: () => {},\n  pendingPlugins: defaultPendingPlugins,\n  systemStatus: defaultSystemStatus\n});\nexport default AdminContext;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction EllipsisIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M5.273 7.182v1.636a.818.818 0 0 1-.818.818H2.818A.818.818 0 0 1 2 8.818V7.182c0-.452.366-.818.818-.818h1.637c.451 0 .818.366.818.818zm4.363 0v1.636a.818.818 0 0 1-.818.818H7.182a.818.818 0 0 1-.818-.818V7.182c0-.452.366-.818.818-.818h1.636c.452 0 .818.366.818.818zm4.364 0v1.636a.818.818 0 0 1-.818.818h-1.637a.818.818 0 0 1-.818-.818V7.182c0-.452.367-.818.818-.818h1.637c.452 0 .818.366.818.818z\", style: { fill: fill } })));\n}\nexports.default = EllipsisIcon;\n//# sourceMappingURL=EllipsisIcon.js.map","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".marketplace-editions{display:flex;flex-direction:row;margin-left:-8px;margin-right:-8px}.marketplace-edition{position:relative;flex:1;display:flex;flex-direction:column;justify-content:space-between;margin-left:8px;margin-right:8px;max-width:50%}.marketplace-edition .markdown img{width:16px}.marketplace-edition .markdown h3{font-size:14px;margin-top:0}.marketplace-edition-badge{position:absolute;right:-1px;top:16px;padding:4px 8px;border-radius:2px 0 0 2px;height:inherit;line-height:inherit}.marketplace-edition-action{display:flex;align-items:baseline;justify-content:space-between}.marketplace-plugin-table{table-layout:fixed;width:100%}.marketplace-plugin-license{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\", \"\"]);\n\n","export default \"### ![SonarQube logo](/images/sonarqube-icon.png) Data Center Edition\\n\\n*Designed for High Availability and Scalability*\\n\\nEnterprise Edition functionality plus:\\n\\n* Component redundancy\\n* Data resiliency\\n* Horizontal scalability\\n\"","export default \"### ![SonarQube logo](/images/sonarqube-icon.png) Developer Edition\\n\\n*Built for Developers by Developers*\\n\\nCommunity Edition functionality plus:\\n\\n* Branch analysis\\n* Pull Request Decoration\\n* Injection flaw detection\\n* SonarLint notifications\\n* Additional language analysis: C, C++, Obj-C, PS/SQL, ABAP, TSQL & Swift\\n\"","export default \"### ![SonarQube logo](/images/sonarqube-icon.png) Enterprise Edition\\n\\n*Designed to Meet Enterprise Requirements*\\n\\nDeveloper Edition functionality plus:\\n\\n* Portfolio management\\n* OWASP/SANS security reports\\n* Executive reporting\\n* Project transfer\\n* Compute Engine parallel processing\\n* Additional language analysis: Apex, COBOL, PL/I, RPG & VB6\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport tooltipDCE from 'Docs/tooltips/editions/datacenter.md';\nimport tooltipDE from 'Docs/tooltips/editions/developer.md';\nimport tooltipEE from 'Docs/tooltips/editions/enterprise.md';\nimport * as React from 'react';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getEditionUrl } from '../../../helpers/editions';\nimport { Edition, EditionKey } from '../../../types/editions';\n\nconst DocMarkdownBlock = lazyLoad(() => import('../../../components/docs/DocMarkdownBlock'));\n\ninterface Props {\n  currentEdition?: EditionKey;\n  edition: Edition;\n  ncloc?: number;\n  serverId?: string;\n}\n\nexport default function EditionBox({ edition, ncloc, serverId, currentEdition }: Props) {\n  return (\n    <div className=\"boxed-group boxed-group-inner marketplace-edition\">\n      {edition.key === 'datacenter' && <DocMarkdownBlock content={tooltipDCE} />}\n      {edition.key === 'developer' && <DocMarkdownBlock content={tooltipDE} />}\n      {edition.key === 'enterprise' && <DocMarkdownBlock content={tooltipEE} />}\n      <div className=\"marketplace-edition-action spacer-top\">\n        <a\n          href={getEditionUrl(edition, { ncloc, serverId, sourceEdition: currentEdition })}\n          rel=\"noopener noreferrer\"\n          target=\"_blank\">\n          {translate('marketplace.request_free_trial')}\n        </a>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getMarketplaceNavigation } from '../../api/nav';\nimport { getAllEditionsAbove } from '../../helpers/editions';\nimport { EditionKey } from '../../types/editions';\nimport EditionBox from './components/EditionBox';\n\nexport interface Props {\n  currentEdition?: EditionKey;\n}\n\ninterface State {\n  serverId?: string;\n  ncloc?: number;\n}\n\nexport default class EditionBoxes extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {};\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData = () => {\n    getMarketplaceNavigation().then(\n      formData => {\n        if (this.mounted) {\n          this.setState({ ...formData });\n        }\n      },\n      () => {}\n    );\n  };\n\n  render() {\n    const { currentEdition } = this.props;\n    const { serverId, ncloc } = this.state;\n    const visibleEditions = getAllEditionsAbove(currentEdition);\n\n    if (visibleEditions.length <= 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"spacer-bottom marketplace-editions\">\n        {visibleEditions.map(edition => (\n          <EditionBox\n            currentEdition={currentEdition}\n            edition={edition}\n            key={edition.key}\n            ncloc={ncloc}\n            serverId={serverId}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  total: number;\n}\n\nexport default function Footer({ total }: Props) {\n  return (\n    <footer className=\"spacer-top note text-center\">\n      {translateWithParameters('x_show', total)}\n    </footer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { EditionKey } from '../../types/editions';\n\ninterface Props {\n  currentEdition?: EditionKey;\n}\n\nexport default function Header({ currentEdition }: Props) {\n  return (\n    <header className=\"page-header\" id=\"marketplace-header\">\n      <h1 className=\"page-title\">{translate('marketplace.page')}</h1>\n      {currentEdition && (\n        <h3 className=\"page-description\">\n          {translate('marketplace.page.you_are_running', currentEdition)}\n        </h3>\n      )}\n      <p className=\"page-description\">\n        {currentEdition === 'datacenter'\n          ? translate('marketplace.page.description_best_edition')\n          : translate('marketplace.page.description')}\n      </p>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Release, Update } from '../../../api/plugins';\nimport DateFormatter from '../../../components/intl/DateFormatter';\n\ninterface Props {\n  release: Release;\n  update: Update;\n}\n\nexport default function PluginChangeLogItem({ release, update }: Props) {\n  return (\n    <li className=\"big-spacer-bottom\">\n      <div className=\"little-spacer-bottom\">\n        {update.status === 'COMPATIBLE' || !update.status ? (\n          <span className=\"js-plugin-changelog-version badge badge-success spacer-right\">\n            {release.version}\n          </span>\n        ) : (\n          <Tooltip overlay={translate('marketplace.update_status', update.status)}>\n            <span className=\"js-plugin-changelog-version badge badge-warning spacer-right\">\n              {release.version}\n            </span>\n          </Tooltip>\n        )}\n        <span className=\"js-plugin-changelog-date note spacer-right\">\n          <DateFormatter date={release.date} />\n        </span>\n        {release.changeLogUrl && (\n          <a className=\"js-plugin-changelog-link\" href={release.changeLogUrl} target=\"_blank\">\n            {translate('marketplace.release_notes')}\n          </a>\n        )}\n      </div>\n      <div className=\"js-plugin-changelog-description\">{release.description}</div>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Release, Update } from '../../../api/plugins';\nimport PluginChangeLogItem from './PluginChangeLogItem';\n\nexport interface Props {\n  release: Release;\n  update: Update;\n}\n\nexport default function PluginChangeLog({ release, update }: Props) {\n  return (\n    <div className=\"abs-width-300\">\n      <h6>{translate('changelog')}</h6>\n      <ul className=\"js-plugin-changelog-list\">\n        {update.previousUpdates &&\n          update.previousUpdates.map(previousUpdate =>\n            previousUpdate.release ? (\n              <PluginChangeLogItem\n                key={previousUpdate.release.version}\n                release={previousUpdate.release}\n                update={previousUpdate}\n              />\n            ) : null\n          )}\n        <PluginChangeLogItem release={release} update={update} />\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport EllipsisIcon from 'sonar-ui-common/components/icons/EllipsisIcon';\nimport { Release, Update } from '../../../api/plugins';\nimport PluginChangeLog from './PluginChangeLog';\n\ninterface Props {\n  release: Release;\n  update: Update;\n}\n\nexport default function PluginChangeLogButton({ release, update }: Props) {\n  return (\n    <Dropdown\n      className=\"display-inline-block little-spacer-left\"\n      overlay={<PluginChangeLog release={release} update={update} />}>\n      <ButtonLink className=\"js-changelog\">\n        <EllipsisIcon />\n      </ButtonLink>\n    </Dropdown>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Plugin } from '../../../api/plugins';\n\ninterface Props {\n  plugin: Plugin;\n}\n\nconst PluginDescription = (props: Props) => {\n  return (\n    <td className=\"text-top width-25 big-spacer-right\">\n      <div>\n        <strong className=\"js-plugin-name\">{props.plugin.name}</strong>\n        {props.plugin.category && (\n          <span className=\"js-plugin-category badge spacer-left\">{props.plugin.category}</span>\n        )}\n      </div>\n      <div className=\"js-plugin-description little-spacer-top\">{props.plugin.description}</div>\n    </td>\n  );\n};\n\nexport default PluginDescription;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  license?: string;\n}\n\nexport default function PluginLicense({ license }: Props) {\n  if (!license) {\n    return null;\n  }\n  return (\n    <Tooltip overlay={license}>\n      <li className=\"little-spacer-bottom marketplace-plugin-license\">\n        <FormattedMessage\n          defaultMessage={translate('marketplace.licensed_under_x')}\n          id=\"marketplace.licensed_under_x\"\n          values={{\n            license: <span className=\"js-plugin-license\">{license}</span>\n          }}\n        />\n      </li>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Plugin } from '../../../api/plugins';\n\ninterface Props {\n  plugin: Plugin;\n}\n\nexport default function PluginOrganization({ plugin }: Props) {\n  if (!plugin.organizationName) {\n    return null;\n  }\n  return (\n    <li className=\"little-spacer-bottom\">\n      <FormattedMessage\n        defaultMessage={translate('marketplace.developed_by_x')}\n        id=\"marketplace.developed_by_x\"\n        values={{\n          organization: plugin.organizationUrl ? (\n            <a className=\"js-plugin-organization\" href={plugin.organizationUrl} target=\"_blank\">\n              {plugin.organizationName}\n            </a>\n          ) : (\n            <span className=\"js-plugin-organization\">{plugin.organizationName}</span>\n          )\n        }}\n      />\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { memoize } from 'lodash';\nimport { cleanQuery, parseAsString, serializeString } from 'sonar-ui-common/helpers/query';\nimport { Plugin, PluginAvailable, PluginInstalled, PluginPending } from '../../api/plugins';\n\nexport interface Query {\n  filter: string;\n  search?: string;\n}\n\nconst EXCLUDED_PLUGINS = ['license'];\nexport function filterPlugins(plugins: Plugin[], search?: string): Plugin[] {\n  if (!search) {\n    return plugins.filter(plugin => !EXCLUDED_PLUGINS.includes(plugin.key));\n  }\n\n  const s = search.toLowerCase();\n  return plugins.filter(plugin => {\n    return (\n      !EXCLUDED_PLUGINS.includes(plugin.key) &&\n      (plugin.name.toLowerCase().includes(s) ||\n        (plugin.description || '').toLowerCase().includes(s) ||\n        (plugin.category || '').toLowerCase().includes(s))\n    );\n  });\n}\n\nexport function isPluginAvailable(plugin: Plugin): plugin is PluginAvailable {\n  return (plugin as any).release !== undefined;\n}\n\nexport function isPluginInstalled(plugin: Plugin): plugin is PluginInstalled {\n  return isPluginPending(plugin) && (plugin as any).updatedAt !== undefined;\n}\n\nexport function isPluginPending(plugin: Plugin): plugin is PluginPending {\n  return (plugin as any).version !== undefined;\n}\n\nexport const DEFAULT_FILTER = 'all';\nexport const parseQuery = memoize(\n  (urlQuery: T.RawQuery): Query => ({\n    filter: parseAsString(urlQuery['filter']) || DEFAULT_FILTER,\n    search: parseAsString(urlQuery['search'])\n  })\n);\n\nexport const serializeQuery = memoize(\n  (query: Query): T.RawQuery =>\n    cleanQuery({\n      filter: query.filter === DEFAULT_FILTER ? undefined : serializeString(query.filter),\n      search: query.search ? serializeString(query.search) : undefined\n    })\n);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { Update } from '../../../api/plugins';\n\ninterface Props {\n  disabled: boolean;\n  onClick: (update: Update) => void;\n  update: Update;\n}\n\nexport default class PluginUpdateButton extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.onClick(this.props.update);\n  };\n\n  render() {\n    const { disabled, update } = this.props;\n    if (update.status !== 'COMPATIBLE' || !update.release) {\n      return null;\n    }\n    return (\n      <Button\n        className=\"js-update little-spacer-bottom\"\n        disabled={disabled}\n        onClick={this.handleClick}>\n        {translateWithParameters('marketplace.update_to_x', update.release.version)}\n      </Button>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport CheckIcon from 'sonar-ui-common/components/icons/CheckIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { installPlugin, Plugin, uninstallPlugin, updatePlugin } from '../../../api/plugins';\nimport { isPluginAvailable, isPluginInstalled } from '../utils';\nimport PluginUpdateButton from './PluginUpdateButton';\n\ninterface Props {\n  plugin: Plugin;\n  refreshPending: () => void;\n}\n\ninterface State {\n  acceptTerms: boolean;\n  loading: boolean;\n}\n\nexport default class PluginActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { acceptTerms: false, loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  doPluginAction = (apiAction: (data: { key: string }) => Promise<void | Response>) => {\n    this.setState({ loading: true });\n    apiAction({ key: this.props.plugin.key }).then(\n      () => {\n        this.props.refreshPending();\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleInstall = () => this.doPluginAction(installPlugin);\n  handleUpdate = () => this.doPluginAction(updatePlugin);\n  handleUninstall = () => this.doPluginAction(uninstallPlugin);\n  handleTermsCheck = (checked: boolean) => this.setState({ acceptTerms: checked });\n\n  renderBundled() {\n    const { plugin } = this.props;\n\n    return (\n      <div className=\"js-actions\">\n        {isPluginAvailable(plugin) && (\n          <div>\n            <p className=\"little-spacer-bottom\">\n              {translate('marketplace.available_under_commercial_license')}\n            </p>\n            <a href={plugin.homepageUrl} target=\"_blank\">\n              {translate('marketplace.learn_more')}\n            </a>\n          </div>\n        )}\n        {isPluginInstalled(plugin) && (\n          <p>\n            <CheckIcon className=\"little-spacer-right\" />\n            {translate('marketplace.installed')}\n          </p>\n        )}\n        {isPluginInstalled(plugin) && plugin.updates && plugin.updates.length > 0 && (\n          <div className=\"spacer-top\">\n            {plugin.updates.map((update, idx) => (\n              <PluginUpdateButton\n                disabled={this.state.loading}\n                key={idx}\n                onClick={this.handleUpdate}\n                update={update}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { plugin } = this.props;\n\n    if (plugin.editionBundled) {\n      return this.renderBundled();\n    }\n\n    const { loading } = this.state;\n    return (\n      <div className=\"js-actions\">\n        {isPluginAvailable(plugin) && plugin.termsAndConditionsUrl && (\n          <p className=\"little-spacer-bottom\">\n            <Checkbox\n              checked={this.state.acceptTerms}\n              className=\"js-terms\"\n              id={'plugin-terms-' + plugin.key}\n              onCheck={this.handleTermsCheck}>\n              <label className=\"little-spacer-left\" htmlFor={'plugin-terms-' + plugin.key}>\n                {translate('marketplace.i_accept_the')}\n              </label>\n            </Checkbox>\n            <a\n              className=\"js-plugin-terms nowrap little-spacer-left\"\n              href={plugin.termsAndConditionsUrl}\n              target=\"_blank\">\n              {translate('marketplace.terms_and_conditions')}\n            </a>\n          </p>\n        )}\n        {loading && <i className=\"spinner spacer-right little-spacer-top little-spacer-bottom\" />}\n        {isPluginInstalled(plugin) && (\n          <div className=\"display-inlin-block\">\n            {plugin.updates &&\n              plugin.updates.map((update, idx) => (\n                <PluginUpdateButton\n                  disabled={loading}\n                  key={idx}\n                  onClick={this.handleUpdate}\n                  update={update}\n                />\n              ))}\n            <Button\n              className=\"js-uninstall button-red little-spacer-left\"\n              disabled={loading}\n              onClick={this.handleUninstall}>\n              {translate('marketplace.uninstall')}\n            </Button>\n          </div>\n        )}\n        {isPluginAvailable(plugin) && (\n          <Button\n            className=\"js-install\"\n            disabled={loading || (plugin.termsAndConditionsUrl != null && !this.state.acceptTerms)}\n            onClick={this.handleInstall}>\n            {translate('marketplace.install')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Plugin } from '../../../api/plugins';\nimport PluginActions from './PluginActions';\n\ninterface Props {\n  plugin: Plugin;\n  refreshPending: () => void;\n  status?: string;\n}\n\nexport default function PluginStatus({ plugin, refreshPending, status }: Props) {\n  return (\n    <td className=\"text-top text-right width-20 little-spacer-left\">\n      {status === 'installing' && (\n        <p className=\"text-success\">{translate('marketplace.install_pending')}</p>\n      )}\n\n      {status === 'updating' && (\n        <p className=\"text-success\">{translate('marketplace.update_pending')}</p>\n      )}\n\n      {status === 'removing' && (\n        <p className=\"text-danger\">{translate('marketplace.uninstall_pending')}</p>\n      )}\n\n      {status == null && <PluginActions plugin={plugin} refreshPending={refreshPending} />}\n    </td>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Plugin } from '../../../api/plugins';\n\ninterface Props {\n  plugin: Plugin;\n}\n\nexport default function PluginUrls({ plugin }: Props) {\n  if (!plugin.homepageUrl && !plugin.issueTrackerUrl) {\n    return null;\n  }\n  return (\n    <li className=\"little-spacer-bottom\">\n      <ul className=\"list-inline\">\n        {plugin.homepageUrl && (\n          <li>\n            <a className=\"js-plugin-homepage\" href={plugin.homepageUrl} target=\"_blank\">\n              {translate('marketplace.homepage')}\n            </a>\n          </li>\n        )}\n        {plugin.issueTrackerUrl && (\n          <li>\n            <a className=\"js-plugin-issues\" href={plugin.issueTrackerUrl} target=\"_blank\">\n              {translate('marketplace.issue_tracker')}\n            </a>\n          </li>\n        )}\n      </ul>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { PluginAvailable as IPluginAvailable } from '../../../api/plugins';\nimport PluginChangeLogButton from './PluginChangeLogButton';\nimport PluginDescription from './PluginDescription';\nimport PluginLicense from './PluginLicense';\nimport PluginOrganization from './PluginOrganization';\nimport PluginStatus from './PluginStatus';\nimport PluginUrls from './PluginUrls';\n\ninterface Props {\n  plugin: IPluginAvailable;\n  readOnly: boolean;\n  refreshPending: () => void;\n  status?: string;\n}\n\nexport default function PluginAvailable({ plugin, readOnly, refreshPending, status }: Props) {\n  return (\n    <tr>\n      <PluginDescription plugin={plugin} />\n      <td className=\"text-top big-spacer-right\">\n        <ul>\n          <li className=\"display-flex-row little-spacer-bottom\">\n            <div className=\"pull-left spacer-right\">\n              <span className=\"badge badge-success\">{plugin.release.version}</span>\n            </div>\n            <div>\n              {plugin.release.description}\n              <PluginChangeLogButton release={plugin.release} update={plugin.update} />\n              {plugin.update.requires.length > 0 && (\n                <p className=\"little-spacer-top\">\n                  <strong>\n                    {translateWithParameters(\n                      'marketplace.installing_this_plugin_will_also_install_x',\n                      plugin.update.requires.map(requiredPlugin => requiredPlugin.name).join(', ')\n                    )}\n                  </strong>\n                </p>\n              )}\n            </div>\n          </li>\n        </ul>\n      </td>\n\n      <td className=\"text-top width-20\">\n        <ul>\n          <PluginUrls plugin={plugin} />\n          <PluginLicense license={plugin.license} />\n          <PluginOrganization plugin={plugin} />\n        </ul>\n      </td>\n\n      {!readOnly && (\n        <PluginStatus plugin={plugin} refreshPending={refreshPending} status={status} />\n      )}\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Release, Update } from '../../../api/plugins';\nimport PluginChangeLogButton from './PluginChangeLogButton';\n\ninterface Props {\n  update: Update;\n  release: Release;\n}\n\ninterface State {\n  changelogOpen: boolean;\n}\n\nexport default class PluginUpdateItem extends React.PureComponent<Props, State> {\n  state: State = { changelogOpen: false };\n\n  handleChangelogClick = (event: React.SyntheticEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    this.toggleChangelog();\n  };\n\n  toggleChangelog = (show?: boolean) => {\n    if (show !== undefined) {\n      this.setState({ changelogOpen: show });\n    } else {\n      this.setState(state => ({ changelogOpen: !state.changelogOpen }));\n    }\n  };\n\n  render() {\n    const { release, update } = this.props;\n    return (\n      <li className=\"display-flex-row little-spacer-bottom\" key={release.version}>\n        <div className=\"pull-left spacer-right\">\n          {update.status === 'COMPATIBLE' ? (\n            <span className=\"js-update-version badge badge-success\">{release.version}</span>\n          ) : (\n            <Tooltip overlay={translate('marketplace.update_status', update.status)}>\n              <span className=\"js-update-version badge badge-warning\">{release.version}</span>\n            </Tooltip>\n          )}\n        </div>\n        <div>\n          {release.description}\n          <PluginChangeLogButton release={release} update={update} />\n        </div>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Update } from '../../../api/plugins';\nimport PluginUpdateItem from './PluginUpdateItem';\n\ninterface Props {\n  updates?: Update[];\n}\n\nexport default function PluginUpdates({ updates }: Props) {\n  if (!updates || updates.length <= 0) {\n    return null;\n  }\n  return (\n    <li className=\"spacer-top\">\n      <strong>{translate('marketplace.updates')}:</strong>\n      <ul className=\"little-spacer-top\">\n        {updates.map(update =>\n          update.release ? (\n            <PluginUpdateItem\n              key={update.release.version}\n              release={update.release}\n              update={update}\n            />\n          ) : null\n        )}\n      </ul>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { PluginInstalled as IPluginInstalled } from '../../../api/plugins';\nimport PluginDescription from './PluginDescription';\nimport PluginLicense from './PluginLicense';\nimport PluginOrganization from './PluginOrganization';\nimport PluginStatus from './PluginStatus';\nimport PluginUpdates from './PluginUpdates';\nimport PluginUrls from './PluginUrls';\n\ninterface Props {\n  plugin: IPluginInstalled;\n  readOnly: boolean;\n  refreshPending: () => void;\n  status?: string;\n}\n\nexport default function PluginInstalled({ plugin, readOnly, refreshPending, status }: Props) {\n  return (\n    <tr>\n      <PluginDescription plugin={plugin} />\n      <td className=\"text-top big-spacer-right\">\n        <ul>\n          <li className=\"little-spacer-bottom\">\n            <strong className=\"js-plugin-installed-version little-spacer-right\">\n              {plugin.version}\n            </strong>\n            {translate('marketplace._installed')}\n          </li>\n          <PluginUpdates updates={plugin.updates} />\n        </ul>\n      </td>\n\n      <td className=\"text-top width-20\">\n        <ul>\n          <PluginUrls plugin={plugin} />\n          <PluginLicense license={plugin.license} />\n          <PluginOrganization plugin={plugin} />\n        </ul>\n      </td>\n\n      {!readOnly && (\n        <PluginStatus plugin={plugin} refreshPending={refreshPending} status={status} />\n      )}\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Plugin, PluginPending } from '../../api/plugins';\nimport PluginAvailable from './components/PluginAvailable';\nimport PluginInstalled from './components/PluginInstalled';\nimport { isPluginAvailable, isPluginInstalled } from './utils';\n\ninterface Props {\n  plugins: Plugin[];\n  pending: {\n    installing: PluginPending[];\n    updating: PluginPending[];\n    removing: PluginPending[];\n  };\n  readOnly: boolean;\n  refreshPending: () => void;\n}\n\nexport default class PluginsList extends React.PureComponent<Props> {\n  getPluginStatus = (plugin: Plugin): string | undefined => {\n    const { installing, updating, removing } = this.props.pending;\n    if (installing.find(p => p.key === plugin.key)) {\n      return 'installing';\n    }\n    if (updating.find(p => p.key === plugin.key)) {\n      return 'updating';\n    }\n    if (removing.find(p => p.key === plugin.key)) {\n      return 'removing';\n    }\n    return undefined;\n  };\n\n  renderPlugin = (plugin: Plugin) => {\n    const status = this.getPluginStatus(plugin);\n    if (isPluginInstalled(plugin)) {\n      return (\n        <PluginInstalled\n          plugin={plugin}\n          readOnly={this.props.readOnly}\n          refreshPending={this.props.refreshPending}\n          status={status}\n        />\n      );\n    }\n    if (isPluginAvailable(plugin)) {\n      return (\n        <PluginAvailable\n          plugin={plugin}\n          readOnly={this.props.readOnly}\n          refreshPending={this.props.refreshPending}\n          status={status}\n        />\n      );\n    }\n    return null;\n  };\n\n  render() {\n    return (\n      <div className=\"boxed-group boxed-group-inner\" id=\"marketplace-plugins\">\n        <ul>\n          {this.props.plugins.map(plugin => (\n            <li className=\"panel panel-vertical\" key={plugin.key}>\n              <table className=\"marketplace-plugin-table\">\n                <tbody>{this.renderPlugin(plugin)}</tbody>\n              </table>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioToggle from 'sonar-ui-common/components/controls/RadioToggle';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Query } from './utils';\n\ninterface Props {\n  query: Query;\n  updateCenterActive: boolean;\n  updateQuery: (newQuery: Partial<Query>) => void;\n}\n\nexport default class Search extends React.PureComponent<Props> {\n  handleSearch = (search: string) => {\n    this.props.updateQuery({ search });\n  };\n\n  handleFilterChange = (filter: string) => this.props.updateQuery({ filter });\n\n  render() {\n    const { query, updateCenterActive } = this.props;\n    const radioOptions = [\n      { label: translate('marketplace.all'), value: 'all' },\n      { label: translate('marketplace.installed'), value: 'installed' },\n      {\n        disabled: !updateCenterActive,\n        label: translate('marketplace.updates_only'),\n        tooltip: !updateCenterActive ? translate('marketplace.not_activated') : undefined,\n        value: 'updates'\n      }\n    ];\n    return (\n      <div className=\"big-spacer-bottom\" id=\"marketplace-search\">\n        <div className=\"display-inline-block text-top nowrap abs-width-240 spacer-right\">\n          <RadioToggle\n            name=\"marketplace-filter\"\n            onCheck={this.handleFilterChange}\n            options={radioOptions}\n            value={query.filter}\n          />\n        </div>\n        <SearchBox\n          onChange={this.handleSearch}\n          placeholder={translate('marketplace.search')}\n          value={query.search}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  getAvailablePlugins,\n  getInstalledPlugins,\n  getInstalledPluginsWithUpdates,\n  getPluginUpdates,\n  Plugin,\n  PluginPendingResult\n} from '../../api/plugins';\nimport Suggestions from '../../app/components/embed-docs-modal/Suggestions';\nimport { Location, Router, withRouter } from '../../components/hoc/withRouter';\nimport { EditionKey } from '../../types/editions';\nimport EditionBoxes from './EditionBoxes';\nimport Footer from './Footer';\nimport Header from './Header';\nimport PluginsList from './PluginsList';\nimport Search from './Search';\nimport './style.css';\nimport { filterPlugins, parseQuery, Query, serializeQuery } from './utils';\n\ninterface Props {\n  currentEdition?: EditionKey;\n  fetchPendingPlugins: () => void;\n  pendingPlugins: PluginPendingResult;\n  location: Location;\n  router: Pick<Router, 'push'>;\n  standaloneMode?: boolean;\n  updateCenterActive: boolean;\n}\n\ninterface State {\n  loadingPlugins: boolean;\n  plugins: Plugin[];\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loadingPlugins: true, plugins: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchQueryPlugins();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.location.query.filter !== this.props.location.query.filter) {\n      this.fetchQueryPlugins();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchQueryPlugins = () => {\n    const query = parseQuery(this.props.location.query);\n    let fetchFunction = this.fetchAllPlugins;\n\n    if (query.filter === 'updates') {\n      fetchFunction = getPluginUpdates;\n    } else if (query.filter === 'installed') {\n      fetchFunction = getInstalledPlugins;\n    }\n\n    this.setState({ loadingPlugins: true });\n    fetchFunction().then((plugins: Plugin[]) => {\n      if (this.mounted) {\n        this.setState({\n          loadingPlugins: false,\n          plugins: sortBy(plugins, 'name')\n        });\n      }\n    }, this.stopLoadingPlugins);\n  };\n\n  fetchAllPlugins = (): Promise<Plugin[] | void> => {\n    return Promise.all([getInstalledPluginsWithUpdates(), getAvailablePlugins()]).then(\n      ([installed, available]) => uniqBy([...installed, ...available.plugins], 'key'),\n      this.stopLoadingPlugins\n    );\n  };\n\n  updateQuery = (newQuery: Partial<Query>) => {\n    const query = serializeQuery({ ...parseQuery(this.props.location.query), ...newQuery });\n    this.props.router.push({ pathname: this.props.location.pathname, query });\n  };\n\n  stopLoadingPlugins = () => {\n    if (this.mounted) {\n      this.setState({ loadingPlugins: false });\n    }\n  };\n\n  render() {\n    const { currentEdition, standaloneMode, pendingPlugins } = this.props;\n    const { loadingPlugins, plugins } = this.state;\n    const query = parseQuery(this.props.location.query);\n    const filteredPlugins = filterPlugins(plugins, query.search);\n\n    return (\n      <div className=\"page page-limited\" id=\"marketplace-page\">\n        <Suggestions suggestions=\"marketplace\" />\n        <Helmet title={translate('marketplace.page')} />\n        <Header currentEdition={currentEdition} />\n        <EditionBoxes currentEdition={currentEdition} />\n        <header className=\"page-header\">\n          <h1 className=\"page-title\">{translate('marketplace.page.open_source_plugins')}</h1>\n        </header>\n        <Search\n          query={query}\n          updateCenterActive={this.props.updateCenterActive}\n          updateQuery={this.updateQuery}\n        />\n        {loadingPlugins && <i className=\"spinner\" />}\n        {!loadingPlugins && (\n          <PluginsList\n            pending={pendingPlugins}\n            plugins={filteredPlugins}\n            readOnly={!standaloneMode}\n            refreshPending={this.props.fetchPendingPlugins}\n          />\n        )}\n        {!loadingPlugins && <Footer total={filteredPlugins.length} />}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport AdminContext from '../../app/components/AdminContext';\nimport { getAppState, getGlobalSettingValue, Store } from '../../store/rootReducer';\nimport { EditionKey } from '../../types/editions';\nimport App from './App';\n\ninterface OwnProps {\n  location: { pathname: string; query: T.RawQuery };\n}\n\ninterface StateToProps {\n  currentEdition?: EditionKey;\n  standaloneMode?: boolean;\n  updateCenterActive: boolean;\n}\n\nconst mapStateToProps = (state: Store) => {\n  const updateCenterActive = getGlobalSettingValue(state, 'sonar.updatecenter.activate');\n  return {\n    currentEdition: getAppState(state).edition as EditionKey, // TODO: Fix once AppState is no longer ambiant.\n    standaloneMode: getAppState(state).standalone,\n    updateCenterActive: Boolean(updateCenterActive && updateCenterActive.value === 'true')\n  };\n};\n\nconst WithAdminContext = (props: StateToProps & OwnProps) => (\n  <AdminContext.Consumer>\n    {({ fetchPendingPlugins, pendingPlugins }) => (\n      <App fetchPendingPlugins={fetchPendingPlugins} pendingPlugins={pendingPlugins} {...props} />\n    )}\n  </AdminContext.Consumer>\n);\n\nexport default connect(mapStateToProps)(WithAdminContext);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nrequire(\"./Checkbox.css\");\nvar Checkbox = (function (_super) {\n    __extends(Checkbox, _super);\n    function Checkbox() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(!_this.props.checked, _this.props.id);\n            }\n        };\n        return _this;\n    }\n    Checkbox.prototype.render = function () {\n        var _a = this.props, checked = _a.checked, children = _a.children, disabled = _a.disabled, id = _a.id, loading = _a.loading, right = _a.right, thirdState = _a.thirdState, title = _a.title;\n        var className = classNames('icon-checkbox', {\n            'icon-checkbox-checked': checked,\n            'icon-checkbox-single': thirdState,\n            'icon-checkbox-disabled': disabled\n        });\n        if (children) {\n            return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('link-checkbox', this.props.className, {\n                    note: disabled,\n                    disabled: disabled\n                }), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title },\n                right && children,\n                React.createElement(DeferredSpinner_1.default, { loading: Boolean(loading) },\n                    React.createElement(\"i\", { className: className })),\n                !right && children));\n        }\n        if (loading) {\n            return React.createElement(DeferredSpinner_1.default, null);\n        }\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames(className, this.props.className), href: \"#\", id: id, onClick: this.handleClick, role: \"checkbox\", title: title }));\n    };\n    Checkbox.defaultProps = {\n        thirdState: false\n    };\n    return Checkbox;\n}(React.PureComponent));\nexports.default = Checkbox;\n//# sourceMappingURL=Checkbox.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Checkbox.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".icon-checkbox{display:inline-block;line-height:1;vertical-align:top;padding:1px 2px;box-sizing:border-box}a.icon-checkbox{border-bottom:none}.icon-checkbox:focus{outline:none}.icon-checkbox:before{content:\\\" \\\";display:inline-block;width:10px;height:10px;border:1px solid #236a97;border-radius:2px;transition:border-color .2s ease,background-color .2s ease,background-image .2s ease,box-shadow .4s ease}.icon-checkbox:not(.icon-checkbox-disabled):focus:before,.link-checkbox:not(.disabled):focus:focus .icon-checkbox:before{box-shadow:0 0 0 3px rgba(35,106,151,.25)}.icon-checkbox-checked:before{background-color:#4b9fd5;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M12 4.665c0 .172-.06.318-.18.438l-5.55 5.55c-.12.12-.266.18-.438.18s-.318-.06-.438-.18L2.18 7.438C2.06 7.317 2 7.17 2 7s.06-.318.18-.44l.878-.876c.12-.12.267-.18.44-.18.17 0 .317.06.437.18l1.897 1.903 4.233-4.24c.12-.12.266-.18.438-.18s.32.06.44.18l.876.88c.12.12.18.265.18.438z' fill='%23fff' fill-rule='nonzero'/%3E%3C/svg%3E\\\");border-color:#4b9fd5}.icon-checkbox-checked.icon-checkbox-single:before{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 14 14' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='1.414'%3E%3Cpath d='M10 4.698A.697.697 0 0 0 9.302 4H4.698A.697.697 0 0 0 4 4.698v4.604c0 .386.312.698.698.698h4.604A.697.697 0 0 0 10 9.302V4.698z' fill='%23fff'/%3E%3C/svg%3E\\\")}.icon-checkbox-disabled:before{border:1px solid #bbb;cursor:not-allowed}.icon-checkbox-disabled.icon-checkbox-checked:before{background-color:#bbb}.icon-checkbox-invisible{visibility:hidden}.link-checkbox{color:inherit;border-bottom:none}.link-checkbox.disabled,.link-checkbox.disabled:hover,.link-checkbox.disabled label{color:#777;cursor:not-allowed}.link-checkbox:active,.link-checkbox:focus,.link-checkbox:hover{color:inherit}\", \"\"]);\n\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction CheckIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M14.92 4.804q0 0.357-0.25 0.607l-7.679 7.679q-0.25 0.25-0.607 0.25t-0.607-0.25l-4.446-4.446q-0.25-0.25-0.25-0.607t0.25-0.607l1.214-1.214q0.25-0.25 0.607-0.25t0.607 0.25l2.625 2.634 5.857-5.866q0.25-0.25 0.607-0.25t0.607 0.25l1.214 1.214q0.25 0.25 0.25 0.607z\", style: { fill: fill } })));\n}\nexports.default = CheckIcon;\n//# sourceMappingURL=CheckIcon.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./RadioToggle.css\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar RadioToggle = (function (_super) {\n    __extends(RadioToggle, _super);\n    function RadioToggle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderOption = function (option) {\n            var checked = option.value === _this.props.value;\n            var htmlId = _this.props.name + '__' + option.value;\n            return (React.createElement(\"li\", { key: option.value.toString() },\n                React.createElement(\"input\", { checked: checked, disabled: option.disabled, id: htmlId, name: _this.props.name, onChange: function () { return _this.props.onCheck(option.value); }, type: \"radio\" }),\n                React.createElement(Tooltip_1.default, { overlay: option.tooltip || undefined },\n                    React.createElement(\"label\", { htmlFor: htmlId }, option.label))));\n        };\n        return _this;\n    }\n    RadioToggle.prototype.render = function () {\n        return (React.createElement(\"ul\", { className: classNames('radio-toggle', this.props.className) }, this.props.options.map(this.renderOption)));\n    };\n    RadioToggle.defaultProps = {\n        disabled: false,\n        value: null\n    };\n    return RadioToggle;\n}(React.PureComponent));\nexports.default = RadioToggle;\n//# sourceMappingURL=RadioToggle.js.map","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./RadioToggle.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./RadioToggle.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./RadioToggle.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".radio-toggle{font-size:0;white-space:nowrap}.radio-toggle,.radio-toggle>li{display:inline-block;vertical-align:middle}.radio-toggle>li{font-size:12px}.radio-toggle>li:first-child>label{border-top-left-radius:2px;border-bottom-left-radius:2px}.radio-toggle>li:last-child>label{border-top-right-radius:2px;border-bottom-right-radius:2px}.radio-toggle>li+li>label{border-left:none}.radio-toggle>li>label{display:inline-block;padding:0 12px;margin:0;border:1px solid #236a97;color:#236a97;height:22px;line-height:22px;cursor:pointer;font-weight:600}.radio-toggle input[type=radio]{display:none}.radio-toggle input[type=radio]:checked+label{background-color:#236a97;color:#fff}.radio-toggle input[type=radio]:disabled+label{color:#bbb;border-color:#ddd;background:#ebebeb;cursor:not-allowed}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BranchParameters } from '../types/branch-like';\n\nexport function getGlobalNavigation(): Promise<T.AppState> {\n  return getJSON('/api/navigation/global');\n}\n\ntype NavComponent = T.Omit<T.Component, 'alm' | 'qualifier' | 'leakPeriodDate' | 'path' | 'tags'>;\n\nexport function getComponentNavigation(\n  data: { component: string } & BranchParameters\n): Promise<NavComponent> {\n  return getJSON('/api/navigation/component', data).catch(throwGlobalError);\n}\n\nexport function getMarketplaceNavigation(): Promise<{ serverId: string; ncloc: number }> {\n  return getJSON('/api/navigation/marketplace').catch(throwGlobalError);\n}\n\nexport function getSettingsNavigation(): Promise<any> {\n  return getJSON('/api/navigation/settings').catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { findLastIndex } from 'lodash';\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface Plugin {\n  key: string;\n  name: string;\n  category?: string;\n  description?: string;\n  editionBundled?: boolean;\n  license?: string;\n  organizationName?: string;\n  homepageUrl?: string;\n  organizationUrl?: string;\n  issueTrackerUrl?: string;\n  termsAndConditionsUrl?: string;\n}\n\nexport interface Release {\n  version: string;\n  date: string;\n  description?: string;\n  changeLogUrl?: string;\n}\n\nexport interface Update {\n  status: string;\n  release?: Release;\n  requires: Plugin[];\n  previousUpdates?: Update[];\n}\n\nexport interface PluginPendingResult {\n  installing: PluginPending[];\n  updating: PluginPending[];\n  removing: PluginPending[];\n}\n\nexport interface PluginAvailable extends Plugin {\n  release: Release;\n  update: Update;\n}\n\nexport interface PluginPending extends Plugin {\n  version: string;\n  implementationBuild: string;\n}\n\nexport interface PluginInstalled extends PluginPending {\n  documentationPath?: string;\n  filename: string;\n  hash: string;\n  sonarLintSupported: boolean;\n  updatedAt: number;\n  updates?: Update[];\n}\n\nexport function getAvailablePlugins(): Promise<{\n  plugins: PluginAvailable[];\n  updateCenterRefresh: string;\n}> {\n  return getJSON('/api/plugins/available').catch(throwGlobalError);\n}\n\nexport function getPendingPlugins(): Promise<PluginPendingResult> {\n  return getJSON('/api/plugins/pending').catch(throwGlobalError);\n}\n\nfunction getLastUpdates(updates: undefined | Update[]): Update[] {\n  if (!updates) {\n    return [];\n  }\n  const lastUpdate = ['COMPATIBLE', 'REQUIRES_SYSTEM_UPGRADE', 'DEPS_REQUIRE_SYSTEM_UPGRADE'].map(\n    status => {\n      const index = findLastIndex(updates, update => update.status === status);\n      return index > -1 ? updates[index] : undefined;\n    }\n  );\n  return lastUpdate.filter(isDefined);\n}\n\nfunction addChangelog(update: Update, updates?: Update[]) {\n  if (!updates) {\n    return update;\n  }\n  const index = updates.indexOf(update);\n  const previousUpdates = index > 0 ? updates.slice(0, index) : [];\n  return { ...update, previousUpdates };\n}\n\nexport function getInstalledPlugins(): Promise<PluginInstalled[]> {\n  return getJSON('/api/plugins/installed', { f: 'category' }).then(\n    ({ plugins }) => plugins,\n    throwGlobalError\n  );\n}\n\nexport function getInstalledPluginsWithUpdates(): Promise<PluginInstalled[]> {\n  return Promise.all([\n    getJSON('/api/plugins/installed', { f: 'category' }),\n    getJSON('/api/plugins/updates')\n  ])\n    .then(([installed, updates]) =>\n      installed.plugins.map((plugin: PluginInstalled) => {\n        const updatePlugin: PluginInstalled = updates.plugins.find(\n          (p: PluginInstalled) => p.key === plugin.key\n        );\n        if (updatePlugin) {\n          return {\n            ...updatePlugin,\n            ...plugin,\n            updates: getLastUpdates(updatePlugin.updates).map(update =>\n              addChangelog(update, updatePlugin.updates)\n            )\n          };\n        }\n        return plugin;\n      })\n    )\n    .catch(throwGlobalError);\n}\n\nexport function getPluginUpdates(): Promise<PluginInstalled[]> {\n  return Promise.all([getJSON('/api/plugins/updates'), getJSON('/api/plugins/installed')])\n    .then(([updates, installed]) =>\n      updates.plugins.map((updatePlugin: PluginInstalled) => {\n        const updates = getLastUpdates(updatePlugin.updates).map(update =>\n          addChangelog(update, updatePlugin.updates)\n        );\n        const plugin = installed.plugins.find((p: PluginInstalled) => p.key === updatePlugin.key);\n        if (plugin) {\n          return {\n            ...plugin,\n            ...updatePlugin,\n            updates\n          };\n        }\n        return { ...updatePlugin, updates };\n      })\n    )\n    .catch(throwGlobalError);\n}\n\nexport function installPlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/install', data).catch(throwGlobalError);\n}\n\nexport function uninstallPlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/uninstall', data).catch(throwGlobalError);\n}\n\nexport function updatePlugin(data: { key: string }): Promise<void | Response> {\n  return post('/api/plugins/update', data).catch(throwGlobalError);\n}\n\nexport function cancelPendingPlugins(): Promise<void | Response> {\n  return post('/api/plugins/cancel_all').catch(throwGlobalError);\n}\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIteratee = require('./_baseIteratee'),\n    toInteger = require('./toInteger');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * This method is like `_.findIndex` except that it iterates over elements\n * of `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param {number} [fromIndex=array.length-1] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n * // => 2\n *\n * // The `_.matches` iteratee shorthand.\n * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n * // => 0\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findLastIndex(users, ['active', false]);\n * // => 2\n *\n * // The `_.property` iteratee shorthand.\n * _.findLastIndex(users, 'active');\n * // => 0\n */\nfunction findLastIndex(array, predicate, fromIndex) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return -1;\n  }\n  var index = length - 1;\n  if (fromIndex !== undefined) {\n    index = toInteger(fromIndex);\n    index = fromIndex < 0\n      ? nativeMax(length + index, 0)\n      : nativeMin(index, length - 1);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index, true);\n}\n\nmodule.exports = findLastIndex;\n"],"sourceRoot":""}