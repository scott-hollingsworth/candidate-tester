{"version":3,"sources":["webpack:///./src/main/js/components/common/LocationIndex.css?e5a0","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/LocationMessage.css?8e38","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/Issue.css?30c0","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/ListIcon.js","webpack:///./src/main/js/components/SourceViewer/helpers/loadIssues.ts","webpack:///./src/main/js/components/SourceViewer/SourceViewerCode.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlayMeasure.tsx","webpack:///./src/main/js/components/SourceViewer/components/MeasuresOverlay.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeader.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerBase.tsx","webpack:///./src/main/js/components/SourceViewer/styles.css?b990","webpack:///./src/main/js/components/SourceViewer/styles.css","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./node_modules/sonar-ui-common/components/ui/Level.js","webpack:///./src/main/js/types/metrics.ts","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/ui/Rating.js","webpack:///./src/main/js/components/measure/utils.ts","webpack:///./node_modules/sonar-ui-common/components/ui/Level.css?c630","webpack:///./node_modules/sonar-ui-common/components/ui/Level.css","webpack:///./src/main/js/components/measure/Measure.tsx","webpack:///./src/main/js/components/tags/TagsList.css?aed4","webpack:///./src/main/js/helpers/periods.ts","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/common/MarkdownTips.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./node_modules/sonar-ui-common/components/ui/Rating.css?eab6","webpack:///./node_modules/sonar-ui-common/components/ui/Rating.css","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/ui/CoverageRating.tsx","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.js","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.css?db8e","webpack:///./node_modules/sonar-ui-common/components/ui/DuplicationsRating.css","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","d","__webpack_exports__","LocationMessage","classnames__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","props","className","selected","children","actions_updateIssue","onChange","resultPromise","oldIssue","newIssue","optimisticUpdate","then","response","issue","Object","helpers_issues","components","users","rules","_super","SelectListItem","_this","apply","this","arguments","handleSelect","event","preventDefault","onSelect","item","handleHover","onHover","__extends","prototype","renderLink","index_js_exposed","classnames_default","active","href","onClick","onFocus","onMouseOver","render","Tooltip_default","a","overlay","title","placement","SelectList","call","attachShortcuts","previousKeyScope","keymaster","previousFilter","currentKeyScope","uniqueId_default","tagName","target","srcElement","isInput","includes","keyCode","setState","selectNextElement","selectPreviousElement","state","detachShortcuts","idx","items","indexOf","length","renderChild","child","type","common_SelectListItem","currentItem","SelectList_extends","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","hasChildren","count","map","key","LIST_SIZE","SetAssigneePopup_SetAssigneePopup","SetAssigneePopup","searchMembers","query","organizations","organization","projectOrganization","q","ps","handleSearchResult","searchUsers","api_users","_a","activeUsers","filter","helpers_users","currentUser","login","handleSearchChange","defaultUsersArray","system","name","l10n","__spreadArrays","SetAssigneePopup_extends","Dropdown","noPadding","SearchBox_default","autoFocus","minLength","placeholder","value","common_SelectList","map_default","user","Avatar","hash","avatar","size","style","marginLeft","popups_SetAssigneePopup","withCurrentUser","IssueAssign","toggleAssign","open","togglePopup","handleClose","IssueAssign_extends","renderAssignee","assigneeName","assignee","assigneeAvatar","assigneeActive","canAssign","Toggler_default","closeOnEscape","onRequestClose","isOpen","onAssign","buttons","DropdownIcon_default","CommentPopup","handleCommentChange","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","handleKeyboard","metaKey","ctrlKey","stopPropagation","comment","markdown","CommentPopup_extends","autoTriggered","onKeyDown","rows","disabled","MarkdownTips","IssueCommentAction","addComment","text","issues","issueKey","IssueCommentAction_extends","closeOnClickOutside","currentPopup","popups_CommentPopup","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","severity","SeverityIcon_default","IssueSeverity","toggleSetSeverity","setSeverity","setIssueProperty","IssueSeverity_extends","canSetSeverity","SeverityHelper","SetIssueTagsPopup_LIST_SIZE","SetIssueTagsPopup","mounted","searchResult","onSearch","Math","min","selectedTags","tags","tag","setTags","SetIssueTagsPopup_spreadArrays","onUnselect","without_default","SetIssueTagsPopup_extends","availableTags","difference_default","popups","BottomRight","TagsSelector","listSize","IssueTags","toggleSetTags","__assign","join","IssueTags_extends","canSetTags","popups_SetIssueTagsPopup","TagsList","allowUpdate","SetTransitionPopup","fromHotspot","transitions","isManualVulnerability","transition","translateTransition","description","IssueTransition","setTransition","toggleSetTransition","IssueTransition_extends","hasTransitions","StatusHelper","resolution","status","TYPES","SetTypePopup","IssueTypeIcon_default","IssueType","toggleSetType","setType","IssueType_extends","canSetType","fill","theme","baseFontColor","IssueActionsBar","property","popup","apiCall","IssueActionsBar_assign","_b","handleTransition","IssueActionsBar_extends","actions","canComment","isSecurityHotspot","components_IssueType","components_IssueSeverity","components_IssueTransition","components_IssueAssign","effort","components_IssueCommentAction","components_IssueTags","CommentDeletePopup","onDelete","IssueCommentLine","openPopup","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","popupName","force","prevState","closePopups","IssueCommentLine_extends","author","authorName","displayName","authorActive","authorAvatar","dangerouslySetInnerHTML","__html","purify","htmlText","DateFromNow","date","createdAt","updatable","ChangelogPopup","changelog","ChangelogPopup_extends","loadChangelog","DateTimeFormatter","creationDate","userName","isUserActive","diffs","diff","IssueChangelogDiff","IssueChangelog","toggleChangelog","handleClick","IssueChangelog_extends","popups_ChangelogPopup","mouseEnterDelay","IssueMessage","engine","manualVulnerability","message","ruleKey","aria-label","onOpenRule","SimilarIssuesPopup","onFilter","SimilarIssuesPopup_extends","SimilarIssuesPopup_spreadArrays","subProject","path","ruleName","TagsIcon_default","QualifierIcon_default","qualifier","projectName","subProjectName","componentQualifier","componentLongName","SimilarIssuesFilter","handleFilter","SimilarIssuesFilter_extends","popups_SimilarIssuesPopup","FilterIcon_default","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","secondaryLocations","flows","reduce","sum","locations","locationsBadge","measures","LocationIndex","displayLocations","displayLocationsCount","issueUrl","urls","project","IssueTitleBar_assign","branch_like","branchLike","types","context","Consumer","openRule","externalRuleEngine","rule","components_IssueChangelog","textRange","endLine","displayLocationsLink","es","to","LinkIcon_default","components_SimilarIssuesFilter","IssueView","handleCheck","onCheck","isClickable","node","toUpperCase","parentElement","editComment","deleteComment","IssueView_extends","hasCheckbox","issueClass","hotspot","issue-with-checkbox","data-issue","role","tabIndex","components_IssueActionsBar","comments","components_IssueCommentLine","Checkbox_default","checked","Issue_Issue","Issue","onPopupToggle","handleAssignement","Issue_extends","bindShortcuts","componentWillUpdate","nextProps","unbindShortcuts","issue_IssueView","defaultProps","defineProperty","React","Icon_1","default","createElement","PAGE_SIZE","loadPageAndNext","toLine","page","pageSize","api_issues","p","r","loadPage","lastIssue","nextIssues","loadIssues_loadIssues","component","_fromLine","additionalFields","resolved","componentKeys","s","buildQuery","Promise","resolve","EMPTY_ARRAY","ZERO_LINE","code","duplicated","isNew","line","SourceViewerCode","getDuplicationsForLine","duplicationsByLine","getIssuesForLine","issuesByLine","getIssueLocationsForLine","issueLocationsByLine","renderLine","index","displayCoverage","displayDuplications","displayIssues","highlightedLocationMessage","highlightedLocations","selectedIssue","sources","secondaryIssueLocations","issueLocations","duplicationsCount","duplications","issuesForLine","Line","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","highlighted","highlightedLine","helpers_lines","highlightedSymbols","symbolsByLine","issuePopup","last","hasSourcesAfter","linePopup","loadDuplications","onIssueChange","onIssuePopupToggle","onIssueSelect","onIssueUnselect","onIssuesClose","onIssuesOpen","onLinePopupToggle","onLocationSelect","onSymbolClick","openIssues","openIssuesByLine","previousLine","renderDuplicationPopup","scroll","some","coverageStatus","hasFileIssues","hasSourcesBefore","loadingSourcesBefore","loadSourcesBefore","loadingSourcesAfter","loadSourcesAfter","MeasuresOverlayMeasure","measure","data-metric","metric","types_metrics","bugs","vulnerabilities","code_smells","Measure","metricKey","metricType","small","MeasuresOverlay","loading","showAllMeasures","fetchData","all","fetchMeasures","fetchIssues","facets","MeasuresOverlay_assign","api_metrics","metrics","metricKeys","js_helpers_measures","api_measures","sourceViewerFile","withMetrics","keyBy_default","severitiesFacet","find","f","tagsFacet","typesFacet","values","handleAllMeasuresClick","currentTarget","blur","renderMeasure","renderLines","lines","ncloc","comment_lines","comment_lines_density","cognitive_complexity","complexity","function_complexity","renderBigMeasure","renderIssues","violations","sqale_index","sortBy_default","constants","val","helpers_measures","renderCoverage","coverage","CoverageRating","uncovered_lines","lines_to_cover","uncovered_conditions","conditions_to_cover","renderDuplications","duplicated_lines_density","DuplicationsRating_default","muted","Number","duplicated_blocks","duplicated_lines","renderTests","tests","test_success_density","test_failures","test_errors","skipped_tests","test_execution_time","renderDomain","domain","renderAllMeasures","domains","groupBy_default","domainKeys","keys","odd","_","even","MeasuresOverlay_extends","header","Modal_default","contentLabel","onClose","helpers_urls","METRIC_KEY_FOR_ISSUE_TYPE","BUG","VULNERABILITY","CODE_SMELL","SECURITY_HOTSPOT","SourceViewerHeader","measuresOverlay","handleShowMeasuresClick","handleMeasuresOverlayClose","openInWorkspace","openComponent","renderIssueMeasures","componentMeasures","params","SourceViewerHeader_assign","fileUuids","uuid","m","SourceViewerHeader_extends","showMeasures","unitTestsOrLines","rawSourcesLink","querystring_es3","request","helpers_path","clipboard","copyValue","canMarkAsFavorite","Favorite","favorite","fav","components_MeasuresOverlay","duplicationDensity","Dropdown_default","rel","overlayPlacement","ListIcon_default","LINES","SourceViewerBase_SourceViewerBase","SourceViewerBase","loadSources","reject","from","aroundLine","max","firstSourceLine","loadIssues","uniqBy_default","SourceViewerBase_spreadArrays","indexing","computeCoverageStatus","SourceViewerBase_assign","lastSourceLine","fromLine","slice","duplicatedFiles","files","handleLinePopupToggle","samePopup","closeLinePopup","handleIssuePopupToggle","handleSymbolClick","symbols","intersection_default","handleIssueSelect","handleIssueUnselect","handleOpenIssues","handleCloseIssues","handleIssueChange","newIssues","candidate","blocks","helpers_duplications","DuplicationPopup","inRemovedComponent","notAccessible","notExist","sourceRemoved","SourceViewerBase_extends","fetchComponent","componentWillReceiveProps","isLineOutsideOfRange","fetchSources","selectedIssue_1","reloadIssues","getCoverageStatus","lineNumber","firstLine","lastList","loadComponent","finalSources_1","onLoaded","onFailLoadSources","finalSources_2","renderCode","SourceViewer_SourceViewerCode","componentKey","renderHeader","slimHeader","SourceViewerHeaderSlim","SourceViewer_SourceViewerHeader","Alert","variant","classnames","source-duplications-expanded","SourceViewerContext","Provider","file","ref","defaultLoadComponent","defaultLoadSources","sourceViewerComponent","leakPeriodDate","formatterOption","year","month","day","hour","minute","react__WEBPACK_IMPORTED_MODULE_0__","react_intl__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","longFormatterOption","DateFormatter","long","classNames","measures_1","formatted","formatMeasure","level","level-small","level-muted","aria-labelledby","MetricKey","isMetricKey","sonar_ui_common_components_icons_SeverityIcon__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_SeverityIcon__WEBPACK_IMPORTED_MODULE_1___default","n","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","l10n_1","_c","translate","translateWithParameters","rating-small","rating-muted","KNOWN_RATINGS","enhanceMeasure","leak","getLeakValue","periods","period","_helpers_periods__WEBPACK_IMPORTED_MODULE_1__","getRatingTooltip","finalMetricKey","_helpers_measures__WEBPACK_IMPORTED_MODULE_0__","substr","sonar_ui_common_components_controls_Tooltip__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_Tooltip__WEBPACK_IMPORTED_MODULE_1___default","sonar_ui_common_components_ui_Level__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_ui_Level__WEBPACK_IMPORTED_MODULE_2___default","sonar_ui_common_components_ui_Rating__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_ui_Rating__WEBPACK_IMPORTED_MODULE_3___default","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_4__","_utils__WEBPACK_IMPORTED_MODULE_5__","decimals","formattedValue","tooltip","rating","getLeakPeriod","getPeriodLabel","getPeriodDate","isApplicationPeriod","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","Array","isArray","getPeriod","dateFormatter","parameter","modeParam","mode","toLowerCase","sonar_ui_common_components_icons_DropdownIcon__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_icons_DropdownIcon__WEBPACK_IMPORTED_MODULE_2___default","sonar_ui_common_components_icons_TagsIcon__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_icons_TagsIcon__WEBPACK_IMPORTED_MODULE_3___default","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","aria-hidden","MultiSelectOption","custom","element","label","renderLabel","Boolean","id","onSelectChange","MultiSelect_MultiSelect","MultiSelect","handleSelectChange","onSelectItem","onUnselectItem","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","evt","toggleSelect","stopLoading","isNewElement","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","unselectedElements","setElementActive","allElements","container","addEventListener","totalElements","searchInput","focus","removeEventListener","allowSelection","allowNewElements","_d","footerNode","_e","activeElement","showNewElement","infiniteList","listClasses","menu-vertically-limited","spacer-top","with-top-separator","with-bottom-separator","div","window","_helpers_urls__WEBPACK_IMPORTED_MODULE_3__","_common_MultiSelect__WEBPACK_IMPORTED_MODULE_2__","validateTag","replace","sonar_ui_common_components_lazyLoadComponent__WEBPACK_IMPORTED_MODULE_1__","_app_theme__WEBPACK_IMPORTED_MODULE_2__","DonutChart","e","t","bind","SIZE_TO_WIDTH_MAPPING","normal","big","huge","SIZE_TO_THICKNESS_MAPPING","data","padAngle","numberValue","gray71","green","barBackgroundColor","lineCoverageRed","width","thickness","height","leading","other","__rest","clickAttributes","is-leading","sonar_ui_common_components_icons_StatusIcon__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_StatusIcon__WEBPACK_IMPORTED_MODULE_1___default","lodash_1","duplications-rating-small","duplications-rating-big","duplications-rating-huge","duplications-rating-muted","isNaN","duplications-rating-A","inRange","duplications-rating-B","duplications-rating-C","duplications-rating-D","duplications-rating-E","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","oldValue","newValue"],"mappings":"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","file":"js/288.1582644816097.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none;word-break:break-all}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { IssueResponse } from '../../api/issues';\nimport { parseIssueFromResponse } from '../../helpers/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    () => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  className?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: string;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames(\n            { active: this.props.active === this.props.item },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport * as React from 'react';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { withCurrentUser } from '../../hoc/withCurrentUser';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  issue: Pick<T.Issue, 'projectOrganization'>;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: T.UserActive[];\n}\n\nconst LIST_SIZE = 10;\n\nexport class SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: T.UserActive[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query: string) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, () => {});\n  };\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = ({ users }: { users: T.UserBase[] }) => {\n    const activeUsers = users.filter(isUserActive);\n    this.setState({\n      users: activeUsers,\n      currentUser: activeUsers.length > 0 ? activeUsers[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (isSonarCloud()) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span className=\"text-middle\" style={{ marginLeft: user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withCurrentUser(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<\n    T.Issue,\n    'assignee' | 'assigneeActive' | 'assigneeAvatar' | 'assigneeName' | 'projectOrganization'\n  >;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (assigneeName) {\n      return (\n        <>\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n          <span className=\"issue-meta-label\">\n            {issue.assigneeActive === false\n              ? translateWithParameters('user.x_deleted', assigneeName)\n              : assigneeName}\n          </span>\n        </>\n      );\n    }\n\n    return <span className=\"issue-meta-label\">{translate('unassigned')}</span>;\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup issue={this.props.issue} onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MarkdownTips from '../../common/MarkdownTips';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addIssueComment } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink className=\"issue-action js-issue-comment\" onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem className=\"display-flex-center\" item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { IssueResponse, setIssueSeverity } from '../../../api/issues';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { searchIssueTags } from '../../../api/issues';\nimport TagsSelector from '../../tags/TagsSelector';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTags } from '../../../api/issues';\nimport TagsList from '../../tags/TagsList';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'projectOrganization' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\nexport interface Props {\n  fromHotspot: boolean;\n  onSelect: (transition: string) => void;\n  transitions: string[];\n  type: T.IssueType;\n}\n\nexport default function SetTransitionPopup({ fromHotspot, onSelect, transitions, type }: Props) {\n  const isManualVulnerability = fromHotspot && type === 'VULNERABILITY';\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          const [name, description] = translateTransition(transition, isManualVulnerability);\n          return (\n            <SelectListItem item={transition} key={transition} title={description}>\n              {name}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n\nfunction translateTransition(transition: string, isManualVulnerability: boolean) {\n  return isManualVulnerability && hasMessage('vulnerability.transition', transition)\n    ? [\n        translate('vulnerability.transition', transition),\n        translate('vulnerability.transition', transition, 'description')\n      ]\n    : [\n        translate('issue.transition', transition),\n        translate('issue.transition', transition, 'description')\n      ];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { setIssueTransition } from '../../../api/issues';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'fromHotspot' | 'key' | 'resolution' | 'status' | 'transitions' | 'type'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup\n                fromHotspot={issue.fromHotspot}\n                onSelect={this.setTransition}\n                transitions={issue.transitions}\n                type={issue.type}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem className=\"display-flex-center\" item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse, setIssueType } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport SetTypePopup from '../popups/SetTypePopup';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon\n                className=\"little-spacer-right\"\n                fill={colors.baseFontColor}\n                query={issue.type}\n              />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          <li className=\"issue-meta\">\n            <IssueAssign\n              canAssign={canAssign}\n              isOpen={this.props.currentPopup === 'assign' && canAssign}\n              issue={issue}\n              onAssign={this.props.onAssign}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && issue.effort && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\">\n                {translateWithParameters('issue.x_effort', issue.effort)}\n              </span>\n            </li>\n          )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sanitize } from 'dompurify';\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport DateFromNow from '../../intl/DateFromNow';\nimport Avatar from '../../ui/Avatar';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    const author = comment.authorName || comment.author;\n    const displayName =\n      comment.authorActive === false && author\n        ? translateWithParameters('user.x_deleted', author)\n        : author;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={displayName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={author}\n            size={16}\n          />\n          {displayName}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: sanitize(comment.htmlText) }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getIssueChangelog } from '../../../api/issues';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport Avatar from '../../ui/Avatar';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelog: T.IssueChangelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changelog: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      ({ changelog }) => {\n        if (this.mounted) {\n          this.setState({ changelog });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelog.map((item, idx) => {\n                const userName = item.userName || item.user;\n\n                return (\n                  <tr key={idx}>\n                    <td className=\"thin text-left text-top nowrap\">\n                      <DateTimeFormatter date={item.creationDate} />\n                    </td>\n                    <td className=\"text-left text-top\">\n                      {userName && (\n                        <p>\n                          <Avatar\n                            className=\"little-spacer-right\"\n                            hash={item.avatar}\n                            name={userName}\n                            size={16}\n                          />\n                          {item.isUserActive\n                            ? userName\n                            : translateWithParameters('user.x_deleted', userName)}\n                        </p>\n                      )}\n                      {item.diffs.map(diff => (\n                        <IssueChangelogDiff diff={diff} key={diff.key} />\n                      ))}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport DateFromNow from '../../intl/DateFromNow';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport ChangelogPopup from '../popups/ChangelogPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\nexport interface IssueMessageProps {\n  engine?: string;\n  manualVulnerability: boolean;\n  message: string;\n  onOpenRule: WorkspaceContextShape['openRule'];\n  organization: string;\n  ruleKey: string;\n}\n\nexport default function IssueMessage(props: IssueMessageProps) {\n  const { engine, manualVulnerability, message, organization, ruleKey } = props;\n\n  return (\n    <div className=\"issue-message\">\n      <span className=\"spacer-right\">{message}</span>\n      <ButtonLink\n        aria-label={translate('issue.why_this_issue.long')}\n        className=\"issue-see-rule spacer-right\"\n        onClick={() => props.onOpenRule({ key: ruleKey, organization })}>\n        {translate('issue.why_this_issue')}\n      </ButtonLink>\n\n      {engine && (\n        <Tooltip overlay={translateWithParameters('issue.from_external_rule_engine', engine)}>\n          <div className=\"badge spacer-right text-top\">{engine}</div>\n        </Tooltip>\n      )}\n      {manualVulnerability && (\n        <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n          <div className=\"badge spacer-right text-top\">\n            {translate('issue.manual_vulnerability')}\n          </div>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { fileFromPath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    const assignee = issue.assigneeName || issue.assignee;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem className=\"display-flex-center\" item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper className=\"display-flex-center\" severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper\n              className=\"display-flex-center\"\n              resolution={undefined}\n              status={issue.status}\n            />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {assignee ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={assignee}\n                  size={16}\n                />\n                {issue.assigneeActive === false\n                  ? translateWithParameters('user.x_deleted', assignee)\n                  : assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport LocationIndex from '../../common/LocationIndex';\nimport { WorkspaceContext } from '../../workspace/context';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\n\ninterface Props {\n  branchLike?: BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: Props) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            onOpenRule={openRule}\n            organization={issue.organization}\n            ruleKey={issue.rule}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport IssueTitleBar from './components/IssueTitleBar';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = () => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      hotspot: issue.type === 'SECURITY_HOTSPOT',\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments && issue.comments.length > 0 && (\n          <div className=\"issue-comments\">\n            {issue.comments.map(comment => (\n              <IssueCommentLine\n                comment={comment}\n                key={comment.key}\n                onDelete={this.deleteComment}\n                onEdit={this.editComment}\n              />\n            ))}\n          </div>\n        )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { setIssueAssignee } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport './Issue.css';\nimport IssueView from './IssueView';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ListIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M15.045 11.526v1.007q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 8.506v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 5.487v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354zM15.045 2.468v1.006q0 0.204-0.149 0.354t-0.354 0.149h-13.084q-0.204 0-0.354-0.149t-0.149-0.354v-1.006q0-0.204 0.149-0.354t0.354-0.149h13.084q0.204 0 0.354 0.149t0.149 0.354z\", style: { fill: fill } })));\n}\nexports.default = ListIcon;\n//# sourceMappingURL=ListIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { searchIssues } from '../../../api/issues';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { parseIssueFromResponse } from '../../../helpers/issues';\nimport { BranchLike } from '../../../types/branch-like';\n\n// maximum possible value\nconst PAGE_SIZE = 500;\n\nfunction buildQuery(component: string, branchLike: BranchLike | undefined) {\n  return {\n    additionalFields: '_all',\n    resolved: 'false',\n    componentKeys: component,\n    s: 'FILE_LINE',\n    ...getBranchLikeQuery(branchLike)\n  };\n}\n\nexport function loadPage(\n  query: T.RawQuery,\n  page: number,\n  pageSize = PAGE_SIZE\n): Promise<T.Issue[]> {\n  return searchIssues({\n    ...query,\n    p: page,\n    ps: pageSize\n  }).then(r =>\n    r.issues.map(issue => parseIssueFromResponse(issue, r.components, r.users, r.rules))\n  );\n}\n\nexport function loadPageAndNext(\n  query: T.RawQuery,\n  toLine: number,\n  page: number,\n  pageSize = PAGE_SIZE\n): Promise<T.Issue[]> {\n  return loadPage(query, page).then(issues => {\n    if (issues.length === 0) {\n      return [];\n    }\n\n    const lastIssue = issues[issues.length - 1];\n\n    if (\n      (lastIssue.textRange != null && lastIssue.textRange.endLine > toLine) ||\n      issues.length < pageSize\n    ) {\n      return issues;\n    }\n\n    return loadPageAndNext(query, toLine, page + 1, pageSize).then(nextIssues => {\n      return [...issues, ...nextIssues];\n    });\n  });\n}\n\nexport default function loadIssues(\n  component: string,\n  _fromLine: number,\n  toLine: number,\n  branchLike: BranchLike | undefined\n): Promise<T.Issue[]> {\n  const query = buildQuery(component, branchLike);\n  return new Promise(resolve => {\n    loadPageAndNext(query, toLine, 1).then(issues => {\n      resolve(issues);\n    });\n  });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { BranchLike } from '../../types/branch-like';\nimport Line from './components/Line';\nimport { getSecondaryIssueLocationsForLine } from './helpers/issueLocations';\nimport {\n  optimizeHighlightedSymbols,\n  optimizeLocationMessage,\n  optimizeSelectedIssue\n} from './helpers/lines';\n\nconst EMPTY_ARRAY: any[] = [];\n\nconst ZERO_LINE = {\n  code: '',\n  duplicated: false,\n  isNew: false,\n  line: 0\n};\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentKey: string;\n  displayAllIssues?: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  duplications: T.Duplication[] | undefined;\n  duplicationsByLine: { [line: number]: number[] };\n  hasSourcesAfter: boolean;\n  hasSourcesBefore: boolean;\n  highlightedLine: number | undefined;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  // `undefined` elements mean they are located in a different file,\n  // but kept to maintain the location indexes\n  highlightedLocations: (T.FlowLocation | undefined)[] | undefined;\n  highlightedSymbols: string[];\n  issueLocationsByLine: { [line: number]: T.LinearIssueLocation[] };\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[] | undefined;\n  issuesByLine: { [line: number]: T.Issue[] };\n  linePopup: T.LinePopup | undefined;\n  loadDuplications: (line: T.SourceLine) => void;\n  loadingSourcesAfter: boolean;\n  loadingSourcesBefore: boolean;\n  loadSourcesAfter: () => void;\n  loadSourcesBefore: () => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  onIssuesClose: (line: T.SourceLine) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onIssuesOpen: (line: T.SourceLine) => void;\n  onIssueUnselect: () => void;\n  onLinePopupToggle: (linePopup: T.LinePopup) => void;\n  onLocationSelect: ((index: number) => void) | undefined;\n  onSymbolClick: (symbols: string[]) => void;\n  openIssuesByLine: { [line: number]: boolean };\n  renderDuplicationPopup: (index: number, line: number) => React.ReactNode;\n  scroll?: (element: HTMLElement) => void;\n  selectedIssue: string | undefined;\n  sources: T.SourceLine[];\n  symbolsByLine: { [line: number]: string[] };\n}\n\nexport default class SourceViewerCode extends React.PureComponent<Props> {\n  getDuplicationsForLine = (line: T.SourceLine): number[] => {\n    return this.props.duplicationsByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  getIssuesForLine = (line: T.SourceLine): T.Issue[] => {\n    return this.props.issuesByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  getIssueLocationsForLine = (line: T.SourceLine): T.LinearIssueLocation[] => {\n    return this.props.issueLocationsByLine[line.line] || EMPTY_ARRAY;\n  };\n\n  renderLine = ({\n    line,\n    index,\n    displayCoverage,\n    displayDuplications,\n    displayIssues\n  }: {\n    line: T.SourceLine;\n    index: number;\n    displayCoverage: boolean;\n    displayDuplications: boolean;\n    displayIssues: boolean;\n  }) => {\n    const { highlightedLocationMessage, highlightedLocations, selectedIssue, sources } = this.props;\n\n    const secondaryIssueLocations = getSecondaryIssueLocationsForLine(line, highlightedLocations);\n\n    const duplicationsCount = this.props.duplications ? this.props.duplications.length : 0;\n\n    const issuesForLine = this.getIssuesForLine(line);\n\n    return (\n      <Line\n        branchLike={this.props.branchLike}\n        displayAllIssues={this.props.displayAllIssues}\n        displayCoverage={displayCoverage}\n        displayDuplications={displayDuplications}\n        displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n        displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n        displayIssues={displayIssues}\n        displayLocationMarkers={this.props.displayLocationMarkers}\n        duplications={this.getDuplicationsForLine(line)}\n        duplicationsCount={duplicationsCount}\n        highlighted={line.line === this.props.highlightedLine}\n        highlightedLocationMessage={optimizeLocationMessage(\n          highlightedLocationMessage,\n          secondaryIssueLocations\n        )}\n        highlightedSymbols={optimizeHighlightedSymbols(\n          this.props.symbolsByLine[line.line],\n          this.props.highlightedSymbols\n        )}\n        issueLocations={this.getIssueLocationsForLine(line)}\n        issuePopup={this.props.issuePopup}\n        issues={issuesForLine}\n        key={line.line}\n        last={index === this.props.sources.length - 1 && !this.props.hasSourcesAfter}\n        line={line}\n        linePopup={this.props.linePopup}\n        loadDuplications={this.props.loadDuplications}\n        onIssueChange={this.props.onIssueChange}\n        onIssuePopupToggle={this.props.onIssuePopupToggle}\n        onIssueSelect={this.props.onIssueSelect}\n        onIssueUnselect={this.props.onIssueUnselect}\n        onIssuesClose={this.props.onIssuesClose}\n        onIssuesOpen={this.props.onIssuesOpen}\n        onLinePopupToggle={this.props.onLinePopupToggle}\n        onLocationSelect={this.props.onLocationSelect}\n        onSymbolClick={this.props.onSymbolClick}\n        openIssues={this.props.openIssuesByLine[line.line] || false}\n        previousLine={index > 0 ? sources[index - 1] : undefined}\n        renderDuplicationPopup={this.props.renderDuplicationPopup}\n        scroll={this.props.scroll}\n        secondaryIssueLocations={secondaryIssueLocations}\n        selectedIssue={optimizeSelectedIssue(selectedIssue, issuesForLine)}\n      />\n    );\n  };\n\n  render() {\n    const { issues = [], sources } = this.props;\n\n    const displayCoverage = sources.some(s => s.coverageStatus != null);\n    const displayDuplications = sources.some(s => !!s.duplicated);\n    const displayIssues = issues.length > 0;\n\n    const hasFileIssues = displayIssues && issues.some(issue => !issue.textRange);\n\n    return (\n      <div className=\"source-viewer-code\">\n        {this.props.hasSourcesBefore && (\n          <div className=\"source-viewer-more-code\">\n            {this.props.loadingSourcesBefore ? (\n              <div className=\"js-component-viewer-loading-before\">\n                <i className=\"spinner\" />\n                <span className=\"note spacer-left\">\n                  {translate('source_viewer.loading_more_code')}\n                </span>\n              </div>\n            ) : (\n              <Button\n                className=\"js-component-viewer-source-before\"\n                onClick={this.props.loadSourcesBefore}>\n                {translate('source_viewer.load_more_code')}\n              </Button>\n            )}\n          </div>\n        )}\n\n        <table className=\"source-table\">\n          <tbody>\n            {hasFileIssues &&\n              this.renderLine({\n                line: ZERO_LINE,\n                index: -1,\n                displayCoverage,\n                displayDuplications,\n                displayIssues\n              })}\n            {sources.map((line, index) =>\n              this.renderLine({ line, index, displayCoverage, displayDuplications, displayIssues })\n            )}\n          </tbody>\n        </table>\n\n        {this.props.hasSourcesAfter && (\n          <div className=\"source-viewer-more-code\">\n            {this.props.loadingSourcesAfter ? (\n              <div className=\"js-component-viewer-loading-after\">\n                <i className=\"spinner\" />\n                <span className=\"note spacer-left\">\n                  {translate('source_viewer.loading_more_code')}\n                </span>\n              </div>\n            ) : (\n              <Button\n                className=\"js-component-viewer-source-after\"\n                onClick={this.props.loadSourcesAfter}>\n                {translate('source_viewer.load_more_code')}\n              </Button>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { getLocalizedMetricName } from 'sonar-ui-common/helpers/l10n';\nimport { isMetricKey, MetricKey } from '../../../types/metrics';\nimport Measure from '../../measure/Measure';\n\nexport interface MeasureWithMetric {\n  metric: T.Metric;\n  value?: string;\n}\n\ninterface Props {\n  measure: MeasureWithMetric;\n}\n\nexport default function MeasuresOverlayMeasure({ measure }: Props) {\n  return (\n    <div\n      className=\"measure measure-one-line\"\n      data-metric={measure.metric.key}\n      key={measure.metric.key}>\n      <span className=\"measure-name\">\n        {isMetricKey(measure.metric.key) &&\n          [MetricKey.bugs, MetricKey.vulnerabilities, MetricKey.code_smells].includes(\n            measure.metric.key\n          ) && <IssueTypeIcon className=\"little-spacer-right\" query={measure.metric.key} />}\n        {getLocalizedMetricName(measure.metric)}\n      </span>\n      <span className=\"measure-value\">\n        <Measure\n          metricKey={measure.metric.key}\n          metricType={measure.metric.type}\n          small={true}\n          value={measure.value}\n        />\n      </span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, keyBy, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport DuplicationsRating from 'sonar-ui-common/components/ui/DuplicationsRating';\nimport { getLocalizedMetricName, translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getFacets } from '../../../api/issues';\nimport { getMeasures } from '../../../api/measures';\nimport { getAllMetrics } from '../../../api/metrics';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { ISSUE_TYPES, SEVERITIES } from '../../../helpers/constants';\nimport { enhanceMeasuresWithMetrics, getDisplayMetrics } from '../../../helpers/measures';\nimport { getBranchLikeUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport Measure from '../../measure/Measure';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport CoverageRating from '../../ui/CoverageRating';\nimport MeasuresOverlayMeasure from './MeasuresOverlayMeasure';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  onClose: () => void;\n  sourceViewerFile: T.SourceViewerFile;\n}\n\ninterface Measures {\n  [metricKey: string]: T.MeasureEnhanced;\n}\n\ninterface State {\n  loading: boolean;\n  measures: Measures;\n  severitiesFacet?: T.FacetValue[];\n  showAllMeasures: boolean;\n  tagsFacet?: T.FacetValue[];\n  typesFacet?: T.FacetValue<T.IssueType>[];\n}\n\nexport default class MeasuresOverlay extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true, measures: {}, showAllMeasures: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchData();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchData = () => {\n    Promise.all([this.fetchMeasures(), this.fetchIssues()]).then(\n      ([measures, facets]) => {\n        if (this.mounted) {\n          this.setState({ loading: false, measures, ...facets });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  fetchMeasures = () => {\n    return getAllMetrics().then(metrics => {\n      const metricKeys = getDisplayMetrics(metrics).map(metric => metric.key);\n\n      // eslint-disable-next-line promise/no-nesting\n      return getMeasures({\n        component: this.props.sourceViewerFile.key,\n        metricKeys: metricKeys.join(),\n        ...getBranchLikeQuery(this.props.branchLike)\n      }).then(measures => {\n        const withMetrics = enhanceMeasuresWithMetrics(measures, metrics).filter(\n          measure => measure.metric\n        );\n        return keyBy(withMetrics, measure => measure.metric.key);\n      });\n    });\n  };\n\n  fetchIssues = () => {\n    return getFacets(\n      {\n        componentKeys: this.props.sourceViewerFile.key,\n        resolved: 'false',\n        ...getBranchLikeQuery(this.props.branchLike)\n      },\n      ['types', 'severities', 'tags']\n    ).then(({ facets }) => {\n      const severitiesFacet = facets.find(f => f.property === 'severities');\n      const tagsFacet = facets.find(f => f.property === 'tags');\n      const typesFacet = facets.find(f => f.property === 'types');\n      return {\n        severitiesFacet: severitiesFacet && severitiesFacet.values,\n        tagsFacet: tagsFacet && tagsFacet.values,\n        typesFacet: typesFacet && (typesFacet.values as T.FacetValue<T.IssueType>[])\n      };\n    });\n  };\n\n  handleAllMeasuresClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ showAllMeasures: true });\n  };\n\n  renderMeasure = (measure: T.MeasureEnhanced | undefined) => {\n    return measure ? <MeasuresOverlayMeasure key={measure.metric.key} measure={measure} /> : null;\n  };\n\n  renderLines = () => {\n    const { measures } = this.state;\n\n    return (\n      <div className=\"measures-viewer-section\">\n        <div className=\"measures-viewer-card\">\n          <div className=\"measures\">\n            {this.renderMeasure(measures.lines)}\n            {this.renderMeasure(measures.ncloc)}\n            {this.renderMeasure(measures.comment_lines)}\n            {this.renderMeasure(measures.comment_lines_density)}\n          </div>\n\n          <div className=\"measures\">\n            {this.renderMeasure(measures.cognitive_complexity)}\n            {this.renderMeasure(measures.complexity)}\n            {this.renderMeasure(measures.function_complexity)}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderBigMeasure = (measure: T.MeasureEnhanced | undefined) => {\n    return measure ? (\n      <div className=\"measure measure-big\" data-metric={measure.metric.key}>\n        <span className=\"measure-value\">\n          <Measure\n            metricKey={measure.metric.key}\n            metricType={measure.metric.type}\n            value={measure.value}\n          />\n        </span>\n        <span className=\"measure-name\">{getLocalizedMetricName(measure.metric, true)}</span>\n      </div>\n    ) : null;\n  };\n\n  renderIssues = () => {\n    const { measures, severitiesFacet, tagsFacet, typesFacet } = this.state;\n    return (\n      <div className=\"measures-viewer-section\">\n        <div className=\"measures-viewer-card\">\n          <div className=\"measures\">\n            {this.renderBigMeasure(measures.violations)}\n            {this.renderBigMeasure(measures.sqale_index)}\n          </div>\n          {measures.violations && !!measures.violations.value && (\n            <>\n              {typesFacet && (\n                <div className=\"measures\">\n                  {sortBy(typesFacet, f => ISSUE_TYPES.indexOf(f.val)).map(f => (\n                    <div className=\"measure measure-one-line\" key={f.val}>\n                      <span className=\"measure-name\">\n                        <IssueTypeIcon className=\"little-spacer-right\" query={f.val} />\n                        {translate('issue.type', f.val)}\n                      </span>\n                      <span className=\"measure-value\">{formatMeasure(f.count, 'SHORT_INT')}</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n              {severitiesFacet && (\n                <div className=\"measures\">\n                  {sortBy(severitiesFacet, f => SEVERITIES.indexOf(f.val)).map(f => (\n                    <div className=\"measure measure-one-line\" key={f.val}>\n                      <span className=\"measure-name\">\n                        <SeverityHelper severity={f.val} />\n                      </span>\n                      <span className=\"measure-value\">{formatMeasure(f.count, 'SHORT_INT')}</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n              {tagsFacet && (\n                <div className=\"measures\">\n                  {tagsFacet.map(f => (\n                    <div className=\"measure measure-one-line\" key={f.val}>\n                      <span className=\"measure-name\">\n                        <TagsIcon className=\"little-spacer-right\" />\n                        {f.val}\n                      </span>\n                      <span className=\"measure-value\">{formatMeasure(f.count, 'SHORT_INT')}</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  renderCoverage = () => {\n    const { coverage } = this.state.measures;\n    if (!coverage) {\n      return null;\n    }\n    return (\n      <div className=\"measures-viewer-section\">\n        <div className=\"measures-viewer-card\">\n          <div className=\"measures\">\n            <div className=\"measures-chart\">\n              <CoverageRating size=\"big\" value={coverage.value} />\n            </div>\n            <div className=\"measure measure-big\" data-metric={coverage.metric.key}>\n              <span className=\"measure-value\">\n                <Measure\n                  metricKey={coverage.metric.key}\n                  metricType={coverage.metric.type}\n                  value={coverage.value}\n                />\n              </span>\n              <span className=\"measure-name\">{getLocalizedMetricName(coverage.metric)}</span>\n            </div>\n          </div>\n\n          <div className=\"measures\">\n            {this.renderMeasure(this.state.measures.uncovered_lines)}\n            {this.renderMeasure(this.state.measures.lines_to_cover)}\n            {this.renderMeasure(this.state.measures.uncovered_conditions)}\n            {this.renderMeasure(this.state.measures.conditions_to_cover)}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderDuplications = () => {\n    const { duplicated_lines_density: duplications } = this.state.measures;\n    if (!duplications) {\n      return null;\n    }\n    return (\n      <div className=\"measures-viewer-section\">\n        <div className=\"measures-viewer-card\">\n          <div className=\"measures\">\n            <div className=\"measures-chart\">\n              <DuplicationsRating\n                muted={duplications.value === undefined}\n                size=\"big\"\n                value={Number(duplications.value || 0)}\n              />\n            </div>\n            <div className=\"measure measure-big\" data-metric={duplications.metric.key}>\n              <span className=\"measure-value\">\n                <Measure\n                  metricKey={duplications.metric.key}\n                  metricType={duplications.metric.type}\n                  value={duplications.value}\n                />\n              </span>\n              <span className=\"measure-name\">\n                {getLocalizedMetricName(duplications.metric, true)}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"measures\">\n            {this.renderMeasure(this.state.measures.duplicated_blocks)}\n            {this.renderMeasure(this.state.measures.duplicated_lines)}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderTests = () => {\n    const { measures } = this.state;\n    return (\n      <div className=\"measures-viewer\">\n        <div className=\"measures-viewer-section measures-viewer-section-limited\">\n          <div className=\"measures-viewer-card\">\n            <div className=\"measures\">\n              {this.renderMeasure(measures.tests)}\n              {this.renderMeasure(measures.test_success_density)}\n              {this.renderMeasure(measures.test_failures)}\n              {this.renderMeasure(measures.test_errors)}\n              {this.renderMeasure(measures.skipped_tests)}\n              {this.renderMeasure(measures.test_execution_time)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  renderDomain = (domain: string, measures: T.MeasureEnhanced[]) => {\n    return (\n      <div className=\"measures-viewer-card\" key={domain}>\n        <div className=\"measures\">\n          <div className=\"measure measure-big\">\n            <span className=\"measure-name\">{translate('metric_domain', domain)}</span>\n          </div>\n          {sortBy(\n            measures.filter(measure => measure.value !== undefined),\n            measure => getLocalizedMetricName(measure.metric)\n          ).map(measure => this.renderMeasure(measure))}\n        </div>\n      </div>\n    );\n  };\n\n  renderAllMeasures = () => {\n    const domains = groupBy(Object.values(this.state.measures), measure => measure.metric.domain);\n    const domainKeys = Object.keys(domains);\n    const odd = domainKeys.filter((_, index) => index % 2 === 1);\n    const even = domainKeys.filter((_, index) => index % 2 === 0);\n    return (\n      <div className=\"measures-viewer measures-viewer-secondary\">\n        <div className=\"measures-viewer-section\">\n          {odd.map(domain => this.renderDomain(domain, domains[domain]))}\n        </div>\n        <div className=\"measures-viewer-section\">\n          {even.map(domain => this.renderDomain(domain, domains[domain]))}\n        </div>\n      </div>\n    );\n  };\n\n  render() {\n    const { branchLike, sourceViewerFile } = this.props;\n    const { loading } = this.state;\n\n    const header = translate('component_viewer.file_measures');\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"large\">\n        <div className=\"modal-head\">\n          <h2>{header}</h2>\n        </div>\n        <div className=\"modal-body modal-container\">\n          <div className=\"measures-viewer-header big-spacer-bottom\">\n            <div>\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n              <Link to={getBranchLikeUrl(sourceViewerFile.project, branchLike)}>\n                {sourceViewerFile.projectName}\n              </Link>\n\n              {sourceViewerFile.subProject && (\n                <>\n                  <QualifierIcon className=\"big-spacer-left little-spacer-right\" qualifier=\"BRC\" />\n                  {sourceViewerFile.subProjectName}\n                </>\n              )}\n            </div>\n\n            <div className=\"display-flex-center little-spacer-top\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier={sourceViewerFile.q} />\n              {sourceViewerFile.path}\n            </div>\n          </div>\n\n          {loading ? (\n            <i className=\"spinner\" />\n          ) : (\n            <>\n              {sourceViewerFile.q === 'UTS' ? (\n                this.renderTests()\n              ) : (\n                <div className=\"measures-viewer\">\n                  {this.renderLines()}\n                  {this.renderIssues()}\n                  {this.renderCoverage()}\n                  {this.renderDuplications()}\n                </div>\n              )}\n            </>\n          )}\n\n          <div className=\"spacer-top\">\n            {this.state.showAllMeasures ? (\n              this.renderAllMeasures()\n            ) : (\n              <a className=\"js-show-all-measures\" href=\"#\" onClick={this.handleAllMeasuresClick}>\n                {translate('component_viewer.show_all_measures')}\n              </a>\n            )}\n          </div>\n        </div>\n\n        <footer className=\"modal-foot\">\n          <ResetButtonLink onClick={this.props.onClose}>{translate('close')}</ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { stringify } from 'querystring';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { ButtonIcon } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport ListIcon from 'sonar-ui-common/components/icons/ListIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { collapsedDirFromPath, fileFromPath } from 'sonar-ui-common/helpers/path';\nimport { omitNil } from 'sonar-ui-common/helpers/request';\nimport { getBaseUrl, getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport { getBranchLikeQuery, isMainBranch } from '../../helpers/branch-like';\nimport { getBranchLikeUrl, getCodeUrl, getComponentIssuesUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\nimport Favorite from '../controls/Favorite';\nimport { WorkspaceContextShape } from '../workspace/context';\nimport MeasuresOverlay from './components/MeasuresOverlay';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  componentMeasures?: T.Measure[];\n  openComponent: WorkspaceContextShape['openComponent'];\n  showMeasures?: boolean;\n  sourceViewerFile: T.SourceViewerFile;\n}\n\ninterface State {\n  measuresOverlay: boolean;\n}\n\nconst METRIC_KEY_FOR_ISSUE_TYPE: { [type in T.IssueType]: string } = {\n  BUG: 'bugs',\n  VULNERABILITY: 'vulnerabilities',\n  CODE_SMELL: 'code_smells',\n  SECURITY_HOTSPOT: 'security_hotspots'\n};\n\nexport default class SourceViewerHeader extends React.PureComponent<Props, State> {\n  state: State = { measuresOverlay: false };\n\n  handleShowMeasuresClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.setState({ measuresOverlay: true });\n  };\n\n  handleMeasuresOverlayClose = () => {\n    this.setState({ measuresOverlay: false });\n  };\n\n  openInWorkspace = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    const { key } = this.props.sourceViewerFile;\n    this.props.openComponent({ branchLike: this.props.branchLike, key });\n  };\n\n  renderIssueMeasures = () => {\n    const { branchLike, componentMeasures, sourceViewerFile } = this.props;\n    return (\n      componentMeasures &&\n      componentMeasures.length > 0 && (\n        <>\n          <div className=\"source-viewer-header-measure-separator\" />\n\n          {['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'].map((type: T.IssueType) => {\n            const params = {\n              ...getBranchLikeQuery(branchLike),\n              fileUuids: sourceViewerFile.uuid,\n              resolved: 'false',\n              types: type\n            };\n\n            const measure = componentMeasures.find(\n              m => m.metric === METRIC_KEY_FOR_ISSUE_TYPE[type]\n            );\n            return (\n              <div className=\"source-viewer-header-measure\" key={type}>\n                <span className=\"source-viewer-header-measure-label\">\n                  {translate('issue.type', type)}\n                </span>\n                <span className=\"source-viewer-header-measure-value\">\n                  <Link to={getComponentIssuesUrl(sourceViewerFile.project, params)}>\n                    {formatMeasure((measure && measure.value) || 0, 'INT')}\n                  </Link>\n                </span>\n              </div>\n            );\n          })}\n        </>\n      )\n    );\n  };\n\n  render() {\n    const { showMeasures } = this.props;\n    const {\n      key,\n      measures,\n      path,\n      project,\n      projectName,\n      q,\n      subProject,\n      subProjectName\n    } = this.props.sourceViewerFile;\n    const unitTestsOrLines = q === 'UTS' ? 'tests' : 'lines';\n    const workspace = false;\n    const rawSourcesLink =\n      getBaseUrl() +\n      '/api/sources/raw?' +\n      stringify(omitNil({ key, ...getBranchLikeQuery(this.props.branchLike) }));\n\n    // TODO favorite\n    return (\n      <div className=\"source-viewer-header display-flex-center\">\n        <div className=\"flex-1 little-spacer-top\">\n          <div className=\"component-name\">\n            <div className=\"component-name-parent\">\n              <a\n                className=\"link-with-icon\"\n                href={getPathUrlAsString(getBranchLikeUrl(project, this.props.branchLike))}>\n                <QualifierIcon qualifier=\"TRK\" /> <span>{projectName}</span>\n              </a>\n            </div>\n\n            {subProject !== undefined && (\n              <div className=\"component-name-parent\">\n                <QualifierIcon qualifier=\"BRC\" /> <span>{subProjectName}</span>\n              </div>\n            )}\n\n            <div className=\"component-name-path\">\n              <QualifierIcon qualifier={q} /> <span>{collapsedDirFromPath(path)}</span>\n              <span className=\"component-name-file\">{fileFromPath(path)}</span>\n              <span className=\"nudged-up spacer-left\">\n                <ClipboardIconButton className=\"button-link link-no-underline\" copyValue={path} />\n              </span>\n              {this.props.sourceViewerFile.canMarkAsFavorite &&\n                (!this.props.branchLike || isMainBranch(this.props.branchLike)) && (\n                  <Favorite\n                    className=\"component-name-favorite spacer-left\"\n                    component={key}\n                    favorite={this.props.sourceViewerFile.fav || false}\n                    qualifier={this.props.sourceViewerFile.q}\n                  />\n                )}\n            </div>\n          </div>\n        </div>\n\n        {this.state.measuresOverlay && (\n          <MeasuresOverlay\n            branchLike={this.props.branchLike}\n            onClose={this.handleMeasuresOverlayClose}\n            sourceViewerFile={this.props.sourceViewerFile}\n          />\n        )}\n\n        {showMeasures && (\n          <div className=\"display-flex-center\">\n            {measures[unitTestsOrLines] && (\n              <div className=\"source-viewer-header-measure\">\n                <span className=\"source-viewer-header-measure-label\">\n                  {translate(`metric.${unitTestsOrLines}.name`)}\n                </span>\n                <span className=\"source-viewer-header-measure-value\">\n                  {formatMeasure(measures[unitTestsOrLines], 'SHORT_INT')}\n                </span>\n              </div>\n            )}\n\n            {measures.coverage !== undefined && (\n              <div className=\"source-viewer-header-measure\">\n                <span className=\"source-viewer-header-measure-label\">\n                  {translate('metric.coverage.name')}\n                </span>\n                <span className=\"source-viewer-header-measure-value\">\n                  {formatMeasure(measures.coverage, 'PERCENT')}\n                </span>\n              </div>\n            )}\n\n            {measures.duplicationDensity !== undefined && (\n              <div className=\"source-viewer-header-measure\">\n                <span className=\"source-viewer-header-measure-label\">\n                  {translate('duplications')}\n                </span>\n                <span className=\"source-viewer-header-measure-value\">\n                  {formatMeasure(measures.duplicationDensity, 'PERCENT')}\n                </span>\n              </div>\n            )}\n\n            {this.renderIssueMeasures()}\n          </div>\n        )}\n\n        <Dropdown\n          className=\"source-viewer-header-actions flex-0\"\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a className=\"js-measures\" href=\"#\" onClick={this.handleShowMeasuresClick}>\n                  {translate('component_viewer.show_details')}\n                </a>\n              </li>\n              <li>\n                <Link\n                  className=\"js-new-window\"\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                  to={getCodeUrl(this.props.sourceViewerFile.project, this.props.branchLike, key)}>\n                  {translate('component_viewer.new_window')}\n                </Link>\n              </li>\n              {!workspace && (\n                <li>\n                  <a className=\"js-workspace\" href=\"#\" onClick={this.openInWorkspace}>\n                    {translate('component_viewer.open_in_workspace')}\n                  </a>\n                </li>\n              )}\n              <li>\n                <a\n                  className=\"js-raw-source\"\n                  href={rawSourcesLink}\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\">\n                  {translate('component_viewer.show_raw_source')}\n                </a>\n              </li>\n            </ul>\n          }\n          overlayPlacement={PopupPlacement.BottomRight}>\n          <ButtonIcon className=\"js-actions\">\n            <ListIcon />\n          </ButtonIcon>\n        </Dropdown>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { intersection, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  getComponentData,\n  getComponentForSourceViewer,\n  getDuplications,\n  getSources\n} from '../../api/components';\nimport { getBranchLikeQuery, isSameBranchLike } from '../../helpers/branch-like';\nimport { BranchLike } from '../../types/branch-like';\nimport { WorkspaceContext } from '../workspace/context';\nimport DuplicationPopup from './components/DuplicationPopup';\nimport {\n  filterDuplicationBlocksByLine,\n  getDuplicationBlocksForIndex,\n  isDuplicationBlockInRemovedComponent\n} from './helpers/duplications';\nimport getCoverageStatus from './helpers/getCoverageStatus';\nimport {\n  duplicationsByLine,\n  issuesByLine,\n  locationsByLine,\n  symbolsByLine\n} from './helpers/indexing';\nimport defaultLoadIssues from './helpers/loadIssues';\nimport SourceViewerCode from './SourceViewerCode';\nimport { SourceViewerContext } from './SourceViewerContext';\nimport SourceViewerHeader from './SourceViewerHeader';\nimport SourceViewerHeaderSlim from './SourceViewerHeaderSlim';\nimport './styles.css';\n\n// TODO react-virtualized\n\nexport interface Props {\n  aroundLine?: number;\n  branchLike: BranchLike | undefined;\n  component: string;\n  componentMeasures?: T.Measure[];\n  displayAllIssues?: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  highlightedLine?: number;\n  // `undefined` elements mean they are located in a different file,\n  // but kept to maintaint the location indexes\n  highlightedLocations?: (T.FlowLocation | undefined)[];\n  highlightedLocationMessage?: { index: number; text: string | undefined };\n  loadComponent: (\n    component: string,\n    branchLike: BranchLike | undefined\n  ) => Promise<T.SourceViewerFile>;\n  loadIssues: (\n    component: string,\n    from: number,\n    to: number,\n    branchLike: BranchLike | undefined\n  ) => Promise<T.Issue[]>;\n  loadSources: (\n    component: string,\n    from: number,\n    to: number,\n    branchLike: BranchLike | undefined\n  ) => Promise<T.SourceLine[]>;\n  onLoaded?: (component: T.SourceViewerFile, sources: T.SourceLine[], issues: T.Issue[]) => void;\n  onLocationSelect?: (index: number) => void;\n  onIssueChange?: (issue: T.Issue) => void;\n  onIssueSelect?: (issueKey: string) => void;\n  onIssueUnselect?: () => void;\n  scroll?: (element: HTMLElement) => void;\n  selectedIssue?: string;\n  showMeasures?: boolean;\n  slimHeader?: boolean;\n}\n\ninterface State {\n  component?: T.SourceViewerFile;\n  displayDuplications: boolean;\n  duplicatedFiles?: T.Dict<T.DuplicatedFile>;\n  duplications?: T.Duplication[];\n  duplicationsByLine: { [line: number]: number[] };\n  hasSourcesAfter: boolean;\n  highlightedSymbols: string[];\n  issueLocationsByLine: { [line: number]: T.LinearIssueLocation[] };\n  issuePopup?: { issue: string; name: string };\n  issues?: T.Issue[];\n  issuesByLine: { [line: number]: T.Issue[] };\n  linePopup?: T.LinePopup;\n  loading: boolean;\n  loadingSourcesAfter: boolean;\n  loadingSourcesBefore: boolean;\n  notAccessible: boolean;\n  notExist: boolean;\n  openIssuesByLine: { [line: number]: boolean };\n  selectedIssue?: string;\n  sourceRemoved: boolean;\n  sources?: T.SourceLine[];\n  symbolsByLine: { [line: number]: string[] };\n}\n\nconst LINES = 500;\n\nexport default class SourceViewerBase extends React.PureComponent<Props, State> {\n  node?: HTMLElement | null;\n  mounted = false;\n\n  static defaultProps = {\n    displayAllIssues: false,\n    displayIssueLocationsCount: true,\n    displayIssueLocationsLink: true,\n    displayLocationMarkers: true,\n    loadComponent: defaultLoadComponent,\n    loadIssues: defaultLoadIssues,\n    loadSources: defaultLoadSources\n  };\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      displayDuplications: false,\n      duplicationsByLine: {},\n      hasSourcesAfter: false,\n      highlightedSymbols: [],\n      issuesByLine: {},\n      issueLocationsByLine: {},\n      loading: true,\n      loadingSourcesAfter: false,\n      loadingSourcesBefore: false,\n      notAccessible: false,\n      notExist: false,\n      openIssuesByLine: {},\n      selectedIssue: props.selectedIssue,\n      sourceRemoved: false,\n      symbolsByLine: {}\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchComponent();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    // if a component or a branch has changed,\n    // set `loading: true` immediately to avoid unwanted scrolling in `LineCode`\n    if (\n      nextProps.component !== this.props.component ||\n      !isSameBranchLike(nextProps.branchLike, this.props.branchLike)\n    ) {\n      this.setState({ loading: true });\n    }\n    if (\n      nextProps.onIssueSelect !== undefined &&\n      nextProps.selectedIssue !== this.props.selectedIssue\n    ) {\n      this.setState({ selectedIssue: nextProps.selectedIssue });\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.fetchComponent();\n    } else if (\n      this.props.aroundLine !== undefined &&\n      prevProps.aroundLine !== this.props.aroundLine &&\n      this.isLineOutsideOfRange(this.props.aroundLine)\n    ) {\n      this.fetchSources();\n    } else {\n      const { selectedIssue } = this.props;\n      const { issues } = this.state;\n      if (\n        selectedIssue !== undefined &&\n        issues !== undefined &&\n        issues.find(issue => issue.key === selectedIssue) === undefined\n      ) {\n        this.reloadIssues();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  computeCoverageStatus(lines: T.SourceLine[]) {\n    return lines.map(line => ({ ...line, coverageStatus: getCoverageStatus(line) }));\n  }\n\n  isLineOutsideOfRange(lineNumber: number) {\n    const { sources } = this.state;\n    if (sources && sources.length > 0) {\n      const firstLine = sources[0];\n      const lastList = sources[sources.length - 1];\n      return lineNumber < firstLine.line || lineNumber > lastList.line;\n    } else {\n      return true;\n    }\n  }\n\n  fetchComponent() {\n    this.setState({ loading: true });\n\n    const to = (this.props.aroundLine || 0) + LINES;\n    const loadIssues = (component: T.SourceViewerFile, sources: T.SourceLine[]) => {\n      this.props.loadIssues(this.props.component, 1, to, this.props.branchLike).then(\n        issues => {\n          if (this.mounted) {\n            const finalSources = sources.slice(0, LINES);\n\n            this.setState(\n              {\n                component,\n                displayDuplications: false,\n                duplicatedFiles: undefined,\n                duplications: undefined,\n                duplicationsByLine: {},\n                hasSourcesAfter: sources.length > LINES,\n                highlightedSymbols: [],\n                issueLocationsByLine: locationsByLine(issues),\n                issues,\n                issuesByLine: issuesByLine(issues),\n                linePopup: undefined,\n                loading: false,\n                notAccessible: false,\n                notExist: false,\n                openIssuesByLine: {},\n                issuePopup: undefined,\n                sourceRemoved: false,\n                sources: this.computeCoverageStatus(finalSources),\n                symbolsByLine: symbolsByLine(sources.slice(0, LINES))\n              },\n              () => {\n                if (this.props.onLoaded) {\n                  this.props.onLoaded(component, finalSources, issues);\n                }\n              }\n            );\n          }\n        },\n        () => {\n          // TODO\n        }\n      );\n    };\n\n    const onFailLoadComponent = (response: Response) => {\n      // TODO handle other statuses\n      if (this.mounted) {\n        if (response.status === 403) {\n          this.setState({ loading: false, notAccessible: true });\n        } else if (response.status === 404) {\n          this.setState({ loading: false, notExist: true });\n        }\n      }\n    };\n\n    const onFailLoadSources = (response: Response, component: T.SourceViewerFile) => {\n      // TODO handle other statuses\n      if (this.mounted) {\n        if (response.status === 403) {\n          this.setState({ component, loading: false, notAccessible: true });\n        } else if (response.status === 404) {\n          this.setState({ component, loading: false, sourceRemoved: true });\n        }\n      }\n    };\n\n    const onResolve = (component: T.SourceViewerFile) => {\n      const sourcesRequest =\n        component.q === 'FIL' || component.q === 'UTS' ? this.loadSources() : Promise.resolve([]);\n      sourcesRequest.then(\n        sources => loadIssues(component, sources),\n        response => onFailLoadSources(response, component)\n      );\n    };\n\n    this.props\n      .loadComponent(this.props.component, this.props.branchLike)\n      .then(onResolve, onFailLoadComponent);\n  }\n\n  fetchSources() {\n    this.loadSources().then(\n      sources => {\n        if (this.mounted) {\n          const finalSources = sources.slice(0, LINES);\n          this.setState(\n            {\n              sources: sources.slice(0, LINES),\n              hasSourcesAfter: sources.length > LINES\n            },\n            () => {\n              if (this.props.onLoaded && this.state.component && this.state.issues) {\n                this.props.onLoaded(this.state.component, finalSources, this.state.issues);\n              }\n            }\n          );\n        }\n      },\n      () => {\n        // TODO\n      }\n    );\n  }\n\n  reloadIssues() {\n    if (!this.state.sources) {\n      return;\n    }\n    const firstSourceLine = this.state.sources[0];\n    const lastSourceLine = this.state.sources[this.state.sources.length - 1];\n    this.props\n      .loadIssues(\n        this.props.component,\n        firstSourceLine && firstSourceLine.line,\n        lastSourceLine && lastSourceLine.line,\n        this.props.branchLike\n      )\n      .then(\n        issues => {\n          if (this.mounted) {\n            this.setState({\n              issues,\n              issuesByLine: issuesByLine(issues),\n              issueLocationsByLine: locationsByLine(issues)\n            });\n          }\n        },\n        () => {\n          // TODO\n        }\n      );\n  }\n\n  loadSources = (): Promise<T.SourceLine[]> => {\n    return new Promise((resolve, reject) => {\n      const onFailLoadSources = (response: Response) => {\n        // TODO handle other statuses\n        if (this.mounted) {\n          if ([403, 404].includes(response.status)) {\n            reject(response);\n          } else {\n            resolve([]);\n          }\n        }\n      };\n\n      const from = this.props.aroundLine ? Math.max(1, this.props.aroundLine - LINES / 2 + 1) : 1;\n\n      let to = this.props.aroundLine ? this.props.aroundLine + LINES / 2 + 1 : LINES + 1;\n      // make sure we try to download `LINES` lines\n      if (from === 1 && to < LINES) {\n        to = LINES;\n      }\n      // request one additional line to define `hasSourcesAfter`\n      to++;\n\n      return this.props\n        .loadSources(this.props.component, from, to, this.props.branchLike)\n        .then(sources => resolve(sources), onFailLoadSources);\n    });\n  };\n\n  loadSourcesBefore = () => {\n    if (!this.state.sources) {\n      return;\n    }\n    const firstSourceLine = this.state.sources[0];\n    this.setState({ loadingSourcesBefore: true });\n    const from = Math.max(1, firstSourceLine.line - LINES);\n    this.props\n      .loadSources(this.props.component, from, firstSourceLine.line - 1, this.props.branchLike)\n      .then(\n        sources => {\n          this.props\n            .loadIssues(this.props.component, from, firstSourceLine.line - 1, this.props.branchLike)\n            .then(\n              issues => {\n                if (this.mounted) {\n                  this.setState(prevState => {\n                    const nextIssues = uniqBy(\n                      [...issues, ...(prevState.issues || [])],\n                      issue => issue.key\n                    );\n                    return {\n                      issues: nextIssues,\n                      issuesByLine: issuesByLine(nextIssues),\n                      issueLocationsByLine: locationsByLine(nextIssues),\n                      loadingSourcesBefore: false,\n                      sources: [\n                        ...this.computeCoverageStatus(sources),\n                        ...(prevState.sources || [])\n                      ],\n                      symbolsByLine: { ...prevState.symbolsByLine, ...symbolsByLine(sources) }\n                    };\n                  });\n                }\n              },\n              () => {\n                // TODO\n              }\n            );\n        },\n        () => {\n          // TODO\n        }\n      );\n  };\n\n  loadSourcesAfter = () => {\n    if (!this.state.sources) {\n      return;\n    }\n    const lastSourceLine = this.state.sources[this.state.sources.length - 1];\n    this.setState({ loadingSourcesAfter: true });\n    const fromLine = lastSourceLine.line + 1;\n    // request one additional line to define `hasSourcesAfter`\n    const toLine = lastSourceLine.line + LINES + 1;\n    this.props.loadSources(this.props.component, fromLine, toLine, this.props.branchLike).then(\n      sources => {\n        this.props.loadIssues(this.props.component, fromLine, toLine, this.props.branchLike).then(\n          issues => {\n            if (this.mounted) {\n              this.setState(prevState => {\n                const nextIssues = uniqBy(\n                  [...(prevState.issues || []), ...issues],\n                  issue => issue.key\n                );\n                return {\n                  issues: nextIssues,\n                  issuesByLine: issuesByLine(nextIssues),\n                  issueLocationsByLine: locationsByLine(nextIssues),\n                  hasSourcesAfter: sources.length > LINES,\n                  loadingSourcesAfter: false,\n                  sources: [\n                    ...(prevState.sources || []),\n                    ...this.computeCoverageStatus(sources.slice(0, LINES))\n                  ],\n                  symbolsByLine: {\n                    ...prevState.symbolsByLine,\n                    ...symbolsByLine(sources.slice(0, LINES))\n                  }\n                };\n              });\n            }\n          },\n          () => {\n            // TODO\n          }\n        );\n      },\n      () => {\n        // TODO\n      }\n    );\n  };\n\n  loadDuplications = (line: T.SourceLine) => {\n    getDuplications({\n      key: this.props.component,\n      ...getBranchLikeQuery(this.props.branchLike)\n    }).then(\n      r => {\n        if (this.mounted) {\n          this.setState(state => ({\n            displayDuplications: true,\n            duplications: r.duplications,\n            duplicationsByLine: duplicationsByLine(r.duplications),\n            duplicatedFiles: r.files,\n            linePopup:\n              r.duplications.length === 1\n                ? { index: 0, line: line.line, name: 'duplications' }\n                : state.linePopup\n          }));\n        }\n      },\n      () => {\n        // TODO\n      }\n    );\n  };\n\n  handleLinePopupToggle = ({ index, line, name, open }: T.LinePopup) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.linePopup !== undefined &&\n        state.linePopup.name === name &&\n        state.linePopup.line === line &&\n        state.linePopup.index === index;\n      if (open !== false && !samePopup) {\n        return { linePopup: { index, line, name } };\n      } else if (open !== true && samePopup) {\n        return { linePopup: undefined };\n      }\n      return null;\n    });\n  };\n\n  closeLinePopup = () => {\n    this.setState({ linePopup: undefined });\n  };\n\n  handleIssuePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const samePopup =\n        state.issuePopup && state.issuePopup.name === popupName && state.issuePopup.issue === issue;\n      if (open !== false && !samePopup) {\n        return { issuePopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { issuePopup: undefined };\n      }\n      return null;\n    });\n  };\n\n  handleSymbolClick = (symbols: string[]) => {\n    this.setState(state => {\n      const shouldDisable = intersection(state.highlightedSymbols, symbols).length > 0;\n      const highlightedSymbols = shouldDisable ? [] : symbols;\n      return { highlightedSymbols };\n    });\n  };\n\n  handleIssueSelect = (issue: string) => {\n    if (this.props.onIssueSelect) {\n      this.props.onIssueSelect(issue);\n    } else {\n      this.setState({ selectedIssue: issue });\n    }\n  };\n\n  handleIssueUnselect = () => {\n    if (this.props.onIssueUnselect) {\n      this.props.onIssueUnselect();\n    } else {\n      this.setState({ selectedIssue: undefined });\n    }\n  };\n\n  handleOpenIssues = (line: T.SourceLine) => {\n    this.setState(state => ({\n      openIssuesByLine: { ...state.openIssuesByLine, [line.line]: true }\n    }));\n  };\n\n  handleCloseIssues = (line: T.SourceLine) => {\n    this.setState(state => ({\n      openIssuesByLine: { ...state.openIssuesByLine, [line.line]: false }\n    }));\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.setState(({ issues = [] }) => {\n      const newIssues = issues.map(candidate => (candidate.key === issue.key ? issue : candidate));\n      return { issues: newIssues, issuesByLine: issuesByLine(newIssues) };\n    });\n    if (this.props.onIssueChange) {\n      this.props.onIssueChange(issue);\n    }\n  };\n\n  renderDuplicationPopup = (index: number, line: number) => {\n    const { component, duplicatedFiles, duplications } = this.state;\n\n    if (!component || !duplicatedFiles) {\n      return null;\n    }\n\n    const blocks = getDuplicationBlocksForIndex(duplications, index);\n\n    return (\n      <WorkspaceContext.Consumer>\n        {({ openComponent }) => (\n          <DuplicationPopup\n            blocks={filterDuplicationBlocksByLine(blocks, line)}\n            branchLike={this.props.branchLike}\n            duplicatedFiles={duplicatedFiles}\n            inRemovedComponent={isDuplicationBlockInRemovedComponent(blocks)}\n            onClose={this.closeLinePopup}\n            openComponent={openComponent}\n            sourceViewerFile={component}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n    );\n  };\n\n  renderCode(sources: T.SourceLine[]) {\n    const hasSourcesBefore = sources.length > 0 && sources[0].line > 1;\n    return (\n      <SourceViewerCode\n        branchLike={this.props.branchLike}\n        componentKey={this.props.component}\n        displayAllIssues={this.props.displayAllIssues}\n        displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n        displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n        displayLocationMarkers={this.props.displayLocationMarkers}\n        duplications={this.state.duplications}\n        duplicationsByLine={this.state.duplicationsByLine}\n        hasSourcesAfter={this.state.hasSourcesAfter}\n        hasSourcesBefore={hasSourcesBefore}\n        highlightedLine={this.props.highlightedLine}\n        highlightedLocationMessage={this.props.highlightedLocationMessage}\n        highlightedLocations={this.props.highlightedLocations}\n        highlightedSymbols={this.state.highlightedSymbols}\n        issueLocationsByLine={this.state.issueLocationsByLine}\n        issuePopup={this.state.issuePopup}\n        issues={this.state.issues}\n        issuesByLine={this.state.issuesByLine}\n        linePopup={this.state.linePopup}\n        loadDuplications={this.loadDuplications}\n        loadSourcesAfter={this.loadSourcesAfter}\n        loadSourcesBefore={this.loadSourcesBefore}\n        loadingSourcesAfter={this.state.loadingSourcesAfter}\n        loadingSourcesBefore={this.state.loadingSourcesBefore}\n        onIssueChange={this.handleIssueChange}\n        onIssuePopupToggle={this.handleIssuePopupToggle}\n        onIssueSelect={this.handleIssueSelect}\n        onIssueUnselect={this.handleIssueUnselect}\n        onIssuesClose={this.handleCloseIssues}\n        onIssuesOpen={this.handleOpenIssues}\n        onLinePopupToggle={this.handleLinePopupToggle}\n        onLocationSelect={this.props.onLocationSelect}\n        onSymbolClick={this.handleSymbolClick}\n        openIssuesByLine={this.state.openIssuesByLine}\n        renderDuplicationPopup={this.renderDuplicationPopup}\n        scroll={this.props.scroll}\n        selectedIssue={this.state.selectedIssue}\n        sources={sources}\n        symbolsByLine={this.state.symbolsByLine}\n      />\n    );\n  }\n\n  renderHeader(branchLike: BranchLike | undefined, sourceViewerFile: T.SourceViewerFile) {\n    return this.props.slimHeader ? (\n      <SourceViewerHeaderSlim branchLike={branchLike} sourceViewerFile={sourceViewerFile} />\n    ) : (\n      <WorkspaceContext.Consumer>\n        {({ openComponent }) => (\n          <SourceViewerHeader\n            branchLike={this.props.branchLike}\n            componentMeasures={this.props.componentMeasures}\n            openComponent={openComponent}\n            showMeasures={this.props.showMeasures}\n            sourceViewerFile={sourceViewerFile}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n    );\n  }\n\n  render() {\n    const { component, loading, sources, notAccessible, sourceRemoved } = this.state;\n\n    if (loading) {\n      return null;\n    }\n\n    if (this.state.notExist) {\n      return (\n        <Alert className=\"spacer-top\" variant=\"warning\">\n          {translate('component_viewer.no_component')}\n        </Alert>\n      );\n    }\n\n    if (notAccessible) {\n      return (\n        <Alert className=\"spacer-top\" variant=\"warning\">\n          {translate('code_viewer.no_source_code_displayed_due_to_security')}\n        </Alert>\n      );\n    }\n\n    if (!component) {\n      return null;\n    }\n\n    const className = classNames('source-viewer', {\n      'source-duplications-expanded': this.state.displayDuplications\n    });\n\n    return (\n      <SourceViewerContext.Provider value={{ branchLike: this.props.branchLike, file: component }}>\n        <div className={className} ref={node => (this.node = node)}>\n          {this.renderHeader(this.props.branchLike, component)}\n          {sourceRemoved && (\n            <Alert className=\"spacer-top\" variant=\"warning\">\n              {translate('code_viewer.no_source_code_displayed_due_to_source_removed')}\n            </Alert>\n          )}\n          {!sourceRemoved && sources !== undefined && this.renderCode(sources)}\n        </div>\n      </SourceViewerContext.Provider>\n    );\n  }\n}\n\nfunction defaultLoadComponent(component: string, branchLike: BranchLike | undefined) {\n  return Promise.all([\n    getComponentForSourceViewer({ component, ...getBranchLikeQuery(branchLike) }),\n    getComponentData({ component, ...getBranchLikeQuery(branchLike) })\n  ]).then(([sourceViewerComponent, { component }]) => ({\n    ...sourceViewerComponent,\n    leakPeriodDate: component.leakPeriodDate\n  }));\n}\n\nfunction defaultLoadSources(\n  key: string,\n  from: number | undefined,\n  to: number | undefined,\n  branchLike: BranchLike | undefined\n) {\n  return getSources({ key, from, to, ...getBranchLikeQuery(branchLike) });\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".source-viewer{width:100%;min-height:200px;border:1px solid #cdcdcd;box-sizing:border-box;background-color:#fff;overflow:hidden}.source-table{width:100%;border:none;border-collapse:collapse}.source-viewer-header{position:relative;padding:2px 10px 4px;border-bottom:1px solid #e6e6e6;background-color:#f3f3f3}.source-viewer-header-measure{vertical-align:middle;font-size:13px}.source-viewer-header-measure .rating{font-size:18px}.source-viewer-header-measure-separator{margin:0 24px;height:30px;border-right:1px solid #cdcdcd}.source-viewer-header-measure+.source-viewer-header-measure{margin-left:24px}.source-viewer-header-measure-label{display:block;line-height:12px;color:#777;font-size:12px}.source-viewer-header-measure-value{display:block;margin-top:2px;line-height:18px;color:#444;font-size:16px}.source-viewer-header-actions{display:block;margin-left:24px;padding:8px 4px}.source-viewer-header-actions svg{margin-top:2px}.source-viewer-header-more-actions{position:absolute;z-index:7500;right:0;top:100%;padding:10px;border:1px solid #e6e6e6;border-right:none;background-color:#fff;line-height:1.8}.source-viewer-code{overflow-x:auto}.source-viewer-more-code{padding:40px 0;border-bottom:1px solid #e6e6e6;background-color:#f3f3f3;text-align:center}.source-viewer-more-code .spinner{top:-1px}.source-table+.source-viewer-more-code{border-bottom:none;border-top:1px solid #e6e6e6}.source-viewer-bubble-popup{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:13px;text-align:left;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.issue-location.highlighted{border-color:#e1e1f2;background-color:#e1e1f2}.issue-location.selected{border-color:#f4b1b0;background-color:#f4b1b0}.measures-viewer{display:flex;margin:0 -8px}.measures-viewer+.measures-viewer{margin-top:8px}.measures-viewer-header{font-size:12px}.measures-viewer-secondary .measures-viewer-card{background-color:#f3f3f3}.measures-viewer-section{flex:1}.measures-viewer-section-limited{max-width:25%}.measures-viewer-card{margin:16px 8px;padding:8px;border:1px solid #e6e6e6;background-color:#fff}.measures+.measures{margin-top:16px;padding-top:16px;border-top:1px solid #e6e6e6}.measures-chart{display:inline-block;vertical-align:middle;width:80px;margin-right:24px;text-align:center}.measure{line-height:1.34}.measure-one-line{display:flex;justify-content:space-between}.measure-one-line .measure-name{display:inline}.measure-name{display:block;font-size:13px}.measure-value{color:#236a97;font-size:16px;font-weight:400}.measure-big{display:inline-block;vertical-align:middle}.measure-big .measure-name{margin-top:4px;margin-bottom:8px;font-size:16px}.measure-big .measure-value,.measure-big .rating{font-size:24px}.measure-big+.measure-big{margin-left:24px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar measures_1 = require(\"../../helpers/measures\");\nrequire(\"./Level.css\");\nfunction Level(props) {\n    var formatted = measures_1.formatMeasure(props.level, 'LEVEL');\n    var className = classNames(props.className, 'level', 'level-' + props.level, {\n        'level-small': props.small,\n        'level-muted': props.muted\n    });\n    return (React.createElement(\"span\", { \"aria-label\": props['aria-label'], \"aria-labelledby\": props['aria-labelledby'], className: className }, formatted));\n}\nexports.default = Level;\n//# sourceMappingURL=Level.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum MetricKey {\n  alert_status = 'alert_status',\n  blocker_violations = 'blocker_violations',\n  branch_coverage = 'branch_coverage',\n  bugs = 'bugs',\n  burned_budget = 'burned_budget',\n  business_value = 'business_value',\n  class_complexity = 'class_complexity',\n  classes = 'classes',\n  code_smells = 'code_smells',\n  cognitive_complexity = 'cognitive_complexity',\n  comment_lines = 'comment_lines',\n  comment_lines_data = 'comment_lines_data',\n  comment_lines_density = 'comment_lines_density',\n  complexity = 'complexity',\n  complexity_in_classes = 'complexity_in_classes',\n  complexity_in_functions = 'complexity_in_functions',\n  conditions_to_cover = 'conditions_to_cover',\n  confirmed_issues = 'confirmed_issues',\n  coverage = 'coverage',\n  critical_violations = 'critical_violations',\n  development_cost = 'development_cost',\n  directories = 'directories',\n  duplicated_blocks = 'duplicated_blocks',\n  duplicated_files = 'duplicated_files',\n  duplicated_lines = 'duplicated_lines',\n  duplicated_lines_density = 'duplicated_lines_density',\n  duplications_data = 'duplications_data',\n  effort_to_reach_maintainability_rating_a = 'effort_to_reach_maintainability_rating_a',\n  executable_lines_data = 'executable_lines_data',\n  false_positive_issues = 'false_positive_issues',\n  file_complexity = 'file_complexity',\n  file_complexity_distribution = 'file_complexity_distribution',\n  filename_size = 'filename_size',\n  filename_size_rating = 'filename_size_rating',\n  files = 'files',\n  function_complexity = 'function_complexity',\n  function_complexity_distribution = 'function_complexity_distribution',\n  functions = 'functions',\n  generated_lines = 'generated_lines',\n  generated_ncloc = 'generated_ncloc',\n  info_violations = 'info_violations',\n  last_change_on_maintainability_rating = 'last_change_on_maintainability_rating',\n  last_change_on_releasability_rating = 'last_change_on_releasability_rating',\n  last_change_on_reliability_rating = 'last_change_on_reliability_rating',\n  last_change_on_security_rating = 'last_change_on_security_rating',\n  last_change_on_security_review_rating = 'last_change_on_security_review_rating',\n  last_commit_date = 'last_commit_date',\n  leak_projects = 'leak_projects',\n  line_coverage = 'line_coverage',\n  lines = 'lines',\n  lines_to_cover = 'lines_to_cover',\n  maintainability_rating_effort = 'maintainability_rating_effort',\n  major_violations = 'major_violations',\n  minor_violations = 'minor_violations',\n  ncloc = 'ncloc',\n  ncloc_data = 'ncloc_data',\n  ncloc_language_distribution = 'ncloc_language_distribution',\n  new_blocker_violations = 'new_blocker_violations',\n  new_branch_coverage = 'new_branch_coverage',\n  new_bugs = 'new_bugs',\n  new_code_smells = 'new_code_smells',\n  new_conditions_to_cover = 'new_conditions_to_cover',\n  new_coverage = 'new_coverage',\n  new_critical_violations = 'new_critical_violations',\n  new_development_cost = 'new_development_cost',\n  new_duplicated_blocks = 'new_duplicated_blocks',\n  new_duplicated_lines = 'new_duplicated_lines',\n  new_duplicated_lines_density = 'new_duplicated_lines_density',\n  new_info_violations = 'new_info_violations',\n  new_line_coverage = 'new_line_coverage',\n  new_lines = 'new_lines',\n  new_lines_to_cover = 'new_lines_to_cover',\n  new_maintainability_rating = 'new_maintainability_rating',\n  new_major_violations = 'new_major_violations',\n  new_minor_violations = 'new_minor_violations',\n  new_reliability_rating = 'new_reliability_rating',\n  new_reliability_remediation_effort = 'new_reliability_remediation_effort',\n  new_security_hotspots = 'new_security_hotspots',\n  new_security_hotspots_reviewed = 'new_security_hotspots_reviewed',\n  new_security_rating = 'new_security_rating',\n  new_security_remediation_effort = 'new_security_remediation_effort',\n  new_security_review_rating = 'new_security_review_rating',\n  new_sqale_debt_ratio = 'new_sqale_debt_ratio',\n  new_technical_debt = 'new_technical_debt',\n  new_uncovered_conditions = 'new_uncovered_conditions',\n  new_uncovered_lines = 'new_uncovered_lines',\n  new_violations = 'new_violations',\n  new_vulnerabilities = 'new_vulnerabilities',\n  open_issues = 'open_issues',\n  projects = 'projects',\n  public_api = 'public_api',\n  public_documented_api_density = 'public_documented_api_density',\n  public_undocumented_api = 'public_undocumented_api',\n  quality_gate_details = 'quality_gate_details',\n  quality_profiles = 'quality_profiles',\n  releasability_effort = 'releasability_effort',\n  releasability_rating = 'releasability_rating',\n  reliability_rating = 'reliability_rating',\n  reliability_rating_effort = 'reliability_rating_effort',\n  reliability_remediation_effort = 'reliability_remediation_effort',\n  reopened_issues = 'reopened_issues',\n  security_hotspots = 'security_hotspots',\n  security_hotspots_reviewed = 'security_hotspots_reviewed',\n  security_rating = 'security_rating',\n  security_rating_effort = 'security_rating_effort',\n  security_remediation_effort = 'security_remediation_effort',\n  security_review_rating = 'security_review_rating',\n  security_review_rating_effort = 'security_review_rating_effort',\n  skipped_tests = 'skipped_tests',\n  sonarjava_feedback = 'sonarjava_feedback',\n  sqale_debt_ratio = 'sqale_debt_ratio',\n  sqale_index = 'sqale_index',\n  sqale_rating = 'sqale_rating',\n  statements = 'statements',\n  team_at_sonarsource = 'team_at_sonarsource',\n  team_size = 'team_size',\n  test_errors = 'test_errors',\n  test_execution_time = 'test_execution_time',\n  test_failures = 'test_failures',\n  test_success_density = 'test_success_density',\n  tests = 'tests',\n  uncovered_conditions = 'uncovered_conditions',\n  uncovered_lines = 'uncovered_lines',\n  violations = 'violations',\n  vulnerabilities = 'vulnerabilities',\n  wont_fix_issues = 'wont_fix_issues'\n}\n\nexport function isMetricKey(key: string): key is MetricKey {\n  return (Object.values(MetricKey) as string[]).includes(key);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nrequire(\"./Rating.css\");\nfunction Rating(_a) {\n    var className = _a.className, _b = _a.muted, muted = _b === void 0 ? false : _b, _c = _a.small, small = _c === void 0 ? false : _c, value = _a.value;\n    if (value === undefined) {\n        return React.createElement(\"span\", { \"aria-label\": l10n_1.translate('metric.no_rating') }, \"\\u2013\");\n    }\n    var formatted = measures_1.formatMeasure(value, 'RATING');\n    return (React.createElement(\"span\", { \"aria-label\": l10n_1.translateWithParameters('metric.has_rating_X', formatted), className: classNames('rating', 'rating-' + formatted, { 'rating-small': small, 'rating-muted': muted }, className) }, formatted));\n}\nexports.default = Rating;\n//# sourceMappingURL=Rating.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getRatingTooltip as nextGetRatingTooltip, isDiffMetric } from '../../helpers/measures';\nimport { getLeakPeriod } from '../../helpers/periods';\n\nconst KNOWN_RATINGS = [\n  'sqale_rating',\n  'maintainability_rating', // Needed to provide the label for \"new_maintainability_rating\"\n  'reliability_rating',\n  'security_rating'\n];\n\nexport function enhanceMeasure(measure: T.Measure, metrics: T.Dict<T.Metric>): T.MeasureEnhanced {\n  return {\n    ...measure,\n    metric: metrics[measure.metric],\n    leak: getLeakValue(measure)\n  };\n}\n\nexport function getLeakValue(measure: T.MeasureIntern | undefined): string | undefined {\n  if (!measure || !measure.periods) {\n    return undefined;\n  }\n  const period = getLeakPeriod(measure.periods);\n  return period && period.value;\n}\n\nexport function getRatingTooltip(metricKey: string, value: number): string | undefined {\n  const finalMetricKey = isDiffMetric(metricKey) ? metricKey.substr(4) : metricKey;\n  if (KNOWN_RATINGS.includes(finalMetricKey)) {\n    return nextGetRatingTooltip(finalMetricKey, value);\n  }\n  return undefined;\n}\n","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Level.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Level.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Level.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".level{display:inline-block;min-width:80px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;letter-spacing:.02em;font-size:13px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.level,.level-small{width:auto;padding-left:9px;padding-right:9px}.level-small{min-width:64px;margin-top:-1px;margin-bottom:-1px;height:20px;line-height:20px;font-size:12px}.level-muted{background-color:#bdbdbd!important}a>.level{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.level:hover{opacity:.8}.level-OK{background-color:#0a0}.level-WARN{background-color:#ed7d20}.level-ERROR{background-color:#d4333f}.level-NONE{background-color:#b4b4b4}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport Level from 'sonar-ui-common/components/ui/Level';\nimport Rating from 'sonar-ui-common/components/ui/Rating';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getRatingTooltip } from './utils';\n\ninterface Props {\n  className?: string;\n  decimals?: number | null;\n  metricKey: string;\n  metricType: string;\n  small?: boolean;\n  value: string | undefined;\n}\n\nexport default function Measure({\n  className,\n  decimals,\n  metricKey,\n  metricType,\n  small,\n  value\n}: Props) {\n  if (value === undefined) {\n    return <span className={className}>–</span>;\n  }\n\n  if (metricType === 'LEVEL') {\n    return <Level className={className} level={value} small={small} />;\n  }\n\n  if (metricType !== 'RATING') {\n    const formattedValue = formatMeasure(value, metricType, { decimals });\n    return <span className={className}>{formattedValue != null ? formattedValue : '–'}</span>;\n  }\n\n  const tooltip = getRatingTooltip(metricKey, Number(value));\n  const rating = <Rating small={small} value={value} />;\n  if (tooltip) {\n    return (\n      <Tooltip overlay={tooltip}>\n        <span className={className}>{rating}</span>\n      </Tooltip>\n    );\n  }\n  return rating;\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { ApplicationPeriod } from '../types/application';\n\nfunction getPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined, index: number) {\n  if (!Array.isArray(periods)) {\n    return undefined;\n  }\n  return periods.find(period => period.index === index);\n}\n\nexport function getLeakPeriod<T extends T.Period | T.PeriodMeasure>(periods: T[] | undefined) {\n  return getPeriod(periods, 1);\n}\n\nexport function getPeriodLabel(\n  period: T.Period | undefined,\n  dateFormatter: (date: string) => string\n) {\n  if (!period) {\n    return undefined;\n  }\n\n  let parameter = period.modeParam || period.parameter || '';\n\n  switch (period.mode) {\n    case 'SPECIFIC_ANALYSIS':\n      parameter = dateFormatter(period.date);\n      break;\n    case 'PREVIOUS_VERSION':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    /*\n     * Handle legacy period modes, that predate MMF-1579\n     */\n    case 'previous_version':\n      if (!parameter) {\n        return translate('overview.period.previous_version_only_date');\n      }\n      break;\n    case 'date':\n      parameter = parameter && dateFormatter(parameter);\n      break;\n    case 'manual_baseline':\n      parameter = parameter || dateFormatter(period.date);\n      break;\n    default: // No change in the parameter\n  }\n\n  return translateWithParameters(`overview.period.${period.mode.toLowerCase()}`, parameter);\n}\n\nexport function getPeriodDate(period?: { date?: string }): Date | undefined {\n  return period && period.date ? parseDate(period.date) : undefined;\n}\n\nexport function isApplicationPeriod(\n  period: T.Period | ApplicationPeriod\n): period is ApplicationPeriod {\n  return (period as ApplicationPeriod).project !== undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getMarkdownHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class MarkdownTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(getMarkdownHelpUrl(), 'Markdown', 'height=300,width=600,scrollbars=1,resizable=1');\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('markdown.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n\n","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Rating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Rating.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Rating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".rating{display:inline-block;width:24px;height:24px;line-height:24px;border-radius:24px;box-sizing:border-box;color:#fff;font-size:16px;font-weight:400;text-align:center;text-shadow:0 0 1px rgba(0,0,0,.35)}.rating-muted{background-color:#bdbdbd!important;color:#fff!important;text-shadow:0 0 1px rgba(0,0,0,.35)!important}a>.rating{margin-bottom:-1px;border-bottom:1px solid;transition:all .2s ease}a>.rating:hover{opacity:.8}.rating-A{line-height:23px;background-color:#0a0}a>.rating-A{border-bottom-color:#0a0}.rating-B{background-color:#b0d513}a .rating-B{border-bottom-color:#b0d513}.rating-C{background-color:#eabe06}a .rating-C{border-bottom-color:#eabe06}.rating-D{background-color:#ed7d20}a .rating-D{border-bottom-color:#ed7d20}.rating-E{background-color:#d4333f}a .rating-E{border-bottom-color:#d4333f}.rating-small{width:18px;height:18px;line-height:18px;margin-top:-1px;margin-bottom:-1px;font-size:12px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { lazyLoadComponent } from 'sonar-ui-common/components/lazyLoadComponent';\nimport { colors } from '../../app/theme';\n\nconst DonutChart = lazyLoadComponent(\n  () => import('sonar-ui-common/components/charts/DonutChart'),\n  'DonutChart'\n);\n\nconst SIZE_TO_WIDTH_MAPPING = { small: 16, normal: 24, big: 40, huge: 60 };\n\nconst SIZE_TO_THICKNESS_MAPPING = { small: 2, normal: 3, big: 3, huge: 4 };\n\nexport interface CoverageRatingProps {\n  muted?: boolean;\n  size?: 'small' | 'normal' | 'big' | 'huge';\n  value: number | string | null | undefined;\n}\n\nexport default function CoverageRating({\n  muted = false,\n  size = 'normal',\n  value\n}: CoverageRatingProps) {\n  let data = [{ value: 100, fill: '#ccc ' }];\n  let padAngle = 0;\n\n  if (value != null) {\n    const numberValue = Number(value);\n    data = [\n      { value: numberValue, fill: muted ? colors.gray71 : colors.green },\n      { value: 100 - numberValue, fill: muted ? colors.barBackgroundColor : colors.lineCoverageRed }\n    ];\n    if (numberValue !== 0 && numberValue < 100) {\n      padAngle = 0.1; // Same for all sizes, because it scales automatically\n    }\n  }\n\n  const width = SIZE_TO_WIDTH_MAPPING[size];\n  const thickness = SIZE_TO_THICKNESS_MAPPING[size];\n\n  return (\n    <DonutChart\n      data={data}\n      height={width}\n      padAngle={padAngle}\n      thickness={thickness}\n      width={width}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from 'sonar-ui-common/components/icons/StatusIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nrequire(\"./DuplicationsRating.css\");\nfunction DuplicationsRating(_a) {\n    var _b = _a.muted, muted = _b === void 0 ? false : _b, _c = _a.size, size = _c === void 0 ? 'normal' : _c, value = _a.value;\n    var className = classNames('duplications-rating', {\n        'duplications-rating-small': size === 'small',\n        'duplications-rating-big': size === 'big',\n        'duplications-rating-huge': size === 'huge',\n        'duplications-rating-muted': muted || value == null || isNaN(value),\n        'duplications-rating-A': lodash_1.inRange(value || 0, 0, 3),\n        'duplications-rating-B': lodash_1.inRange(value || 0, 3, 5),\n        'duplications-rating-C': lodash_1.inRange(value || 0, 5, 10),\n        'duplications-rating-D': lodash_1.inRange(value || 0, 10, 20),\n        'duplications-rating-E': (value || 0) >= 20\n    });\n    return React.createElement(\"div\", { className: className });\n}\nexports.default = DuplicationsRating;\n//# sourceMappingURL=DuplicationsRating.js.map","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./DuplicationsRating.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./DuplicationsRating.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".duplications-rating{position:relative;display:inline-flex;vertical-align:top;justify-content:center;align-items:center;width:24px;height:24px;border:3px solid #ed7d20;border-radius:24px;box-sizing:border-box}.duplications-rating-small{width:16px;height:16px;border-width:2px}.duplications-rating-big{width:40px;height:40px;border-width:3px}.duplications-rating-huge{width:60px;height:60px;border-width:4px;border-radius:30px}.duplications-rating-muted{border-color:#bdbdbd!important}.duplications-rating-muted:after{background-color:#bdbdbd!important}.duplications-rating:after{border-radius:24px;content:\\\"\\\"}.duplications-rating-A{border-color:#0a0}.duplications-rating-A:after{display:none}.duplications-rating-B{border-color:#b0d513}.duplications-rating-B:after{width:6px;height:6px;background-color:#b0d513}.duplications-rating-small.duplications-rating-B:after{width:2px;height:2px}.duplications-rating-big.duplications-rating-B:after{width:12px;height:12px}.duplications-rating-huge.duplications-rating-B:after{width:18px;height:18px}.duplications-rating-C{border-color:#eabe06}.duplications-rating-C:after{width:8px;height:8px;background-color:#eabe06}.duplications-rating-small.duplications-rating-C:after{width:6px;height:6px}.duplications-rating-big.duplications-rating-C:after{width:16px;height:16px}.duplications-rating-huge.duplications-rating-C:after{width:24px;height:24px}.duplications-rating-D{border-color:#ed7d20}.duplications-rating-D:after{width:12px;height:12px;background-color:#ed7d20}.duplications-rating-small.duplications-rating-D:after{width:8px;height:8px}.duplications-rating-big.duplications-rating-D:after{width:24px;height:24px}.duplications-rating-huge.duplications-rating-D:after{width:36px;height:36px}.duplications-rating-E{border-color:#d4333f}.duplications-rating-E:after{width:14px;height:14px;background-color:#d4333f}.duplications-rating-small.duplications-rating-E:after{width:10px;height:10px}.duplications-rating-big.duplications-rating-E:after{width:28px;height:28px}.duplications-rating-huge.duplications-rating-E:after{width:42px;height:42px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  diff: T.IssueChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (['from_long_branch', 'from_branch'].includes(diff.key)) {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    // Applies to both legacy short lived branch and pull request\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_non_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'line') {\n    return <p>{translateWithParameters('issue.changelog.line_removed_X', diff.oldValue || '')}</p>;\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n"],"sourceRoot":""}