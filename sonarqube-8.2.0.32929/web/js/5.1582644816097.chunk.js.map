{"version":3,"sources":["webpack:///./src/main/js/apps/permissions/styles.css?86ec","webpack:///./src/main/js/apps/permissions/shared/components/SearchForm.tsx","webpack:///./src/main/js/apps/permissions/shared/components/PermissionCell.tsx","webpack:///./src/main/js/apps/permissions/shared/components/GroupHolder.tsx","webpack:///./src/main/js/apps/permissions/shared/components/PermissionHeader.tsx","webpack:///./src/main/js/apps/permissions/shared/components/UserHolder.tsx","webpack:///./src/main/js/apps/permissions/shared/components/HoldersList.tsx","webpack:///./src/main/js/apps/permissions/styles.css","webpack:///./src/main/js/api/permissions.ts","webpack:///./src/main/js/apps/permissions/utils.ts"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","d","__webpack_exports__","SearchForm","react__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_components_controls_RadioToggle__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_RadioToggle__WEBPACK_IMPORTED_MODULE_1___default","n","sonar_ui_common_components_controls_SearchBox__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_controls_SearchBox__WEBPACK_IMPORTED_MODULE_2___default","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","props","filterOptions","value","label","Object","className","a","name","onCheck","onFilter","filter","minLength","onChange","onSearch","placeholder","query","_super","PermissionCell","__extends","prototype","render","_a","this","loading","permission","permissionItem","selectedPermission","utils","index_js_exposed","permissions","map","key","Checkbox_default","checked","includes","disabled","id","classnames","selected","GroupHolder","_this","apply","arguments","mounted","state","stopLoading","setState","without_default","handleCheck","_checked","__spreadArrays","onToggle","group","then","GroupHolder_extends","componentDidMount","componentWillUnmount","GroupIcon_default","style","whiteSpace","description","components_PermissionCell","category","PermissionHeader","handlePermissionClick","event","preventDefault","currentTarget","blur","onSelectPermission","getTooltipOverlay","InstanceMessage","message","showPublicProjectsWarning","Alert","variant","l10n","PermissionHeader_extends","Tooltip_default","overlay","href","onClick","HelpTooltip_default","UserHolder","UserHolder_spreadArrays","user","UserHolder_extends","permissionCells","login","system","Avatar","hash","avatar","size","email","HoldersList_HoldersList","HoldersList","initialPermissionsCount","handleGroupToggle","__assign","length","onToggleGroup","handleUserToggle","onToggleUser","getItemInitialPermissionsCount","item","isPermissionUser","HoldersList_extends","componentDidUpdate","prevProps","renderEmpty","columns","colSpan","renderItem","components_UserHolder","components_GroupHolder","items","sortBy_default","HoldersList_spreadArrays","users","groups","partition_default","itemWithPermissions","itemWithoutPermissions","children","components_PermissionHeader","push","grantPermissionToUser","revokePermissionFromUser","grantPermissionToGroup","revokePermissionFromGroup","getPermissionTemplates","createPermissionTemplate","updatePermissionTemplate","deletePermissionTemplate","setDefaultPermissionTemplate","applyTemplateToProject","bulkApplyTemplate","grantTemplatePermissionToUser","revokeTemplatePermissionFromUser","grantTemplatePermissionToGroup","revokeTemplatePermissionFromGroup","addProjectCreatorToTemplate","removeProjectCreatorFromTemplate","getPermissionsUsersForComponent","getPermissionsGroupsForComponent","getGlobalPermissionsUsers","getGlobalPermissionsGroups","getPermissionTemplateUsers","getPermissionTemplateGroups","changeProjectVisibility","changeProjectDefaultVisibility","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","PAGE_SIZE","data","catch","organization","url","templateId","qualifier","ps","q","assign","r","project","visibility","projectVisibility","PERMISSIONS_ORDER_FOR_PROJECT_TEMPLATE","PERMISSIONS_ORDER_GLOBAL","PERMISSIONS_ORDER_GLOBAL_GOV","PERMISSIONS_ORDER_FOR_VIEW","PERMISSIONS_ORDER_BY_QUALIFIER","TRK","VW","SVW","APP","DEV","convertToPermissionDefinition","l10nPrefix","getMessage","messageKey","cloudMessageKey","_helpers_system__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_0__","convertToPermissionDefinitions","_typeof","isPermissionDefinitionGroup","Boolean"],"mappings":"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","file":"js/5.1582644816097.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioToggle from 'sonar-ui-common/components/controls/RadioToggle';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  filter: string;\n  onFilter: (value: string) => void;\n  onSearch: (value: string) => void;\n  query: string;\n}\n\nexport default function SearchForm(props: Props) {\n  const filterOptions = [\n    { value: 'all', label: translate('all') },\n    { value: 'users', label: translate('users.page') },\n    { value: 'groups', label: translate('user_groups.page') }\n  ];\n\n  return (\n    <div className=\"display-flex-row\">\n      <RadioToggle\n        name=\"users-or-groups\"\n        onCheck={props.onFilter}\n        options={filterOptions}\n        value={props.filter}\n      />\n\n      <div className=\"flex-1 spacer-left\">\n        <SearchBox\n          minLength={3}\n          onChange={props.onSearch}\n          placeholder={translate('search.search_for_users_or_groups')}\n          value={props.query}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { isPermissionDefinitionGroup } from '../../utils';\n\ninterface Props {\n  loading: string[];\n  onCheck: (checked: boolean, permission?: string) => void;\n  permission: T.PermissionDefinition | T.PermissionDefinitionGroup;\n  permissionItem: T.PermissionGroup | T.PermissionUser;\n  selectedPermission?: string;\n}\n\nexport default class PermissionCell extends React.PureComponent<Props> {\n  render() {\n    const { loading, onCheck, permission, permissionItem, selectedPermission } = this.props;\n    if (isPermissionDefinitionGroup(permission)) {\n      return (\n        <td className=\"text-middle\">\n          {permission.permissions.map(permission => (\n            <div key={permission.key}>\n              <Checkbox\n                checked={permissionItem.permissions.includes(permission.key)}\n                disabled={loading.includes(permission.key)}\n                id={permission.key}\n                onCheck={onCheck}>\n                <span className=\"little-spacer-left\">{permission.name}</span>\n              </Checkbox>\n            </div>\n          ))}\n        </td>\n      );\n    } else {\n      return (\n        <td\n          className={classNames('permission-column text-center text-middle', {\n            selected: permission.key === selectedPermission\n          })}>\n          <Checkbox\n            checked={permissionItem.permissions.includes(permission.key)}\n            disabled={loading.includes(permission.key)}\n            id={permission.key}\n            onCheck={onCheck}\n          />\n        </td>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { without } from 'lodash';\nimport * as React from 'react';\nimport GroupIcon from 'sonar-ui-common/components/icons/GroupIcon';\nimport { isPermissionDefinitionGroup } from '../../utils';\nimport PermissionCell from './PermissionCell';\n\ninterface Props {\n  group: T.PermissionGroup;\n  onToggle: (group: T.PermissionGroup, permission: string) => Promise<void>;\n  permissions: T.PermissionDefinitions;\n  selectedPermission?: string;\n}\n\ninterface State {\n  loading: string[];\n}\n\nexport default class GroupHolder extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = (permission: string) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: without(state.loading, permission) }));\n    }\n  };\n\n  handleCheck = (_checked: boolean, permission?: string) => {\n    if (permission !== undefined) {\n      this.setState(state => ({ loading: [...state.loading, permission] }));\n      this.props.onToggle(this.props.group, permission).then(\n        () => this.stopLoading(permission),\n        () => this.stopLoading(permission)\n      );\n    }\n  };\n\n  render() {\n    const { group } = this.props;\n\n    return (\n      <tr>\n        <td className=\"nowrap text-middle\">\n          <div className=\"display-inline-block text-middle big-spacer-right\">\n            <GroupIcon />\n          </div>\n          <div className=\"display-inline-block text-middle\">\n            <div>\n              <strong>{group.name}</strong>\n            </div>\n            <div className=\"little-spacer-top\" style={{ whiteSpace: 'normal' }}>\n              {group.description}\n            </div>\n          </div>\n        </td>\n        {this.props.permissions.map(permission => (\n          <PermissionCell\n            key={isPermissionDefinitionGroup(permission) ? permission.category : permission.key}\n            loading={this.state.loading}\n            onCheck={this.handleCheck}\n            permission={permission}\n            permissionItem={group}\n            selectedPermission={this.props.selectedPermission}\n          />\n        ))}\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport { isPermissionDefinitionGroup } from '../../utils';\n\ninterface Props {\n  onSelectPermission?: (permission: string) => void;\n  permission: T.PermissionDefinition | T.PermissionDefinitionGroup;\n  selectedPermission?: string;\n  showPublicProjectsWarning?: boolean;\n}\n\nexport default class PermissionHeader extends React.PureComponent<Props> {\n  handlePermissionClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { permission } = this.props;\n    if (this.props.onSelectPermission && !isPermissionDefinitionGroup(permission)) {\n      this.props.onSelectPermission(permission.key);\n    }\n  };\n\n  getTooltipOverlay = () => {\n    const { permission } = this.props;\n\n    if (isPermissionDefinitionGroup(permission)) {\n      return permission.permissions.map(permission => (\n        <React.Fragment key={permission.key}>\n          <b className=\"little-spacer-right\">{permission.name}:</b>\n          <InstanceMessage key={permission.key} message={permission.description} />\n          <br />\n        </React.Fragment>\n      ));\n    } else {\n      if (this.props.showPublicProjectsWarning && ['user', 'codeviewer'].includes(permission.key)) {\n        return (\n          <div>\n            <InstanceMessage message={permission.description} />\n            <Alert className=\"spacer-top\" variant=\"warning\">\n              {translate('projects_role.public_projects_warning')}\n            </Alert>\n          </div>\n        );\n      }\n      return <InstanceMessage message={permission.description} />;\n    }\n  };\n\n  render() {\n    const { onSelectPermission, permission } = this.props;\n    let name;\n    if (isPermissionDefinitionGroup(permission)) {\n      name = translate('global_permissions', permission.category);\n    } else {\n      name = onSelectPermission ? (\n        <Tooltip\n          overlay={translateWithParameters(\n            'global_permissions.filter_by_x_permission',\n            permission.name\n          )}>\n          <a href=\"#\" onClick={this.handlePermissionClick}>\n            {permission.name}\n          </a>\n        </Tooltip>\n      ) : (\n        permission.name\n      );\n    }\n    return (\n      <th\n        className={classNames('permission-column text-center text-middle', {\n          selected:\n            !isPermissionDefinitionGroup(permission) &&\n            permission.key === this.props.selectedPermission\n        })}>\n        <div className=\"permission-column-inner\">\n          {name}\n          <HelpTooltip className=\"spacer-left\" overlay={this.getTooltipOverlay()} />\n        </div>\n      </th>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../../../components/ui/Avatar';\nimport { isSonarCloud } from '../../../../helpers/system';\nimport { isPermissionDefinitionGroup } from '../../utils';\nimport PermissionCell from './PermissionCell';\n\ninterface Props {\n  onToggle: (user: T.PermissionUser, permission: string) => Promise<void>;\n  permissions: T.PermissionDefinitions;\n  selectedPermission?: string;\n  user: T.PermissionUser;\n}\n\ninterface State {\n  loading: string[];\n}\n\nexport default class UserHolder extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = (permission: string) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: without(state.loading, permission) }));\n    }\n  };\n\n  handleCheck = (_checked: boolean, permission?: string) => {\n    if (permission !== undefined) {\n      this.setState(state => ({ loading: [...state.loading, permission] }));\n      this.props.onToggle(this.props.user, permission).then(\n        () => this.stopLoading(permission),\n        () => this.stopLoading(permission)\n      );\n    }\n  };\n\n  render() {\n    const { user } = this.props;\n    const permissionCells = this.props.permissions.map(permission => (\n      <PermissionCell\n        key={isPermissionDefinitionGroup(permission) ? permission.category : permission.key}\n        loading={this.state.loading}\n        onCheck={this.handleCheck}\n        permission={permission}\n        permissionItem={user}\n        selectedPermission={this.props.selectedPermission}\n      />\n    ));\n\n    if (user.login === '<creator>') {\n      return (\n        <tr>\n          <td className=\"nowrap text-middle\">\n            <div className=\"display-inline-block text-middle\">\n              <div>\n                <strong>{user.name}</strong>\n              </div>\n              <div className=\"little-spacer-top\" style={{ whiteSpace: 'normal' }}>\n                {translate(\n                  isSonarCloud()\n                    ? 'permission_templates.project_creators.explanation.sonarcloud'\n                    : 'permission_templates.project_creators.explanation'\n                )}\n              </div>\n            </div>\n          </td>\n          {permissionCells}\n        </tr>\n      );\n    }\n\n    return (\n      <tr>\n        <td className=\"nowrap text-middle\">\n          <Avatar\n            className=\"text-middle big-spacer-right\"\n            hash={user.avatar}\n            name={user.name}\n            size={36}\n          />\n          <div className=\"display-inline-block text-middle\">\n            {isSonarCloud() ? (\n              <>\n                <div>\n                  <strong>{user.name}</strong>\n                </div>\n                <div className=\"note little-spacer-top\">{user.login}</div>\n              </>\n            ) : (\n              <>\n                <div>\n                  <strong>{user.name}</strong>\n                  <span className=\"note spacer-left\">{user.login}</span>\n                </div>\n                <div className=\"little-spacer-top\">{user.email}</div>\n              </>\n            )}\n          </div>\n        </td>\n        {permissionCells}\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { partition, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isPermissionDefinitionGroup } from '../../utils';\nimport GroupHolder from './GroupHolder';\nimport PermissionHeader from './PermissionHeader';\nimport UserHolder from './UserHolder';\n\ninterface Props {\n  filter?: string;\n  groups: T.PermissionGroup[];\n  loading?: boolean;\n  onSelectPermission?: (permission: string) => void;\n  onToggleGroup: (group: T.PermissionGroup, permission: string) => Promise<void>;\n  onToggleUser: (user: T.PermissionUser, permission: string) => Promise<void>;\n  permissions: T.PermissionDefinitions;\n  query?: string;\n  selectedPermission?: string;\n  showPublicProjectsWarning?: boolean;\n  users: T.PermissionUser[];\n}\n\ninterface State {\n  initialPermissionsCount: T.Dict<number>;\n}\nexport default class HoldersList extends React.PureComponent<Props, State> {\n  state: State = { initialPermissionsCount: {} };\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.filter !== prevProps.filter || this.props.query !== prevProps.query) {\n      this.setState({ initialPermissionsCount: {} });\n    }\n  }\n\n  isPermissionUser(item: T.PermissionGroup | T.PermissionUser): item is T.PermissionUser {\n    return (item as T.PermissionUser).login !== undefined;\n  }\n\n  handleGroupToggle = (group: T.PermissionGroup, permission: string) => {\n    const key = group.id || group.name;\n    if (this.state.initialPermissionsCount[key] === undefined) {\n      this.setState(state => ({\n        initialPermissionsCount: {\n          ...state.initialPermissionsCount,\n          [key]: group.permissions.length\n        }\n      }));\n    }\n    return this.props.onToggleGroup(group, permission);\n  };\n\n  handleUserToggle = (user: T.PermissionUser, permission: string) => {\n    if (this.state.initialPermissionsCount[user.login] === undefined) {\n      this.setState(state => ({\n        initialPermissionsCount: {\n          ...state.initialPermissionsCount,\n          [user.login]: user.permissions.length\n        }\n      }));\n    }\n    return this.props.onToggleUser(user, permission);\n  };\n\n  getItemInitialPermissionsCount = (item: T.PermissionGroup | T.PermissionUser) => {\n    const key = this.isPermissionUser(item) ? item.login : item.id || item.name;\n    return this.state.initialPermissionsCount[key] !== undefined\n      ? this.state.initialPermissionsCount[key]\n      : item.permissions.length;\n  };\n\n  renderEmpty() {\n    const columns = this.props.permissions.length + 1;\n    return (\n      <tr>\n        <td colSpan={columns}>{translate('no_results_search')}</td>\n      </tr>\n    );\n  }\n\n  renderItem(item: T.PermissionUser | T.PermissionGroup, permissions: T.PermissionDefinitions) {\n    return this.isPermissionUser(item) ? (\n      <UserHolder\n        key={`user-${item.login}`}\n        onToggle={this.handleUserToggle}\n        permissions={permissions}\n        selectedPermission={this.props.selectedPermission}\n        user={item}\n      />\n    ) : (\n      <GroupHolder\n        group={item}\n        key={`group-${item.id || item.name}`}\n        onToggle={this.handleGroupToggle}\n        permissions={permissions}\n        selectedPermission={this.props.selectedPermission}\n      />\n    );\n  }\n\n  render() {\n    const { permissions } = this.props;\n    const items = sortBy([...this.props.users, ...this.props.groups], item => {\n      if (this.isPermissionUser(item) && item.login === '<creator>') {\n        return 0;\n      }\n      return item.name;\n    });\n    const [itemWithPermissions, itemWithoutPermissions] = partition(items, item =>\n      this.getItemInitialPermissionsCount(item)\n    );\n    return (\n      <div className=\"boxed-group boxed-group-inner\">\n        <table className=\"data zebra permissions-table\">\n          <thead>\n            <tr>\n              <td className=\"nowrap bordered-bottom\">{this.props.children}</td>\n              {permissions.map(permission => (\n                <PermissionHeader\n                  key={\n                    isPermissionDefinitionGroup(permission) ? permission.category : permission.key\n                  }\n                  onSelectPermission={this.props.onSelectPermission}\n                  permission={permission}\n                  selectedPermission={this.props.selectedPermission}\n                  showPublicProjectsWarning={this.props.showPublicProjectsWarning}\n                />\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {items.length === 0 && !this.props.loading && this.renderEmpty()}\n            {itemWithPermissions.map(item => this.renderItem(item, permissions))}\n            {itemWithPermissions.length > 0 && itemWithoutPermissions.length > 0 && (\n              <>\n                <tr>\n                  <td className=\"divider\" colSpan={20} />\n                </tr>\n                <tr />\n                {/* Keep correct zebra colors in the table */}\n              </>\n            )}\n            {itemWithoutPermissions.map(item => this.renderItem(item, permissions))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".permissions-table .permission-column.selected{background-color:#d9edf7}.permissions-table .permission-column-inner{width:100px}.permissions-table .divider{background:#fff;padding:16px 0}.permissions-table .divider:after{display:block;content:\\\"\\\";background:#e6e6e6;height:1px;width:100%}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { BaseSearchProjectsParameters } from './components';\n\nconst PAGE_SIZE = 100;\n\nexport function grantPermissionToUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_user', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromUser(data: {\n  projectKey?: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_user', data).catch(throwGlobalError);\n}\n\nexport function grantPermissionToGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/add_group', data).catch(throwGlobalError);\n}\n\nexport function revokePermissionFromGroup(data: {\n  projectKey?: string;\n  groupName: string;\n  permission: string;\n  organization?: string;\n}) {\n  return post('/api/permissions/remove_group', data).catch(throwGlobalError);\n}\n\ninterface GetPermissionTemplatesResponse {\n  permissionTemplates: T.PermissionTemplate[];\n  defaultTemplates: Array<{ templateId: string; qualifier: string }>;\n  permissions: Array<{ key: string; name: string; description: string }>;\n}\n\nexport function getPermissionTemplates(\n  organization?: string\n): Promise<GetPermissionTemplatesResponse> {\n  const url = '/api/permissions/search_templates';\n  return organization ? getJSON(url, { organization }) : getJSON(url);\n}\n\nexport function createPermissionTemplate(data: RequestData) {\n  return postJSON('/api/permissions/create_template', data);\n}\n\nexport function updatePermissionTemplate(data: RequestData): Promise<void> {\n  return post('/api/permissions/update_template', data);\n}\n\nexport function deletePermissionTemplate(data: RequestData) {\n  return post('/api/permissions/delete_template', data).catch(throwGlobalError);\n}\n\n/**\n * Set default permission template for a given qualifier\n */\nexport function setDefaultPermissionTemplate(templateId: string, qualifier: string): Promise<void> {\n  return post('/api/permissions/set_default_template', { templateId, qualifier });\n}\n\nexport function applyTemplateToProject(data: RequestData) {\n  return post('/api/permissions/apply_template', data).catch(throwGlobalError);\n}\n\nexport function bulkApplyTemplate(data: BaseSearchProjectsParameters): Promise<void> {\n  return post('/api/permissions/bulk_apply_template', data);\n}\n\nexport function grantTemplatePermissionToUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/add_user_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/remove_user_from_template', data);\n}\n\nexport function grantTemplatePermissionToGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/add_group_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/remove_group_from_template', data);\n}\n\nexport function addProjectCreatorToTemplate(templateId: string, permission: string): Promise<void> {\n  return post('/api/permissions/add_project_creator_to_template', { templateId, permission });\n}\n\nexport function removeProjectCreatorFromTemplate(\n  templateId: string,\n  permission: string\n): Promise<void> {\n  return post('/api/permissions/remove_project_creator_from_template', { templateId, permission });\n}\n\nexport function getPermissionsUsersForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data).catch(throwGlobalError);\n}\n\nexport function getPermissionsGroupsForComponent(data: {\n  projectKey: string;\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data).catch(throwGlobalError);\n}\n\nexport function getGlobalPermissionsUsers(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; users: T.PermissionUser[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/users', data);\n}\n\nexport function getGlobalPermissionsGroups(data: {\n  q?: string;\n  permission?: string;\n  organization?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{ paging: T.Paging; groups: T.PermissionGroup[] }> {\n  if (!data.ps) {\n    data.ps = PAGE_SIZE;\n  }\n  return getJSON('/api/permissions/groups', data);\n}\n\nexport function getPermissionTemplateUsers(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_users', data).then(r => r.users);\n}\n\nexport function getPermissionTemplateGroups(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_groups', data).then(r => r.groups);\n}\n\nexport function changeProjectVisibility(\n  project: string,\n  visibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_visibility', { project, visibility }).catch(throwGlobalError);\n}\n\nexport function changeProjectDefaultVisibility(\n  organization: string,\n  projectVisibility: T.Visibility\n): Promise<void | Response> {\n  return post('/api/projects/update_default_visibility', { organization, projectVisibility }).catch(\n    throwGlobalError\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport { isSonarCloud } from '../../helpers/system';\n\nexport const PERMISSIONS_ORDER_FOR_PROJECT_TEMPLATE = [\n  'user',\n  'codeviewer',\n  'issueadmin',\n  'securityhotspotadmin',\n  'admin',\n  'scan'\n];\n\nexport const PERMISSIONS_ORDER_GLOBAL = [\n  'admin',\n  { category: 'administer', permissions: ['gateadmin', 'profileadmin'] },\n  'scan',\n  { category: 'creator', permissions: ['provisioning'] }\n];\n\nexport const PERMISSIONS_ORDER_GLOBAL_GOV = [\n  'admin',\n  { category: 'administer', permissions: ['gateadmin', 'profileadmin'] },\n  'scan',\n  { category: 'creator', permissions: ['provisioning', 'applicationcreator', 'portfoliocreator'] }\n];\n\nexport const PERMISSIONS_ORDER_FOR_VIEW = ['user', 'admin'];\n\nexport const PERMISSIONS_ORDER_FOR_DEV = ['user', 'admin'];\n\nexport const PERMISSIONS_ORDER_BY_QUALIFIER: T.Dict<string[]> = {\n  TRK: PERMISSIONS_ORDER_FOR_PROJECT_TEMPLATE,\n  VW: PERMISSIONS_ORDER_FOR_VIEW,\n  SVW: PERMISSIONS_ORDER_FOR_VIEW,\n  APP: PERMISSIONS_ORDER_FOR_VIEW,\n  DEV: PERMISSIONS_ORDER_FOR_DEV\n};\n\nfunction convertToPermissionDefinition(permission: string, l10nPrefix: string) {\n  const getMessage = (messageKey: string) => {\n    const cloudMessageKey = `${messageKey}.sonarcloud`;\n    return isSonarCloud() && hasMessage(cloudMessageKey)\n      ? translate(cloudMessageKey)\n      : translate(messageKey);\n  };\n\n  const name = getMessage(`${l10nPrefix}.${permission}`);\n  const description = getMessage(`${l10nPrefix}.${permission}.desc`);\n\n  return {\n    key: permission,\n    name,\n    description\n  };\n}\n\nexport function convertToPermissionDefinitions(\n  permissions: Array<string | { category: string; permissions: string[] }>,\n  l10nPrefix: string\n): Array<T.PermissionDefinition | T.PermissionDefinitionGroup> {\n  return permissions.map(permission => {\n    if (typeof permission === 'object') {\n      return {\n        category: permission.category,\n        permissions: permission.permissions.map(permission =>\n          convertToPermissionDefinition(permission, l10nPrefix)\n        )\n      };\n    }\n    return convertToPermissionDefinition(permission, l10nPrefix);\n  });\n}\n\nexport function isPermissionDefinitionGroup(\n  permission?: T.PermissionDefinition | T.PermissionDefinitionGroup\n): permission is T.PermissionDefinitionGroup {\n  return Boolean(permission && (permission as T.PermissionDefinitionGroup).category);\n}\n"],"sourceRoot":""}