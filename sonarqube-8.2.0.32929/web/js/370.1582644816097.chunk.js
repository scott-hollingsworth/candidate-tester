(window.webpackJsonp=window.webpackJsonp||[]).push([[370],{2132:function(e,t,a){"use strict";a.r(t);var n=a(639),r=a(12),i=a(646),s=a(651),l=a.n(s),o=a(654),c=a(34),m=a(737),u=a(864),d=a(676),p=a(658),v=a(672),f=a(749),b=a(648),h=a(1510),g=a(1511),y=a(1512),w=a(1526),E=(a(1509),a(962)),N=a(647);var O=r.memo(function(e){var t=e.className,a=e.measures,i=e.type,s=Object(E.j)(i),l=Object(v.findMeasure)(a,s);return l&&void 0!==l.value?r.createElement("div",{className:n(t,"display-flex-center")},r.createElement("span",{className:"huge"},Object(N.formatMeasure)(l.value,"PERCENT")),r.createElement("span",{className:"label flex-1 spacer-left text-right"},Object(c.translate)("component_measures.facet_category.overall_category.estimated"))):null}),_=a(634),j=a(159),k=a(695),x=a.n(k),M=a(661),q=a(649);var C=r.memo(function(e){var t=e.component,a=e.level,i="OK"===a,s=void 0===t.qualityGate?Object(q.w)():Object(q.v)(t.qualityGate.key);return r.createElement("div",{className:n("overview-quality-gate-badge-large small",{failed:!i,success:i})},r.createElement("div",{className:"display-flex-center"},r.createElement("span",null,Object(c.translate)("overview.on_new_code_long")),r.createElement(l.a,{className:"little-spacer-left",overlay:r.createElement(_.FormattedMessage,{defaultMessage:Object(c.translate)("overview.quality_gate.conditions_on_new_code"),id:"overview.quality_gate.conditions_on_new_code",values:{link:r.createElement(j.Link,{to:s},Object(c.translate)("overview.quality_gate"))}})},r.createElement(x.a,{fill:M.colors.transparentWhite,size:12}))),void 0!==a&&r.createElement("h3",{className:"huge-spacer-top huge"},Object(c.translate)("metric.level",a)))});a.d(t,"PullRequestOverview",function(){return P});var L,B=(L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),D=function(){return(D=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={loading:!1,measures:[]},t.fetchBranchData=function(){var e=t.props,a=e.branchLike,n=e.component.key;t.setState({loading:!0}),Promise.all([Object(u.e)(n,E.e,D({additionalFields:"metrics"},Object(p.d)(a))),t.props.fetchBranchStatus(a,n)]).then(function(e){var a=e[0],n=a.component,r=a.metrics;t.mounted&&n.measures&&t.setState({loading:!1,measures:Object(v.enhanceMeasuresWithMetrics)(n.measures||[],r||[])})},function(){t.mounted&&t.setState({loading:!1})})},t}return B(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchBranchData()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.branchLike,i=e.component,s=e.conditions,u=e.ignoredConditions,p=e.status,f=this.state,b=f.loading,N=f.measures;if(b)return r.createElement("div",{className:"page page-limited"},r.createElement("i",{className:"spinner"}));if(void 0===s)return null;var _=s.filter(function(e){return"ERROR"===e.level}).map(function(e){return Object(v.enhanceConditionWithMeasure)(e,N)}).filter(m.isDefined);return r.createElement("div",{className:"page page-limited"},r.createElement("div",{className:n("pr-overview",{"has-conditions":_.length>0})},u&&r.createElement(o.Alert,{className:"big-spacer-bottom",display:"inline",variant:"info"},r.createElement("span",{className:"text-middle"},Object(c.translate)("overview.quality_gate.ignored_conditions")),r.createElement(l.a,{className:"spacer-left",overlay:Object(c.translate)("overview.quality_gate.ignored_conditions.tooltip")})),r.createElement("div",{className:"display-flex-row"},r.createElement("div",{className:"big-spacer-right"},r.createElement("h2",{className:"overview-panel-title spacer-bottom small"},Object(c.translate)("overview.quality_gate"),r.createElement(d.a,{className:"spacer-left",doc:Promise.resolve().then(a.bind(null,1513))})),r.createElement(C,{component:i,level:p})),_.length>0&&r.createElement("div",{className:"pr-overview-failed-conditions big-spacer-right"},r.createElement("h2",{className:"overview-panel-title spacer-bottom small"},Object(c.translate)("overview.failed_conditions")),r.createElement(w.b,{branchLike:t,collapsible:!0,component:i,failedConditions:_})),r.createElement("div",{className:"flex-1"},r.createElement("h2",{className:"overview-panel-title spacer-bottom small"},Object(c.translate)("overview.measures")),r.createElement("div",{className:"overview-panel-content"},[E.b.Bug,E.b.Vulnerability,E.b.SecurityHotspot,E.b.CodeSmell].map(function(e){return r.createElement("div",{className:"overview-measures-row display-flex-row",key:e},r.createElement("div",{className:"overview-panel-big-padded flex-1 small display-flex-center"},r.createElement(h.a,{branchLike:t,component:i,measures:N,type:e,useDiffMetric:!0})),r.createElement("div",{className:"overview-panel-big-padded overview-measures-aside display-flex-center"},r.createElement(g.a,{branchLike:t,component:i,measures:N,type:e,useDiffMetric:!0})))}),[E.d.Coverage,E.d.Duplication].map(function(e){return r.createElement("div",{className:"overview-measures-row display-flex-row",key:e},r.createElement("div",{className:"overview-panel-big-padded flex-1 small display-flex-center"},r.createElement(y.a,{branchLike:t,component:i,measures:N,type:e,useDiffMetric:!0})),r.createElement(O,{className:"overview-panel-big-padded overview-measures-aside text-right overview-measures-emphasis",measures:N,type:e}))}))))))},t}(r.PureComponent),S={fetchBranchStatus:f.c};t.default=Object(i.connect)(function(e,t){var a=t.branchLike,n=t.component,r=Object(b.getBranchStatusByBranchLike)(e,n.key,a);return{conditions:r.conditions,ignoredConditions:r.ignoredConditions,status:r.status}},S)(P)}}]);
//# sourceMappingURL=370.1582644816097.chunk.js.map