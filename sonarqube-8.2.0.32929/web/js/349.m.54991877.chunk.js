(window.webpackJsonp=window.webpackJsonp||[]).push([[349],{1708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(313);t.default=function(e){var t=e.className,n=e.fill,a=void 0===n?"currentColor":n,i=e.size;return r.createElement(o.default,{className:t,size:i},r.createElement("path",{d:"M1,7L7,7L7,1L9,1L9,7L15,7L15,9L9,9L9,15L7,15L7,9L1,9L1,7Z",style:{fill:a}}))}},1810:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(28),a=n(322),i=n.n(a),c=n(1708),l=n.n(c),s=n(5),u=n(548),p=n(331);class d extends r.Component{render(){return(0,window.SonarGovernance.createFormBuilder)(this.props,p)}}var f=n(396),m=n(22),h=n(319),j=n(332);n.d(t,"GlobalNavPlus",function(){return b});class b extends r.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={createPortfolio:!1,governanceReady:!1},this.handleNewProjectClick=e=>{e.preventDefault(),this.props.openProjectOnboarding()},this.openCreatePortfolioForm=()=>{this.setState({createPortfolio:!0})},this.closeCreatePortfolioForm=()=>{this.setState({createPortfolio:!1})},this.handleNewPortfolioClick=e=>{e.preventDefault(),e.currentTarget.blur(),this.openCreatePortfolioForm()},this.handleCreatePortfolio=e=>{let t=e.key,n=e.qualifier;return Object(u.a)({component:t}).then(e=>{e.configuration&&e.configuration.extensions&&e.configuration.extensions.find(e=>"governance/console"===e.key)?this.props.router.push(Object(h.r)(t,n)):this.props.router.push(Object(h.s)(t)),this.closeCreatePortfolioForm()})}}componentDidMount(){this.mounted=!0,this.props.appState.qualifiers.includes("VW")&&Object(f.a)("governance/console").then(()=>{this.mounted&&this.setState({governanceReady:!0})},()=>{})}componentWillUnmount(){this.mounted=!1}renderCreateProject(e){return e?r.createElement("li",null,r.createElement("a",{className:"js-new-project",href:"#",onClick:this.handleNewProjectClick},Object(m.isSonarCloud)()?Object(s.translate)("provisioning.analyze_new_project"):Object(s.translate)("my_account.create_new.TRK"))):null}renderCreateOrganization(e){return e?r.createElement("li",null,r.createElement(o.Link,{className:"js-new-organization",to:"/create-organization"},Object(s.translate)("my_account.create_new_organization"))):null}renderCreatePortfolio(e,t){return this.props.appState.qualifiers.includes("VW")&&e?r.createElement("li",null,r.createElement("a",{className:"js-new-portfolio",href:"#",onClick:this.handleNewPortfolioClick},t?Object(s.translate)("my_account.create_new",t):Object(s.translate)("my_account.create_new_portfolio_application"))):null}render(){const e=this.props.currentUser,t=Object(j.a)(e,"applicationcreator"),n=Object(m.isSonarCloud)(),o=Object(j.a)(e,"portfoliocreator"),a=Object(m.isSonarCloud)()||Object(j.a)(e,"provisioning");if(!(a||t||o||n))return null;let c;return t?o||(c="APP"):c="VW",r.createElement(r.Fragment,null,r.createElement(i.a,{overlay:r.createElement("ul",{className:"menu"},this.renderCreateProject(a),this.renderCreateOrganization(n),this.renderCreatePortfolio(t||o,c)),tagName:"li"},r.createElement("a",{className:"navbar-icon navbar-plus",href:"#",title:Object(m.isSonarCloud)()?Object(s.translate)("my_account.create_new_project_or_organization"):Object(s.translate)("my_account.create_new_project_portfolio_or_application")},r.createElement(l.a,null))),this.state.governanceReady&&this.state.createPortfolio&&r.createElement(d,{defaultQualifier:c,onClose:this.closeCreatePortfolioForm,onCreate:this.handleCreatePortfolio}))}}t.default=Object(o.withRouter)(b)},396:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n(335),o=n(14);let a=!1;function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body";return new Promise(n=>{const o=document.createElement("script");o.src="".concat(Object(r.getBaseUrl)()).concat(e),o.onload=n,document.getElementsByTagName(t)[0].appendChild(o)})}async function c(e){const t=Object(o.a)(e);if(t)return Promise.resolve(t);if(!a){(0,(await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(285)]).then(n.bind(null,531))).default)(),a=!0}await i("/static/".concat(e,".js"));const r=Object(o.a)(e);return r||Promise.reject()}},548:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c});var r=n(8),o=n(320);function a(e){return Object(r.getJSON)("/api/navigation/component",e).catch(o.a)}function i(){return Object(r.getJSON)("/api/navigation/marketplace").catch(o.a)}function c(){return Object(r.getJSON)("/api/navigation/settings").catch(o.a)}}}]);
//# sourceMappingURL=349.m.54991877.chunk.js.map