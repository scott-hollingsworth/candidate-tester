{"version":3,"sources":["webpack:///./node_modules/sonar-ui-common/components/controls/BackButton.js","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.js","webpack:///./src/main/js/apps/issues/styles.css?86da","webpack:///./src/main/js/apps/issues/styles.css","webpack:///./src/main/js/apps/issues/actions.ts","webpack:///./src/main/js/apps/issues/components/LocationNavigationKeyboardShortcuts.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationBadge.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocations.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigatorLocation.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/CrossFileLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueLocationsNavigator.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueBox.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssueComponent.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssue.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesList.tsx","webpack:///./src/main/js/apps/issues/components/IssuesCounter.tsx","webpack:///./src/main/js/apps/issues/conciseIssuesList/ConciseIssuesListHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/AssigneeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/AuthorFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/CreationDateFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/DirectoryFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/FileFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/LanguageFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ProjectFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/ResolutionFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/RuleFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/SeverityFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/StatusFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TagFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/TypeFacet.tsx","webpack:///./src/main/js/apps/issues/sidebar/Sidebar.tsx","webpack:///./src/main/js/apps/issues/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/issues/components/ComponentBreadcrumbs.tsx","webpack:///./src/main/js/apps/issues/components/ListItem.tsx","webpack:///./src/main/js/apps/issues/components/IssuesList.tsx","webpack:///./src/main/js/apps/issues/crossComponentSourceViewer/CrossComponentSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/IssuesSourceViewer.tsx","webpack:///./src/main/js/apps/issues/components/MyIssuesFilter.tsx","webpack:///./src/main/js/apps/issues/components/NoIssues.tsx","webpack:///./src/main/js/apps/issues/components/NoMyIssues.tsx","webpack:///./src/main/js/apps/issues/components/TotalEffort.tsx","webpack:///./src/main/js/apps/issues/components/PageActions.tsx","webpack:///./src/main/js/apps/issues/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/QualifierIcon.js","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./node_modules/lodash/toFinite.js","webpack:///./node_modules/sonar-ui-common/components/controls/ListFooter.js","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./node_modules/date-fns/add_months/index.js","webpack:///./node_modules/date-fns/get_days_in_month/index.js","webpack:///./src/main/js/api/rules.ts","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronDownIcon.js","webpack:///./src/main/js/components/tags/TagsList.css?aed4","webpack:///./node_modules/sonar-ui-common/helpers/pages.js","webpack:///./node_modules/sonar-ui-common/components/icons/OpenCloseIcon.js","webpack:///./node_modules/date-fns/set_month/index.js","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/common/MarkdownTips.tsx","webpack:///./node_modules/date-fns/set_year/index.js","webpack:///./node_modules/date-fns/sub_months/index.js","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./node_modules/lodash/range.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./node_modules/sonar-ui-common/components/icons/ChevronLeftIcon.js","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./node_modules/sonar-ui-common/helpers/search.js","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/CalendarIcon.js","webpack:///./src/main/js/components/controls/DayPicker.css?dc71","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?00e9","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/controls/HomePageSelect.tsx","webpack:///./node_modules/sonar-ui-common/components/icons/HomeIcon.js","webpack:///./src/main/js/components/common/LocationIndex.tsx","webpack:///./src/main/js/components/shared/StatusHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.js","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css?9fff","webpack:///./node_modules/sonar-ui-common/components/controls/Radio.css","webpack:///./src/main/js/components/search-navigator.css?cb81","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewer.tsx","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./src/main/js/helpers/security-standard.ts","webpack:///./src/main/js/components/controls/DateRangeInput.tsx","webpack:///./node_modules/date-fns/is_same_day/index.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./src/main/js/components/issue/components/IssueChangelogDiff.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/ReloadButton.js","webpack:///./src/main/js/components/common/EmptySearch.css?19aa","webpack:///./src/main/js/components/common/LocationIndex.css?e5a0","webpack:///./src/main/js/components/common/LocationIndex.css","webpack:///./src/main/js/components/common/LocationMessage.tsx","webpack:///./src/main/js/components/common/LocationMessage.css?8e38","webpack:///./src/main/js/components/common/LocationMessage.css","webpack:///./src/main/js/components/issue/Issue.css?30c0","webpack:///./src/main/js/components/issue/Issue.css","webpack:///./src/main/js/components/issue/actions.ts","webpack:///./src/main/js/components/common/SelectListItem.tsx","webpack:///./src/main/js/components/common/SelectList.tsx","webpack:///./src/main/js/components/issue/popups/SetAssigneePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueAssign.tsx","webpack:///./src/main/js/components/issue/popups/CommentPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentAction.tsx","webpack:///./src/main/js/components/issue/popups/SetSeverityPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueSeverity.tsx","webpack:///./src/main/js/components/issue/popups/SetIssueTagsPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTags.tsx","webpack:///./src/main/js/components/issue/popups/SetTransitionPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueTransition.tsx","webpack:///./src/main/js/components/issue/popups/SetTypePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueType.tsx","webpack:///./src/main/js/components/issue/components/IssueActionsBar.tsx","webpack:///./src/main/js/components/issue/popups/CommentDeletePopup.tsx","webpack:///./src/main/js/components/issue/components/IssueCommentLine.tsx","webpack:///./src/main/js/components/issue/popups/ChangelogPopup.tsx","webpack:///./src/main/js/components/issue/components/IssueChangelog.tsx","webpack:///./src/main/js/components/issue/components/IssueMessage.tsx","webpack:///./src/main/js/components/issue/popups/SimilarIssuesPopup.tsx","webpack:///./src/main/js/components/issue/components/SimilarIssuesFilter.tsx","webpack:///./src/main/js/components/issue/components/IssueTitleBar.tsx","webpack:///./src/main/js/components/issue/IssueView.tsx","webpack:///./src/main/js/components/issue/Issue.tsx","webpack:///./src/main/js/components/shared/Organization.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?a58b","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css?c2d3","webpack:///./node_modules/sonar-ui-common/components/charts/BarChart.css","webpack:///./src/main/js/components/common/EmptySearch.tsx","webpack:///./src/main/js/components/common/EmptySearch.css","webpack:///./node_modules/lodash/max.js","webpack:///./node_modules/sonar-ui-common/components/controls/SearchSelect.js"],"names":["extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","classNames","__webpack_require__","React","l10n_1","theme_1","Tooltip_1","BackButton","_super","_this","apply","arguments","handleClick","event","preventDefault","currentTarget","blur","props","disabled","onClick","renderIcon","createElement","ThemeConsumer","theme","height","viewBox","width","fill","colors","disableGrayText","secondFontColor","render","_a","tooltip","translate","default","overlay","className","cursor-not-allowed","href","PureComponent","d3_array_1","d3_scale_1","BarChart","point","onBarClick","renderXTicks","xScale","yScale","data","_b","xTicks","length","ticks","map","tick","index","x","Math","round","bandwidth","y","range","text","dy","key","style","cursor","undefined","renderXValues","xValues","renderBars","bars","maxY","rect","barsWidth","padding","availableWidth","availableHeight","innerPadding","relativeInnerPadding","max","scaleBand","domain","paddingInner","scaleLinear","transform","content","module","i","options","hmr","insertInto","locals","push","enableLocationsNavigator","state","openIssue","selectedLocationIndex","secondaryLocations","flows","selectedFlowIndex","utils","locationsNavigator","disableLocationsNavigator","selectNextLocation","lastLocationIdx","selectPreviousLocation","selectNextFlow","selectPreviousFlow","LocationNavigationKeyboardShortcuts","_ref","issue","hasSeveralFlows","index_js_exposed","l10n","ConciseIssueLocationBadge","Tooltip_default","a","mouseEnterDelay","measures","count","LocationIndex","selected","LIMIT","ConciseIssueLocations_ConciseIssueLocations","[object Object]","collapsed","handleExpandClick","setState","buttons","_this$props$issue","badges","forEach","flow","onFlowSelect","slice","renderExpandButton","ConciseIssueLocationsNavigatorLocation_ConciseIssueLocationsNavigatorLocation","node","scroll","prevProps","message","totalCount","_this$props","isTaintAnalysis","ref","LocationMessage","prefixMessage","CrossFileLocationsNavigator_CrossFileLocationsNavigator","handleMoreLocationsClick","groupByFile","locations","groups","currentComponent","currentComponentName","currentLocations","currentFirstLocationIndex","location","component","componentName","firstLocationIndex","renderLocation","onLocationSelect","renderGroup","group","groupIndex","_ref$onlyFirst","onlyFirst","_ref$onlyLast","onlyLast","lastLocationIndex","helpers_path","msg","nextProps","nextLocations","firstGroup","lastGroup","ConciseIssueLocationsNavigator_ConciseIssueLocationsNavigator","every","type","locationComponents","uniq_default","ConciseIssueBox_ConciseIssueBox","handleScroll","rootElement","messageElement","window","innerHeight","clickAttributesMain","role","tabIndex","clickAttributesTitle","assign","classnames","TypeHelper","ConciseIssueComponent","path","ConciseIssue_ConciseIssue","previousIssue","displayComponent","componentLongName","onSelect","ConciseIssuesList_ConciseIssuesList","element","bottomOffset","scrollableElement","document","querySelector","scrolling","topOffset","parent","issues","onIssueSelect","IssuesCounter","PageCounter","current","label","total","ConciseIssuesListHeader","_props$displayBackBut","displayBackButton","paging","selectedIndex","BackButton_default","loading","onBackClick","ReloadButton_default","onReload","AssigneeFacet_AssigneeFacet","handleSearch","query","page","organization","handleItemClick","itemValue","multiple","assignees","onChange","assigned","newValue","sortBy_default","includes","without_default","handleClear","getAssigneeName","assignee","user","referencedUsers","users","name","login","loadSearchResultCount","getSortedItems","_this$props$stats","stats","keys","renderFacetItem","userName","Avatar","hash","avatar","size","renderSearchResult","result","displayName","search","values","ListStyleFacet","facetHeader","fetching","getFacetItemText","getSearchResultKey","getSearchResultText","onClear","onItemClick","onSearch","onToggle","open","property","omit_default","searchPlaceholder","SEARCH_SIZE","AuthorFacet_AuthorFacet","identity","author","_page","project","qualifier","api_issues","ps","q","then","authors","maxResults","results","term","CreationDateFacet_CreationDateFacet","hasValue","createdAfter","createdAt","createdBefore","createdInLast","sinceLeakPeriod","handleHeaderClick","resetTo","changes","_objectSpread","handleBarClick","handlePeriodChange","_ref2","from","to","handlePeriodClick","period","handleLeakPeriodClick","formatDate","intl","DateFormatter","_this$props2","periods","start","startDate","dates","endDate","setDate","getDate","tooltipEndDate","Date","is_same_day","concat","floor","maxValue","max_default","BarChart_default","DateTimeFormatter","date","DateFromNow","_this$props3","DateRangeInput","_this$props4","FacetItem","active","renderExactDate","renderBarChart","renderPeriodSelectors","renderPredefinedPeriods","FacetBox","FacetHeader","getValues","renderInner","defaultProps","sidebar_CreationDateFacet","index_es","DirectoryFacet_DirectoryFacet","directory","api_components","componentKey","components","filter","dir","directories","renderDirectory","QualifierIcon_default","minSearchLength","FileFacet_FileFacet","getFilePath","fileUuid","referencedComponents","getReferencedComponent","find","uuid","file","files","helpers_types","renderFile","fileUuids","sidebar_LanguageFacet","es","installedLanguages","rootReducer","getLanguageName","language","referencedLanguages","getAllPossibleOptions","toLowerCase","pageIndex","pageSize","Promise","resolve","uniqBy_default","languages","ProjectFacet_ProjectFacet","qualifiers","refKey","getProjectName","projects","renderProject","Organization","link","organizationKey","RESOLUTIONS","ResolutionFacet_ResolutionFacet","resolutions","resolved","orderBy_default","renderItem","resolution","isFacetItemActive","stat","getStat","halfWidth","getFacetItemName","FacetItemsList","MultipleSelectionHint","RuleFacet_RuleFacet","rules","f","join","s","include_external","response","rule","getRuleName","ruleKey","referencedRules","formatRuleName","langName","SEVERITIES","SeverityFacet_SeverityFacet","severities","severity","SeverityHelper","STATUSES","StatusFacet_StatusFacet","statuses","status","StatusHelper","title","TagFacet_SEARCH_SIZE","TagFacet_TagFacet","tags","getTagName","tag","renderTag","TagsIcon_default","gray60","TypeFacet_TypeFacet","types","IssueTypeIcon_default","constants","t","Sidebar_Sidebar","facets","loadingFacets","openFacets","commonProps","onFilterChange","onFacetToggle","referencedComponentsById","hideAuthorFacet","displayProjectsFacet","displayAuthorFacet","StandardFacet","cwe","cweOpen","cweStats","fetchingCwe","fetchingOwaspTop10","owaspTop10","fetchingSansTop25","sansTop25","fetchingSonarSourceSecurity","sonarsourceSecurity","standards","owaspTop10Open","owaspTop10Stats","sansTop25Open","sansTop25Stats","sonarsourceSecurityOpen","sonarsourceSecurityStats","referencedComponentsByKey","renderComponentFacets","myIssues","AssigneeSelect","SearchSelect_default","TagSelect","MAX_PAGE_SIZE","BulkChangeModal_BulkChangeModal","super","mounted","loadIssues","fetchIssues","additionalFields","getDefaultAssignee","currentUser","handleAssigneeSearch","r","userInfo","handleAssigneeSelect","handleTagsSearch","handleTagsSelect","field","handleFieldCheck","checked","handleRadioTransitionChange","transition","handleCommentChange","comment","handleSelectFieldChange","handleSubmit","pickBy_default","add_tags","addTags","do_transition","remove_tags","removeTags","sendNotifications","notifications","set_severity","set_type","issueKeys","submitting","onDone","error","throwGlobalError","renderLoading","onClose","renderAffected","affected","renderField","input","id","htmlFor","renderAssigneeOption","option","renderAssigneeField","hasAction","clearable","defaultOptions","renderOption","resetOnBlur","renderTypeField","optionRenderer","Select_default","searchable","valueRenderer","renderSeverityField","renderTagOption","renderTagsField","allowCreate","initialTags","canCreate","minimumQueryLength","multi","onMultiSelect","promptTextCreator","promptCreateTag","renderTransitionsField","transitions","getAvailableTransitions","Radio_default","onCheck","renderCommentField","HelpTooltip_default","rows","MarkdownTips","renderNotificationsField","Checkbox_default","right","renderForm","_this$state","limitReached","onSubmit","Alert","variant","defaultMessage","all","_ref3","_slicedToArray","_ref3$","Modal_default","contentLabel","onRequestClose","action","actions","ComponentBreadcrumbs","displayOrganization","displayProject","displaySubProject","selectedLocation","projectName","subProject","subProjectName","ListItem_ListItem","similarIssues","handleFilter","issuesReset","startsWith","ListItem_objectSpread","substr","projectKey","subProjectUuid","modules","componentUuid","branchLike","Issue","onFilter","onPopupToggle","openPopup","IssuesList_IssuesList","prerender","setTimeout","selectedIssue","onIssueChange","onIssueCheck","onIssueClick","crossComponentSourceViewer_CrossComponentSourceViewer","lazyLoad","e","bind","IssuesSourceViewer_IssuesSourceViewer","scrollToIssue","smooth","offset","handleLoaded","shouldScrollBackToIssue","loc","highlightedLocationMessage","l","onLoaded","aroundLine","textRange","startLine","endLine","allMessagesEmpty","highlightedLocations","SourceViewer","displayAllIssues","displayIssueLocationsCount","displayIssueLocationsLink","displayLocationMarkers","slimHeader","MyIssuesFilter_MyIssuesFilter","onMyIssuesChange","NoIssues","NoMyIssues","TotalEffort","effort","0","PageActions_PageActions","effortTotal","renderShortcuts","canSetHome","HomePageSelect","currentPage","system","DEFAULT_QUERY","MAX_INITAL_FETCH","App_App","handleKeyDown","keymaster","keyCode","altKey","handleKeyUp","getOpenIssue","selectNextIssue","getSelectedIndex","selectPreviousIssue","issueKey","pathname","App_objectSpread","branch_like","scrollToSelectedIssue","router","replace","closeIssue","openSelectedIssue","additional","requestFacets","requestOrganizations","facet","parameters","componentKeys","sort","asc","Boolean","multiOrganizations","fetchIssuesPage","fetchIssuesUntil","done","recursiveFetch","prevIssues","pageIssues","other","_objectWithoutProperties","fetchMoreIssues","checkAll","loadingMore","fetchIssuesForComponent","_component","_from","_this$state2","reject","isSameComponent","lastIssue","nextIssues","fetchFacet","keyBy_default","isFiltered","serialized","getCheckedIssues","getButtonLabel","min","handleFilterChange","handleMyIssuesChange","closeFacet","_this$state3","_ref4","handleFacetToggle","willOpenProperty","newState","handleReset","handlePopupToggle","popupName","samePopup","handleIssueCheck","handleIssueChange","refreshBranchStatus","candidate","handleOpenBulkChange","bulkChangeModal","handleCloseBulkChange","handleBulkChangeDone","fetchFirstIssues","handleReload","onBranchesChange","handleReloadAndOpenFirst","selectLocation","nextIndex","handleCheckAll","selectFlow","fetchBranchStatus","debounce_default","isLoggedIn","pages","attachShortcuts","handleRequiredAuthentication_default","prevState","prevQuery","detachShortcuts","addEventListener","removeEventListener","_this$state4","_this$state4$issues","findIndex","openIssueKey","fetchPromise","some","_ref5","cannotShowOpenIssue","_this$state5","isAllChecked","thirdState","isChecked","userOrganizations","userOrganization","o","FiltersHeader","displayReset","onReset","_this$state6","ListFooter_default","loadMore","ScreenPositionHelper","_ref6","top","A11ySkipTarget","anchor","weight","renderConciseIssuesList","renderFacets","_this$state7","noIssuesMessage","EmptySearch","_ref7","renderBulkChange","_this$state8","branch","pullRequest","DeferredSpinner_default","renderList","_this$state9","Suggestions","suggestions","index_module","defer","renderSide","renderHeader","renderPage","mapDispatchToProps","rootActions","__webpack_exports__","withRouter","react__WEBPACK_IMPORTED_MODULE_0__","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","formatterOption","react_intl__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","year","month","day","hour","minute","children","longFormatterOption","long","Icon_1","qualifierIcons","app","ThemedIcon","blue","brc","dev","DirectoryIcon","fil","svw","trk","ProjectIcon","uts","UnitTestIcon","vw","cla","dev_prj","lib","pac","orange","FoundIcon","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","_A11yContext__WEBPACK_IMPORTED_MODULE_2__","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","_this$props$label","toNumber","INFINITY","MAX_INTEGER","__rest","call","indexOf","getOwnPropertySymbols","propertyIsEnumerable","measures_1","DeferredSpinner_1","ready","hasMore","loadMoreLink","data-test","reloadLink","reload","new-loading","needReload","translateWithParameters","formatMeasure","sonar_ui_common_components_icons_SeverityIcon__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_SeverityIcon__WEBPACK_IMPORTED_MODULE_1___default","n","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","parse","getDaysInMonth","dirtyDate","dirtyAmount","amount","Number","desiredMonth","getMonth","dateWithDesiredMonth","setFullYear","getFullYear","setHours","daysInMonth","setMonth","monthIndex","lastDayOfMonth","getRulesApp","searchRules","takeFacet","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","catch","CLASS_SIDEBAR_PAGE","CLASS_WHITE_PAGE","CLASS_NO_FOOTER_PAGE","toggleBodyClass","force","body","classList","toggle","documentElement","addSideBarClass","addWhitePageClass","addNoFooterPageClass","removeSideBarClass","removeWhitePageClass","removeNoFooterPageClass","__assign","ChevronDownIcon_1","ChevronRightIcon_1","dirtyMonth","classnames__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","data-property","TagsList","sonar_ui_common_components_icons_DropdownIcon__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_icons_DropdownIcon__WEBPACK_IMPORTED_MODULE_2___default","sonar_ui_common_components_icons_TagsIcon__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_icons_TagsIcon__WEBPACK_IMPORTED_MODULE_3___default","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","_ref$allowUpdate","allowUpdate","aria-label","aria-hidden","getPosition","containerPos","container","getBoundingClientRect","pageYOffset","left","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","sonar_ui_common_components_controls_buttons__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2___default","sonar_ui_common_components_icons_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_icons_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_3___default","sonar_ui_common_components_ui_DeferredSpinner__WEBPACK_IMPORTED_MODULE_4__","sonar_ui_common_components_ui_DeferredSpinner__WEBPACK_IMPORTED_MODULE_4___default","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_5__","helper","showClearButton","renderHelper","renderValueIndicator","ctrlKey","metaKey","search-navigator-facet-half","data-facet","renderValue","MultiSelectOption","custom","onHover","renderLabel","onFocus","onMouseOver","onSelectChange","MultiSelect_MultiSelect","handleSelectChange","item","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","handleKeyboard","evt","stopPropagation","selectNextElement","selectPreviousElement","toggleSelect","stopLoading","isNewElement","onUnselect","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","listSize","unselectedElements","difference_default","setElementActive","idx","allElements","totalElements","searchInput","focus","_this$props$allowSele","allowSelection","_this$props$allowNewE","allowNewElements","_this$props$footerNod","footerNode","activeElement","showNewElement","infiniteList","listClasses","menu-vertically-limited","spacer-top","with-top-separator","with-bottom-separator","div","SearchBox_default","autoFocus","placeholder","_helpers_urls__WEBPACK_IMPORTED_MODULE_3__","dirtyYear","addMonths","createRange","baseRange","isIterateeCall","toFinite","fromRight","end","step","nativeCeil","ceil","nativeMax","ListStyleFacetFooter_ListStyleFacetFooter","handleShowMoreClick","showMore","handleShowLessClick","showLess","allShown","ListStyleFacet_ListStyleFacet","searching","searchResultsCounts","showFullList","stopSearching","loadCountsForSearchResults","searchMaxResults","searchResults","searchPaging","searchMore","_this$props$loadSearc","resultsToLoad","hideFullList","helpers_query","maxInitialItems","sortedItems","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","minLength","loadingResults","showList","search-navigator-facet-box-forbidden","disabledHelper","renderSearch","renderSearchResults","highlightTerm","str","pos","Fragment","substring","TagsSelector","_common_MultiSelect__WEBPACK_IMPORTED_MODULE_2__","selectedTags","validateTag","DayPicker","sonar_ui_common_components_lazyLoad__WEBPACK_IMPORTED_MODULE_14__","DateInput","react__WEBPACK_IMPORTED_MODULE_6__","openCalendar","handleResetClick","closeCalendar","currentMonth","lastHovered","handleDayClick","modifiers","handleDayMouseEnter","handleCurrentMonthChange","date_fns_set_month__WEBPACK_IMPORTED_MODULE_3__","handleCurrentYearChange","date_fns_set_year__WEBPACK_IMPORTED_MODULE_4__","handlePreviousMonthClick","date_fns_sub_months__WEBPACK_IMPORTED_MODULE_5__","handleNextMonthClick","date_fns_add_months__WEBPACK_IMPORTED_MODULE_2__","highlightFrom","highlightTo","minDate","after","maxDate","months","lodash_range__WEBPACK_IMPORTED_MODULE_0___default","years","selectedDays","lastHoveredOrValue","highlighted","weekdaysLong","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_15__","weekdaysShort","sonar_ui_common_components_controls_OutsideClickHandler__WEBPACK_IMPORTED_MODULE_9___default","onClickOutside","classnames__WEBPACK_IMPORTED_MODULE_1__","InputWrapper","inputClassName","is-filled","innerRef","readOnly","sonar_ui_common_components_icons_CalendarIcon__WEBPACK_IMPORTED_MODULE_11___default","sonar_ui_common_components_controls_buttons__WEBPACK_IMPORTED_MODULE_8__","iconProps","sonar_ui_common_components_icons_ChevronLeftIcon__WEBPACK_IMPORTED_MODULE_12___default","sonar_ui_common_components_controls_Select__WEBPACK_IMPORTED_MODULE_10___default","String","sonar_ui_common_components_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_13___default","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","react_intl__WEBPACK_IMPORTED_MODULE_7__","formattedValue","react_redux__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_controls_buttons__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4__","sonar_ui_common_components_controls_Tooltip__WEBPACK_IMPORTED_MODULE_4___default","sonar_ui_common_components_icons_HomeIcon__WEBPACK_IMPORTED_MODULE_5__","sonar_ui_common_components_icons_HomeIcon__WEBPACK_IMPORTED_MODULE_5___default","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","_helpers_users__WEBPACK_IMPORTED_MODULE_7__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_8__","setHomePage","homepage","filled","color","leading","clickAttributes","is-leading","sonar_ui_common_components_icons_StatusIcon__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_StatusIcon__WEBPACK_IMPORTED_MODULE_1___default","Radio","aria-checked","is-checked","navigator","userAgent","sonar_ui_common_components_lazyLoad__WEBPACK_IMPORTED_MODULE_0__","isSymbol","array","iteratee","comparator","computed","getStandards","renderCWECategory","category","record","renderOwaspTop10Category","withPrefix","addPrefix","toUpperCase","renderSansTop25Category","renderSonarSourceSecurityCategory","prefix","_DateInput__WEBPACK_IMPORTED_MODULE_3__","handleFromChange","toDateInput","handleToChange","startOfDay","dirtyDateLeft","dirtyDateRight","dateLeftStartOfDay","dateRightStartOfDay","getTime","IssueChangelogDiff","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","diff","oldValue","ReloadButton","updateIssue","resultPromise","oldIssue","newIssue","optimisticUpdate","helpers_issues","SelectListItem_SelectListItem","handleSelect","handleHover","classnames_default","placement","renderLink","SelectList_SelectList","previousKeyScope","previousFilter","currentKeyScope","uniqueId_default","tagName","target","srcElement","isInput","items","renderChild","child","currentItem","hasChildren","LIST_SIZE","popups_SetAssigneePopup","withCurrentUser","searchMembers","organizations","projectOrganization","handleSearchResult","searchUsers","api_users","activeUsers","helpers_users","defaultUsersArray","Dropdown","noPadding","map_default","marginLeft","IssueAssign_IssueAssign","toggleAssign","togglePopup","handleClose","assigneeName","assigneeAvatar","assigneeActive","canAssign","Toggler_default","closeOnEscape","isOpen","onAssign","renderAssignee","DropdownIcon_default","CommentPopup_CommentPopup","textComment","handleCommentClick","trim","onComment","handleCancelClick","toggleComment","markdown","autoTriggered","onKeyDown","IssueCommentAction_IssueCommentAction","addComment","closeOnClickOutside","currentPopup","commentAutoTriggered","commentPlaceholder","SEVERITY","SetSeverityPopup","SeverityIcon_default","IssueSeverity_IssueSeverity","toggleSetSeverity","setSeverity","setIssueProperty","canSetSeverity","SetIssueTagsPopup_LIST_SIZE","SetIssueTagsPopup_SetIssueTagsPopup","searchResult","setTags","availableTags","popups","BottomRight","IssueTags_IssueTags","toggleSetTags","_issue$tags","canSetTags","SetTransitionPopup","fromHotspot","isManualVulnerability","_translateTransition2","translateTransition","description","IssueTransition_IssueTransition","setTransition","toggleSetTransition","hasTransitions","TYPES","SetTypePopup","IssueType_IssueType","toggleSetType","setType","canSetType","baseFontColor","IssueActionsBar_IssueActionsBar","popup","apiCall","IssueActionsBar_objectSpread","handleTransition","canComment","isSecurityHotspot","CommentDeletePopup","onDelete","IssueCommentLine_IssueCommentLine","handleEdit","onEdit","toggleEditPopup","handleDelete","toggleDeletePopup","closePopups","authorName","authorActive","authorAvatar","dangerouslySetInnerHTML","__html","purify","htmlText","updatable","ChangelogPopup_ChangelogPopup","changelog","loadChangelog","creationDate","isUserActive","diffs","IssueChangelog_IssueChangelog","toggleChangelog","IssueMessage","engine","manualVulnerability","onOpenRule","SimilarIssuesPopup_SimilarIssuesPopup","ruleName","componentQualifier","SimilarIssuesFilter_SimilarIssuesFilter","FilterIcon_default","IssueTitleBar","hasSimilarIssuesFilter","locationsCount","reduce","sum","locationsBadge","displayLocations","displayLocationsCount","issueUrl","urls","IssueTitleBar_objectSpread","context","openRule","externalRuleEngine","displayLocationsLink","LinkIcon_default","IssueView_IssueView","handleCheck","isClickable","parentElement","editComment","deleteComment","hasCheckbox","issueClass","hotspot","issue-with-checkbox","data-issue","comments","Issue_Issue","handleAssignement","bindShortcuts","unbindShortcuts","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","_ui_OrganizationLink__WEBPACK_IMPORTED_MODULE_3__","_props$link","shouldBeDisplayed","linkClassName","ownProps","react__WEBPACK_IMPORTED_MODULE_3__","_utils__WEBPACK_IMPORTED_MODULE_13__","cweQuery","loadStandards","_helpers_security_standard__WEBPACK_IMPORTED_MODULE_12__","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","handleSonarSourceSecurityHeaderClick","prop","lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default","lodash_without__WEBPACK_IMPORTED_MODULE_0___default","handleOwaspTop10ItemClick","handleSansTop25ItemClick","handleSonarSourceSecurityItemClick","handleCWESearch","loadCWESearchResultCount","categories","statsProp","valuesProp","renderName","renderFacetItemsList","renderTooltip","_components_facet_FacetItemsList__WEBPACK_IMPORTED_MODULE_9__","_components_facet_FacetItem__WEBPACK_IMPORTED_MODULE_8__","renderHint","_components_facet_MultipleSelectionHint__WEBPACK_IMPORTED_MODULE_11__","_components_facet_FacetBox__WEBPACK_IMPORTED_MODULE_6__","_components_facet_FacetHeader__WEBPACK_IMPORTED_MODULE_7__","renderSonarSourceSecurityList","renderSonarSourceSecurityHint","renderOwaspTop10List","renderOwaspTop10Hint","renderSansTop25List","renderSansTop25Hint","_components_facet_ListStyleFacet__WEBPACK_IMPORTED_MODULE_10__","lodash_omit__WEBPACK_IMPORTED_MODULE_2___default","sonar_ui_common_helpers_search__WEBPACK_IMPORTED_MODULE_5__","renderSubFacets","sonar_ui_common_components_icons_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1___default","baseExtremum","baseGt","lodash_1","Select_1","SearchSelect","currentQuery","handleChange","isArray","handleInputChange","handleFilterOption","debounce","componentDidMount","componentWillUnmount","get","autofocus","enumerable","configurable","Component","Creatable","escapeClearsValue","filterOption","isLoading","noResultsText","onBlurResetsInput","onInputChange"],"mappings":"6FACA,IACAA,EADAC,EAAAC,WAAAD,YACAD,EAAA,SAAAG,EAAAC,GAIA,OAHAJ,EAAAK,OAAAC,gBACA,CAAcC,UAAA,cAAgBC,OAAA,SAAAL,EAAAC,GAAsCD,EAAAI,UAAAH,IACpE,SAAAD,EAAAC,GAA6B,QAAAK,KAAAL,IAAAM,eAAAD,KAAAN,EAAAM,GAAAL,EAAAK,MAC7BN,EAAAC,IAEA,SAAAD,EAAAC,GAEA,SAAAO,IAAuBT,KAAAU,YAAAT,EADvBH,EAAAG,EAAAC,GAEAD,EAAAU,UAAA,OAAAT,EAAAC,OAAAS,OAAAV,IAAAO,EAAAE,UAAAT,EAAAS,UAAA,IAAAF,KAGAN,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAC,EAAiBC,EAAQ,KACzBC,EAAYD,EAAQ,GACpBE,EAAaF,EAAQ,GACrBG,EAAcH,EAAQ,KACtBI,EAAgBJ,EAAQ,KACxBK,EAAA,SAAAC,GAEA,SAAAD,IACA,IAAAE,EAAA,OAAAD,KAAAE,MAAAzB,KAAA0B,YAAA1B,KAUA,OATAwB,EAAAG,YAAA,SAAAC,GACAA,EAAAC,iBACAD,EAAAE,cAAAC,OACAP,EAAAQ,MAAAC,UACAT,EAAAQ,MAAAE,WAGAV,EAAAW,WAAA,WAAwC,OAAAjB,EAAAkB,cAAAhB,EAAAiB,cAAA,cAAAC,GAA4E,OAAApB,EAAAkB,cAAA,OAAqCG,OAAA,KAAAC,QAAA,YAAAC,MAAA,MACzJvB,EAAAkB,cAAA,QAAyCnC,EAAA,ynBAAAyC,KAAAlB,EAAAQ,MAAAC,SAAAK,EAAAK,OAAAC,gBAAAN,EAAAK,OAAAE,sBACzCrB,EAOA,OAnBAzB,EAAAuB,EAAAC,GAcAD,EAAAX,UAAAmC,OAAA,WACA,IAAAC,EAAA/C,KAAAgC,MAAAgB,eAAA,IAAAD,EAAA5B,EAAA8B,UAAA,yBAAAF,EACA,OAAA7B,EAAAkB,cAAAf,EAAA6B,QAAA,CAAwDC,QAAAH,GACxD9B,EAAAkB,cAAA,KAAsCgB,UAAApC,EAAA,qBAA6CqC,qBAAArD,KAAAgC,MAAAC,UAA4CjC,KAAAgC,MAAAoB,WAAAE,KAAA,IAAApB,QAAAlC,KAAA2B,aAA+D3B,KAAAmC,gBAE9Lb,EApBA,CAqBCJ,EAAAqC,eACDzC,EAAAoC,QAAA5B,qCCzCA,IACAxB,EADAC,EAAAC,WAAAD,YACAD,EAAA,SAAAG,EAAAC,GAIA,OAHAJ,EAAAK,OAAAC,gBACA,CAAcC,UAAA,cAAgBC,OAAA,SAAAL,EAAAC,GAAsCD,EAAAI,UAAAH,IACpE,SAAAD,EAAAC,GAA6B,QAAAK,KAAAL,IAAAM,eAAAD,KAAAN,EAAAM,GAAAL,EAAAK,MAC7BN,EAAAC,IAEA,SAAAD,EAAAC,GAEA,SAAAO,IAAuBT,KAAAU,YAAAT,EADvBH,EAAAG,EAAAC,GAEAD,EAAAU,UAAA,OAAAT,EAAAC,OAAAS,OAAAV,IAAAO,EAAAE,UAAAT,EAAAS,UAAA,IAAAF,KAGAN,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAyC,EAAiBvC,EAAQ,KACzBwC,EAAiBxC,EAAQ,KACzBC,EAAYD,EAAQ,GACpBI,EAAgBJ,EAAQ,KACxBA,EAAQ,KACR,IAAAyC,EAAA,SAAAnC,GAEA,SAAAmC,IACA,IAAAlC,EAAA,OAAAD,KAAAE,MAAAzB,KAAA0B,YAAA1B,KA8CA,OA7CAwB,EAAAG,YAAA,SAAAgC,GACAnC,EAAAQ,MAAA4B,YACApC,EAAAQ,MAAA4B,WAAAD,IAGAnC,EAAAqC,aAAA,SAAAC,EAAAC,GACA,IAAAhB,EAAAvB,EAAAQ,MAAAgC,EAAAjB,EAAAiB,KAAAC,EAAAlB,EAAAmB,cAAA,IAAAD,EAAA,GAAAA,EACA,IAAAC,EAAAC,OACA,YAEA,IAAAC,EAAAF,EAAAG,IAAA,SAAAC,EAAAC,GACA,IAAAZ,EAAAK,EAAAO,GACAC,EAAAC,KAAAC,MAAAZ,EAAAH,EAAAa,GAAAV,EAAAa,YAAA,GACAC,EAAAb,EAAAc,QAAA,GACA5E,EAAA+D,EAAAO,GACAO,EAAA5D,EAAAkB,cAAA,QAAyDgB,UAAA,iBAAA2B,GAAA,QAAAC,IAAAT,EAAArC,QAAA,WAA6E,OAAAV,EAAAG,YAAAgC,IAAmCsB,MAAA,CAAUC,OAAA1D,EAAAQ,MAAA4B,WAAA,qBAAyDY,IAAAI,KAAcN,GAC1P,OAAApD,EAAAkB,cAAAf,EAAA6B,QAAA,CAAgE8B,IAAAT,EAAApB,QAAAlD,EAAA+C,cAAAmC,GAA8CL,KAE9G,OAAA5D,EAAAkB,cAAA,SAAAgC,IAEA5C,EAAA4D,cAAA,SAAAtB,EAAAC,GACA,IAAAhB,EAAAvB,EAAAQ,MAAAgC,EAAAjB,EAAAiB,KAAAC,EAAAlB,EAAAsC,eAAA,IAAApB,EAAA,GAAAA,EACA,IAAAoB,EAAAlB,OACA,YAEA,IAAAC,EAAAiB,EAAAhB,IAAA,SAAAtD,EAAAwD,GACA,IAAAZ,EAAAK,EAAAO,GACAC,EAAAC,KAAAC,MAAAZ,EAAAH,EAAAa,GAAAV,EAAAa,YAAA,GACAC,EAAAb,EAAAJ,EAAAiB,GACAE,EAAA5D,EAAAkB,cAAA,QAAyDgB,UAAA,iBAAA2B,GAAA,OAAAC,IAAAT,EAAArC,QAAA,WAA4E,OAAAV,EAAAG,YAAAgC,IAAmCsB,MAAA,CAAUC,OAAA1D,EAAAQ,MAAA4B,WAAA,qBAAyDY,IAAAI,KAAc7D,GACzP,OAAAG,EAAAkB,cAAAf,EAAA6B,QAAA,CAAgE8B,IAAAT,EAAApB,QAAAQ,EAAAX,cAAAmC,GAAkDL,KAElH,OAAA5D,EAAAkB,cAAA,SAAAgC,IAEA5C,EAAA8D,WAAA,SAAAxB,EAAAC,GACA,IAAAwB,EAAA/D,EAAAQ,MAAAgC,KAAAK,IAAA,SAAAV,EAAAY,GACA,IAAAC,EAAAC,KAAAC,MAAAZ,EAAAH,EAAAa,IACAgB,EAAAzB,EAAAc,QAAA,GACAD,EAAAH,KAAAC,MAAAX,EAAAJ,EAAAiB,IAAA,EACArC,EAAAiD,EAAAZ,EACAa,EAAAvE,EAAAkB,cAAA,QAAyDgB,UAAA,gBAAAb,SAAAyC,IAAAT,EAAArC,QAAA,WAA+E,OAAAV,EAAAG,YAAAgC,IAAmCsB,MAAA,CAAUC,OAAA1D,EAAAQ,MAAA4B,WAAA,qBAAyDnB,MAAAjB,EAAAQ,MAAA0D,UAAAlB,IAAAI,MAC9O,OAAA1D,EAAAkB,cAAAf,EAAA6B,QAAA,CAAgE8B,IAAAT,EAAApB,QAAAQ,EAAAX,cAAAmC,GAAkDM,KAElH,OAAAvE,EAAAkB,cAAA,SAAAmD,IAEA/D,EAsBA,OAtEAzB,EAAA2D,EAAAnC,GAkDAmC,EAAA/C,UAAAmC,OAAA,WACA,IAAAC,EAAA/C,KAAAgC,MAAA0D,EAAA3C,EAAA2C,UAAA1B,EAAAjB,EAAAiB,KAAAvB,EAAAM,EAAAN,MAAAF,EAAAQ,EAAAR,OAAA0B,EAAAlB,EAAA4C,eAAA,IAAA1B,EAAA,cAAAA,EACA2B,EAAAnD,EAAAkD,EAAA,GAAAA,EAAA,GACAE,EAAAtD,EAAAoD,EAAA,GAAAA,EAAA,GACAG,GAAAF,EAAAF,EAAA1B,EAAAG,SAAAH,EAAAG,OAAA,GACA4B,EAAAD,KAAAJ,GACAF,EAAAhC,EAAAwC,IAAAhC,EAAA,SAAA/D,GAAsD,OAAAA,EAAA2E,IACtDd,EAAAL,EAAAwC,YACAC,OAAAlC,EAAAK,IAAA,SAAApE,GAA2C,OAAAA,EAAAuE,KAC3CK,MAAA,GAAAe,IACAO,aAAAJ,GACAhC,EAAAN,EAAA2C,cACAF,OAAA,GAAAV,IACAX,MAAA,CAAAgB,EAAA,IACA,OAAA3E,EAAAkB,cAAA,OAA4CgB,UAAA,YAAAb,SAAAE,SAC5CvB,EAAAkB,cAAA,KAAsCiE,UAAA,aAAAV,EAAA,QAAAA,EAAA,QACtC3F,KAAA6D,aAAAC,EAAAC,GACA/D,KAAAoF,cAAAtB,EAAAC,GACA/D,KAAAsF,WAAAxB,EAAAC,MAEAL,EAvEA,CAwECxC,EAAAqC,eACDzC,EAAAoC,QAAAQ,wBC5FA,IAAA4C,EAAcrF,EAAQ,MAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,+BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,s0JAA40J,iXCoB51J,SAASM,EAAyBC,GAAY,MAC3CC,EAAqCD,EAArCC,UAAWC,EAA0BF,EAA1BE,sBACnB,GAAID,IAAcA,EAAUE,mBAAmB/C,OAAS,GAAK6C,EAAUG,MAAMhD,OAAS,GAAI,CACxF,MAAMiD,EACJL,EAAMK,oBAAsBJ,EAAUG,MAAMhD,OAAS,EAAI,OAAIgB,GAE/D,IAAKhF,OAAAkH,EAAA,EAAAlH,CAAkB6G,EAAWI,GAChC,MAAO,CACLE,oBAAoB,EACpBF,oBAEAH,uBACGA,GAAyBA,EAAwB,EAAI,EAAIA,GAIlE,OAAO,KAGF,SAASM,IACd,MAAO,CAAED,oBAAoB,GAqBxB,SAASE,EACdT,GAA+E,MAEvEK,EAA+DL,EAA/DK,kBAA0C7C,EAAqBwC,EAA5CE,sBAA8BD,EAAcD,EAAdC,UACzD,GAAIA,EAAW,CACb,MAIMS,QAHkBtC,IAAtBiC,EACIJ,EAAUG,MAAMC,GAChBJ,EAAUE,oBACkB/C,OAAS,EAC3C,OAAII,IAAUkD,EAEL,CAAER,uBAAwB,GAE5B,CACLA,2BAAiC9B,IAAVZ,GAAuBA,EAAQkD,EAAkBlD,EAAQ,EAAIA,GAGxF,OAAO,KAGF,SAASmD,EAAuBX,GAAY,MACzCK,EAA+DL,EAA/DK,kBAA0C7C,EAAqBwC,EAA5CE,sBAA8BD,EAAcD,EAAdC,UACzD,GAAIA,EAAW,CACb,IAAe,IAAXzC,EAAc,CAMhB,MAAO,CAAE0C,4BAJe9B,IAAtBiC,EACIJ,EAAUG,MAAMC,GAChBJ,EAAUE,oBACkB/C,OAAS,GAG7C,MAAO,CAAE8C,2BAAiC9B,IAAVZ,GAAuBA,EAAQ,EAAIA,EAAQ,EAAIA,GAEjF,OAAO,KASF,SAASoD,EAAeZ,GAAY,MACjCC,EAAiCD,EAAjCC,UAAWI,EAAsBL,EAAtBK,kBACnB,OACEJ,QACsB7B,IAAtBiC,GACAJ,EAAUG,MAAMhD,OAASiD,EAAoB,EAEtC,CAAEA,kBAAmBA,EAAoB,EAAGH,sBAAuB,GAErE,KAGF,SAASW,EAAmBb,GAAY,MACrCC,EAAiCD,EAAjCC,UAAWI,EAAsBL,EAAtBK,kBACnB,OAAIJ,QAAmC7B,IAAtBiC,GAAmCA,EAAoB,EAC/D,CAAEA,kBAAmBA,EAAoB,EAAGH,sBAAuB,GAErE,oCCjGM,SAASY,EAAVC,GAA8D,IAAdC,EAAcD,EAAdC,MAC5D,IAAKA,IAAWA,EAAMb,mBAAmB/C,SAAW4D,EAAMZ,MAAMhD,OAC9D,OAAO,KAET,MAAM6D,EAAkBD,EAAMZ,MAAMhD,OAAS,EAC7C,OACE8D,EAAA,qBAAK7E,UAAU,4DACb6E,EAAA,uCACaD,GAAmBC,EAAA,cAAAA,EAAA,oBAC7B9H,OAAA+H,EAAA,UAAA/H,CAAU,gFCJJ,SAASgI,EAA0BnG,GAChD,OACEiG,EAAA,cAACG,EAAAC,EAAO,CACNC,gBAAiB,GACjBnF,QAAShD,OAAA+H,EAAA,wBAAA/H,CACP,6CACAA,OAAAoI,EAAA,cAAApI,CAAc6B,EAAMwG,MAAO,SAE7BP,EAAA,cAACQ,EAAA,EAAa,CAACvG,QAASF,EAAME,QAASwG,SAAU1G,EAAM0G,UACpD,IACA1G,EAAMwG,QCRf,MAAMG,EAAQ,EAEC,MAAMC,WAA8BX,EAAA,cAAnDY,kCACE7I,KAAA+G,MAAe,CAAE+B,WAAW,GAE5B9I,KAAA+I,kBAAoB,KAClB/I,KAAKgJ,SAAS,CAAEF,WAAW,KAG7BD,qBACE,OACEZ,EAAA,cAACgB,EAAA,OAAM,CACL7F,UAAU,wDACVlB,QAASlC,KAAK+I,mBAAiB,OAMrCF,SAAM,MAAAK,EACkClJ,KAAKgC,MAAM+F,MAAzCb,EADJgC,EACIhC,mBAAoBC,EADxB+B,EACwB/B,MAEtBgC,EAAwB,GAuB9B,OArBIjC,EAAmB/C,OAAS,GAC9BgF,EAAOtC,KACLoB,EAAA,cAACE,EAAyB,CACxBK,MAAOtB,EAAmB/C,OAC1Ba,IAAI,KACJ0D,UAAW1I,KAAKgC,MAAMoF,qBAK5BD,EAAMiC,QAAQ,CAACC,EAAM9E,KACnB4E,EAAOtC,KACLoB,EAAA,cAACE,EAAyB,CACxBK,MAAOa,EAAKlF,OACZa,IAAKT,EACLrC,QAAS,IAAMlC,KAAKgC,MAAMsH,aAAa/E,GACvCmE,SAAUnE,IAAUvE,KAAKgC,MAAMoF,wBAKhCpH,KAAK+G,MAAM+B,WAAaK,EAAOhF,QAAUwE,EACrCQ,EAIPlB,EAAA,cAAAA,EAAA,cACGkB,EAAOI,MAAM,EAAGZ,EAAQ,GACxB3I,KAAKwJ,0DCpDC,MAAMC,WAA+CxB,EAAA,cAApEY,kCAeE7I,KAAA2B,YAAeC,IACbA,EAAMC,iBACN7B,KAAKgC,MAAME,QAAQlC,KAAKgC,MAAMuC,QAdhCsE,oBACM7I,KAAKgC,MAAM0G,UAAY1I,KAAK0J,MAC9B1J,KAAKgC,MAAM2H,OAAO3J,KAAK0J,MAI3Bb,mBAAmBe,GACb5J,KAAKgC,MAAM0G,UAAYkB,EAAUlB,WAAa1I,KAAKgC,MAAM0G,UAAY1I,KAAK0J,MAC5E1J,KAAKgC,MAAM2H,OAAO3J,KAAK0J,MAS3Bb,cAActE,GAA+C,IAAhCsF,EAAgCnI,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,GAAAA,UAAA,GAAtB,GAAIoI,EAAkBpI,UAAAyC,OAAA,EAAAzC,UAAA,QAAAyD,EAC3D,OAAQZ,GACN,KAAK,EACH,MAAO,WAAasF,EACtB,KAAKC,EAAa,EAChB,MAAO,SAAWD,EACpB,QACE,OAAOA,GAIbhB,SAAM,MAAAkB,EAC8D/J,KAAKgC,MAA/DuC,EADJwF,EACIxF,MAAOyF,EADXD,EACWC,gBAAiBH,EAD5BE,EAC4BF,QAASnB,EADrCqB,EACqCrB,SAAUoB,EAD/CC,EAC+CD,WAEnD,OACE7B,EAAA,qBAAK7E,UAAU,oBAAoB6G,IAAKP,GAAS1J,KAAK0J,KAAOA,GAC3DzB,EAAA,mBACE7E,UAAU,6CACVE,KAAK,IACLpB,QAASlC,KAAK2B,aACdsG,EAAA,cAACQ,EAAA,EAAa,CAACC,SAAUA,GAAWnE,EAAQ,GAC5C0D,EAAA,cAACiC,GAAA,EAAe,CAACxB,SAAUA,GACxBsB,EAAkBhK,KAAKmK,cAAc5F,EAAOsF,EAASC,GAAcD,oBC/BjE,MAAMO,WAAoCnC,EAAA,cAAzDY,cAAA,IAAArH,wBAAAxB,KACEA,KAAA+G,MAAe,CAAE+B,WAAW,GAmB5B9I,KAAAqK,yBAA4BzI,IAC1BA,EAAMC,iBACND,EAAME,cAAcC,OACpB/B,KAAKgJ,SAAS,CAAEF,WAAW,KAG7B9I,KAAAsK,YAAeC,IACb,MAAMC,EAA0B,GAEhC,IACIC,EACAC,EAFAC,EAAqC,GAGrCC,EAA4B,EAEhC,IAAK,IAAIrG,EAAQ,EAAGA,EAAQgG,EAAUpG,OAAQI,IAAS,CACrD,MAAMsG,EAAWN,EAAUhG,GACvBsG,EAASC,YAAcL,EACzBE,EAAiB9D,KAAKgE,IAElBF,EAAiBxG,OAAS,GAC5BqG,EAAO3D,KAAK,CACViE,UAAWL,EACXM,cAAeL,EACfM,mBAAoBJ,EACpBL,UAAWI,IAGfA,EAAmB,CAACE,GACpBJ,EAAmBI,EAASC,UAC5BJ,EAAuBG,EAASE,cAChCH,EAA4BrG,GAahC,OATIoG,EAAiBxG,OAAS,GAC5BqG,EAAO3D,KAAK,CACViE,UAAWL,EACXM,cAAeL,EACfM,mBAAoBJ,EACpBL,UAAWI,IAIRH,GAGTxK,KAAAiL,eAAiB,CAAC1G,EAAesF,IAE7B5B,EAAA,cAACwB,GAAsC,CACrClF,MAAOA,EACPyF,gBAAiBhK,KAAKgC,MAAMgI,gBAC5BhF,IAAKT,EACLsF,QAASA,EACT3H,QAASlC,KAAKgC,MAAMkJ,iBACpBvB,OAAQ3J,KAAKgC,MAAM2H,OACnBjB,SAAUnE,IAAUvE,KAAKgC,MAAMiF,sBAC/B6C,WAAY9J,KAAKgC,MAAMuI,UAAUpG,SAKvCnE,KAAAmL,YAAc,SACZC,EACAC,GAEE,IAAAvD,EAAApG,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,GAAAA,UAAA,GADwC,GACxC4J,EAAAxD,EADAyD,iBACA,IAAAD,KAAAE,EAAA1D,EADmB2D,gBACnB,IAAAD,KAAA,MACMR,EAAuBI,EAAvBJ,mBACFU,EAAoBN,EAAMb,UAAUpG,OAAS,EACnD,OACE8D,EAAA,qBAAK7E,UAAU,yCAAyC4B,IAAKqG,GAC3DpD,EAAA,qBAAK7E,UAAU,+BACb6E,EAAA,mBAAG7E,UAAU,2DACZjD,OAAAwL,GAAA,aAAAxL,CAAaiL,EAAML,eAAiB,GAAI,KAE1CK,EAAMb,UAAUpG,OAAS,GACxB8D,EAAA,qBAAK7E,UAAU,yCACZmI,GAAa/J,EAAKyJ,eAAeD,EAAoBI,EAAMb,UAAU,GAAGqB,KAExEH,GACCjK,EAAKyJ,eACHD,EAAqBU,EACrBN,EAAMb,UAAUmB,GAAmBE,MAGrCL,IACCE,GACDL,EAAMb,UAAUlG,IAAI,CAACwG,EAAUtG,IAC7B/C,EAAKyJ,eAAeD,EAAqBzG,EAAOsG,EAASe,SAxGvE/C,0BAA0BgD,GACpBA,EAAU9D,MAAM/C,MAAQhF,KAAKgC,MAAM+F,MAAM/C,KAC3ChF,KAAKgJ,SAAS,CAAEF,WAAW,IAFW,MAMrBgD,EAAkBD,EAA7BtB,UAENsB,EAAU5E,uBACV4E,EAAU5E,sBAAwB,QAChB9B,IAAlB2G,GACAD,EAAU5E,sBAAwB6E,EAAc3H,OAAS,GAEzDnE,KAAKgJ,SAAS,CAAEF,WAAW,IAmG/BD,SAAM,MACI0B,EAAcvK,KAAKgC,MAAnBuI,UACFC,EAASxK,KAAKsK,YAAYC,GAEhC,GAAIA,EAAUpG,OAAS,GAAKqG,EAAOrG,OAAS,GAAKnE,KAAK+G,MAAM+B,UAAW,CACrE,MAAMiD,EAAavB,EAAO,GACpBwB,EAAYxB,EAAOA,EAAOrG,OAAS,GACzC,OACE8D,EAAA,qBAAK7E,UAAU,gDACZpD,KAAKmL,YAAYY,EAAY,EAAG,CAAER,WAAW,IAC9CtD,EAAA,qBAAK7E,UAAU,0CACb6E,EAAA,qBAAK7E,UAAU,+BACb6E,EAAA,mBAAG7E,UAAU,oEACb6E,EAAA,mBACE7E,UAAU,mCACVE,KAAK,IACLpB,QAASlC,KAAKqK,0BACblK,OAAA+H,EAAA,wBAAA/H,CAAwB,0BAA2BoK,EAAUpG,OAAS,MAI5EnE,KAAKmL,YAAYa,EAAWxB,EAAOrG,OAAS,EAAG,CAAEsH,UAAU,KAIhE,OACExD,EAAA,qBAAK7E,UAAU,gDACZoH,EAAOnG,IAAI,CAAC+G,EAAOC,IAAerL,KAAKmL,YAAYC,EAAOC,MCzJtD,MAAMY,WAAuChE,EAAA,cAC1DY,SACE,MAAM0B,EAAYpK,OAAAkH,EAAA,EAAAlH,CAAaH,KAAKgC,MAAM+F,MAAO/H,KAAKgC,MAAMoF,mBAE5D,IAAKmD,GAAkC,IAArBA,EAAUpG,QAAgBoG,EAAU2B,MAAMrB,IAAaA,EAASe,KAChF,OAAO,KAGT,MAAM5B,EACsB,kBAA1BhK,KAAKgC,MAAM+F,MAAMoE,MAA4BnM,KAAKgC,MAAM+F,MAAMZ,MAAMhD,OAAS,EAEzEiI,EAAqB,CACzBpM,KAAKgC,MAAM+F,MAAM+C,aACdP,EAAUlG,IAAIwG,GAAYA,EAASC,YAIxC,OAFoBuB,KAAKD,GAAoBjI,OAAS,EAIlD8D,EAAA,cAACmC,GAA2B,CAC1BJ,gBAAiBA,EACjBjC,MAAO/H,KAAKgC,MAAM+F,MAClBwC,UAAWA,EACXW,iBAAkBlL,KAAKgC,MAAMkJ,iBAC7BvB,OAAQ3J,KAAKgC,MAAM2H,OACnB1C,sBAAuBjH,KAAKgC,MAAMiF,wBAKpCgB,EAAA,qBAAK7E,UAAU,gDACZmH,EAAUlG,IAAI,CAACwG,EAAUtG,IACxB0D,EAAA,cAACwB,GAAsC,CACrClF,MAAOA,EACPyF,gBAAiBA,EACjBhF,IAAKT,EACLsF,QAASgB,EAASe,IAClB1J,QAASlC,KAAKgC,MAAMkJ,iBACpBvB,OAAQ3J,KAAKgC,MAAM2H,OACnBjB,SAAUnE,IAAUvE,KAAKgC,MAAMiF,sBAC/B6C,WAAYS,EAAUpG,YCpCrB,MAAMmI,WAAwBrE,EAAA,cAA7CY,kCAgBE7I,KAAA2B,YAAeC,IACbA,EAAMC,iBACN7B,KAAKgC,MAAME,QAAQlC,KAAKgC,MAAM+F,MAAM/C,MAGtChF,KAAAuM,aAAe,KAAK,MACVnF,EAAsBpH,KAAKgC,MAA3BoF,kBADU8B,EAEoBlJ,KAAKgC,MAAM+F,MAAzCZ,EAFU+B,EAEV/B,MAAOD,EAFGgC,EAEHhC,mBAETqD,EAAYpD,EAAMhD,OAAS,EAAIgD,EAAMC,GAAqB,GAAKF,GAEhEqD,GAAaA,EAAUpG,OAAS,GAG/BnE,KAAKwM,aACPxM,KAAKgC,MAAM2H,OAAO3J,KAAKwM,aAEhBxM,KAAKyM,gBAEdzM,KAAKgC,MAAM2H,OAAO3J,KAAKyM,eAAgBC,OAAOC,YAAc,MA/BhE9D,oBACM7I,KAAKgC,MAAM0G,UACb1I,KAAKuM,eAIT1D,mBAAmBe,GACb5J,KAAKgC,MAAM0G,UAAYkB,EAAUlB,WAAa1I,KAAKgC,MAAM0G,UAC3D1I,KAAKuM,eA2BT1D,SAAM,MAAAkB,EACwB/J,KAAKgC,MAAzB+F,EADJgC,EACIhC,MAAOW,EADXqB,EACWrB,SAETkE,EAAsBlE,EACxB,GACA,CAAExG,QAASlC,KAAK2B,YAAakL,KAAM,WAAYC,SAAU,GAEvDC,EAAuBrE,EACzB,CAAExG,QAASlC,KAAK2B,YAAakL,KAAM,WAAYC,SAAU,GACzD,GAEJ,OACE7E,EAAA,oBAAA9H,OAAA6M,OAAA,CACE5J,UAAW6J,EAAW,oBAAqB,WAAY,CAAEvE,aACzDuB,IAAKP,GAAS1J,KAAKwM,YAAc9C,GAC7BkD,GACJ3E,EAAA,oBAAA9H,OAAA6M,OAAA,CACE5J,UAAU,6BACN2J,EAAoB,CACxB9C,IAAKP,GAAS1J,KAAKyM,eAAiB/C,IACnC3B,EAAM8B,SAET5B,EAAA,qBAAK7E,UAAU,gCACb6E,EAAA,cAACiF,EAAA,EAAU,CAAC9J,UAAU,oCAAoC+I,KAAMpE,EAAMoE,OACtElE,EAAA,cAACW,GAAqB,CACpBb,MAAOA,EACPuB,aAActJ,KAAKgC,MAAMsH,aACzBlC,kBAAmBpH,KAAKgC,MAAMoF,qBAGjCsB,GACCT,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACgE,GAA8B,CAC7BlE,MAAOA,EACPmD,iBAAkBlL,KAAKgC,MAAMkJ,iBAC7BvB,OAAQ3J,KAAKgC,MAAM2H,OACnBvC,kBAAmBpH,KAAKgC,MAAMoF,kBAC9BH,sBAAuBjH,KAAKgC,MAAMiF,wBAEpCgB,EAAA,cAACJ,EAAmC,CAACE,MAAOA,OCzFzC,SAASoF,GAAsBnL,GAC5C,OACEiG,EAAA,qBAAK7E,UAAU,8CAA8CjD,OAAAwL,GAAA,aAAAxL,CAAa6B,EAAMoL,KAAM,KCO3E,MAAMC,WAAqBpF,EAAA,cACxCY,SAAM,MAAAkB,EACuC/J,KAAKgC,MAAxC+F,EADJgC,EACIhC,MAAOuF,EADXvD,EACWuD,cAAe5E,EAD1BqB,EAC0BrB,SAExB6E,GAAoBD,GAAiBA,EAAcxC,YAAc/C,EAAM+C,UAE7E,OACE7C,EAAA,yBACGsF,GAAoBtF,EAAA,cAACkF,GAAqB,CAACC,KAAMrF,EAAMyF,oBACxDvF,EAAA,cAACqE,GAAe,CACdvE,MAAOA,EACP7F,QAASlC,KAAKgC,MAAMyL,SACpBnE,aAActJ,KAAKgC,MAAMsH,aACzB4B,iBAAkBlL,KAAKgC,MAAMkJ,iBAC7BvB,OAAQ3J,KAAKgC,MAAM2H,OACnBjB,SAAUA,EACVtB,kBAAmBsB,EAAW1I,KAAKgC,MAAMoF,uBAAoBjC,EAC7D8B,sBAAuByB,EAAW1I,KAAKgC,MAAMiF,2BAAwB9B,MCnBhE,MAAMuI,WAA0BzF,EAAA,cAA/CY,kCACE7I,KAAAuM,aAAe,SAACoB,GAAwC,IAAtBC,EAAsBlM,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,GAAAA,UAAA,GAAP,IAC/C,MAAMmM,EAAoBC,SAASC,cAAc,qBAC7CJ,GAAWE,GACb1N,OAAA6N,EAAA,gBAAA7N,CAAgBwN,EAAS,CAAEM,UAAW,IAAKL,eAAcM,OAAQL,KAIrEhF,SACE,OACEZ,EAAA,yBACGjI,KAAKgC,MAAMmM,OAAO9J,IAAI,CAAC0D,EAAOxD,IAC7B0D,EAAA,cAACoF,GAAY,CACXtF,MAAOA,EACP/C,IAAK+C,EAAM/C,IACXsE,aAActJ,KAAKgC,MAAMsH,aACzB4B,iBAAkBlL,KAAKgC,MAAMkJ,iBAC7BuC,SAAUzN,KAAKgC,MAAMoM,cACrBd,cAAe/I,EAAQ,EAAIvE,KAAKgC,MAAMmM,OAAO5J,EAAQ,QAAKY,EAC1DwE,OAAQ3J,KAAKuM,aACb7D,SAAUX,EAAM/C,MAAQhF,KAAKgC,MAAM0G,SACnCtB,kBAAmBpH,KAAKgC,MAAMoF,kBAC9BH,sBAAuBjH,KAAKgC,MAAMiF,oFC1B/B,SAASoH,GAAcrM,GACpC,OACEiG,EAAA,cAACqG,GAAA,EAAW,CACVlL,UAAU,cACVmL,QAASvM,EAAMuM,QACfC,MAAOrO,OAAA+H,EAAA,UAAA/H,CAAU,iBACjBsO,MAAOzM,EAAMyM,QCFJ,SAASC,GAAwB1M,GAAY,MAAA2M,EACE3M,EAApD4M,yBADkD,IAAAD,KACxBE,EAA0B7M,EAA1B6M,OAAQC,EAAkB9M,EAAlB8M,cAE1C,OACE7G,EAAA,wBAAQ7E,UAAU,uDAChB6E,EAAA,qBAAK7E,UAAU,mEACZwL,GACC3G,EAAA,cAAC8G,GAAA1G,EAAU,CAACjF,UAAU,YAAYnB,SAAUD,EAAMgN,QAAS9M,QAASF,EAAMiN,cAE3EjN,EAAMgN,QACL/G,EAAA,mBAAG7E,UAAU,uBAEb6E,EAAA,cAACiH,GAAA7G,EAAY,CAACjF,UAAU,aAAalB,QAASF,EAAMmN,WAErDN,GAAU5G,EAAA,cAACoG,GAAa,CAACE,QAASO,EAAeL,MAAOI,EAAOJ,2ECLzD,MAAMW,WAAsBnH,EAAA,cAA3CY,kCACE7I,KAAAqP,aAAe,CAACC,EAAeC,IACtBpP,OAAAkH,EAAA,EAAAlH,CAAgBmP,EAAOtP,KAAKgC,MAAMwN,aAAcD,GAGzDvP,KAAAyP,gBAAkB,CAACC,EAAmBC,KAAqB,MACjDC,EAAc5P,KAAKgC,MAAnB4N,UACR,GAAkB,KAAdF,EAEF1P,KAAKgC,MAAM6N,SAAS,CAAEC,UAAW9P,KAAKgC,MAAM8N,SAAUF,UAAW,UAC5D,GAAID,EAAU,CACnB,MAAMI,EAAWC,KACfJ,EAAUK,SAASP,GAAaQ,IAAQN,EAAWF,GAAa,IAAIE,EAAWF,IAEjF1P,KAAKgC,MAAM6N,SAAS,CAAEC,UAAU,EAAMF,UAAWG,SAEjD/P,KAAKgC,MAAM6N,SAAS,CAClBC,UAAU,EACVF,UAAWA,EAAUK,SAASP,IAAcE,EAAUzL,OAAS,EAAI,GAAK,CAACuL,MAK/E1P,KAAAmQ,YAAc,KACZnQ,KAAKgC,MAAM6N,SAAS,CAAEC,UAAU,EAAMF,UAAW,MAGnD5P,KAAAoQ,gBAAmBC,IACjB,GAAiB,KAAbA,EACF,OAAOlQ,OAAA+H,EAAA,UAAA/H,CAAU,cACZ,CACL,MAAMmQ,EAAOtQ,KAAKgC,MAAMuO,gBAAgBF,GACxC,OAAKC,EAGEnQ,OAAAqQ,GAAA,EAAArQ,CAAamQ,GAAQA,EAAKG,KAAOtQ,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkBmQ,EAAKI,OAF9EL,IAMbrQ,KAAA2Q,sBAAyBf,GAChB5P,KAAKgC,MAAM2O,sBAAsB,YAAa,CACnDb,cAAU3K,EACVyK,UAAWA,EAAUvL,IAAIgM,GAAYA,EAASK,SAIlD1Q,KAAA4Q,eAAiB,KAAK,MAAAC,EACG7Q,KAAKgC,MAApB8O,aADY,IAAAD,EACJ,GADIA,EAEpB,OAAOb,KACL7P,OAAO4Q,KAAKD,GAEZ9L,GAAgB,KAARA,EAAa,EAAI,EAEzBA,IAAQ8L,EAAM9L,KAIlBhF,KAAAgR,gBAAmBX,IACjB,GAAiB,KAAbA,EACF,OAAOlQ,OAAA+H,EAAA,UAAA/H,CAAU,cAGnB,MAAMmQ,EAAOtQ,KAAKgC,MAAMuO,gBAAgBF,GAExC,IAAKC,EACH,OAAOD,EAGT,MAAMY,EAAWX,EAAKG,MAAQH,EAAKI,MAEnC,OACEzI,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACiJ,GAAA,EAAM,CAAC9N,UAAU,sBAAsB+N,KAAMb,EAAKc,OAAQX,KAAMQ,EAAUI,KAAM,KAChFlR,OAAAqQ,GAAA,EAAArQ,CAAamQ,GAAQW,EAAW9Q,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkB8Q,KAKjFjR,KAAAsR,mBAAqB,CAACC,EAAoBjC,KACxC,MAAMkC,EAAcrR,OAAAqQ,GAAA,EAAArQ,CAAaoR,GAC7BA,EAAOd,KACPtQ,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkBoR,EAAOb,OACrD,OACEzI,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACiJ,GAAA,EAAM,CACL9N,UAAU,sBACV+N,KAAMI,EAAOH,OACbX,KAAMc,EAAOd,MAAQc,EAAOb,MAC5BW,KAAM,KAEPlR,OAAAsR,GAAA,cAAAtR,CAAcqR,EAAalC,KAKlCzG,SACE,MAAM6I,EAAS,IAAI1R,KAAKgC,MAAM4N,WAK9B,OAJK5P,KAAKgC,MAAM8N,UACd4B,EAAO7K,KAAK,IAIZoB,EAAA,cAAC0J,GAAA,EAAc,CACbC,YAAazR,OAAA+H,EAAA,UAAA/H,CAAU,0BACvB0R,SAAU7R,KAAKgC,MAAM6P,SACrBC,iBAAkB9R,KAAKoQ,gBACvB2B,mBAAoBzB,GAAQA,EAAKI,MACjCsB,oBAAqB1B,GAAQA,EAAKG,MAAQH,EAAKI,MAE/CE,eAAgB5Q,KAAK4Q,eACrBD,sBAAuB3Q,KAAK2Q,sBAC5Bd,SAAU7P,KAAKgC,MAAM6N,SACrBoC,QAASjS,KAAKmQ,YACd+B,YAAalS,KAAKyP,gBAClB0C,SAAUnS,KAAKqP,aACf+C,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMqQ,KACjBC,SAAS,YACThD,MAAOiD,IAAKvS,KAAKgC,MAAMsN,MAAO,WAAY,aAC1C0B,gBAAiBhR,KAAKgR,gBACtBM,mBAAoBtR,KAAKsR,mBACzBkB,kBAAmBrS,OAAA+H,EAAA,UAAA/H,CAAU,2BAC7B2Q,MAAO9Q,KAAKgC,MAAM8O,MAClBY,OAAQA,mBC7HhB,MAAMe,GAAc,IAEL,MAAMC,WAAoBzK,EAAA,cAAzCY,kCACE7I,KAAA2S,SAAYC,GACHA,EAGT5S,KAAAqP,aAAe,CAACC,EAAeuD,KAAiB,MACtC/H,EAAc9K,KAAKgC,MAAnB8I,UACFgI,EACJhI,GAAa,CAAC,MAAO,KAAM,OAAOmF,SAASnF,EAAUiI,WAAajI,EAAU9F,SAAMG,EACpF,OAAOhF,OAAA6S,GAAA,EAAA7S,CAAmB,CACxBqP,aAAcxP,KAAKgC,MAAMwN,aACzBsD,UACAG,GAAIR,GACJS,EAAG5D,IACF6D,KAAKC,IAAO,CAAOC,WAAYD,EAAQjP,SAAWsO,GAAaa,QAASF,MAG7EpT,KAAA2Q,sBAAyByC,GAChBpT,KAAKgC,MAAM2O,sBAAsB,UAAW,CAAEyC,YAGvDpT,KAAAsR,mBAAqB,CAACsB,EAAgBW,IAC7BpT,OAAAsR,GAAA,cAAAtR,CAAcyS,EAAQW,GAG/B1K,SACE,OACEZ,EAAA,cAAC0J,GAAA,EAAc,CACbC,YAAazR,OAAA+H,EAAA,UAAA/H,CAAU,wBACvB0R,SAAU7R,KAAKgC,MAAM6P,SACrBC,iBAAkB9R,KAAK2S,SACvBZ,mBAAoB/R,KAAK2S,SACzBX,oBAAqBhS,KAAK2S,SAC1BhC,sBAAuB3Q,KAAK2Q,sBAC5Bd,SAAU7P,KAAKgC,MAAM6N,SACrBsC,SAAUnS,KAAKqP,aACf+C,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMqQ,KACjBC,SAAS,UACThD,MAAOiD,IAAKvS,KAAKgC,MAAMsN,MAAO,WAC9B0B,gBAAiBhR,KAAK2S,SACtBrB,mBAAoBtR,KAAKsR,mBACzBkB,kBAAmBrS,OAAA+H,EAAA,UAAA/H,CAAU,6BAC7B2Q,MAAO9Q,KAAKgC,MAAM8O,MAClBY,OAAQ1R,KAAKgC,MAAMoR,4QCpC3B,MAAMI,WAA0BvL,EAAA,cAAhCY,kCACE7I,KAAAsS,SAAW,YAMXtS,KAAAyT,SAAW,SACmBtO,IAA5BnF,KAAKgC,MAAM0R,cACX1T,KAAKgC,MAAM2R,UAAUxP,OAAS,QACDgB,IAA7BnF,KAAKgC,MAAM4R,eACX5T,KAAKgC,MAAM6R,cAAc1P,OAAS,GAClCnE,KAAKgC,MAAM8R,gBAEb9T,KAAA+T,kBAAoB,KAClB/T,KAAKgC,MAAMoQ,SAASpS,KAAKsS,WAG3BtS,KAAAmQ,YAAc,KACZnQ,KAAKgU,QAAQ,KAGfhU,KAAAgU,QAAWC,IACTjU,KAAKgC,MAAM6N,4UAAXqE,CAAA,CACER,kBAAcvO,EACdwO,eAAWxO,EACXyO,mBAAezO,EACf0O,mBAAe1O,EACf2O,qBAAiB3O,GACd8O,KAIPjU,KAAAmU,eAAiBrM,IAMZ,IALH4L,EAKG5L,EALH4L,aACAE,EAIG9L,EAJH8L,cAKA5T,KAAKgU,QAAQ,CAAEN,eAAcE,mBAG/B5T,KAAAoU,mBAAqBC,IAA6C,IAA1CC,EAA0CD,EAA1CC,KAAMC,EAAoCF,EAApCE,GAC5BvU,KAAKgU,QAAQ,CAAEN,aAAcY,EAAMV,cAAeW,KAGpDvU,KAAAwU,kBAAqBC,GAAmBzU,KAAKgU,QAAQ,CAAEH,cAAeY,IAEtEzU,KAAA0U,sBAAwB,IAAM1U,KAAKgU,QAAQ,CAAEF,iBAAiB,IAE9DjL,YAAS,MAAAkB,EAC4E/J,KAAKgC,MAAhF0R,EADD3J,EACC2J,aAAcC,EADf5J,EACe4J,UAAWC,EAD1B7J,EAC0B6J,cAAeC,EADzC9J,EACyC8J,cAAeC,EADxD/J,EACwD+J,gBACvDa,EAAe3U,KAAKgC,MAAM4S,KAA1BD,WACFjD,EAAS,GAsBf,OArBIgC,GACFhC,EAAO7K,KAAK8N,EAAWjB,EAAcmB,GAAA,IAEnClB,GACFjC,EAAO7K,KAAK8N,EAAWhB,EAAWkB,GAAA,IAEhCjB,GACFlC,EAAO7K,KAAK8N,EAAWf,EAAeiB,GAAA,IAElB,OAAlBhB,GACFnC,EAAO7K,KAAK1G,OAAA+H,EAAA,UAAA/H,CAAU,qCAEF,OAAlB0T,GACFnC,EAAO7K,KAAK1G,OAAA+H,EAAA,UAAA/H,CAAU,sCAEF,OAAlB0T,GACFnC,EAAO7K,KAAK1G,OAAA+H,EAAA,UAAA/H,CAAU,qCAEpB2T,GACFpC,EAAO7K,KAAK1G,OAAA+H,EAAA,UAAA/H,CAAU,oBAEjBuR,EAGT7I,iBAAc,MAAAiM,EACqB9U,KAAKgC,MAA9B4R,EADIkB,EACJlB,cAAe9C,EADXgE,EACWhE,MAEvB,IAAKA,EACH,OAAO,KAGT,MAAMiE,EAAU5U,OAAO4Q,KAAKD,GAE5B,GAAIiE,EAAQ5Q,OAAS,GAAK4Q,EAAQ7I,MAAMuI,IAAW3D,EAAM2D,IACvD,OAAO,KAVG,MAaJE,EAAe3U,KAAKgC,MAAM4S,KAA1BD,WACF3Q,EAAO+Q,EAAQ1Q,IAAI,CAAC2Q,EAAOzQ,KAC/B,MAAM0Q,EAAY9U,OAAA+U,GAAA,UAAA/U,CAAU6U,GAC5B,IAAIG,EACA5Q,EAAQwQ,EAAQ5Q,OAAS,GAC3BgR,EAAUhV,OAAA+U,GAAA,UAAA/U,CAAU4U,EAAQxQ,EAAQ,KAC5B6Q,QAAQD,EAAQE,UAAY,GAEpCF,EAAUvB,EAAgBzT,OAAA+U,GAAA,UAAA/U,CAAUyT,QAAiBzO,EAGvD,MAAMmQ,EAAiBH,GAAW,IAAII,KAWtC,MAAO,CACL7B,aAAcuB,EACdrB,cAAeuB,EACfnS,QAZAiF,EAAA,cAACA,EAAA,SAAc,KACZ9H,OAAAoI,EAAA,cAAApI,CAAc2Q,EAAMkE,GAAQ,aAC7B/M,EAAA,yBACC0M,EAAWM,EAAWJ,GAAA,IACrBW,GAAUF,EAAgBL,IAA3B,MAAAQ,OACOd,EAAWW,EAAgBT,GAAA,KAQrCrQ,EAAGD,EACHK,EAAGkM,EAAMkE,MAIPtP,EAAYjB,KAAKiR,MAAM,IAAM1R,EAAKG,QAClC1B,EAAQiD,EAAY1B,EAAKG,OAAS,EAAI,GAEtCwR,EAAWC,KAAI5R,EAAKK,IAAIpE,GAAKA,EAAE2E,IAC/BS,EAAUrB,EAAKK,IAAIpE,GAAMA,EAAE2E,IAAM+Q,EAAWxV,OAAAoI,EAAA,cAAApI,CAAcwV,EAAU,aAAe,IAEzF,OACE1N,EAAA,cAAC4N,GAAAxN,EAAQ,CACP3C,UAAWA,EAAY,EACvB1B,KAAMA,EACNzB,OAAQ,GACRqB,WAAY5D,KAAKmU,eACjBxO,QAAS,CAAC,GAAI,EAAG,EAAG,IACpBlD,MAAOA,EACP4C,QAASA,IAKfwD,kBACE,OACEZ,EAAA,qBAAK7E,UAAU,oCACb6E,EAAA,cAAC6N,GAAA,EAAiB,CAACC,KAAM/V,KAAKgC,MAAM2R,YACpC1L,EAAA,yBACAA,EAAA,sBAAM7E,UAAU,QACd6E,EAAA,cAAC+N,GAAA,EAAW,CAACD,KAAM/V,KAAKgC,MAAM2R,cAMtC9K,wBAAqB,MAAAoN,EACqBjW,KAAKgC,MAArC0R,EADWuC,EACXvC,aAAcE,EADHqC,EACGrC,cACtB,OACE3L,EAAA,qBAAK7E,UAAU,yCACb6E,EAAA,cAACiO,GAAA,EAAc,CACbrG,SAAU7P,KAAKoU,mBACfrT,MAAO,CAAEuT,KAAMZ,EAAca,GAAIX,MAMzC/K,0BAAuB,MAAAsN,EACiCnW,KAAKgC,MAAnD8I,EADaqL,EACbrL,UAAW+I,EADEsC,EACFtC,cAAeC,EADbqC,EACarC,gBAClC,OACE7L,EAAA,qBAAK7E,UAAU,wCACb6E,EAAA,cAACmO,GAAA,EAAS,CACRC,QAASrW,KAAKyT,WACdhD,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,8BAChB+B,QAASlC,KAAKwU,kBACdxR,QAAS7C,OAAA+H,EAAA,UAAA/H,CAAU,8BACnBY,MAAM,KAEP+J,EACC7C,EAAA,cAACmO,GAAA,EAAS,CACRC,OAAQvC,EACRrD,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,mBAChB+B,QAASlC,KAAK0U,sBACd1R,QAAS7C,OAAA+H,EAAA,UAAA/H,CAAU,0BACnBY,MAAM,KAGRkH,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACmO,GAAA,EAAS,CACRC,OAA0B,OAAlBxC,EACRpD,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,oCAChB+B,QAASlC,KAAKwU,kBACdxR,QAAS7C,OAAA+H,EAAA,UAAA/H,CAAU,oCACnBY,MAAM,OAERkH,EAAA,cAACmO,GAAA,EAAS,CACRC,OAA0B,OAAlBxC,EACRpD,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,qCAChB+B,QAASlC,KAAKwU,kBACdxR,QAAS7C,OAAA+H,EAAA,UAAA/H,CAAU,qCACnBY,MAAM,OAERkH,EAAA,cAACmO,GAAA,EAAS,CACRC,OAA0B,OAAlBxC,EACRpD,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,oCAChB+B,QAASlC,KAAKwU,kBACdxR,QAAS7C,OAAA+H,EAAA,UAAA/H,CAAU,oCACnBY,MAAM,SAQlB8H,cAEE,OADsB7I,KAAKgC,MAAnB2R,UAEN3T,KAAKsW,kBAELrO,EAAA,yBACGjI,KAAKuW,iBACLvW,KAAKwW,wBACLxW,KAAKyW,2BAKZ5N,SACE,OACEZ,EAAA,cAACyO,GAAA,EAAQ,CAACpE,SAAUtS,KAAKsS,UACvBrK,EAAA,cAAC0O,GAAA,EAAW,CACV9E,SAAU7R,KAAKgC,MAAM6P,SACrBpB,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,eAAgBH,KAAKsS,UACrCL,QAASjS,KAAKmQ,YACdjO,QAASlC,KAAK+T,kBACd1B,KAAMrS,KAAKgC,MAAMqQ,KACjBX,OAAQ1R,KAAK4W,cAGd5W,KAAKgC,MAAMqQ,MAAQrS,KAAK6W,gBA5OxBrD,GAAAsD,aAAe,CACpBzE,MAAM,GAiPK,IAAA0E,GAAA5W,OAAA6W,EAAA,YAAWxD,mCC9PX,MAAMyD,WAAuBhP,EAAA,cAA5CY,kCACE7I,KAAA8R,iBAAoB1E,GACXjN,OAAAwL,GAAA,aAAAxL,CAAaiN,EAAM,IAG5BpN,KAAA+R,mBAAsBmF,GACbA,EAAU9J,KAGnBpN,KAAAgS,oBAAuBkF,GACdA,EAAUzG,KAGnBzQ,KAAAqP,aAAe,CAACC,EAAeC,IACtBpP,OAAAgX,GAAA,EAAAhX,CAAe,CACpB2K,UAAW9K,KAAKgC,MAAMoV,aACtBlE,EAAG5D,EACH/O,EAAGgP,EACH0D,GAAI,KACHE,KAAKrL,IAAA,IAAGuP,EAAHvP,EAAGuP,WAAH,MAA6B,CACnCxI,OADM/G,EAAe+G,OAErByE,QAAS+D,EAAWC,OAAOC,QAAoBpS,IAAboS,EAAInK,SAI1CpN,KAAA2Q,sBAAyB6G,GAChBxX,KAAKgC,MAAM2O,sBAAsB,cAAe,CACrD6G,YAAaA,EAAYnT,IAAI6S,GAAaA,EAAU9J,QAIxDpN,KAAAyX,gBAAmBP,GACjBjP,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACyP,GAAArP,EAAa,CAACjF,UAAU,sBAAsB2P,UAAU,QACxDmE,GAILlX,KAAAgR,gBAAmB5D,GACVpN,KAAKyX,gBAAgBtX,OAAAwL,GAAA,aAAAxL,CAAaiN,EAAM,KAGjDpN,KAAAsR,mBAAqB,CAAC4F,EAAkC3D,IAC/CvT,KAAKyX,gBAAgBtX,OAAAsR,GAAA,cAAAtR,CAAcA,OAAAwL,GAAA,aAAAxL,CAAa+W,EAAU9J,KAAM,IAAKmG,IAG9E1K,SACE,OACEZ,EAAA,cAAC0J,GAAA,EAAc,CACbC,YAAazR,OAAA+H,EAAA,UAAA/H,CAAU,4BACvB0R,SAAU7R,KAAKgC,MAAM6P,SACrBC,iBAAkB9R,KAAK8R,iBACvBC,mBAAoB/R,KAAK+R,mBACzBC,oBAAqBhS,KAAKgS,oBAC1BrB,sBAAuB3Q,KAAK2Q,sBAC5BgH,gBAAiB,EACjB9H,SAAU7P,KAAKgC,MAAM6N,SACrBsC,SAAUnS,KAAKqP,aACf+C,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMqQ,KACjBC,SAAS,cACThD,MAAOiD,IAAKvS,KAAKgC,MAAMsN,MAAO,eAC9B0B,gBAAiBhR,KAAKgR,gBACtBM,mBAAoBtR,KAAKsR,mBACzBkB,kBAAmBrS,OAAA+H,EAAA,UAAA/H,CAAU,iCAC7B2Q,MAAO9Q,KAAKgC,MAAM8O,MAClBY,OAAQ1R,KAAKgC,MAAMwV,6BChEZ,MAAMI,WAAkB3P,EAAA,cAAvCY,kCACE7I,KAAA6X,YAAeC,IAAoB,MACzBC,EAAyB/X,KAAKgC,MAA9B+V,qBACR,OAAOA,EAAqBD,GACxB3X,OAAAwL,GAAA,aAAAxL,CAAa4X,EAAqBD,GAAU1K,MAAQ,GAAI,IACxD0K,GAGN9X,KAAAgY,uBAA0BhT,IAAe,MAC/B+S,EAAyB/X,KAAKgC,MAA9B+V,qBACFD,EAAW3X,OAAO4Q,KAAKgH,GAAsBE,KAAKC,GAC/CH,EAAqBG,GAAMlT,MAAQA,GAE5C,OAAO8S,EAAWC,EAAqBD,QAAY3S,GAGrDnF,KAAA8R,iBAAoBgG,IAAoB,MAC9BC,EAAyB/X,KAAKgC,MAA9B+V,qBACR,OAAOA,EAAqBD,GAAYC,EAAqBD,GAAU1K,MAAQ,GAAK0K,GAGtF9X,KAAA+R,mBAAsBoG,IACpB,MAAMrN,EAAY9K,KAAKgY,uBAAuBG,EAAKnT,KACnD,OAAO8F,EAAYA,EAAUoN,KAAOC,EAAKnT,KAG3ChF,KAAAgS,oBAAuBmG,GACdA,EAAK/K,KAGdpN,KAAAqP,aAAe,CAACC,EAAeC,IACtBpP,OAAAgX,GAAA,EAAAhX,CAAS,CACd2K,UAAW9K,KAAKgC,MAAMoV,aACtBlE,EAAG5D,EACH/O,EAAGgP,EACH0D,GAAI,KACHE,KAAKrL,IAAA,IAAGuP,EAAHvP,EAAGuP,WAAH,MAA6B,CACnCxI,OADM/G,EAAe+G,OAErByE,QAAS+D,EAAWC,OAAOa,QAAsBhT,IAAdgT,EAAK/K,SAI5CpN,KAAA2Q,sBAAyByH,GAChBpY,KAAKgC,MAAM2O,sBAAsB,QAAS,CAC/CyH,MAAOA,EACJ/T,IAAI8T,IACH,MAAMrN,EAAY9K,KAAKgY,uBAAuBG,EAAKnT,KACnD,OAAO8F,GAAaA,EAAUoN,OAE/BZ,OAAOe,GAAA,aAIdrY,KAAAsY,WAAcH,GACZlQ,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACyP,GAAArP,EAAa,CAACjF,UAAU,sBAAsB2P,UAAU,QACxDoF,GAILnY,KAAAgR,gBAAmB8G,IACjB,MAAMrH,EAAOzQ,KAAK6X,YAAYC,GAC9B,OAAO9X,KAAKsY,WAAW7H,IAGzBzQ,KAAAsR,mBAAqB,CAAC6G,EAA6B5E,IAC1CvT,KAAKsY,WAAWnY,OAAAsR,GAAA,cAAAtR,CAAcA,OAAAwL,GAAA,aAAAxL,CAAagY,EAAK/K,KAAM,IAAKmG,IAGpE1K,SACE,OACEZ,EAAA,cAAC0J,GAAA,EAAc,CACbC,YAAazR,OAAA+H,EAAA,UAAA/H,CAAU,sBACvB0R,SAAU7R,KAAKgC,MAAM6P,SACrBC,iBAAkB9R,KAAK8R,iBACvBC,mBAAoB/R,KAAK+R,mBACzBC,oBAAqBhS,KAAKgS,oBAC1BrB,sBAAuB3Q,KAAK2Q,sBAC5BgH,gBAAiB,EACjB9H,SAAU7P,KAAKgC,MAAM6N,SACrBsC,SAAUnS,KAAKqP,aACf+C,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMqQ,KACjBC,SAAS,QACThD,MAAOiD,IAAKvS,KAAKgC,MAAMsN,MAAO,SAC9B0B,gBAAiBhR,KAAKgR,gBACtBM,mBAAoBtR,KAAKsR,mBACzBkB,kBAAmBrS,OAAA+H,EAAA,UAAA/H,CAAU,2BAC7B2Q,MAAO9Q,KAAKgC,MAAM8O,MAClBY,OAAQ1R,KAAKgC,MAAMuW,gDCnBZ,IAAAC,GAAArY,OAAAsY,EAAA,QAAAtY,CAJU4G,IAAD,CACtB2R,mBAAoBvY,OAAOuR,OAAOvR,OAAAwY,GAAA,aAAAxY,CAAa4G,MAGlC,CAnEf,cAA4BkB,EAAA,cAA5BY,kCACE7I,KAAA4Y,gBAAmBC,IAAoB,MAC7BC,EAAwB9Y,KAAKgC,MAA7B8W,oBACR,OAAOA,EAAoBD,GAAYC,EAAoBD,GAAUpI,KAAOoI,GAG9E7Y,KAAAqP,aAAgBC,IACd,MACMgE,EADUtT,KAAK+Y,wBACGzB,OAAOuB,GAC7BA,EAASpI,KAAKuI,cAAc/I,SAASX,EAAM0J,gBAEvCnK,EAAS,CAAEoK,UAAW,EAAGC,SAAU5F,EAAQnP,OAAQsK,MAAO6E,EAAQnP,QACxE,OAAOgV,QAAQC,QAAQ,CAAEvK,SAAQyE,aAGnCtT,KAAA+Y,sBAAwB,KAAK,MAAAhP,EACgB/J,KAAKgC,MAAxC0W,EADmB3O,EACnB2O,mBADmB7H,EAAA9G,EACC+G,aADD,IAAAD,EACS,GADTA,EAM3B,OAAOwI,KACL,IAAIX,KAAuBvY,OAAO4Q,KAAKD,GAAOzM,IAAIW,IAAG,CAAOA,MAAKyL,KAAMzL,MACvE6T,GAAYA,EAAS7T,MAIzBhF,KAAA2Q,sBAAyB2I,GAChBtZ,KAAKgC,MAAM2O,sBAAsB,YAAa,CACnD2I,UAAWA,EAAUjV,IAAIwU,GAAYA,EAAS7T,OAIlDhF,KAAAsR,mBAAqB,CAAAxJ,EAA8ByL,KAAgB,IAA3C9C,EAA2C3I,EAA3C2I,KACtB,OAAOtQ,OAAAsR,GAAA,cAAAtR,CAAcsQ,EAAM8C,IAG7B1K,SACE,OACEZ,EAAA,cAAC0J,GAAA,EAAc,CACbC,YAAazR,OAAA+H,EAAA,UAAA/H,CAAU,0BACvB0R,SAAU7R,KAAKgC,MAAM6P,SACrBC,iBAAkB9R,KAAK4Y,gBACvB7G,mBAAoB8G,GAAYA,EAAS7T,IACzCgN,oBAAqB6G,GAAYA,EAASpI,KAC1CE,sBAAuB3Q,KAAK2Q,sBAC5BgH,gBAAiB,EACjB9H,SAAU7P,KAAKgC,MAAM6N,SACrBsC,SAAUnS,KAAKqP,aACf+C,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMqQ,KACjBC,SAAS,YACThD,MAAOiD,IAAKvS,KAAKgC,MAAMsN,MAAO,aAC9B0B,gBAAiBhR,KAAK4Y,gBACtBtH,mBAAoBtR,KAAKsR,mBACzBkB,kBAAmBrS,OAAA+H,EAAA,UAAA/H,CAAU,+BAC7B2Q,MAAO9Q,KAAKgC,MAAM8O,MAClBY,OAAQ1R,KAAKgC,MAAMsX,yBCtDZ,MAAMC,WAAqBtR,EAAA,cAA1CY,cAAA,IAAArH,wBAAAxB,KACEA,KAAAqP,aAAe,SACbC,GAE6D,IAD7DC,EAC6D7N,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,GAAAA,UAAA,GADtD,EACsD,MAAAqI,EACzBvI,EAAKQ,MAAjC8I,EADqDf,EACrDe,UAAW0E,EAD0CzF,EAC1CyF,aACnB,OAAI1E,GAAa,CAAC,KAAM,MAAO,OAAOmF,SAASnF,EAAUiI,WAChD5S,OAAAgX,GAAA,EAAAhX,CAAQ,CACb2K,UAAWA,EAAU9F,IACrBzE,EAAGgP,EACH0D,GAAI,GACJC,EAAG5D,EACHkK,WAAY,QACXrG,KAAKrL,IAAA,IAAGuP,EAAHvP,EAAGuP,WAAH,MAA6B,CACnCxI,OADM/G,EAAe+G,OAErByE,QAAS+D,EAAWhT,IAAIyG,IAAS,CAC/B9F,IAAK8F,EAAU2O,QAAU3O,EAAU9F,IACnCyL,KAAM3F,EAAU2F,KAChBjB,aAAc1E,EAAU0E,mBAKvBrP,OAAAgX,GAAA,EAAAhX,CAAe,CACpBI,EAAGgP,EACH0D,GAAI,GACJqE,OAAQhI,EAAK,YAAAmG,OAAenG,EAAf,KAA0B,GACvCE,aAAcA,GAAgBA,EAAaxK,MAC1CmO,KAAKkB,IAAA,IAAGgD,EAAHhD,EAAGgD,WAAH,MAA6B,CACnCxI,OADMwF,EAAexF,OAErByE,QAAS+D,EAAWhT,IAAIyG,IAAS,CAC/B9F,IAAK8F,EAAU9F,IACfyL,KAAM3F,EAAU2F,KAChBjB,aAAc1E,EAAU0E,oBAK9BxP,KAAA0Z,eAAkB5G,IAAmB,MAC3BiF,EAAyB/X,KAAKgC,MAA9B+V,qBACR,OAAOA,EAAqBjF,GAAWiF,EAAqBjF,GAASrC,KAAOqC,GAG9E9S,KAAA2Q,sBAAyBgJ,GAChB3Z,KAAKgC,MAAM2O,sBAAsB,WAAY,CAClDgJ,SAAUA,EAAStV,IAAIyO,GAAWA,EAAQ9N,OAI9ChF,KAAAgR,gBAAmB8B,IAAmB,MAC5BiF,EAAyB/X,KAAKgC,MAA9B+V,qBACR,OAAOA,EAAqBjF,GAC1B9S,KAAK4Z,cAAc7B,EAAqBjF,IAExC7K,EAAA,0BACEA,EAAA,cAACyP,GAAArP,EAAa,CAACjF,UAAU,sBAAsB2P,UAAU,QACxDD,IAKP9S,KAAA4Z,cAAiB9G,GACf7K,EAAA,0BACEA,EAAA,cAACyP,GAAArP,EAAa,CAACjF,UAAU,sBAAsB2P,UAAU,SACvD/S,KAAKgC,MAAMwN,cACXvH,EAAA,cAAC4R,GAAA,EAAY,CAACC,MAAM,EAAOC,gBAAiBjH,EAAQtD,eAErDsD,EAAQrC,MAIbzQ,KAAAsR,mBAAqB,CAACwB,EAAyDS,IAC7EtL,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACyP,GAAArP,EAAa,CAACjF,UAAU,sBAAsB2P,UAAU,SACvD/S,KAAKgC,MAAMwN,cACXvH,EAAA,cAAC4R,GAAA,EAAY,CAACC,MAAM,EAAOC,gBAAiBjH,EAAQtD,eAErDrP,OAAAsR,GAAA,cAAAtR,CAAc2S,EAAQrC,KAAM8C,IAIjC1K,SACE,OACEZ,EAAA,cAAC0J,GAAA,EAAc,CACbC,YAAazR,OAAA+H,EAAA,UAAA/H,CAAU,yBACvB0R,SAAU7R,KAAKgC,MAAM6P,SACrBC,iBAAkB9R,KAAK0Z,eACvB3H,mBAAoBe,GAAWA,EAAQ9N,IACvCgN,oBAAqBc,GAAWA,EAAQrC,KACxCE,sBAAuB3Q,KAAK2Q,sBAC5Bd,SAAU7P,KAAKgC,MAAM6N,SACrBsC,SAAUnS,KAAKqP,aACf+C,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMqQ,KACjBC,SAAS,WACThD,MAAOiD,IAAKvS,KAAKgC,MAAMsN,MAAO,YAC9B0B,gBAAiBhR,KAAKgR,gBACtBM,mBAAoBtR,KAAKsR,mBACzBkB,kBAAmBrS,OAAA+H,EAAA,UAAA/H,CAAU,8BAC7B2Q,MAAO9Q,KAAKgC,MAAM8O,MAClBY,OAAQ1R,KAAKgC,MAAM2X,yDC9G3B,MAAMK,GAAc,CAAC,GAAI,iBAAkB,QAAS,UAAW,WAEhD,MAAMC,WAAwBhS,EAAA,cAA7CY,kCACE7I,KAAAsS,SAAW,cAMXtS,KAAAyP,gBAAkB,CAACC,EAAmBC,KAAqB,MACjDuK,EAAgBla,KAAKgC,MAArBkY,YACR,GAAkB,KAAdxK,EAEF1P,KAAKgC,MAAM6N,SAAS,CAAEsK,UAAWna,KAAKgC,MAAMmY,SAAUD,YAAa,UAC9D,GAAIvK,EAAU,CACnB,MAAMI,EAAWqK,KACfF,EAAYjK,SAASP,GACjBQ,IAAQgK,EAAaxK,GACrB,IAAIwK,EAAaxK,IAEvB1P,KAAKgC,MAAM6N,SAAS,CAAEsK,UAAU,EAAMtR,CAAC7I,KAAKsS,UAAWvC,SAEvD/P,KAAKgC,MAAM6N,SAAS,CAClBsK,UAAU,EACVtR,CAAC7I,KAAKsS,UACJ4H,EAAYjK,SAASP,IAAcwK,EAAY/V,OAAS,EAAI,GAAK,CAACuL,MAK1E1P,KAAA+T,kBAAoB,KAClB/T,KAAKgC,MAAMoQ,SAASpS,KAAKsS,WAG3BtS,KAAAmQ,YAAc,KACZnQ,KAAKgC,MAAM6N,SAAS,CAAEsK,UAAU,EAAOD,YAAa,MAgBtDla,KAAAqa,WAAcC,IACZ,MAAMjE,EAASrW,KAAKua,kBAAkBD,GAChCE,EAAOxa,KAAKya,QAAQH,GAE1B,OACErS,EAAA,cAACmO,GAAA,EAAS,CACRC,OAAQA,EACRpU,SAAmB,IAATuY,IAAenE,EACzBqE,WAAW,EACX1V,IAAKsV,EACL7J,KAAMzQ,KAAK2a,iBAAiBL,GAC5BpY,QAASlC,KAAKyP,gBACd+K,KAAMra,OAAAkH,EAAA,EAAAlH,CAAgBqa,GACtBxX,QAAShD,KAAK2a,iBAAiBL,GAC/BvZ,MAAOuZ,KA3BbzR,kBAAkByR,GAChB,MAAsB,KAAfA,GAAqBta,KAAKgC,MAAMmY,SAAWna,KAAKgC,MAAMkY,YAAYjK,SAASqK,GAGpFzR,iBAAiByR,GACf,MAAsB,KAAfA,EAAoBna,OAAA+H,EAAA,UAAA/H,CAAU,cAAgBA,OAAA+H,EAAA,UAAA/H,CAAU,mBAAoBma,GAGrFzR,QAAQyR,GAAkB,MAChBxJ,EAAU9Q,KAAKgC,MAAf8O,MACR,OAAOA,EAAQA,EAAMwJ,QAAcnV,EAsBrC0D,SAAM,MAAAkB,EACgC/J,KAAKgC,MAAjCkY,EADJnQ,EACImQ,YADJrJ,EAAA9G,EACiB+G,aADjB,IAAAD,EACyB,GADzBA,EAEEa,EAASwI,EAAY7V,IAAIiW,GAActa,KAAK2a,iBAAiBL,IAEnE,OACErS,EAAA,cAACyO,GAAA,EAAQ,CAACpE,SAAUtS,KAAKsS,UACvBrK,EAAA,cAAC0O,GAAA,EAAW,CACV9E,SAAU7R,KAAKgC,MAAM6P,SACrBpB,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,eAAgBH,KAAKsS,UACrCL,QAASjS,KAAKmQ,YACdjO,QAASlC,KAAK+T,kBACd1B,KAAMrS,KAAKgC,MAAMqQ,KACjBX,OAAQA,IAGT1R,KAAKgC,MAAMqQ,MACVpK,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC2S,GAAA,EAAc,KAAEZ,GAAY3V,IAAIrE,KAAKqa,aACtCpS,EAAA,cAAC4S,GAAA,EAAqB,CACpBpU,QAAStG,OAAO4Q,KAAKD,GAAO3M,OAC5BuN,OAAQwI,EAAY/V,YArFzB8V,GAAAnD,aAAe,CACpBzE,MAAM,iBCLK,MAAMyI,WAAkB7S,EAAA,cAAvCY,cAAA,IAAArH,wBAAAxB,KACEA,KAAAqP,aAAe,SAACC,GAA2B,IAAZC,EAAY7N,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,GAAAA,UAAA,GAAL,EAAK,MAAAqI,EACLvI,EAAKQ,MAAjCsX,EADiCvP,EACjCuP,UAAW9J,EADsBzF,EACtByF,aACnB,OAAOrP,OAAA4a,GAAA,EAAA5a,CAAY,CACjB6a,EAAG,gBACH1B,UAAWA,EAAUnV,OAASmV,EAAU2B,YAAS9V,EACjDqK,eACA0D,EAAG5D,EACH/O,EAAGgP,EACH0D,GAAI,GACJiI,EAAG,OACHC,kBAAkB,IACjBhI,KAAKiI,IAAQ,CACdvM,OAAQ,CAAEoK,UAAWmC,EAAS7a,EAAG2Y,SAAUkC,EAASnI,GAAIxE,MAAO2M,EAAS3M,OACxE6E,QAAS8H,EAASL,UAItB/a,KAAA2Q,sBAAyBoK,GAChB/a,KAAKgC,MAAM2O,sBAAsB,QAAS,CAAEoK,MAAOA,EAAM1W,IAAIgX,GAAQA,EAAKrW,OAGnFhF,KAAAsb,YAAeC,IACb,MAAMF,EAAOrb,KAAKgC,MAAMwZ,gBAAgBD,GACxC,OAAOF,EAAOrb,KAAKyb,eAAeJ,EAAK5K,KAAM4K,EAAKK,UAAYH,GAGhEvb,KAAAyb,eAAiB,CAAChL,EAAciL,IAGvBA,EAAQ,IAAAjG,OAAOiG,EAAP,MAAAjG,OAAoBhF,GAASA,EAG9CzQ,KAAAsR,mBAAsB+J,GACbrb,KAAKyb,eAAeJ,EAAK5K,KAAM4K,EAAKK,UAG7C7S,SACE,OACEZ,EAAA,cAAC0J,GAAA,EAAc,CACbC,YAAazR,OAAA+H,EAAA,UAAA/H,CAAU,sBACvB0R,SAAU7R,KAAKgC,MAAM6P,SACrBC,iBAAkB9R,KAAKsb,YACvBvJ,mBAAoBsJ,GAAQA,EAAKrW,IACjCgN,oBAAqBqJ,GAAQA,EAAK5K,KAClCE,sBAAuB3Q,KAAK2Q,sBAC5Bd,SAAU7P,KAAKgC,MAAM6N,SACrBsC,SAAUnS,KAAKqP,aACf+C,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMqQ,KACjBC,SAAS,QACThD,MAAOiD,IAAKvS,KAAKgC,MAAMsN,MAAO,SAC9B0B,gBAAiBhR,KAAKsb,YACtBhK,mBAAoBtR,KAAKsR,mBACzBkB,kBAAmBrS,OAAA+H,EAAA,UAAA/H,CAAU,2BAC7B2Q,MAAO9Q,KAAKgC,MAAM8O,MAClBY,OAAQ1R,KAAKgC,MAAM+Y,uBCzD3B,MAAMY,GAAa,CAAC,UAAW,QAAS,WAAY,OAAQ,SAE7C,MAAMC,WAAsB3T,EAAA,cAA3CY,kCACE7I,KAAAsS,SAAW,aAMXtS,KAAAyP,gBAAkB,CAACC,EAAmBC,KAAqB,MACjDkM,EAAe7b,KAAKgC,MAApB6Z,WACR,GAAIlM,EAAU,CACZ,MAAMI,EAAWqK,KACfyB,EAAW5L,SAASP,GAAaQ,IAAQ2L,EAAYnM,GAAa,IAAImM,EAAYnM,IAEpF1P,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC7I,KAAKsS,UAAWvC,SAEvC/P,KAAKgC,MAAM6N,SAAS,CAClBhH,CAAC7I,KAAKsS,UAAWuJ,EAAW5L,SAASP,IAAcmM,EAAW1X,OAAS,EAAI,GAAK,CAACuL,MAKvF1P,KAAA+T,kBAAoB,KAClB/T,KAAKgC,MAAMoQ,SAASpS,KAAKsS,WAG3BtS,KAAAmQ,YAAc,KACZnQ,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC7I,KAAKsS,UAAW,MAQzCtS,KAAAqa,WAAcyB,IACZ,MAAMzF,EAASrW,KAAKgC,MAAM6Z,WAAW5L,SAAS6L,GACxCtB,EAAOxa,KAAKya,QAAQqB,GAE1B,OACE7T,EAAA,cAACmO,GAAA,EAAS,CACRC,OAAQA,EACRpU,SAAmB,IAATuY,IAAenE,EACzBqE,WAAW,EACX1V,IAAK8W,EACLrL,KAAMxI,EAAA,cAAC8T,GAAA,EAAc,CAACD,SAAUA,IAChC5Z,QAASlC,KAAKyP,gBACd+K,KAAMra,OAAAkH,EAAA,EAAAlH,CAAgBqa,GACtBxX,QAAS7C,OAAA+H,EAAA,UAAA/H,CAAU,WAAY2b,GAC/B/a,MAAO+a,KAnBbjT,QAAQiT,GAAgB,MACdhL,EAAU9Q,KAAKgC,MAAf8O,MACR,OAAOA,EAAQA,EAAMgL,QAAY3W,EAsBnC0D,SAAM,MAAAkB,EAC+B/J,KAAKgC,MAAhC6Z,EADJ9R,EACI8R,WADJhL,EAAA9G,EACgB+G,aADhB,IAAAD,EACwB,GADxBA,EAEEa,EAASmK,EAAWxX,IAAIyX,GAAY3b,OAAA+H,EAAA,UAAA/H,CAAU,WAAY2b,IAEhE,OACE7T,EAAA,cAACyO,GAAA,EAAQ,CAACpE,SAAUtS,KAAKsS,UACvBrK,EAAA,cAAC0O,GAAA,EAAW,CACV9E,SAAU7R,KAAKgC,MAAM6P,SACrBpB,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,eAAgBH,KAAKsS,UACrCL,QAASjS,KAAKmQ,YACdjO,QAASlC,KAAK+T,kBACd1B,KAAMrS,KAAKgC,MAAMqQ,KACjBX,OAAQA,IAGT1R,KAAKgC,MAAMqQ,MACVpK,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC2S,GAAA,EAAc,KAAEe,GAAWtX,IAAIrE,KAAKqa,aACrCpS,EAAA,cAAC4S,GAAA,EAAqB,CAACpU,QAAStG,OAAO4Q,KAAKD,GAAO3M,OAAQuN,OAAQmK,EAAW1X,YApEjFyX,GAAA9E,aAAe,CACpBzE,MAAM,2BCNV,MAAM2J,GAAW,CAAC,OAAQ,YAAa,WAAY,WAAY,UAEhD,MAAMC,WAAoBhU,EAAA,cAAzCY,kCACE7I,KAAAsS,SAAW,WAIXtS,KAAAyP,gBAAkB,CAACC,EAAmBC,KAAqB,MACjDuM,EAAalc,KAAKgC,MAAlBka,SACR,GAAIvM,EAAU,CACZ,MAAMI,EAAWqK,KACf8B,EAASjM,SAASP,GAAaQ,IAAQgM,EAAUxM,GAAa,IAAIwM,EAAUxM,IAE9E1P,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC7I,KAAKsS,UAAWvC,SAEvC/P,KAAKgC,MAAM6N,SAAS,CAClBhH,CAAC7I,KAAKsS,UAAW4J,EAASjM,SAASP,IAAcwM,EAAS/X,OAAS,EAAI,GAAK,CAACuL,MAKnF1P,KAAA+T,kBAAoB,KAClB/T,KAAKgC,MAAMoQ,SAASpS,KAAKsS,WAG3BtS,KAAAmQ,YAAc,KACZnQ,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC7I,KAAKsS,UAAW,MAQzCtS,KAAAqa,WAAc8B,IACZ,MAAM9F,EAASrW,KAAKgC,MAAMka,SAASjM,SAASkM,GACtC3B,EAAOxa,KAAKya,QAAQ0B,GAE1B,OACElU,EAAA,cAACmO,GAAA,EAAS,CACRC,OAAQA,EACRpU,SAAmB,IAATuY,IAAenE,EACzBqE,WAAW,EACX1V,IAAKmX,EACL1L,KAAMxI,EAAA,cAACmU,GAAA,EAAY,CAAC9B,gBAAYnV,EAAWgX,OAAQA,IACnDja,QAASlC,KAAKyP,gBACd+K,KAAMra,OAAAkH,EAAA,EAAAlH,CAAgBqa,GACtBxX,QAAS7C,OAAA+H,EAAA,UAAA/H,CAAU,eAAgBgc,GACnCpb,MAAOob,KAnBbtT,QAAQsT,GAAc,MACZrL,EAAU9Q,KAAKgC,MAAf8O,MACR,OAAOA,EAAQA,EAAMqL,QAAUhX,EAsBjC0D,SAAM,MAAAkB,EAC6B/J,KAAKgC,MAA9Bka,EADJnS,EACImS,SADJrL,EAAA9G,EACc+G,aADd,IAAAD,EACsB,GADtBA,EAEEa,EAASwK,EAAS7X,IAAI8X,GAAUhc,OAAA+H,EAAA,UAAA/H,CAAU,eAAgBgc,IAEhE,OACElU,EAAA,cAACyO,GAAA,EAAQ,CAACpE,SAAUtS,KAAKsS,UACvBrK,EAAA,cAAC0O,GAAA,EAAW,CACV9E,SAAU7R,KAAKgC,MAAM6P,SACrBpB,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,eAAgBH,KAAKsS,UACrCL,QAASjS,KAAKmQ,YACdjO,QAASlC,KAAK+T,kBACd1B,KAAMrS,KAAKgC,MAAMqQ,KACjBX,OAAQA,IAGT1R,KAAKgC,MAAMqQ,MACVpK,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC2S,GAAA,EAAc,CAACyB,MAAOlc,OAAA+H,EAAA,UAAA/H,CAAU,WAC9B6b,GAAS3X,IAAIrE,KAAKqa,aAErBpS,EAAA,cAAC4S,GAAA,EAAqB,CAACpU,QAAStG,OAAO4Q,KAAKD,GAAO3M,OAAQuN,OAAQwK,EAAS/X,YApE/E8X,GAAAnF,aAAe,CAAEzE,MAAM,sCCFhC,MAAMiK,GAAc,IAEL,MAAMC,WAAiBtU,EAAA,cAAtCY,kCACE7I,KAAAqP,aAAgBC,IAAiB,MACvBxE,EAAc9K,KAAKgC,MAAnB8I,UACFgI,EACJhI,GAAa,CAAC,MAAO,KAAM,OAAOmF,SAASnF,EAAUiI,WAAajI,EAAU9F,SAAMG,EACpF,OAAOhF,OAAA6S,GAAA,EAAA7S,CAAgB,CACrBqP,aAAcxP,KAAKgC,MAAMwN,aACzBsD,UACAG,GAAIqJ,GACJpJ,EAAG5D,IACF6D,KAAKqJ,IAAI,CAAOnJ,WAAYmJ,EAAKrY,SAAWmY,GAAahJ,QAASkJ,MAGvExc,KAAAyc,WAAcC,GACLA,EAGT1c,KAAA2Q,sBAAyB6L,GAChBxc,KAAKgC,MAAM2O,sBAAsB,OAAQ,CAAE6L,SAGpDxc,KAAA2c,UAAaD,GAETzU,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC2U,GAAAvU,EAAQ,CAACjF,UAAU,sBAAsBV,KAAMJ,GAAA,OAAOua,SACtDH,GAKP1c,KAAAsR,mBAAqB,CAACoL,EAAanJ,IACjCtL,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC2U,GAAAvU,EAAQ,CAACjF,UAAU,sBAAsBV,KAAMJ,GAAA,OAAOua,SACtD1c,OAAAsR,GAAA,cAAAtR,CAAcuc,EAAKnJ,IAIxB1K,SACE,OACEZ,EAAA,cAAC0J,GAAA,EAAc,CACbC,YAAazR,OAAA+H,EAAA,UAAA/H,CAAU,qBACvB0R,SAAU7R,KAAKgC,MAAM6P,SACrBC,iBAAkB9R,KAAKyc,WACvB1K,mBAAoB2K,GAAOA,EAC3B1K,oBAAqB0K,GAAOA,EAC5B/L,sBAAuB3Q,KAAK2Q,sBAC5Bd,SAAU7P,KAAKgC,MAAM6N,SACrBsC,SAAUnS,KAAKqP,aACf+C,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMqQ,KACjBC,SAAS,OACThD,MAAOiD,IAAKvS,KAAKgC,MAAMsN,MAAO,QAC9B0B,gBAAiBhR,KAAK2c,UACtBrL,mBAAoBtR,KAAKsR,mBACzBkB,kBAAmBrS,OAAA+H,EAAA,UAAA/H,CAAU,0BAC7B2Q,MAAO9Q,KAAKgC,MAAM8O,MAClBY,OAAQ1R,KAAKgC,MAAMwa,2CC5DZ,MAAMM,WAAkB7U,EAAA,cAAvCY,kCACE7I,KAAAsS,SAAW,QAMXtS,KAAAyP,gBAAkB,CAACC,EAAmBC,KAAqB,MACjDoN,EAAU/c,KAAKgC,MAAf+a,MACR,GAAIpN,EAAU,CACZ,MAAMI,EAAWqK,KACf2C,EAAM9M,SAASP,GAAaQ,IAAQ6M,EAAOrN,GAAa,IAAIqN,EAAOrN,IAErE1P,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC7I,KAAKsS,UAAWvC,SAEvC/P,KAAKgC,MAAM6N,SAAS,CAClBhH,CAAC7I,KAAKsS,UAAWyK,EAAM9M,SAASP,IAAcqN,EAAM5Y,OAAS,EAAI,GAAK,CAACuL,MAK7E1P,KAAA+T,kBAAoB,KAClB/T,KAAKgC,MAAMoQ,SAASpS,KAAKsS,WAG3BtS,KAAAmQ,YAAc,KACZnQ,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC7I,KAAKsS,UAAW,MAYzCtS,KAAAqa,WAAclO,IACZ,MAAMkK,EAASrW,KAAKua,kBAAkBpO,GAChCqO,EAAOxa,KAAKya,QAAQtO,GAE1B,OACElE,EAAA,cAACmO,GAAA,EAAS,CACRC,OAAQA,EACRpU,SAAmB,IAATuY,IAAenE,EACzBrR,IAAKmH,EACLsE,KACExI,EAAA,sBAAM7E,UAAU,uBACd6E,EAAA,cAAC+U,GAAA3U,EAAa,CAACjF,UAAU,sBAAsBkM,MAAOnD,IAAS,IAC9DhM,OAAA+H,EAAA,UAAA/H,CAAU,aAAcgM,IAG7BjK,QAASlC,KAAKyP,gBACd+K,KAAMra,OAAAkH,EAAA,EAAAlH,CAAgBqa,GACtBzZ,MAAOoL,KA1BbtD,QAAQsD,GAAY,MACV2E,EAAU9Q,KAAKgC,MAAf8O,MACR,OAAOA,EAAQA,EAAM3E,QAAQhH,EAG/B0D,kBAAkBsD,GAChB,OAAOnM,KAAKgC,MAAM+a,MAAM9M,SAAS9D,GAyBnCtD,SAAM,MAAAkB,EAC0B/J,KAAKgC,MAA3B+a,EADJhT,EACIgT,MADJlM,EAAA9G,EACW+G,aADX,IAAAD,EACmB,GADnBA,EAEEa,EAASqL,EAAM1Y,IAAI8H,GAAQhM,OAAA+H,EAAA,UAAA/H,CAAU,aAAcgM,IAEzD,OACElE,EAAA,cAACyO,GAAA,EAAQ,CAACpE,SAAUtS,KAAKsS,UACvBrK,EAAA,cAAC0O,GAAA,EAAW,CACV9E,SAAU7R,KAAKgC,MAAM6P,SACrBpB,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,eAAgBH,KAAKsS,UACrCL,QAASjS,KAAKmQ,YACdjO,QAASlC,KAAK+T,kBACd1B,KAAMrS,KAAKgC,MAAMqQ,KACjBX,OAAQA,IAGT1R,KAAKgC,MAAMqQ,MACVpK,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC2S,GAAA,EAAc,KACZqC,GAAA,EAAY3F,OAAO4F,GAAW,qBAANA,GAA0B7Y,IAAIrE,KAAKqa,aAE9DpS,EAAA,cAAC4S,GAAA,EAAqB,CAACpU,QAAStG,OAAO4Q,KAAKD,GAAO3M,OAAQuN,OAAQqL,EAAM5Y,YA7E5E2Y,GAAAhG,aAAe,CACpBzE,MAAM,GCWK,MAAM8K,WAAgBlV,EAAA,cACnCY,wBAAqB,MAAAkB,EAC6C/J,KAAKgC,MAA7D8I,EADWf,EACXe,UAAWsS,EADArT,EACAqT,OAAQC,EADRtT,EACQsT,cAAeC,EADvBvT,EACuBuT,WAAYhO,EADnCvF,EACmCuF,MACtD,IAAKxE,EACH,OAAO,KAET,MAAMyS,EAAc,CAClBnG,aAActM,EAAU9F,IACxB2L,sBAAuB3Q,KAAKgC,MAAM2O,sBAClCd,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBnO,SAEF,OACErH,EAAA,cAAAA,EAAA,cAC2B,QAAxB6C,EAAUiI,WACT9K,EAAA,cAACgP,GAAc9W,OAAA6M,OAAA,CACbwK,YAAalI,EAAMkI,YACnB3F,UAAwC,IAA9BwL,EAAc7F,YACxBnF,OAAQiL,EAAW9F,YACnB1G,MAAOsM,EAAO5F,aACV+F,IAGRtV,EAAA,cAAC2P,GAASzX,OAAA6M,OAAA,CACR6E,UAAkC,IAAxBwL,EAAcjF,MACxBG,UAAWjJ,EAAM8I,MACjB/F,OAAQiL,EAAWlF,MACnBL,qBAAsB/X,KAAKgC,MAAM0b,yBACjC5M,MAAOsM,EAAOhF,OACVmF,KAMZ1U,SAAM,MAAAiM,EAC8D9U,KAAKgC,MAA/D8I,EADJgK,EACIhK,UAAWsS,EADftI,EACesI,OAAQO,EADvB7I,EACuB6I,gBAAiBL,EADxCxI,EACwCwI,WAAYhO,EADpDwF,EACoDxF,MAElDsO,GACH9S,IAAc,CAAC,MAAO,MAAO,MAAO,WAAWmF,SAASnF,EAAUiI,WAC/D8K,IAAsBF,GAAqB7S,GAAqC,QAAxBA,EAAUiI,WAElEgH,EACHjP,GAAaA,EAAU0E,cACvBxP,KAAKgC,MAAMwN,cAAgBxP,KAAKgC,MAAMwN,aAAaxK,IAEtD,OACEiD,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC6U,GAAS,CACRjL,UAA6C,IAAnC7R,KAAKgC,MAAMqb,cAAcN,MACnClN,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWP,MACnBjM,MAAOsM,EAAOL,MACdA,MAAOzN,EAAMyN,QAEf9U,EAAA,cAAC2T,GAAa,CACZ/J,UAAkD,IAAxC7R,KAAKgC,MAAMqb,cAAcxB,WACnChM,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWzB,WACnBA,WAAYvM,EAAMuM,WAClB/K,MAAOsM,EAAOvB,aAEhB5T,EAAA,cAACgS,GAAe,CACdpI,UAAmD,IAAzC7R,KAAKgC,MAAMqb,cAAcnD,YACnCrK,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWpD,YACnBA,YAAa5K,EAAM4K,YACnBC,SAAU7K,EAAM6K,SAChBrJ,MAAOsM,EAAOlD,cAEhBjS,EAAA,cAACgU,GAAW,CACVpK,UAAgD,IAAtC7R,KAAKgC,MAAMqb,cAAcnB,SACnCrM,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWpB,SACnBpL,MAAOsM,EAAOlB,SACdA,SAAU5M,EAAM4M,WAElBjU,EAAA,cAAC6V,GAAA,EAAa,CACZC,IAAKzO,EAAMyO,IACXC,UAAWV,EAAWS,IACtBE,SAAUb,EAAOW,IACjBG,aAA8C,IAAjCle,KAAKgC,MAAMqb,cAAcU,IACtCI,oBAA4D,IAAxCne,KAAKgC,MAAMqb,cAAce,WAC7CC,mBAA0D,IAAvCre,KAAKgC,MAAMqb,cAAciB,UAC5CC,6BAA8E,IAAjDve,KAAKgC,MAAMqb,cAAcmB,oBACtD7N,sBAAuB3Q,KAAKgC,MAAM2O,sBAClCd,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWmB,UACnBL,WAAY9O,EAAM8O,WAClBM,iBAAkBpB,EAAWc,WAC7BO,gBAAiBvB,EAAOgB,WACxB9O,MAAOA,EACPgP,UAAWhP,EAAMgP,UACjBM,gBAAiBtB,EAAWgB,UAC5BO,eAAgBzB,EAAOkB,UACvBE,oBAAqBlP,EAAMkP,oBAC3BM,0BAA2BxB,EAAWkB,oBACtCO,yBAA0B3B,EAAOoB,sBAEnCvW,EAAA,cAAC8O,GAAiB,CAChBjM,UAAWA,EACX4I,aAAcpE,EAAMoE,aACpBC,UAAWrE,EAAMqE,UACjBC,cAAetE,EAAMsE,cACrBC,cAAevE,EAAMuE,cACrBhC,UAAiD,IAAvC7R,KAAKgC,MAAMqb,cAAc1J,UACnC9D,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAW3J,UACnBG,gBAAiBxE,EAAMwE,gBACvBhD,MAAOsM,EAAOzJ,YAEhB1L,EAAA,cAACuQ,GAAa,CACZ3G,UAAiD,IAAvC7R,KAAKgC,MAAMqb,cAAc/D,UACnCA,UAAWhK,EAAMgK,UACjB3I,sBAAuB3Q,KAAKgC,MAAM2O,sBAClCd,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWhE,UACnBhK,MAAOA,EACPwJ,oBAAqB9Y,KAAKgC,MAAM8W,oBAChChI,MAAOsM,EAAO9D,YAEhBrR,EAAA,cAAC6S,GAAS,CACRjJ,UAA6C,IAAnC7R,KAAKgC,MAAMqb,cAActC,MACnCzB,UAAWhK,EAAMgK,UACjB3I,sBAAuB3Q,KAAKgC,MAAM2O,sBAClCd,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWvC,MACnBvL,aAAcuK,EACdzK,MAAOA,EACPkM,gBAAiBxb,KAAKgC,MAAMwZ,gBAC5BT,MAAOzL,EAAMyL,MACbjK,MAAOsM,EAAOrC,QAEhB9S,EAAA,cAACsU,GAAQ,CACPzR,UAAWA,EACX+G,UAA4C,IAAlC7R,KAAKgC,MAAMqb,cAAcb,KACnC7L,sBAAuB3Q,KAAKgC,MAAM2O,sBAClCd,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWd,KACnBhN,aAAcuK,EACdzK,MAAOA,EACPwB,MAAOsM,EAAOZ,KACdA,KAAMlN,EAAMkN,OAEboB,GACC3V,EAAA,cAACsR,GAAY,CACXzO,UAAWA,EACX+G,UAAgD,IAAtC7R,KAAKgC,MAAMqb,cAAc1D,SACnChJ,sBAAuB3Q,KAAKgC,MAAM2O,sBAClCd,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAW3D,SACnBnK,aAAcxP,KAAKgC,MAAMwN,aACzBmK,SAAUrK,EAAMqK,SAChBrK,MAAOA,EACPyI,qBAAsB/X,KAAKgC,MAAMgd,0BACjClO,MAAOsM,EAAOzD,WAGjB3Z,KAAKif,yBACJjf,KAAKgC,MAAMkd,UACXjX,EAAA,cAACmH,GAAa,CACZU,SAAUR,EAAMQ,SAChBF,UAAWN,EAAMM,UACjBiC,UAAiD,IAAvC7R,KAAKgC,MAAMqb,cAAczN,UACnCe,sBAAuB3Q,KAAKgC,MAAM2O,sBAClCd,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAW1N,UACnBJ,aAAcuK,EACdzK,MAAOA,EACPiB,gBAAiBvQ,KAAKgC,MAAMuO,gBAC5BO,MAAOsM,EAAOxN,YAGjBiO,GACC5V,EAAA,cAACyK,GAAW,CACVU,QAAS9D,EAAM8D,QACftI,UAAWA,EACX+G,UAA+C,IAArC7R,KAAKgC,MAAMqb,cAAcjK,QACnCzC,sBAAuB3Q,KAAKgC,MAAM2O,sBAClCd,SAAU7P,KAAKgC,MAAMwb,eACrBpL,SAAUpS,KAAKgC,MAAMyb,cACrBpL,OAAQiL,EAAWlK,QACnB5D,aAAcuK,EACdzK,MAAOA,EACPwB,MAAOsM,EAAOhK,6jBCvK1B,MAAM+L,GAAiBC,GAAA/W,EAGjBgX,GAAYD,GAAA/W,EAELiX,GAAgB,IAEd,MAAMC,WAAwBtX,EAAA,cAG3CY,YAAY7G,GACVwd,MAAMxd,GAHRhC,KAAAyf,SAAU,EAwCVzf,KAAA0f,WAAa,IACJ1f,KAAKgC,MAAM2d,YAAY,CAAEC,iBAAkB,sBAAuB3M,GAAIqM,KAG/Etf,KAAA6f,mBAAqB,KAAK,MAChBC,EAAgB9f,KAAKgC,MAArB8d,YACA3R,EAAWnO,KAAK+G,MAAhBoH,OACF1H,EAAU,GAEhB,GAAItG,OAAAqQ,GAAA,EAAArQ,CAAW2f,GAAc,CAEzB3R,EAAOmJ,OAAOvP,GAASA,EAAMsI,WAAayP,EAAYpP,OAAOvM,OAAS,GAEtEsC,EAAQI,KAAK,CACXuK,OAAQ0O,EAAY1O,OACpB5C,MAAOsR,EAAYrP,KACnB1P,MAAO+e,EAAYpP,QAUzB,OALwBvC,EAAOmJ,OAAOvP,GAASA,EAAMsI,UAAUlM,OAAS,GAEtEsC,EAAQI,KAAK,CAAE2H,MAAOrO,OAAA+H,EAAA,UAAA/H,CAAU,cAAeY,MAAO,KAGjD0F,GAGTzG,KAAA+f,qBAAwBzQ,GACfnP,OAAAkH,EAAA,EAAAlH,CAAgBmP,EAAOtP,KAAK+G,MAAMyI,cAAc2D,KAAKrL,IAAA,OAAAA,EAAGwL,QACrDjP,IAAI2b,IACV,MAAMC,EAAWD,EAAEvP,MAAQuP,EAAEtP,MAE7B,MAAO,CACLU,OAAQ4O,EAAE5O,OACV5C,MAAOrO,OAAAqQ,GAAA,EAAArQ,CAAa6f,GAAKC,EAAW9f,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkB8f,GAC9Elf,MAAOif,EAAEtP,WAMjB1Q,KAAAkgB,qBAAwB7P,IACtBrQ,KAAKgJ,SAAS,CAAEqH,cAGlBrQ,KAAAmgB,iBAAoB7Q,GACXnP,OAAA6S,GAAA,EAAA7S,CAAgB,CAAEqP,aAAcxP,KAAK+G,MAAMyI,aAAc0D,EAAG5D,IAAS6D,KAAKqJ,GAC/EA,EAAKnY,IAAIqY,IAAG,CAAOlO,MAAOkO,EAAK3b,MAAO2b,MAI1C1c,KAAAogB,iBAAoBC,GAClB5Z,IAEAzG,KAAKgJ,SAA2B,CAAEH,CAACwX,GAAQ5Z,KAG7CzG,KAAAsgB,iBAAoBD,GAA6BE,IAC1CA,EAEgB,kBAAVF,GACTrgB,KAAKgJ,SAA2B,CAAEH,CAACwX,IAAQ,IAF3CrgB,KAAKgJ,SAA2B,CAAEH,CAACwX,QAAQlb,KAM/CnF,KAAAwgB,4BAA+BC,IAC7BzgB,KAAKgJ,SAAS,CAAEyX,gBAGlBzgB,KAAA0gB,oBAAuB9e,IACrB5B,KAAKgJ,SAAS,CAAE2X,QAAS/e,EAAME,cAAcf,SAG/Cf,KAAA4gB,wBAA2BP,GAAgCrc,IACrDA,EACFhE,KAAKgJ,SAA2B,CAAEH,CAACwX,GAAQrc,EAAKjD,QAEhDf,KAAKgJ,SAA2B,CAAEH,CAACwX,QAAQlb,KAI/CnF,KAAA6gB,aAAgBjf,IACdA,EAAMC,iBAEN,MAAMyN,EAAQwR,KACZ,CACEC,SAAU/gB,KAAK+G,MAAMia,SAAWhhB,KAAK+G,MAAMia,QAAQ3c,IAAI6Y,GAAKA,EAAEnc,OAAOka,OACrEjO,OAAQhN,KAAK+G,MAAMsJ,SAAWrQ,KAAK+G,MAAMsJ,SAAStP,MAAQ,KAC1D4f,QAAS3gB,KAAK+G,MAAM4Z,QACpBM,cAAejhB,KAAK+G,MAAM0Z,WAC1BS,YAAalhB,KAAK+G,MAAMoa,YAAcnhB,KAAK+G,MAAMoa,WAAW9c,IAAI6Y,GAAKA,EAAEnc,OAAOka,OAC9EmG,kBAAmBphB,KAAK+G,MAAMsa,cAC9BC,aAActhB,KAAK+G,MAAM+U,SACzByF,SAAUvhB,KAAK+G,MAAMoF,MAEvB3H,QAAWW,IAANX,GAGDgd,EAAYxhB,KAAK+G,MAAMoH,OAAO9J,IAAI0D,GAASA,EAAM/C,KAEvDhF,KAAKgJ,SAAS,CAAEyY,YAAY,IAC5BthB,OAAA6S,GAAA,EAAA7S,CAAiBqhB,EAAWlS,GAAO6D,KACjC,KACEnT,KAAKgJ,SAAS,CAAEyY,YAAY,IAC5BzhB,KAAKgC,MAAM0f,UAEbC,IACE3hB,KAAKgJ,SAAS,CAAEyY,YAAY,IAC5BthB,OAAAyhB,GAAA,EAAAzhB,CAAiBwhB,MAwBvB3hB,KAAA6hB,cAAgB,IACd5Z,EAAA,yBACEA,EAAA,qBAAK7E,UAAU,cACb6E,EAAA,wBAAK9H,OAAA+H,EAAA,UAAA/H,CAAU,iBAEjB8H,EAAA,qBAAK7E,UAAU,cACb6E,EAAA,qBAAK7E,UAAU,eACb6E,EAAA,mBAAG7E,UAAU,qBAGjB6E,EAAA,qBAAK7E,UAAU,cACb6E,EAAA,cAACgB,EAAA,gBAAe,CAAC/G,QAASlC,KAAKgC,MAAM8f,SAAU3hB,OAAA+H,EAAA,UAAA/H,CAAU,aAK/DH,KAAA+hB,eAAkBC,GAChB/Z,EAAA,qBAAK7E,UAAU,uBACXjD,OAAA+H,EAAA,wBAAA/H,CAAwB,6BAA8B6hB,GACpD,KAGRhiB,KAAAiiB,YAAc,CACZ5B,EACA7R,EACAwT,EACAE,IAEAja,EAAA,qBAAK7E,UAAU,cAAc+e,GAAE,sBAAA1M,OAAwB4K,IACrDpY,EAAA,uBAAOma,QAAS/B,GAAQlgB,OAAA+H,EAAA,UAAA/H,CAAUqO,IACjC0T,OACa/c,IAAb6c,GAA0BhiB,KAAK+hB,eAAeC,IAInDhiB,KAAAqiB,qBAAwBC,GAEpBra,EAAA,+BACqB9C,IAAlBmd,EAAOlR,QACNnJ,EAAA,cAACiJ,GAAA,EAAM,CAAC9N,UAAU,eAAe+N,KAAMmR,EAAOlR,OAAQX,KAAM6R,EAAO9T,MAAO6C,KAAM,KAEjFiR,EAAO9T,OAKdxO,KAAAuiB,oBAAsB,KACpB,MAAMP,EAAWhiB,KAAK+G,MAAMoH,OAAOmJ,OAAOkL,GAAU,WAAWre,OAE/D,GAAiB,IAAb6d,EACF,OAAO,KAGT,MAAME,EACJja,EAAA,cAACkX,GAAc,CACb/b,UAAU,oBACVqf,WAAW,EACXC,eAAgB1iB,KAAK6f,qBACrB1N,SAAUnS,KAAK+f,qBACftS,SAAUzN,KAAKkgB,qBACfyC,aAAc3iB,KAAKqiB,qBACnBO,aAAa,EACb7hB,MAAOf,KAAK+G,MAAMsJ,WAItB,OAAOrQ,KAAKiiB,YAAY,WAAY,wBAAyBD,EAAUE,IAGzEliB,KAAA6iB,gBAAkB,KAChB,MAAMb,EAAWhiB,KAAK+G,MAAMoH,OAAOmJ,OAAOkL,GAAU,aAAare,OAEjE,GAAiB,IAAb6d,EACF,OAAO,KAGT,MACMvb,EADuB,CAAC,MAAO,gBAAiB,cAChCpC,IAAI8H,IAAI,CAAOqC,MAAOrO,OAAA+H,EAAA,UAAA/H,CAAU,aAAcgM,GAAOpL,MAAOoL,KAE5E2W,EAAkBR,GACtBra,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC+U,GAAA3U,EAAa,CAACiH,MAAOgT,EAAOvhB,QAC7BkH,EAAA,sBAAM7E,UAAU,sBAAsBkf,EAAO9T,QAI3C0T,EACJja,EAAA,cAAC8a,GAAA1a,EAAM,CACLjF,UAAU,oBACVqf,WAAW,EACX5S,SAAU7P,KAAK4gB,wBAAwB,QACvCkC,eAAgBA,EAChBrc,QAASA,EACTuc,YAAY,EACZjiB,MAAOf,KAAK+G,MAAMoF,KAClB8W,cAAeH,IAInB,OAAO9iB,KAAKiiB,YAAY,OAAQ,iBAAkBD,EAAUE,IAG9DliB,KAAAkjB,oBAAsB,KACpB,MAAMlB,EAAWhiB,KAAK+G,MAAMoH,OAAOmJ,OAAOkL,GAAU,iBAAiBre,OAErE,GAAiB,IAAb6d,EACF,OAAO,KAGT,MACMvb,EADa,CAAC,UAAW,WAAY,QAAS,QAAS,QAClCpC,IAAIyX,IAAQ,CACrCtN,MAAOrO,OAAA+H,EAAA,UAAA/H,CAAU,WAAY2b,GAC7B/a,MAAO+a,KAGHoG,EACJja,EAAA,cAAC8a,GAAA1a,EAAM,CACLjF,UAAU,oBACVqf,WAAW,EACX5S,SAAU7P,KAAK4gB,wBAAwB,YACvCkC,eAAiBR,GAA8Bra,EAAA,cAAC8T,GAAA,EAAc,CAACD,SAAUwG,EAAOvhB,QAChF0F,QAASA,EACTuc,YAAY,EACZjiB,MAAOf,KAAK+G,MAAM+U,SAClBmH,cAAgBX,GAA8Bra,EAAA,cAAC8T,GAAA,EAAc,CAACD,SAAUwG,EAAOvhB,UAInF,OAAOf,KAAKiiB,YAAY,WAAY,qBAAsBD,EAAUE,IAGtEliB,KAAAmjB,gBAAmBb,GACVra,EAAA,0BAAOqa,EAAO9T,OAGvBxO,KAAAojB,gBAAkB,CAAC/C,EAAiC7R,EAAe6U,KAAwB,MACjFC,EAAgBtjB,KAAK+G,MAArBuc,YACFtB,EAAWhiB,KAAK+G,MAAMoH,OAAOmJ,OAAOkL,GAAU,aAAare,OAEjE,QAAoBgB,IAAhBme,GAA0C,IAAbtB,EAC/B,OAAO,KAGT,MAAME,EACJja,EAAA,cAACoX,GAAS,CACRkE,UAAWF,EACXjgB,UAAU,oBACVqf,WAAW,EACXC,eAAgB1iB,KAAK+G,MAAMuc,YAC3BE,mBAAoB,EACpBC,OAAO,EACPC,cAAe1jB,KAAKogB,iBAAiBC,GACrClO,SAAUnS,KAAKmgB,iBACfwD,kBAAmBC,GACnBjB,aAAc3iB,KAAKmjB,gBACnBP,aAAa,EACb7hB,MAAOf,KAAK+G,MAAMsZ,KAItB,OAAOrgB,KAAKiiB,YAAY5B,EAAO7R,EAAOwT,EAAUE,IAGlDliB,KAAA6jB,uBAAyB,KACvB,MAAMC,EAAc9jB,KAAK+jB,wBAAwB/jB,KAAK+G,MAAMoH,QAE5D,OAA2B,IAAvB2V,EAAY3f,OACP,KAIP8D,EAAA,qBAAK7E,UAAU,eACb6E,EAAA,2BAAQ9H,OAAA+H,EAAA,UAAA/H,CAAU,qBACjB2jB,EAAYzf,IAAIoc,GACfxY,EAAA,sBACE7E,UAAU,0EACV4B,IAAKyb,EAAWA,YAChBxY,EAAA,cAAC+b,GAAA3b,EAAK,CACJkY,QAASvgB,KAAK+G,MAAM0Z,aAAeA,EAAWA,WAC9CwD,QAASjkB,KAAKwgB,4BACdzf,MAAO0f,EAAWA,YACjBtgB,OAAA+H,EAAA,UAAA/H,CAAU,mBAAoBsgB,EAAWA,aAE3CzgB,KAAK+hB,eAAetB,EAAWjY,WAO1CxI,KAAAkkB,mBAAqB,KAGnB,OAAiB,IAFAlkB,KAAK+G,MAAMoH,OAAOmJ,OAAOkL,GAAU,YAAYre,OAGvD,KAIP8D,EAAA,qBAAK7E,UAAU,eACb6E,EAAA,uBAAOma,QAAQ,WACbna,EAAA,sBAAM7E,UAAU,eAAejD,OAAA+H,EAAA,UAAA/H,CAAU,2BACzC8H,EAAA,cAACkc,GAAA9b,EAAW,CACVjF,UAAU,cACVD,QAAShD,OAAA+H,EAAA,UAAA/H,CAAU,qCAGvB8H,EAAA,0BACEka,GAAG,UACHtS,SAAU7P,KAAK0gB,oBACf0D,KAAM,EACNrjB,MAAOf,KAAK+G,MAAM4Z,SAAW,KAE/B1Y,EAAA,cAACoc,GAAA,EAAY,CAACjhB,UAAU,wCAK9BpD,KAAAskB,yBAA2B,IACzBrc,EAAA,cAACsc,EAAAlc,EAAQ,CACPkY,aAAsCpb,IAA7BnF,KAAK+G,MAAMsa,cACpBje,UAAU,kCACV+e,GAAG,qBACH8B,QAASjkB,KAAKsgB,iBAAiB,iBAC/BkE,OAAO,GACPvc,EAAA,wBAAQ7E,UAAU,uBAAuBjD,OAAA+H,EAAA,UAAA/H,CAAU,8BAIvDH,KAAAykB,WAAa,KAAK,MAAAC,EACuB1kB,KAAK+G,MAApCoH,EADQuW,EACRvW,OAAQU,EADA6V,EACA7V,OAAQ4S,EADRiD,EACQjD,WAElBkD,EAAe9V,GAAUA,EAAOJ,MAAQ6Q,GAE9C,OACErX,EAAA,sBAAMka,GAAG,mBAAmByC,SAAU5kB,KAAK6gB,cACzC5Y,EAAA,qBAAK7E,UAAU,cACb6E,EAAA,wBAAK9H,OAAA+H,EAAA,wBAAA/H,CAAwB,+BAAgCgO,EAAOhK,UAGtE8D,EAAA,qBAAK7E,UAAU,8BACZuhB,GACC1c,EAAA,cAAC4c,EAAA,MAAK,CAACC,QAAQ,WACb7c,EAAA,cAAC+O,EAAA,iBAAgB,CACf+N,eAAgB5kB,OAAA+H,EAAA,UAAA/H,CAAU,wCAC1BgiB,GAAG,uCACHzQ,OAAQ,CAAE1L,IAAKiC,EAAA,4BAASqX,QAK7Btf,KAAKuiB,sBACLviB,KAAK6iB,kBACL7iB,KAAKkjB,sBACLljB,KAAKojB,gBAAgB,UAAW,kBAAkB,GAClDpjB,KAAKojB,gBAAgB,aAAc,qBAAqB,GACxDpjB,KAAK6jB,yBACL7jB,KAAKkkB,qBACL/V,EAAOhK,OAAS,GAAKnE,KAAKskB,2BACR,IAAlBnW,EAAOhK,QACN8D,EAAA,cAAC4c,EAAA,MAAK,CAACC,QAAQ,WAAW3kB,OAAA+H,EAAA,UAAA/H,CAAU,gCAIxC8H,EAAA,qBAAK7E,UAAU,cACZqe,GAAcxZ,EAAA,mBAAG7E,UAAU,yBAC5B6E,EAAA,cAACgB,EAAA,aAAY,CAAChH,SAAUwf,GAAgC,IAAlBtT,EAAOhK,OAAcge,GAAG,sBAC3DhiB,OAAA+H,EAAA,UAAA/H,CAAU,UAEb8H,EAAA,cAACgB,EAAA,gBAAe,CAAC/G,QAASlC,KAAKgC,MAAM8f,SAAU3hB,OAAA+H,EAAA,UAAA/H,CAAU,cAtb/D,IAAIqP,EAAexN,EAAM8I,WAAa9I,EAAM8I,UAAU0E,aAClDxN,EAAMwN,eAAiBA,IACzBA,EAAexN,EAAMwN,aAAaxK,KAEpChF,KAAK+G,MAAQ,CAAEuc,YAAa,GAAInV,OAAQ,GAAIa,SAAS,EAAMyS,YAAY,EAAOjS,gBAGhF3G,oBACE7I,KAAKyf,SAAU,EAEftG,QAAQ6L,IAAI,CACVhlB,KAAK0f,aACLvf,OAAA6S,GAAA,EAAA7S,CAAgB,CAAEqP,aAAcxP,KAAK+G,MAAMyI,iBAC1C2D,KACDkB,IAA+B,IAAA4Q,EAAAC,GAAA7Q,EAAA,GAAA8Q,EAAAF,EAAA,GAA3B9W,EAA2BgX,EAA3BhX,OAAQU,EAAmBsW,EAAnBtW,OAAU2N,EAASyI,EAAA,GACzBjlB,KAAKyf,UACHtR,EAAOhK,OAASmb,KAClBnR,EAASA,EAAO5E,MAAM,EAAG+V,KAG3Btf,KAAKgJ,SAAS,CACZsa,YAAa9G,EAAKnY,IAAIqY,IAAG,CAAOlO,MAAOkO,EAAK3b,MAAO2b,KACnDvO,SACAa,SAAS,EACTH,aAIN,QAIJhG,uBACE7I,KAAKyf,SAAU,EAsHjB5W,wBAAwBsF,GACtB,MAAM2V,EAA8B,GAYpC,OAXA3V,EAAO/E,QAAQrB,IACTA,EAAM+b,aACR/b,EAAM+b,YAAY1a,QAAQ8T,SACD/X,IAAnB2e,EAAY5G,GACd4G,EAAY5G,KAEZ4G,EAAY5G,GAAK,MAKlBlN,KAAO7P,OAAO4Q,KAAK+S,IAAczf,IAAIoc,IAAU,CACpDA,aACAjY,MAAOsb,EAAYrD,MAsRvB5X,SACE,OACEZ,EAAA,cAACmd,GAAA/c,EAAK,CAACgd,aAAa,QAAQC,eAAgBtlB,KAAKgC,MAAM8f,QAASzQ,KAAK,SAClErR,KAAK+G,MAAMiI,QAAUhP,KAAK6hB,gBAAkB7hB,KAAKykB,eAM1D,SAASjC,GAAU+C,GACjB,OAAQxd,GAAmBA,EAAMyd,SAAWzd,EAAMyd,QAAQvV,SAASsV,GAGrE,SAAS3B,GAAgBpV,GACvB,WAAAiH,OAAYjH,iBC9fC,SAASiX,GAAV3d,GAMN,IALNgD,EAKMhD,EALNgD,UACA/C,EAIMD,EAJNC,MACAyH,EAGM1H,EAHN0H,aACApI,EAEMU,EAFNV,kBACAH,EACMa,EADNb,sBAEA,MAAMye,GACHlW,KAAkB1E,GAAa,CAAC,KAAM,OAAOmF,SAASnF,EAAUiI,YAC7D4S,GAAkB7a,IAAc,CAAC,MAAO,MAAO,OAAOmF,SAASnF,EAAUiI,WACzE6S,GAAqB9a,IAAc,CAAC,MAAO,OAAOmF,SAASnF,EAAUiI,WAErE8S,EAAmB1lB,OAAAkH,EAAA,EAAAlH,CAAoB4H,EAAOX,EAAmBH,GACjE8D,EAAgB8a,EAAmBA,EAAiB9a,cAAgBhD,EAAMyF,kBAEhF,OACEvF,EAAA,qBAAK7E,UAAU,gCACZsiB,GAAuBzd,EAAA,cAAC4R,GAAA,EAAY,CAACC,MAAM,EAAOC,gBAAiBhS,EAAMyH,eAEzEmW,GACC1d,EAAA,sBAAMoU,MAAOtU,EAAM+d,aAChB3lB,OAAAwL,GAAA,mBAAAxL,CAAmB4H,EAAM+d,aAC1B7d,EAAA,sBAAM7E,UAAU,qBAInBwiB,QAA0CzgB,IAArB4C,EAAMge,iBAAqD5gB,IAAzB4C,EAAMie,gBAC5D/d,EAAA,sBAAMoU,MAAOtU,EAAMie,gBAChB7lB,OAAAwL,GAAA,mBAAAxL,CAAmB4H,EAAMie,gBAC1B/d,EAAA,sBAAM7E,UAAU,qBAInBjD,OAAAwL,GAAA,aAAAxL,CAAa4K,GAAiB,ocChCtB,MAAMkb,WAAiBhe,EAAA,cAAtCY,kCACE7I,KAAA+G,MAAe,CAAEmf,eAAe,GAEhClmB,KAAAmmB,aAAe,CAAC7T,EAAkBvK,KAAkB,MAC1CyV,EAAmBxd,KAAKgC,MAAxBwb,eAEF4I,EAAc,CAAEjY,OAAQ,IAE9B,GAAImE,EAAS+T,WAAW,UAAW,CAEjC7I,EAAe8I,GAAA,GAAKF,EAAN,CAAmB5J,KAAM,CAD3BlK,EAASiU,OAAO,YAG5B,OAAQjU,GACN,IAAK,OACHkL,EAAe8I,GAAA,GAAKF,EAAN,CAAmBrJ,MAAO,CAAChV,EAAMoE,SAC/C,MACF,IAAK,WACHqR,EAAe8I,GAAA,GAAKF,EAAN,CAAmBvK,WAAY,CAAC9T,EAAM+T,aACpD,MACF,IAAK,SACH0B,EAAe8I,GAAA,GAAKF,EAAN,CAAmBlK,SAAU,CAACnU,EAAMoU,WAClD,MACF,IAAK,aACCpU,EAAMuS,WACRkD,EAAe8I,GAAA,GAAKF,EAAN,CAAmBjM,UAAU,EAAMD,YAAa,CAACnS,EAAMuS,eAErEkD,EAAe8I,GAAA,GAAKF,EAAN,CAAmBjM,UAAU,EAAOD,YAAa,MAEjE,MACF,IAAK,WACCnS,EAAMsI,SACRmN,EAAe8I,GAAA,GAAKF,EAAN,CAAmBtW,UAAU,EAAMF,UAAW,CAAC7H,EAAMsI,aAEnEmN,EAAe8I,GAAA,GAAKF,EAAN,CAAmBtW,UAAU,EAAOF,UAAW,MAE/D,MACF,IAAK,OACH4N,EAAe8I,GAAA,GAAKF,EAAN,CAAmBrL,MAAO,CAAChT,EAAMsT,SAC/C,MACF,IAAK,UACHmC,EAAe8I,GAAA,GAAKF,EAAN,CAAmBzM,SAAU,CAAC5R,EAAMye,eAClD,MACF,IAAK,SACCze,EAAM0e,gBACRjJ,EAAe8I,GAAA,GAAKF,EAAN,CAAmBM,QAAS,CAAC3e,EAAM0e,mBAEnD,MACF,IAAK,OACHjJ,EAAe8I,GAAA,GAAKF,EAAN,CAAmBhO,MAAO,CAACrQ,EAAM4e,oBAKvD9d,SAAM,MAAAkB,EACoD/J,KAAKgC,MAArD4kB,EADJ7c,EACI6c,WAAY9b,EADhBf,EACgBe,UAAW/C,EAD3BgC,EAC2BhC,MAAOuF,EADlCvD,EACkCuD,cAEhCC,GAAoBD,GAAiBA,EAAcxC,YAAc/C,EAAM+C,UAE7E,OACE7C,EAAA,qBAAK7E,UAAU,8BACZmK,GACCtF,EAAA,qBAAK7E,UAAU,wCACb6E,EAAA,cAACwd,GAAoB,CACnB3a,UAAWA,EACX/C,MAAO/H,KAAKgC,MAAM+F,MAClByH,aAAcxP,KAAKgC,MAAMwN,gBAI/BvH,EAAA,cAAC4e,GAAA,EAAK,CACJD,WAAYA,EACZrG,QAASvgB,KAAKgC,MAAMue,QACpBxY,MAAOA,EACP8H,SAAU7P,KAAKgC,MAAM6N,SACrBoU,QAASjkB,KAAKgC,MAAMiiB,QACpB/hB,QAASlC,KAAKgC,MAAME,QACpB4kB,SAAU9mB,KAAKmmB,aACfY,cAAe/mB,KAAKgC,MAAM+kB,cAC1BC,UAAWhnB,KAAKgC,MAAMglB,UACtBte,SAAU1I,KAAKgC,MAAM0G,aCjFhB,MAAMue,WAAmBhf,EAAA,cAAxCY,kCACE7I,KAAA+G,MAAe,CACbmgB,WAAW,GAGbre,oBAIEse,WAAW,KACTnnB,KAAKgJ,SAAS,CAAEke,WAAW,IACvBlnB,KAAKgC,MAAMolB,eACbjnB,OAAAkH,EAAA,EAAAlH,CAAcH,KAAKgC,MAAMolB,cAAcpiB,KAAK,IAE7C,IAGL6D,SAAM,MAAAkB,EACyE/J,KAAKgC,MAA1E4kB,EADJ7c,EACI6c,WAAYrG,EADhBxW,EACgBwW,QAASzV,EADzBf,EACyBe,UAAWqD,EADpCpE,EACoCoE,OAAQ6Y,EAD5Cjd,EAC4Cid,UAAWI,EADvDrd,EACuDqd,cAG3D,OAFsBpnB,KAAK+G,MAAnBmgB,UAIJjf,EAAA,yBACEA,EAAA,mBAAG7E,UAAU,aAMjB6E,EAAA,yBACGkG,EAAO9J,IAAI,CAAC0D,EAAOxD,IAClB0D,EAAA,cAACge,GAAQ,CACPW,WAAYA,EACZrG,QAASA,EAAQtQ,SAASlI,EAAM/C,KAChC8F,UAAWA,EACX/C,MAAOA,EACP/C,IAAK+C,EAAM/C,IACX6K,SAAU7P,KAAKgC,MAAMqlB,cACrBpD,QAASjkB,KAAKgC,MAAMslB,aACpBplB,QAASlC,KAAKgC,MAAMulB,aACpB/J,eAAgBxd,KAAKgC,MAAMwb,eAC3BuJ,cAAe/mB,KAAKgC,MAAM+kB,cAC1BC,UAAWA,GAAaA,EAAUjf,QAAUA,EAAM/C,IAAMgiB,EAAUvW,UAAOtL,EACzEqK,aAAcxP,KAAKgC,MAAMwN,aACzBlC,cAAe/I,EAAQ,EAAI4J,EAAO5J,EAAQ,QAAKY,EAC/CuD,SAA2B,MAAjB0e,GAAyBA,EAAcpiB,MAAQ+C,EAAM/C,iCC/D5D,IAAAwiB,GALoBrnB,OAAAsnB,GAAA,SAAAtnB,CACjC,IAAMgZ,QAAA6L,IAAA,CAAA/jB,EAAAymB,EAAA,GAAAzmB,EAAAymB,EAAA,IAAAzmB,EAAAymB,EAAA,OAAAvU,KAAAlS,EAAA0mB,KAAA,YACN,8BCiBa,MAAMC,WAA2B3f,EAAA,cAAhDY,cAAA,IAAArH,wBAAAxB,KAiBEA,KAAA6nB,cAAgB,WAAkB,IAAjBC,IAAiBpmB,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,KAAAA,UAAA,GAChC,GAAIF,EAAKkI,KAAM,CACb,MAAMiE,EAAUnM,EAAKkI,KAAKqE,cAAV,gBAAA0H,OAAwCjU,EAAKQ,MAAMgF,UAAUhC,IAA7D,OACZ2I,GACFnM,EAAK+K,aAAaoB,OAASxI,EAAW2iB,KAK5C9nB,KAAAuM,aAAe,SAACoB,GAAoE,IAAlDoa,EAAkDrmB,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,GAAAA,UAAA,GAAzCgL,OAAOC,YAAc,EAAGmb,IAAiBpmB,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,KAAAA,UAAA,GAClFvB,OAAA6N,EAAA,gBAAA7N,CAAgBwN,EAAS,CAAEM,UAAW8Z,EAAS,IAAKna,aAAcma,EAAQD,YAG5E9nB,KAAAgoB,aAAe,KACbhoB,KAAK6nB,eAAc,IA5BrBhf,mBAAmBe,GAAgB,MAAAG,EACY/J,KAAKgC,MAA1CgF,EADyB+C,EACzB/C,UAAWC,EADc8C,EACd9C,sBAGbghB,GACuB,IAA3BhhB,GAAgCA,IAA0B2C,EAAU3C,sBAEpE2C,EAAU5C,UAAU8D,YAAc9D,EAAU8D,WAC3ClB,EAAU5C,YAAcA,IAAaihB,GAEtCjoB,KAAK6nB,gBAqBThf,SAAM,MAAAiM,EAC4D9U,KAAKgC,MAA7DgF,EADJ8N,EACI9N,UAAWI,EADf0N,EACe1N,kBAAmBH,EADlC6N,EACkC7N,sBAEhCsD,EAAYpK,OAAAkH,EAAA,EAAAlH,CAAa6G,EAAWI,GAAmB/C,IAAI,CAAC6jB,EAAK3jB,KACrE2jB,EAAI3jB,MAAQA,EACL2jB,IAEHrC,EAAmB1lB,OAAAkH,EAAA,EAAAlH,CACvB6G,EACAI,EACAH,GAGIkhB,EACJnoB,KAAKgC,MAAMsF,yBAAgDnC,IAA1B8B,EAC7B4e,GAAoB,CAAEthB,MAAO0C,EAAuBnC,KAAM+gB,EAAiBja,UAC3EzG,EAEN,GAAIoF,EAAUpG,OAAS,EAAG,CACxB,MAAMkT,EAAahL,KAAK9B,EAAUlG,IAAI+jB,GAAKA,EAAEtd,YAC7C,OACE7C,EAAA,qBAAKgC,IAAKP,GAAS1J,KAAK0J,KAAOA,GAC7BzB,EAAA,cAACuf,GAA0B,CACzBZ,WAAY5mB,KAAKgC,MAAM4kB,WACvBvP,WAAYA,EACZ8Q,2BAA4BA,EAC5BpgB,MAAOf,EACPmH,OAAQnO,KAAKgC,MAAMmM,OACnB5D,UAAWA,EACX8c,cAAernB,KAAKgC,MAAMqlB,cAC1BgB,SAAUroB,KAAKgoB,aACf9c,iBAAkBlL,KAAKgC,MAAMkJ,iBAC7BvB,OAAQ3J,KAAKuM,aACbnF,kBAAmBA,KAIpB,CAGL,MAAMkhB,EAAazC,EACfA,EAAiB0C,UAAUC,UAC3BxhB,EAAUuhB,WAAavhB,EAAUuhB,UAAUE,QAEzC3d,EAAY+a,EAAmBA,EAAiB/a,UAAY9D,EAAU8D,UACtE4d,OACUvjB,IAAdoF,GAA2BA,EAAU2B,MAAMrB,IAAaA,EAASe,KAE7D+c,EAAuBpe,EAAU+M,OAAOzM,GAAYA,EAASC,YAAcA,GAG3E4U,EACJ5U,IAAc9D,EAAU8D,UAAY9K,KAAKgC,MAAM0d,WAAa,IAAMvG,QAAQC,QAAQ,IAC9EgO,EAAgBtc,IAAc9D,EAAU8D,UAAY9D,EAAUhC,SAAMG,EAE1E,OACE8C,EAAA,qBAAKgC,IAAKP,GAAS1J,KAAK0J,KAAOA,GAC7BzB,EAAA,cAAC2gB,GAAA,EAAY,CACXN,WAAYA,EACZ1B,WAAY5mB,KAAKgC,MAAM4kB,WACvB9b,UAAWA,EACX+d,kBAAkB,EAClBC,4BAA4B,EAC5BC,2BAA2B,EAC3BC,wBAAyBN,EACzBP,2BAA4BA,EAC5BQ,qBAAsBA,EACtBjJ,WAAYA,EACZ2H,cAAernB,KAAKgC,MAAMqlB,cAC1BjZ,cAAepO,KAAKgC,MAAMoM,cAC1Bia,SAAUroB,KAAKgoB,aACf9c,iBAAkBlL,KAAKgC,MAAMkJ,iBAC7BvB,OAAQ3J,KAAKuM,aACb6a,cAAeA,EACf6B,YAAY,OCxHT,MAAMC,WAAuBjhB,EAAA,cAA5CY,kCACE7I,KAAA2B,YAAeud,GAAsB,KACnClf,KAAKgC,MAAMmnB,iBAAiBjK,IAG9BrW,SAAM,MACIqW,EAAalf,KAAKgC,MAAlBkd,SAER,OACEjX,EAAA,qBAAK7E,UAAU,2BACb6E,EAAA,qBAAK7E,UAAU,gBACb6E,EAAA,cAACgB,EAAA,OAAM,CACL7F,UAAW8b,EAAW,qBAAkB/Z,EACxCjD,QAASlC,KAAK2B,aAAY,IACzBxB,OAAA+H,EAAA,UAAA/H,CAAU,qBAEb8H,EAAA,cAACgB,EAAA,OAAM,CACL7F,UAAW8b,OAAW/Z,EAAY,gBAClCjD,QAASlC,KAAK2B,aAAY,IACzBxB,OAAA+H,EAAA,UAAA/H,CAAU,kBCxBR,SAASipB,KACtB,OACEnhB,EAAA,qBAAK7E,UAAU,gBACb6E,EAAA,wBAAK9H,OAAA+H,EAAA,UAAA/H,CAAU,sBCHN,SAASkpB,KACtB,OACEphB,EAAA,qBAAK7E,UAAU,gBACb6E,EAAA,wBAAK9H,OAAA+H,EAAA,UAAA/H,CAAU,uCCFN,SAASmpB,GAAVxhB,GAAoD,IAA5ByhB,EAA4BzhB,EAA5ByhB,OACpC,OACEthB,EAAA,qBAAK7E,UAAU,kDACb6E,EAAA,qBAAK7E,UAAU,eACb6E,EAAA,cAAC+O,EAAA,iBAAgB,CACf+N,eAAgB5kB,OAAA+H,EAAA,UAAA/H,CAAU,kBAC1BgiB,GAAG,iBACHzQ,OAAQ,CAAE8X,EAAGvhB,EAAA,4BAAS9H,OAAAoI,EAAA,cAAApI,CAAcopB,EAAQ,kBCIvC,MAAME,WAAoBxhB,EAAA,cACvCY,kBACE,OACEZ,EAAA,sBAAM7E,UAAU,yBACd6E,EAAA,sBAAM7E,UAAU,oBACd6E,EAAA,sBAAM7E,UAAU,uCAAqC,KACrD6E,EAAA,sBAAM7E,UAAU,uCAAqC,KACpDjD,OAAA+H,EAAA,UAAA/H,CAAU,4BAGb8H,EAAA,0BACEA,EAAA,sBAAM7E,UAAU,uCAAqC,KACrD6E,EAAA,sBAAM7E,UAAU,uCAAqC,KACpDjD,OAAA+H,EAAA,UAAA/H,CAAU,wBAMnB0I,SAAM,MAAAkB,EAC2C/J,KAAKgC,MAA5C0nB,EADJ3f,EACI2f,YAAa7a,EADjB9E,EACiB8E,OAAQC,EADzB/E,EACyB+E,cAE7B,OACE7G,EAAA,qBAAK7E,UAAU,cACZpD,KAAK2pB,kBAEN1hB,EAAA,qBAAK7E,UAAU,uBACb6E,EAAA,cAACiH,GAAA7G,EAAY,CAACnG,QAASlC,KAAKgC,MAAMmN,WACvB,MAAVN,GACC5G,EAAA,cAACoG,GAAa,CAACjL,UAAU,cAAcmL,QAASO,EAAeL,MAAOI,EAAOJ,aAE9DtJ,IAAhBukB,GAA6BzhB,EAAA,cAACqhB,GAAW,CAACC,OAAQG,KAGpD1pB,KAAKgC,MAAM4nB,YACV3hB,EAAA,cAAC4hB,GAAA,EAAc,CACbzmB,UAAU,mBACV0mB,YAAa3pB,OAAA4pB,EAAA,aAAA5pB,GAAiB,CAAEgM,KAAM,aAAgB,CAAEA,KAAM,q2BCuE1E,MAAM6d,GAAgB,CAAE7P,SAAU,SAC5B8P,GAAmB,IAElB,MAAMC,WAAYjiB,EAAA,cAGvBY,YAAY7G,GAAY,IAAAR,EACtBge,MAAMxd,GADgBR,EAAAxB,KAFxBA,KAAAyf,SAAU,EAiIVzf,KAAAmqB,cAAiBvoB,IACQ,WAAnBwoB,EAAA,aAGkB,KAAlBxoB,EAAMyoB,SAERzoB,EAAMC,iBACN7B,KAAKgJ,SAASlC,IACa,KAAlBlF,EAAMyoB,SAAkBzoB,EAAM0oB,QAEvC1oB,EAAMC,iBACN7B,KAAKwH,sBACsB,KAAlB5F,EAAMyoB,SAAkBzoB,EAAM0oB,QAEvC1oB,EAAMC,iBACN7B,KAAK0H,0BACsB,KAAlB9F,EAAMyoB,SAAkBzoB,EAAM0oB,QAEvC1oB,EAAMC,iBACN7B,KAAK4H,sBACsB,KAAlBhG,EAAMyoB,SAAkBzoB,EAAM0oB,SAEvC1oB,EAAMC,iBACN7B,KAAK2H,oBAIT3H,KAAAuqB,YAAe3oB,IACU,WAAnBwoB,EAAA,YAGkB,KAAlBxoB,EAAMyoB,SAERrqB,KAAKgJ,SAASzB,IAUlBvH,KAAAwqB,aAAe,CAACxoB,EAAcmM,KAC5B,MAAMkE,EAAOlS,OAAAkH,EAAA,EAAAlH,CAAQ6B,EAAM6I,SAASyE,OACpC,OAAO+C,EAAOlE,EAAO8J,KAAKlQ,GAASA,EAAM/C,MAAQqN,QAAQlN,GAG3DnF,KAAAyqB,gBAAkB,KAAK,MACbtc,EAAWnO,KAAK+G,MAAhBoH,OACFW,EAAgB9O,KAAK0qB,wBACLvlB,IAAlB2J,GAA+BA,EAAgBX,EAAOhK,OAAS,IAC7DnE,KAAK+G,MAAMC,UACbhH,KAAKgH,UAAUmH,EAAOW,EAAgB,GAAG9J,KAEzChF,KAAKgJ,SAAS,CACZN,SAAUyF,EAAOW,EAAgB,GAAG9J,IACpCoC,uBAAmBjC,EACnB8B,2BAAuB9B,MAM/BnF,KAAA2qB,oBAAsB,KAAK,MACjBxc,EAAWnO,KAAK+G,MAAhBoH,OACFW,EAAgB9O,KAAK0qB,wBACLvlB,IAAlB2J,GAA+BA,EAAgB,IAC7C9O,KAAK+G,MAAMC,UACbhH,KAAKgH,UAAUmH,EAAOW,EAAgB,GAAG9J,KAEzChF,KAAKgJ,SAAS,CACZN,SAAUyF,EAAOW,EAAgB,GAAG9J,IACpCoC,uBAAmBjC,EACnB8B,2BAAuB9B,MAM/BnF,KAAAgH,UAAa4jB,IACX,MAAMxd,EAAO,CACXyd,SAAU7qB,KAAKgC,MAAM6I,SAASggB,SAC9Bvb,MAAMwb,GAAA,GACD3qB,OAAAkH,EAAA,EAAAlH,CAAeH,KAAK+G,MAAMuI,OAC1BnP,OAAA4qB,EAAA,EAAA5qB,CAAmBH,KAAKgC,MAAM4kB,YAF9B,CAGHzE,GAAIniB,KAAKgC,MAAM8I,WAAa9K,KAAKgC,MAAM8I,UAAU9F,IACjDka,SAAUlf,KAAK+G,MAAMmY,SAAW,YAAS/Z,EACzCkN,KAAMuY,KAGN5qB,KAAK+G,MAAMC,UACToG,EAAKkC,MAAM+C,MAAQjF,EAAKkC,MAAM+C,OAASrS,KAAK+G,MAAMC,UAAUhC,IAC9DhF,KAAKgJ,SACH,CACE1B,oBAAoB,EACpBF,uBAAmBjC,EACnB8B,2BAAuB9B,GAEzBnF,KAAKgrB,uBAGPhrB,KAAKgC,MAAMipB,OAAOC,QAAQ9d,GAG5BpN,KAAKgC,MAAMipB,OAAOpkB,KAAKuG,IAI3BpN,KAAAmrB,WAAa,KACPnrB,KAAK+G,MAAMuI,OACbtP,KAAKgC,MAAMipB,OAAOpkB,KAAK,CACrBgkB,SAAU7qB,KAAKgC,MAAM6I,SAASggB,SAC9Bvb,MAAMwb,GAAA,GACD3qB,OAAAkH,EAAA,EAAAlH,CAAeH,KAAK+G,MAAMuI,OAC1BnP,OAAA4qB,EAAA,EAAA5qB,CAAmBH,KAAKgC,MAAM4kB,YAF9B,CAGHzE,GAAIniB,KAAKgC,MAAM8I,WAAa9K,KAAKgC,MAAM8I,UAAU9F,IACjDka,SAAUlf,KAAK+G,MAAMmY,SAAW,YAAS/Z,EACzCkN,UAAMlN,OAMdnF,KAAAorB,kBAAoB,KAAK,MACf1iB,EAAa1I,KAAK+G,MAAlB2B,SACJA,GACF1I,KAAKgH,UAAU0B,IAInB1I,KAAAgrB,sBAAwB,WAAkB,IAAjBlD,IAAiBpmB,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,KAAAA,UAAA,SAChCgH,EAAalH,EAAKuF,MAAlB2B,SACJA,GACFvI,OAAAkH,EAAA,EAAAlH,CAAcuI,EAAUof,IAI5B9nB,KAAA2f,YAAc,SACZ0L,GAG+B,IAF/BC,EAE+B5pB,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,IAAAA,UAAA,GAD/B6pB,IAC+B7pB,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,KAAAA,UAAA,SACvBoJ,EAActJ,EAAKQ,MAAnB8I,UADuB4Z,EAESljB,EAAKuF,MAArCmY,EAFuBwF,EAEvBxF,SAAU5B,EAFaoH,EAEbpH,WAAYhO,EAFCoV,EAEDpV,MAExB8N,EAASkO,EACXnrB,OAAO4Q,KAAKuM,GACThG,OAAOkU,GAASlO,EAAWkO,IAC3BlU,OAAOkU,GAASA,IAAUnkB,EAAA,GAC1BhD,IAAIgD,EAAA,GACJ4T,KAAK,UACR9V,EAEE4U,EACHjP,GAAaA,EAAU0E,cACvBhO,EAAKQ,MAAMwN,cAAgBhO,EAAKQ,MAAMwN,aAAaxK,IAEhDymB,EAAUX,GAAA,GACX3qB,OAAA4qB,EAAA,EAAA5qB,CAAmBqB,EAAKQ,MAAM4kB,YADnB,CAEd8E,cAAe5gB,GAAaA,EAAU9F,IACtCkW,EAAG,aACA/a,OAAAkH,EAAA,EAAAlH,CAAemP,GAJJ,CAKd2D,GAAI,MACJzD,aAAcuK,EACdqD,UACGiO,GAYL,OARI/b,EAAMqc,MACRxrB,OAAO6M,OAAOye,EAAY,CAAEG,IAAK,UAG/B1M,GACF/e,OAAO6M,OAAOye,EAAY,CAAE7b,UAAW,WAGlCpO,EAAKQ,MAAM2d,YAChB8L,EACAI,QAAQN,GAAwB/pB,EAAKQ,MAAM8pB,sBA6D/C9rB,KAAA+rB,gBAAmBxrB,GACVP,KAAK2f,YAAY,CAAEpf,MAG5BP,KAAAgsB,iBAAmB,CACjBzrB,EACA0rB,KAEA,MAAMC,EAAiB,CAAC3rB,EAAW4rB,IAC1BnsB,KAAK+rB,gBAAgBxrB,GAAG4S,KAAKrL,IAA6C,IAAlCskB,EAAkCtkB,EAA1CqG,OAAoBU,EAAsB/G,EAAtB+G,OAAWwd,EAAWC,GAAAxkB,EAAA,qBAC/E,MAAMqG,EAAS,IAAIge,KAAeC,GAClC,OAAOH,EAAKG,EAAYvd,GAAjBic,GAAA,CACD3c,SAAQU,UAAWwd,GACrBH,EAAe3rB,EAAI,EAAG4N,KAI9B,OAAO+d,EAAe3rB,EAAG,KAG3BP,KAAAusB,gBAAkB,KAAK,MACb1d,EAAW7O,KAAK+G,MAAhB8H,OAER,IAAKA,EACH,OAGF,MAAMtO,EAAIsO,EAAOoK,UAAY,EAE7BjZ,KAAKgJ,SAAS,CAAEwjB,UAAU,EAAOC,aAAa,IAC9CzsB,KAAK+rB,gBAAgBxrB,GAAG4S,KACtBiI,IACMpb,KAAKyf,SACPzf,KAAKgJ,SAASjC,IAAK,CACjB0lB,aAAa,EACbte,OAAQ,IAAIpH,EAAMoH,UAAWiN,EAASjN,QACtCU,OAAQuM,EAASvM,WAIvB,KACM7O,KAAKyf,SACPzf,KAAKgJ,SAAS,CAAEyjB,aAAa,OAMrCzsB,KAAA0sB,wBAA0B,CAACC,EAAoBC,EAAerY,KAAc,MAAAsY,EACpC7sB,KAAK+G,MAAnCoH,EADkE0e,EAClE1e,OAAQnH,EAD0D6lB,EAC1D7lB,UAAW6H,EAD+Cge,EAC/Che,OAE3B,IAAK7H,IAAc6H,EACjB,OAAOsK,QAAQ2T,YAAO3nB,GAGxB,MAAM4nB,EAAmBhlB,GAAmBA,EAAM+C,YAAc9D,EAAU8D,UAEpEmhB,EAAO,CAACG,EAAuBvd,KACnC,MAAMme,EAAYZ,EAAWA,EAAWjoB,OAAS,GACjD,OAAI0K,EAAOJ,OAASI,EAAOoK,UAAYpK,EAAOqK,WAG1C8T,EAAUliB,YAAc9D,EAAU8D,gBAGP3F,IAAxB6nB,EAAUzE,WAA2ByE,EAAUzE,UAAUE,QAAUlU,IAG5E,OAAI0X,EAAK9d,EAAQU,GACRsK,QAAQC,QAAQjL,EAAOmJ,OAAOyV,KAGvC/sB,KAAKgJ,SAAS,CAAEgG,SAAS,IAClBhP,KAAKgsB,iBAAiBnd,EAAOoK,UAAY,EAAGgT,GAAM9Y,KACvDiI,IACE,MAAM6R,EAAa,IAAI9e,KAAWiN,EAASjN,QAQ3C,OAPInO,KAAKyf,SACPzf,KAAKgJ,SAAS,CACZmF,OAAQ8e,EACRje,SAAS,EACTH,OAAQuM,EAASvM,SAGdoe,EAAW3V,OAAOyV,IAE3B,KACM/sB,KAAKyf,SACPzf,KAAKgJ,SAAS,CAAEgG,SAAS,IAEpB,OAKbhP,KAAAktB,WAAc1B,IACZ,MAAMD,EAAiC,aAAVC,EAC7B,OAAOxrB,KAAK2f,YAAY,CAAE1M,GAAI,EAAGmK,OAAQjd,OAAAkH,EAAA,EAAAlH,CAASqrB,KAAU,EAAOD,GAAsBpY,KACvFkB,IAAyB,IAAtB+I,EAAsB/I,EAAtB+I,OAAWiP,EAAWC,GAAAjY,EAAA,YACnBrU,KAAKyf,SACPzf,KAAKgJ,SAASjC,IAAK,CACjBqW,OAAO0N,GAAA,GAAM/jB,EAAMqW,OAAWjd,OAAAkH,EAAA,EAAAlH,CAAYid,IAC1CC,cAAe9K,IAAKxL,EAAMsW,cAAemO,GACzC9N,yBAAyBoN,GAAA,GACpB/jB,EAAM2W,yBACNyP,IAAMd,EAAMhV,WAAY,SAE7B2H,0BAA0B8L,GAAA,GACrB/jB,EAAMiY,0BACNmO,IAAMd,EAAMhV,WAAY,QAE7ByB,oBAAoBgS,GAAA,GACf/jB,EAAM+R,oBACNqU,IAAMd,EAAM/S,UAAW,QAE5BkC,gBAAgBsP,GAAA,GAAM/jB,EAAMyU,gBAAoB2R,IAAMd,EAAMtR,MAAO,QACnExK,gBAAgBua,GAAA,GAAM/jB,EAAMwJ,gBAAoB4c,IAAMd,EAAM7b,MAAO,cAIzE,SAIJxQ,KAAAotB,WAAa,KACX,MAAMC,EAAaltB,OAAAkH,EAAA,EAAAlH,CAAeH,KAAK+G,MAAMuI,OAC7C,OAAQnP,OAAAkH,EAAA,EAAAlH,CAAgBktB,EAAYrD,KAGtChqB,KAAAstB,iBAAmB,KACjB,MAAMnf,EAASnO,KAAK+G,MAAMwZ,QACvBlc,IAAIkc,GAAWvgB,KAAK+G,MAAMoH,OAAO8J,KAAKlQ,GAASA,EAAM/C,MAAQub,IAC7DjJ,OAAQvP,QAAsC5C,IAAV4C,GACjC8G,EAAS,CAAEoK,UAAW,EAAGC,SAAU/K,EAAOhK,OAAQsK,MAAON,EAAOhK,QACtE,OAAOgV,QAAQC,QAAQ,CAAEjL,SAAQU,YAGnC7O,KAAAutB,eAAiB,CAAChN,EAAmBiM,EAAoB3d,KACvD,GAAI0R,EAAQpc,OAAS,EAAG,CACtB,IAAIqE,EAOJ,OALEA,EADEgkB,GAAY3d,EACNA,EAAOJ,MAAQ6Q,GAAgBA,GAAgBzQ,EAAOJ,MAEtDhK,KAAK+oB,IAAIjN,EAAQpc,OAAQmb,IAG5Bnf,OAAA+H,EAAA,wBAAA/H,CAAwB,8BAA+BqI,GAE9D,OAAOrI,OAAA+H,EAAA,UAAA/H,CAAU,gBAIrBH,KAAAytB,mBAAsBxZ,IACpBjU,KAAKgC,MAAMipB,OAAOpkB,KAAK,CACrBgkB,SAAU7qB,KAAKgC,MAAM6I,SAASggB,SAC9Bvb,MAAMwb,GAAA,GACD3qB,OAAAkH,EAAA,EAAAlH,CAAe2qB,GAAA,GAAK9qB,KAAK+G,MAAMuI,MAAU2E,IACzC9T,OAAA4qB,EAAA,EAAA5qB,CAAmBH,KAAKgC,MAAM4kB,YAF9B,CAGHzE,GAAIniB,KAAKgC,MAAM8I,WAAa9K,KAAKgC,MAAM8I,UAAU9F,IACjDka,SAAUlf,KAAK+G,MAAMmY,SAAW,YAAS/Z,MAG7CnF,KAAKgJ,SAASic,IAAA,IAAG3H,EAAH2H,EAAG3H,WAAH,MAAqB,CACjCA,WAAWwN,GAAA,GACNxN,EADK,CAERkB,oBAAqBre,OAAAkH,EAAA,EAAAlH,CAAmCmd,EAAYrJ,GACpEwK,UAAWte,OAAAkH,EAAA,EAAAlH,CAAyBmd,EAAYrJ,SAKtDjU,KAAA0tB,qBAAwBxO,IACtBlf,KAAK2tB,WAAW,aACX3tB,KAAKgC,MAAM8I,WACd3K,OAAAkH,EAAA,EAAAlH,CAAa+e,GAEflf,KAAKgC,MAAMipB,OAAOpkB,KAAK,CACrBgkB,SAAU7qB,KAAKgC,MAAM6I,SAASggB,SAC9Bvb,MAAMwb,GAAA,GACD3qB,OAAAkH,EAAA,EAAAlH,CAAe2qB,GAAA,GAAK9qB,KAAK+G,MAAMuI,MAAjB,CAAwBQ,UAAU,EAAMF,UAAW,MACjEzP,OAAA4qB,EAAA,EAAA5qB,CAAmBH,KAAKgC,MAAM4kB,YAF9B,CAGHzE,GAAIniB,KAAKgC,MAAM8I,WAAa9K,KAAKgC,MAAM8I,UAAU9F,IACjDka,SAAUA,EAAW,YAAS/Z,OAKpCnF,KAAA2Q,sBAAwB,CAAC2B,EAAkB2B,KAA2B,MAC5DnJ,EAAc9K,KAAKgC,MAAnB8I,UAD4D8iB,EAExC5tB,KAAK+G,MAAzBmY,EAF4D0O,EAE5D1O,SAAU5P,EAFkDse,EAElDte,MAEZyK,EACHjP,GAAaA,EAAU0E,cACvBxP,KAAKgC,MAAMwN,cAAgBxP,KAAKgC,MAAMwN,aAAaxK,IAEhDymB,EAAUX,GAAA,GACX3qB,OAAA4qB,EAAA,EAAA5qB,CAAmBH,KAAKgC,MAAM4kB,YADnB,CAEd8E,cAAe5gB,GAAaA,EAAU9F,IACtCoY,OAAQjd,OAAAkH,EAAA,EAAAlH,CAASmS,GACjB4I,EAAG,aACA/a,OAAAkH,EAAA,EAAAlH,CAAe2qB,GAAA,GAAKxb,EAAU2E,IALnB,CAMdhB,GAAI,EACJzD,aAAcuK,IAOhB,OAJImF,GACF/e,OAAO6M,OAAOye,EAAY,CAAE7b,UAAW,WAGlC5P,KAAKgC,MACT2d,YAAY8L,GAAY,GACxBtY,KAAK0a,IAAA,IAAGzQ,EAAHyQ,EAAGzQ,OAAH,OAAgBjd,OAAAkH,EAAA,EAAAlH,CAAYid,GAAQ9K,MAG9CtS,KAAA2tB,WAAcrb,IACZtS,KAAKgJ,SAASjC,IAAK,CACjBuW,WAAWwN,GAAA,GAAM/jB,EAAMuW,WAAb,CAAyBzU,CAACyJ,IAAW,QAInDtS,KAAA8tB,kBAAqBxb,IACnBtS,KAAKgJ,SAASjC,IACZ,MAAMgnB,GAAoBhnB,EAAMuW,WAAWhL,GACrC0b,EAAW,CACf3Q,cAAetW,EAAMsW,cACrBC,WAAWwN,GAAA,GAAM/jB,EAAMuW,WAAb,CAAyBzU,CAACyJ,GAAWyb,KAmBjD,OAfIA,GAAoBzb,IAAajL,EAAA,IACnC2mB,EAAS1Q,WAAWkB,oBAAsBre,OAAAkH,EAAA,EAAAlH,CACxC6tB,EAAS1Q,WACTvW,EAAMuI,OAGRgD,EAAW0b,EAAS1Q,WAAWkB,oBAAsB,sBAAwBlM,GAI3EA,IAAajL,EAAA,GAAcN,EAAMqW,OAAO9K,KAC1C0b,EAAS3Q,cAAc/K,IAAY,EACnCtS,KAAKktB,WAAW5a,IAGX0b,KAIXhuB,KAAAiuB,YAAc,KACZjuB,KAAKgC,MAAMipB,OAAOpkB,KAAK,CACrBgkB,SAAU7qB,KAAKgC,MAAM6I,SAASggB,SAC9Bvb,MAAMwb,GAAA,GACDd,GACA7pB,OAAA4qB,EAAA,EAAA5qB,CAAmBH,KAAKgC,MAAM4kB,YAF9B,CAGHzE,GAAIniB,KAAKgC,MAAM8I,WAAa9K,KAAKgC,MAAM8I,UAAU9F,IACjDka,SAAUlf,KAAK+G,MAAMmY,SAAW,YAAS/Z,OAK/CnF,KAAAkuB,kBAAoB,CAACnmB,EAAeomB,EAAmB9b,KACrDrS,KAAKgJ,SAAUjC,IAAgB,MACrBigB,EAAcjgB,EAAdigB,UACFoH,EAAYpH,GAAaA,EAAUvW,OAAS0d,GAAanH,EAAUjf,QAAUA,EAEnF,OAAa,IAATsK,GAAmB+b,GAEH,IAAT/b,GAAiB+b,EACnBtD,GAAA,GAAK/jB,EAAZ,CAAmBigB,eAAW7hB,IAGzB4B,EALE+jB,GAAA,GAAK/jB,EAAZ,CAAmBigB,UAAW,CAAEjf,QAAO0I,KAAM0d,QASnDnuB,KAAAquB,iBAAoBtmB,IAClB/H,KAAKgJ,SAASjC,IAAK,CACjBylB,UAAU,EACVjM,QAASxZ,EAAMwZ,QAAQtQ,SAASlI,GAC5BmI,IAAQnJ,EAAMwZ,QAASxY,GACvB,IAAIhB,EAAMwZ,QAASxY,OAI3B/H,KAAAsuB,kBAAqBvmB,IACnB/H,KAAKuuB,sBACLvuB,KAAKgJ,SAASjC,IAAK,CACjBoH,OAAQpH,EAAMoH,OAAO9J,IAAImqB,GAAcA,EAAUxpB,MAAQ+C,EAAM/C,IAAM+C,EAAQymB,OAIjFxuB,KAAAyuB,qBAAuB,KACrBrE,EAAA,SAAa,sBACbpqB,KAAKgJ,SAAS,CAAE0lB,iBAAiB,KAGnC1uB,KAAA2uB,sBAAwB,KACtBvE,EAAA,SAAa,UACbpqB,KAAKgJ,SAAS,CAAE0lB,iBAAiB,KAGnC1uB,KAAA4uB,qBAAuB,KACrB5uB,KAAKgJ,SAAS,CAAEwjB,UAAU,IAC1BxsB,KAAKuuB,sBACLvuB,KAAK6uB,mBACL7uB,KAAK2uB,yBAGP3uB,KAAA8uB,aAAe,KACb9uB,KAAK6uB,mBACL7uB,KAAKuuB,sBACDpuB,OAAA4qB,EAAA,EAAA5qB,CAAcH,KAAKgC,MAAM4kB,aAC3B5mB,KAAKgC,MAAM+sB,oBAIf/uB,KAAAgvB,yBAA2B,KACzBhvB,KAAK6uB,mBAAmB1b,KACrBhF,IACKA,EAAOhK,OAAS,GAClBnE,KAAKgH,UAAUmH,EAAO,GAAGnJ,MAG7B,SAIJhF,KAAAivB,eAAkB1qB,IAChBvE,KAAKgJ,StC/xBF,SAAwBkmB,GAC7B,OAAQnoB,IAA6D,MACpCxC,EAAqBwC,EAA5CE,sBACR,OADoDF,EAAdC,UAEhCzC,IAAU2qB,EAEL,CACL5nB,oBAAoB,EACpBL,2BAAuB9B,GAGlB,CAAEmC,oBAAoB,EAAML,sBAAuBioB,GAGvD,MsCixBOD,CAAuB1qB,KAGvCvE,KAAAwH,mBAAqB,KACnBxH,KAAKgJ,SAASxB,IAGhBxH,KAAA0H,uBAAyB,KACvB1H,KAAKgJ,SAAStB,IAGhB1H,KAAAmvB,eAAkB5O,IACZA,EACFvgB,KAAKgJ,SAASjC,IAAK,CACjBylB,UAAU,EACVjM,QAASxZ,EAAMoH,OAAO9J,IAAI0D,GAASA,EAAM/C,QAG3ChF,KAAKgJ,SAAS,CAAEwjB,UAAU,EAAOjM,QAAS,MAI9CvgB,KAAAovB,WAAc7qB,IACZvE,KAAKgJ,StC/vBF,SAAoBkmB,GACzB,MAAO,KACE,CAAE5nB,oBAAoB,EAAMF,kBAAmB8nB,EAAWjoB,sBAAuB,IsC6vB1EmoB,CAAmB7qB,KAGnCvE,KAAA2H,eAAiB,KACf3H,KAAKgJ,SAASrB,IAGhB3H,KAAA4H,mBAAqB,KACnB5H,KAAKgJ,SAASpB,IAGhB5H,KAAAuuB,oBAAsB,KAAK,MAAAxkB,EACS/J,KAAKgC,MAA/B4kB,EADiB7c,EACjB6c,WAAY9b,EADKf,EACLe,UAChB8b,GAAc9b,GAAa3K,OAAA4qB,EAAA,EAAA5qB,CAAcymB,IAC3C5mB,KAAKgC,MAAMqtB,kBAAkBzI,EAAY9b,EAAU9F,MA1tBrD,MAAMsK,EAAQnP,OAAAkH,EAAA,EAAAlH,CAAW6B,EAAM6I,SAASyE,OACxCtP,KAAK+G,MAAQ,CACX2nB,iBAAiB,EACjBnO,QAAS,GACTnD,OAAQ,GACRjP,OAAQ,GACRa,SAAS,EACTqO,cAAe,GACfoP,aAAa,EACbnlB,oBAAoB,EACpB4X,SAAUld,EAAMkd,UAAY/e,OAAAkH,EAAA,EAAAlH,CAAoB6B,EAAM6I,SAASyE,OAC/DgO,WAAY,CACVc,WAAYje,OAAAkH,EAAA,EAAAlH,CAA8B,GAAImP,EAAO,cACrDgP,UAAWne,OAAAkH,EAAA,EAAAlH,CAA8B,GAAImP,EAAO,aACpDuM,YAAY,EACZ2C,oBAAqBre,OAAAkH,EAAA,EAAAlH,CAAmC,GAAImP,GAC5DmP,UAAWte,OAAAkH,EAAA,EAAAlH,CAAyB,GAAImP,GACxCyN,OAAO,GAETzN,QACAoO,yBAA0B,GAC1BsB,0BAA2B,GAC3BlG,oBAAqB,GACrB0C,gBAAiB,GACjBjL,gBAAiB,GACjB7H,SAAUvI,OAAAkH,EAAA,EAAAlH,CAAQ6B,EAAM6I,SAASyE,QAEnCtP,KAAKuuB,oBAAsBe,IAAStvB,KAAKuuB,oBAAqB,KAGhE1lB,oBACE7I,KAAKyf,SAAU,GAEXzf,KAAK+G,MAAMmY,UAAalf,KAAKgC,MAAM8d,YAAYyP,YAKnDpvB,OAAAqvB,EAAA,kBAAArvB,GACAA,OAAAqvB,EAAA,gBAAArvB,GACAH,KAAKyvB,kBACLzvB,KAAK6uB,oBAPHa,MAUJ7mB,0BAA0BgD,GACxB,MAAM7E,EAAYhH,KAAKwqB,aAAa3e,EAAW7L,KAAK+G,MAAMoH,QAEtDnH,GAAaA,EAAUhC,MAAQhF,KAAK+G,MAAM2B,UAC5C1I,KAAKgJ,SAAS,CACZ1B,oBAAoB,EACpBoB,SAAU1B,EAAUhC,IACpBoC,uBAAmBjC,EACnB8B,2BAAuB9B,IAItB6B,GACHhH,KAAKgJ,SAAS,CAAE5B,uBAAmBjC,EAAW8B,2BAAuB9B,IAGvEnF,KAAKgJ,SAAS,CACZkW,SAAUrT,EAAUqT,UAAY/e,OAAAkH,EAAA,EAAAlH,CAAoB0L,EAAUhB,SAASyE,OACvEtI,YACAsI,MAAOnP,OAAAkH,EAAA,EAAAlH,CAAW0L,EAAUhB,SAASyE,SAIzCzG,mBAAmBe,EAAkB+lB,GAAgB,MAC3CrgB,EAAUtP,KAAKgC,MAAM6I,SAArByE,MACOsgB,EAAchmB,EAAUiB,SAA/ByE,MAEN1F,EAAUkB,YAAc9K,KAAKgC,MAAM8I,WAClC3K,OAAA4qB,EAAA,EAAA5qB,CAAiByJ,EAAUgd,WAAY5mB,KAAKgC,MAAM4kB,aAClDzmB,OAAAkH,EAAA,EAAAlH,CAAgByvB,EAAWtgB,IAC5BnP,OAAAkH,EAAA,EAAAlH,CAAoByvB,KAAezvB,OAAAkH,EAAA,EAAAlH,CAAoBmP,GAKtDtP,KAAK+G,MAAMC,WACX2oB,EAAUjnB,WAAa1I,KAAK+G,MAAM2B,WAAYinB,EAAU3oB,WAIzDhH,KAAKgrB,yBARLhrB,KAAK6uB,mBACL7uB,KAAKgJ,SAAS,CAAEwjB,UAAU,KAW9B3jB,uBACE7I,KAAK6vB,kBACL7vB,KAAKyf,SAAU,EACftf,OAAAqvB,EAAA,qBAAArvB,GACAA,OAAAqvB,EAAA,mBAAArvB,GAGF0I,kBACEuhB,EAAA,SAAa,UACbA,EAAI,KAAM,SAAU,KAClBpqB,KAAK2qB,uBACE,IAETP,EAAI,OAAQ,SAAU,KACpBpqB,KAAKyqB,mBACE,IAETL,EAAI,QAAS,SAAU,KACrBpqB,KAAKorB,qBACE,IAEThB,EAAI,OAAQ,SAAU,KACmB,IAAnCpqB,KAAK+G,MAAMuI,MAAMnB,OAAOhK,QAC1BnE,KAAKmrB,cAEA,IAETze,OAAOojB,iBAAiB,UAAW9vB,KAAKmqB,eACxCzd,OAAOojB,iBAAiB,QAAS9vB,KAAKuqB,aAGxC1hB,kBACEuhB,EAAA,YAAgB,UAChB1d,OAAOqjB,oBAAoB,UAAW/vB,KAAKmqB,eAC3Czd,OAAOqjB,oBAAoB,QAAS/vB,KAAKuqB,aAwC3C1hB,mBAAgB,MAAAmnB,EACoBhwB,KAAK+G,MADzBkpB,EAAAD,EACN7hB,cADM,IAAA8hB,EACG,GADHA,EACOvnB,EADPsnB,EACOtnB,SACfnE,EAAQ4J,EAAO+hB,UAAUnoB,GAASA,EAAM/C,MAAQ0D,GACtD,OAAkB,IAAXnE,EAAeA,OAAQY,EAgJhC0D,mBACE,MAAM+mB,EAAY5vB,KAAKgC,MAAM6I,SAASyE,MAChC6gB,EAAehwB,OAAAkH,EAAA,EAAAlH,CAAQH,KAAKgC,MAAM6I,SAASyE,OACjD,IAAI8gB,EAiBJ,OAfApwB,KAAKgJ,SAAS,CAAEuX,QAAS,GAAIvR,SAAS,KAEpCohB,OADmBjrB,IAAjBgrB,EACanwB,KAAKgsB,iBAAiB,EAAG,CAACI,EAAuBvd,IAE5DA,EAAOJ,OAASI,EAAOoK,UAAYpK,EAAOqK,UAC1CrK,EAAOoK,UAAYpK,EAAOqK,UAAY+Q,IAIjCmC,EAAWiE,KAAKtoB,GAASA,EAAM/C,MAAQmrB,IAGjCnwB,KAAK2f,YAAY,IAAI,IAGlBxM,KAClBmd,IAAsD,IAAnD5G,EAAmD4G,EAAnD5G,YAAatM,EAAsCkT,EAAtClT,OAAQjP,EAA8BmiB,EAA9BniB,OAAQU,EAAsByhB,EAAtBzhB,OAAWwd,EAAWC,GAAAgE,EAAA,4CACpD,GAAItwB,KAAKyf,SAAWtf,OAAAkH,EAAA,EAAAlH,CAAgByvB,EAAW5vB,KAAKgC,MAAM6I,SAASyE,OAAQ,CACzE,MAAMtI,EAAYhH,KAAKwqB,aAAaxqB,KAAKgC,MAAOmM,GAChD,IAAIzF,OAA+BvD,EAC/BgJ,EAAOhK,OAAS,IAClBuE,EAAW1B,EAAYA,EAAUhC,IAAMmJ,EAAO,GAAGnJ,KAEnDhF,KAAKgJ,SAASjC,IAAK,CACjBwpB,oBAAqB1E,QAAQsE,IAAiBnpB,GAC9C0iB,cACAtM,OAAO0N,GAAA,GAAM/jB,EAAMqW,OAAWjd,OAAAkH,EAAA,EAAAlH,CAAYid,IAC1CpO,SAAS,EACTb,SACAnH,YACA6H,SACA6O,yBAA0ByP,IAAMd,EAAMhV,WAAY,QAClD2H,0BAA2BmO,IAAMd,EAAMhV,WAAY,OACnDyB,oBAAqBqU,IAAMd,EAAM/S,UAAW,OAC5CkC,gBAAiB2R,IAAMd,EAAMtR,MAAO,OACpCxK,gBAAiB4c,IAAMd,EAAM7b,MAAO,SACpC9H,WACAtB,uBAAmBjC,EACnB8B,2BAAuB9B,KAG3B,OAAOgJ,GAET,KACMnO,KAAKyf,SAAWtf,OAAAkH,EAAA,EAAAlH,CAAgByvB,EAAW5vB,KAAKgC,MAAM6I,SAASyE,QACjEtP,KAAKgJ,SAAS,CAAEgG,SAAS,IAEpB,KAqXbnG,iBAAiB7B,GAA8B,MAAA8N,EACV9U,KAAKgC,MAAhC8I,EADqCgK,EACrChK,UAAWgV,EAD0BhL,EAC1BgL,YAD0B0Q,EAEkBxwB,KAAK+G,MAA5DylB,EAFqCgE,EAErChE,SAAUkC,EAF2B8B,EAE3B9B,gBAAiBnO,EAFUiQ,EAEVjQ,QAASpS,EAFCqiB,EAEDriB,OAAQU,EAFP2hB,EAEO3hB,OAE9C4hB,EAAelQ,EAAQpc,OAAS,GAAKgK,EAAOhK,SAAWoc,EAAQpc,OAC/DusB,EAAanQ,EAAQpc,OAAS,IAAMssB,EACpCE,EAAYF,GAAgBC,EAElC,OAAK5Q,EAAYyP,YAAcvoB,EACtB,KAIPiB,EAAA,qBAAK7E,UAAU,aACb6E,EAAA,cAACsc,EAAAlc,EAAQ,CACPkY,QAASoQ,EACTvtB,UAAU,2BACVnB,SAA4B,IAAlBkM,EAAOhK,OACjBge,GAAG,mBACH8B,QAASjkB,KAAKmvB,eACduB,WAAYA,EACZrU,MAAOlc,OAAA+H,EAAA,UAAA/H,CAAU,8BAEnB8H,EAAA,cAACgB,EAAA,OAAM,CACLhH,SAA6B,IAAnBse,EAAQpc,OAClBge,GAAG,qBACHjgB,QAASlC,KAAKyuB,sBACbzuB,KAAKutB,eAAehN,EAASiM,EAAU3d,IAGzC6f,GACCzmB,EAAA,cAACsX,GAAe,CACdzU,UAAWA,EACXgV,YAAaA,EACbH,YAAa6M,EAAWxsB,KAAK2f,YAAc3f,KAAKstB,iBAChDxL,QAAS9hB,KAAK2uB,sBACdjN,OAAQ1hB,KAAK4uB,qBACbpf,aAAcxP,KAAKgC,MAAMwN,gBAOnC3G,eAAY,MAAAoN,EAC4CjW,KAAKgC,MAAnD8I,EADEmL,EACFnL,UAAWgV,EADT7J,EACS6J,YAAa8Q,EADtB3a,EACsB2a,kBACxBthB,EAAUtP,KAAK+G,MAAfuI,MAEFyK,EACHjP,GAAaA,EAAU0E,cACvBxP,KAAKgC,MAAMwN,cAAgBxP,KAAKgC,MAAMwN,aAAaxK,IAEhD6rB,GACH1wB,OAAA4pB,EAAA,aAAA5pB,IACDywB,EAAkB3Y,KAAK6Y,GACdA,EAAE9rB,MAAQ+U,GAEf4D,EACJ3d,KAAKgC,MAAM2b,iBAAoBxd,OAAA4pB,EAAA,aAAA5pB,IAAkBH,KAAKgC,MAAMkd,WAAc2R,EAE5E,OACE5oB,EAAA,qBAAK7E,UAAU,uBACZ0c,EAAYyP,aAAepvB,OAAA4pB,EAAA,aAAA5pB,IAC1B8H,EAAA,cAACihB,GAAc,CACbhK,SAAUlf,KAAK+G,MAAMmY,SACrBiK,iBAAkBnpB,KAAK0tB,uBAG3BzlB,EAAA,cAAC8oB,EAAA,EAAa,CAACC,aAAchxB,KAAKotB,aAAc6D,QAASjxB,KAAKiuB,cAC9DhmB,EAAA,cAACkV,GAAO,CACNrS,UAAWA,EACXsS,OAAQpd,KAAK+G,MAAMqW,OACnBO,gBAAiBA,EACjBhN,sBAAuB3Q,KAAK2Q,sBAC5B0M,cAAerd,KAAK+G,MAAMsW,cAC1B6B,SAAUlf,KAAK+G,MAAMmY,SACrBzB,cAAezd,KAAK8tB,kBACpBtQ,eAAgBxd,KAAKytB,mBACrBnQ,WAAYtd,KAAK+G,MAAMuW,WACvB9N,aAAcxP,KAAKgC,MAAMwN,aACzBF,MAAOA,EACPoO,yBAA0B1d,KAAK+G,MAAM2W,yBACrCsB,0BAA2Bhf,KAAK+G,MAAMiY,0BACtClG,oBAAqB9Y,KAAK+G,MAAM+R,oBAChC0C,gBAAiBxb,KAAK+G,MAAMyU,gBAC5BjL,gBAAiBvQ,KAAK+G,MAAMwJ,mBAMpC1H,0BAAuB,MAAAqoB,EAC0BlxB,KAAK+G,MAA5CoH,EADa+iB,EACb/iB,OAAQse,EADKyE,EACLzE,YAAa5d,EADRqiB,EACQriB,OAAQS,EADhB4hB,EACgB5hB,MAErC,OACErH,EAAA,qBAAK7E,UAAU,uBACb6E,EAAA,cAACyG,GAAuB,CACtBE,kBAA2C,IAAxBU,EAAMnB,OAAOhK,OAChC6K,QAAShP,KAAK+G,MAAMiI,QACpBC,YAAajP,KAAKmrB,WAClBhc,SAAUnP,KAAKgvB,yBACfngB,OAAQA,EACRC,cAAe9O,KAAK0qB,qBAEtBziB,EAAA,cAACyF,GAAiB,CAChBS,OAAQA,EACR7E,aAActJ,KAAKovB,WACnBhhB,cAAepO,KAAKgH,UACpBkE,iBAAkBlL,KAAKivB,eACvBvmB,SAAU1I,KAAK+G,MAAM2B,SACrBtB,kBAAmBpH,KAAK+G,MAAMK,kBAC9BH,sBAAuBjH,KAAK+G,MAAME,wBAEnC4H,GAAUA,EAAOJ,MAAQ,GACxBxG,EAAA,cAACkpB,EAAA9oB,EAAU,CACTG,MAAO2F,EAAOhK,OACditB,SAAUpxB,KAAKusB,gBACfvd,QAASyd,EACThe,MAAOI,EAAOJ,SAOxB5F,WAAW7B,GACT,OACEiB,EAAA,cAACopB,EAAA,EAAoB,CAACjuB,UAAU,0BAC7BkuB,IAAA,IAAGC,EAAHD,EAAGC,IAAH,OACCtpB,EAAA,qBAAK7E,UAAU,mBAAmB6B,MAAO,CAAEssB,QACzCtpB,EAAA,qBAAK7E,UAAU,0BACb6E,EAAA,cAACupB,EAAA,EAAc,CACbC,OAAO,iBACPjjB,MACExH,EAAY7G,OAAA+H,EAAA,UAAA/H,CAAU,uBAAyBA,OAAA+H,EAAA,UAAA/H,CAAU,0BAE3DuxB,OAAQ,KAET1qB,EAAYhH,KAAK2xB,0BAA4B3xB,KAAK4xB,mBAQ/D/oB,aAAU,MAAAsN,EACqDnW,KAAKgC,MAA1D4kB,EADAzQ,EACAyQ,WAAY9b,EADZqL,EACYrL,UAAWgV,EADvB3J,EACuB2J,YAAatQ,EADpC2G,EACoC3G,aADpCqiB,EAEoD7xB,KAAK+G,MAAzDoH,EAFA0jB,EAEA1jB,OAAQa,EAFR6iB,EAEQ7iB,QAASyd,EAFjBoF,EAEiBpF,YAAazlB,EAF9B6qB,EAE8B7qB,UAAW6H,EAFzCgjB,EAEyChjB,OAC3CC,EAAgB9O,KAAK0qB,mBACrBtD,OAAkCjiB,IAAlB2J,EAA8BX,EAAOW,QAAiB3J,EAE5E,IAAK0J,GAAU7H,EACb,OAAO,KAGT,IAAI8qB,EAAkB,KAWtB,OAVqB,IAAjBjjB,EAAOJ,OAAgBO,IAEvB8iB,EADE9xB,KAAKotB,aACWnlB,EAAA,cAAC8pB,EAAA,EAAW,MACrB/xB,KAAK+G,MAAMmY,SACFjX,EAAA,cAACohB,GAAU,MAEXphB,EAAA,cAACmhB,GAAQ,OAK7BnhB,EAAA,yBACG4G,EAAOJ,MAAQ,GACdxG,EAAA,cAACgf,GAAU,CACTL,WAAYA,EACZrG,QAASvgB,KAAK+G,MAAMwZ,QACpBzV,UAAWA,EACXqD,OAAQA,EACRqP,eAAgBxd,KAAKytB,mBACrBpG,cAAernB,KAAKsuB,kBACpBhH,aAAcxH,EAAYyP,WAAavvB,KAAKquB,sBAAmBlpB,EAC/DoiB,aAAcvnB,KAAKgH,UACnB+f,cAAe/mB,KAAKkuB,kBACpBlH,UAAWhnB,KAAK+G,MAAMigB,UACtBxX,aAAcA,EACd4X,cAAeA,IAIlBvY,EAAOJ,MAAQ,GACdxG,EAAA,cAACkpB,EAAA9oB,EAAU,CACTG,MAAO2F,EAAOhK,OACditB,SAAUpxB,KAAKusB,gBACfvd,QAASyd,EACThe,MAAOI,EAAOJ,QAIjBqjB,GAKPjpB,aAAYmpB,GAQX,IAPChrB,EAODgrB,EAPChrB,UACA6H,EAMDmjB,EANCnjB,OACAC,EAKDkjB,EALCljB,cAMA,OAAO9H,EACLiB,EAAA,cAACupB,EAAA,EAAc,CAACC,OAAO,gBAEvBxpB,EAAA,qBAAK7E,UAAU,uEACb6E,EAAA,qBAAK7E,UAAU,gEACb6E,EAAA,qBAAK7E,UAAU,0BACb6E,EAAA,cAACupB,EAAA,EAAc,CAACC,OAAO,gBAEtBzxB,KAAKiyB,iBAAiBjrB,GACvBiB,EAAA,cAACwhB,GAAW,CACVG,WAAYiC,SACT7rB,KAAKgC,MAAMwN,eACTxP,KAAKgC,MAAM8I,aACV3K,OAAA4pB,EAAA,aAAA5pB,IAAkBH,KAAKgC,MAAMkd,WAEnCwK,YAAa1pB,KAAK+G,MAAM2iB,YACxBva,SAAUnP,KAAK8uB,aACfjgB,OAAQA,EACRC,cAAeA,OAQ3BjG,aAAU,MAAAqpB,EACsElyB,KAAK+G,MAA3EwpB,EADA2B,EACA3B,oBAAqB/D,EADrB0F,EACqB1F,SAAUre,EAD/B+jB,EAC+B/jB,OAAQa,EADvCkjB,EACuCljB,QAAShI,EADhDkrB,EACgDlrB,UAAW6H,EAD3DqjB,EAC2DrjB,OACnE,OACE5G,EAAA,qBAAK7E,UAAU,0BACZ4D,EACCiB,EAAA,cAAC2f,GAAkB,CACjBhB,WAAYzmB,OAAA4qB,EAAA,EAAA5qB,CAAe6G,EAAUmrB,OAAQnrB,EAAUorB,aACvDjkB,OAAQA,EACRuR,WAAY1f,KAAK0sB,wBACjBplB,mBAAoBtH,KAAK+G,MAAMO,mBAC/B+f,cAAernB,KAAKsuB,kBACpBlgB,cAAepO,KAAKgH,UACpBkE,iBAAkBlL,KAAKivB,eACvBjoB,UAAWA,EACXI,kBAAmBpH,KAAK+G,MAAMK,kBAC9BH,sBAAuBjH,KAAK+G,MAAME,wBAGpCgB,EAAA,cAACoqB,EAAAhqB,EAAe,CAAC2G,QAASA,GACvBwd,GAAY3d,GAAUA,EAAOJ,MAAQ6Q,IACpCrX,EAAA,cAAC4c,EAAA,MAAK,CAACzhB,UAAU,oBAAoB0hB,QAAQ,WAC3C7c,EAAA,cAAC+O,EAAA,iBAAgB,CACf+N,eAAgB5kB,OAAA+H,EAAA,UAAA/H,CAAU,wCAC1BgiB,GAAG,uCACHzQ,OAAQ,CAAE1L,IAAKiC,EAAA,4BAASqX,QAI7BiR,GACCtoB,EAAA,cAAC4c,EAAA,MAAK,CAACzhB,UAAU,oBAAoB0hB,QAAQ,WAC1C3kB,OAAA+H,EAAA,wBAAA/H,CACC,iDACA8pB,KAILjqB,KAAKsyB,eAOhBzpB,SAAM,MAAA0pB,EAC0BvyB,KAAK+G,MAA3BC,EADJurB,EACIvrB,UAAW6H,EADf0jB,EACe1jB,OACbC,EAAgB9O,KAAK0qB,mBAC3B,OACEziB,EAAA,qBAAK7E,UAAU,qBAAqB+e,GAAG,eACrCla,EAAA,cAACuqB,EAAA,EAAW,CAACC,YAAY,WACzBxqB,EAAA,cAACyqB,EAAA,EAAM,CAACC,OAAO,EAAOtW,MAAOrV,EAAYA,EAAU6C,QAAU1J,OAAA+H,EAAA,UAAA/H,CAAU,iBAEtEH,KAAK4yB,WAAW5rB,GAEjBiB,EAAA,qBAAK7E,UAAU,oBACZpD,KAAK6yB,aAAa,CAAE7rB,YAAW6H,SAAQC,kBAEvC9O,KAAK8yB,gBAOhB,MAAMC,GAAqB,CAAE1D,kBAAmB2D,EAAA,GAEjCC,EAAA,QAAA9yB,OAAA+yB,EAAA,GAAW/yB,OAAAsY,EAAA,QAAAtY,CAAQ,KAAM4yB,GAAd5yB,CAAkC+pB,uCCjqC5DjpB,EAAAhB,EAAAgzB,EAAA,sBAAAT,IAAA,IAAAW,EAAAlyB,EAAA,GAAAmyB,EAAAnyB,EAAA,KA0Be,SAASuxB,EAAV1qB,GAA4C,IAApB2qB,EAAoB3qB,EAApB2qB,YACpC,OACEU,EAAA,cAACC,EAAA,EAAmBC,SAAQ,KACzBhf,IAAA,IAAGif,EAAHjf,EAAGif,eAAgBC,EAAnBlf,EAAmBkf,kBAAnB,OACCJ,EAAA,cAACK,EAAgB,CACfF,eAAgBA,EAChBC,kBAAmBA,EACnBd,YAAaA,MAavB,MAAMe,UAAyBL,EAAA,cAC7BtqB,oBACE7I,KAAKgC,MAAMsxB,eAAetzB,KAAKgC,MAAMywB,aAGvC5pB,mBAAmBe,GACbA,EAAU6oB,cAAgBzyB,KAAKgC,MAAMywB,cACvCzyB,KAAKgC,MAAMuxB,kBAAkBvzB,KAAKgC,MAAMywB,aACxCzyB,KAAKgC,MAAMsxB,eAAe1pB,EAAU6oB,cAIxC5pB,uBACE7I,KAAKgC,MAAMuxB,kBAAkBvzB,KAAKgC,MAAMywB,aAG1C5pB,SACE,OAAO,yCC/DX5H,EAAAhB,EAAAgzB,EAAA,sBAAAQ,IAAAxyB,EAAAhB,EAAAgzB,EAAA,sBAAAnd,IAAA,IAAAqd,EAAAlyB,EAAA,GAAAyyB,EAAAzyB,EAAA,KAAA0yB,EAAA1yB,EAAA,IA4BO,MAAMwyB,EAAkB,CAC7BG,KAAM,UACNC,MAAO,OACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,WAGK,SAASle,EAAVhO,GAAqD,IAAvBmsB,EAAuBnsB,EAAvBmsB,SAAUle,EAAajO,EAAbiO,KACpD,OACEod,EAAA,cAACO,EAAA,cAAavzB,OAAA6M,OAAA,CAACjM,MAAOZ,OAAAwzB,EAAA,UAAAxzB,CAAU4V,IAAW0d,GACxCQ,sCCvCPhzB,EAAAhB,EAAAgzB,EAAA,sBAAAiB,IAAAjzB,EAAAhB,EAAAgzB,EAAA,sBAAApe,IAAA,IAAAse,EAAAlyB,EAAA,GAAAyyB,EAAAzyB,EAAA,KAAA0yB,EAAA1yB,EAAA,IA6BO,MAAMwyB,EAAkB,CAAEG,KAAM,UAAWC,MAAO,QAASC,IAAK,WAE1DI,EAAsB,CAAEN,KAAM,UAAWC,MAAO,OAAQC,IAAK,WAE3D,SAASjf,EAAV/M,GAAuD,IAA7BmsB,EAA6BnsB,EAA7BmsB,SAAUle,EAAmBjO,EAAnBiO,KAAMoe,EAAarsB,EAAbqsB,KACtD,OACEhB,EAAA,cAACO,EAAA,cAAavzB,OAAA6M,OAAA,CAACjM,MAAOZ,OAAAwzB,EAAA,UAAAxzB,CAAU4V,IAAYoe,EAAOD,EAAsBT,GACtEQ,sCCnCP9zB,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAG,EAAYD,EAAQ,GACpBmzB,EAAanzB,EAAQ,KACrBozB,EAAA,CACAC,IAuBA,SAAAvxB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,+zBAAAgF,MAAA,CAA40BvC,QAAAJ,EAAAK,OAAA6xB,WA1Bz3BC,IA8EA,SAAA1xB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,iIAAAgF,MAAA,CAA8IvC,QAAAJ,EAAAK,OAAA6xB,WAjF3LE,IA4BA,SAAA3xB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,ypDAAAgF,MAAA,CAAsqDvC,QAAAJ,EAAAK,OAAA6xB,WA/BntDjd,IAAAod,EACAC,IAwCA,SAAA7xB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,0OAAAgF,MAAA,CAAuPvC,QAAAJ,EAAAK,OAAA6xB,WA3CpSK,IAmEA,SAAA9xB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,kMAAAgF,MAAA,CAA+MvC,QAAAJ,EAAAK,OAAA6xB,WAtE5PM,IAAAC,EACAC,IAAAC,EACAC,GAkDA,SAAAnyB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,0RAAAgF,MAAA,CAAuSvC,QAAAJ,EAAAK,OAAA6xB,WArDpVW,IAAAF,EACAG,QAAAL,EACAM,IAwCA,SAAAtyB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,mIAAAgF,MAAA,CAAgJvC,QAAAJ,EAAAK,OAAA6xB,WA3C7Lc,IAAAX,GAyBA,SAAAA,EAAA5xB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,wmBAAAgF,MAAA,CAAqnBvC,QAAAJ,EAAAK,OAAA4yB,YAwBlqB,SAAAR,EAAAhyB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,0NAAAgF,MAAA,CAAuOvC,QAAAJ,EAAAK,OAAA6xB,UAiBpR,SAAAS,EAAAlyB,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAA2O,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAG,WAAA,CAAoDnxB,YAAAiO,QAAmC,SAAAtO,GACvF,IAAAT,EAAAS,EAAAT,MACA,OAAApB,EAAAkB,cAAA,QAA6CnC,EAAA,4OAAAgF,MAAA,CAAyPvC,QAAAJ,EAAAK,OAAA6xB,UApEtS1zB,EAAAoC,QARA,SAAAlB,GACA,IAAAA,EAAA+Q,UACA,YAEA,IAAAA,EAAA/Q,EAAA+Q,UAAAiG,cACAwc,EAAAnB,EAAAthB,GACA,OAAAyiB,EAAAt0B,EAAAkB,cAAAozB,EAAA,CAAuDpyB,UAAApB,EAAAoB,UAAAV,KAAAV,EAAAU,OAA+C,wCCzBtGzB,EAAAhB,EAAAgzB,EAAA,sBAAAzB,IAAA,IAAA2B,EAAAlyB,EAAA,GAAAw0B,EAAAx0B,EAAA,GAAAy0B,EAAAz0B,EAAA,KA6Be,SAASuwB,EAAexvB,GACrC,OACEmxB,EAAA,cAACuC,EAAA,EAAYrC,SAAQ,KAClBvrB,IAAA,IAAG6tB,EAAH7tB,EAAG6tB,gBAAiBC,EAApB9tB,EAAoB8tB,mBAApB,OACCzC,EAAA,cAAC0C,EAAmB11B,OAAA6M,OAAA,CAClB2oB,gBAAiBA,EACjBC,mBAAoBA,GAChB5zB,MAYP,MAAM6zB,UAA4B1C,EAAA,cAAzCtqB,kCASE7I,KAAA81B,QAAU,KAAqB,MAAA/rB,EACyC/J,KAAKgC,MAA3DgD,EADa+E,EACrB0nB,OADqBsE,EAAAhsB,EACRyE,MACrB,MAAO,CAAExJ,MAAKwJ,WAFe,IAAAunB,EACA51B,OAAAs1B,EAAA,UAAAt1B,CAAU,mBADV41B,EAERrE,OAFQ3nB,EAC8B2nB,SAT7D7oB,oBACE7I,KAAKgC,MAAM2zB,gBAAgB31B,KAAK81B,WAGlCjtB,uBACE7I,KAAKgC,MAAM4zB,mBAAmB51B,KAAK81B,WAQrCjtB,SAAM,MACI4oB,EAAWzxB,KAAKgC,MAAhByvB,OACR,OAAO0B,EAAA,sBAAMhR,GAAE,gBAAA1M,OAAkBgc,4BChErC,IAAAuE,EAAe/0B,EAAQ,KAGvBg1B,EAAA,IACAC,EAAA,uBAqCA3vB,EAAAzF,QAZA,SAAAC,GACA,OAAAA,GAGAA,EAAAi1B,EAAAj1B,MACAk1B,GAAAl1B,KAAAk1B,GACAl1B,EAAA,QACAm1B,EAEAn1B,OAAA,EAPA,IAAAA,IAAA,qCC9BA,IAAAo1B,EAAAn2B,WAAAm2B,QAAA,SAAAjb,EAAAwM,GACA,IAAAxK,EAAA,GACA,QAAA3c,KAAA2a,EAAA/a,OAAAQ,UAAAH,eAAA41B,KAAAlb,EAAA3a,IAAAmnB,EAAA2O,QAAA91B,GAAA,IACA2c,EAAA3c,GAAA2a,EAAA3a,IACA,SAAA2a,GAAA,mBAAA/a,OAAAm2B,sBACA,KAAA9vB,EAAA,MAAAjG,EAAAJ,OAAAm2B,sBAAApb,GAA4D1U,EAAAjG,EAAA4D,OAAcqC,IAC1EkhB,EAAA2O,QAAA91B,EAAAiG,IAAA,GAAArG,OAAAQ,UAAA41B,qBAAAH,KAAAlb,EAAA3a,EAAAiG,MACA0W,EAAA3c,EAAAiG,IAAA0U,EAAA3a,EAAAiG,KAEA,OAAA0W,GAEA/c,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAC,EAAiBC,EAAQ,KACzBC,EAAYD,EAAQ,GACpBE,EAAaF,EAAQ,GACrBu1B,EAAiBv1B,EAAQ,KACzBw1B,EAAwBx1B,EAAQ,KAiChCH,EAAAoC,QAhCA,SAAAH,GACA,IAmBA+W,EAnBA7V,EAAAlB,EAAA2zB,aAAA,IAAAzyB,KAAAjC,EAAAm0B,EAAApzB,EAAA,WAeA4zB,EAAA30B,EAAAyM,OAAAzM,EAAAyM,MAAAzM,EAAAwG,MACAouB,EAAA11B,EAAAkB,cAAA,KAAkDgB,UAAA,cAAAyzB,YAAA,YAAAvzB,KAAA,IAAApB,QAflD,SAAAN,GACAA,EAAAC,iBACAD,EAAAE,cAAAC,OACAC,EAAAovB,UACApvB,EAAAovB,aAW2IjwB,EAAA8B,UAAA,cAC3I6zB,EAAA51B,EAAAkB,cAAA,KAAgDgB,UAAA,cAAAyzB,YAAA,SAAAvzB,KAAA,IAAApB,QAThD,SAAAN,GACAA,EAAAC,iBACAD,EAAAE,cAAAC,OACAC,EAAA+0B,QACA/0B,EAAA+0B,WAKoI51B,EAAA8B,UAAA,WACpIG,EAAApC,EAAA,+BAA+Dg2B,eAAAN,GAAwB10B,EAAAoB,WAQvF,OANApB,EAAAi1B,YAAAj1B,EAAA+0B,OACAjd,EAAAgd,EAEAH,GAAA30B,EAAAovB,WACAtX,EAAA8c,GAEA11B,EAAAkB,cAAA,UAA2CgB,aAC3CjC,EAAA+1B,wBAAA,eAAAV,EAAAW,cAAAn1B,EAAAwG,MAAA,YAAAguB,EAAAW,cAAAn1B,EAAAyM,MAAA,aACAqL,EACA9X,EAAAgN,SAAA9N,EAAAkB,cAAAq0B,EAAAvzB,QAAA,CAAyEE,UAAA,kFChDzEnC,EAAAhB,EAAAgzB,EAAA,sBAAAjd,IAAA,IAAAmd,EAAAlyB,EAAA,GAAAyyB,EAAAzyB,EAAA,KAAA0yB,EAAA1yB,EAAA,IA4Be,SAAS+U,EAAVlO,GAA+C,IAAvBmsB,EAAuBnsB,EAAvBmsB,SAAUle,EAAajO,EAAbiO,KAC9C,OAAOod,EAAA,cAACO,EAAA,kBAAiB,CAAC3yB,MAAOZ,OAAAwzB,EAAA,UAAAxzB,CAAU4V,IAAQke,sCC7BrDhzB,EAAAhB,EAAAgzB,EAAA,sBAAAlX,IAAA,IAAAoX,EAAAlyB,EAAA,GAAAm2B,EAAAn2B,EAAA,KAAAo2B,EAAAp2B,EAAAq2B,EAAAF,GAAAG,EAAAt2B,EAAA,GA4Be,SAAS8a,EAAVjU,GAAuD,IAA5B1E,EAA4B0E,EAA5B1E,UAAW0Y,EAAiBhU,EAAjBgU,SAClD,OAAKA,EAIHqX,EAAA,sBAAM/vB,UAAWA,GACf+vB,EAAA,cAACkE,EAAAhvB,EAAY,CAACjF,UAAU,sBAAsB0Y,SAAUA,IACvD3b,OAAAo3B,EAAA,UAAAp3B,CAAU,WAAY2b,IALlB,2BC9BX,IAAA0b,EAAYv2B,EAAQ,IACpBw2B,EAAqBx2B,EAAQ,KAgC7BsF,EAAAzF,QAdA,SAAA42B,EAAAC,GACA,IAAA5hB,EAAAyhB,EAAAE,GACAE,EAAAC,OAAAF,GACAG,EAAA/hB,EAAAgiB,WAAAH,EACAI,EAAA,IAAAziB,KAAA,GACAyiB,EAAAC,YAAAliB,EAAAmiB,cAAAJ,EAAA,GACAE,EAAAG,SAAA,SACA,IAAAC,EAAAX,EAAAO,GAIA,OADAjiB,EAAAsiB,SAAAP,EAAArzB,KAAA+oB,IAAA4K,EAAAriB,EAAAV,YACAU,wBC9BA,IAAAyhB,EAAYv2B,EAAQ,IA2BpBsF,EAAAzF,QAVA,SAAA42B,GACA,IAAA3hB,EAAAyhB,EAAAE,GACA9D,EAAA7d,EAAAmiB,cACAI,EAAAviB,EAAAgiB,WACAQ,EAAA,IAAAhjB,KAAA,GAGA,OAFAgjB,EAAAN,YAAArE,EAAA0E,EAAA,KACAC,EAAAJ,SAAA,SACAI,EAAAljB,6CCxBApU,EAAAhB,EAAAgzB,EAAA,sBAAAuF,IAAAv3B,EAAAhB,EAAAgzB,EAAA,sBAAAwF,IAAAx3B,EAAAhB,EAAAgzB,EAAA,sBAAAyF,IAAAz3B,EAAAhB,EAAAgzB,EAAA,sBAAA0F,IAAA13B,EAAAhB,EAAAgzB,EAAA,sBAAA2F,IAAA33B,EAAAhB,EAAAgzB,EAAA,sBAAA4F,IAAA53B,EAAAhB,EAAAgzB,EAAA,sBAAA6F,IAAA73B,EAAAhB,EAAAgzB,EAAA,sBAAA8F,IAAA,IAAAC,EAAA/3B,EAAA,GAAAg4B,EAAAh4B,EAAA,KA2BO,SAASu3B,EAAYx0B,GAG1B,OAAO7D,OAAA64B,EAAA,QAAA74B,CAAQ,iBAAkB6D,GAAMk1B,MAAMD,EAAA,GAYxC,SAASR,EAAYz0B,GAI1B,OAAO7D,OAAA64B,EAAA,QAAA74B,CAAQ,oBAAqB6D,GAAMk1B,MAAMD,EAAA,GAG3C,SAASP,EAAUtd,EAAe9I,GACvC,MAAMkZ,EAAQpQ,EAASgC,OAAOnF,KAAMuT,GAAeA,EAAMlZ,WAAaA,GACtE,OAAOkZ,EAAQA,EAAM9Z,OAAS,GAGzB,SAASinB,EAAelN,GAK7B,OAAOtrB,OAAA64B,EAAA,QAAA74B,CAAQ,kBAAmBsrB,GAAYyN,MAAMD,EAAA,GAG/C,SAASL,EAAYnN,GAK1B,OAAOtrB,OAAA64B,EAAA,QAAA74B,CAAQ,kBAAmBsrB,GAAYtY,KAAK6M,GAAKA,EAAExD,KAAMyc,EAAA,GAG3D,SAASJ,EAAW70B,GAYzB,OAAO7D,OAAA64B,EAAA,SAAA74B,CAAS,oBAAqB6D,GAAMmP,KACzC6M,GAAKA,EAAE3E,KACPD,GAGMA,GAAgC,MAApBA,EAASe,OAChBhD,QAAQ2T,OAAO1R,GAEfjb,OAAA84B,EAAA,EAAA94B,CAAiBib,IAMzB,SAAS0d,EAAWrN,GACzB,OAAOtrB,OAAA64B,EAAA,KAAA74B,CAAK,oBAAqBsrB,GAAYyN,MAAMD,EAAA,GAG9C,SAASF,EAAW/0B,GAczB,OAAO7D,OAAA64B,EAAA,SAAA74B,CAAS,oBAAqB6D,GAAMmP,KAAK6M,GAAKA,EAAE3E,KAAM4d,EAAA,sCCjH/D94B,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAG,EAAYD,EAAQ,GACpBmzB,EAAanzB,EAAQ,KAMrBH,EAAAoC,QALA,SAAAH,GACA,IAAAK,EAAAL,EAAAK,UAAAa,EAAAlB,EAAAL,YAAA,IAAAuB,EAAA,eAAAA,EAAAoN,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAlxB,QAAA,CAAiDE,YAAAiO,QACjDnQ,EAAAkB,cAAA,QAAqCnC,EAAA,mTAAAgF,MAAA,CAAgUvC,iCCNrW,IAAA4D,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,0CChBAzG,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAo4B,EAAA,eACAC,EAAA,aACAC,EAAA,iBAyBA,SAAAC,EAAAl2B,EAAAm2B,GACAzrB,SAAA0rB,KAAAC,UAAAC,OAAAt2B,EAAAm2B,GACAzrB,SAAA6rB,iBACA7rB,SAAA6rB,gBAAAF,UAAAC,OAAAt2B,EAAAm2B,GAxBAz4B,EAAA84B,gBAHA,WACAN,EAAAH,GAAA,IAMAr4B,EAAA+4B,kBAHA,WACAP,EAAAF,GAAA,IAMAt4B,EAAAg5B,qBAHA,WACAR,EAAAD,GAAA,IAMAv4B,EAAAi5B,mBAHA,WACAT,EAAAH,GAAA,IAMAr4B,EAAAk5B,qBAHA,WACAV,EAAAF,GAAA,IAMAt4B,EAAAm5B,wBAHA,WACAX,EAAAD,GAAA,sCCzBA,IAAAa,EAAAl6B,WAAAk6B,UAAA,WASA,OARAA,EAAA/5B,OAAA6M,QAAA,SAAAkQ,GACA,QAAAhC,EAAA1U,EAAA,EAAA8wB,EAAA51B,UAAAyC,OAAgDqC,EAAA8wB,EAAO9wB,IAEvD,QAAAjG,KADA2a,EAAAxZ,UAAA8E,GACArG,OAAAQ,UAAAH,eAAA41B,KAAAlb,EAAA3a,KACA2c,EAAA3c,GAAA2a,EAAA3a,IAEA,OAAA2c,IAEAzb,MAAAzB,KAAA0B,YAEAy0B,EAAAn2B,WAAAm2B,QAAA,SAAAjb,EAAAwM,GACA,IAAAxK,EAAA,GACA,QAAA3c,KAAA2a,EAAA/a,OAAAQ,UAAAH,eAAA41B,KAAAlb,EAAA3a,IAAAmnB,EAAA2O,QAAA91B,GAAA,IACA2c,EAAA3c,GAAA2a,EAAA3a,IACA,SAAA2a,GAAA,mBAAA/a,OAAAm2B,sBACA,KAAA9vB,EAAA,MAAAjG,EAAAJ,OAAAm2B,sBAAApb,GAA4D1U,EAAAjG,EAAA4D,OAAcqC,IAC1EkhB,EAAA2O,QAAA91B,EAAAiG,IAAA,GAAArG,OAAAQ,UAAA41B,qBAAAH,KAAAlb,EAAA3a,EAAAiG,MACA0W,EAAA3c,EAAAiG,IAAA0U,EAAA3a,EAAAiG,KAEA,OAAA0W,GAEA/c,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAG,EAAYD,EAAQ,GACpBk5B,EAAwBl5B,EAAQ,KAChCm5B,EAAyBn5B,EAAQ,KAKjCH,EAAAoC,QAJA,SAAAH,GACA,IAAAsP,EAAAtP,EAAAsP,KAAArQ,EAAAm0B,EAAApzB,EAAA,UACA,OAAAsP,EAAAnR,EAAAkB,cAAA+3B,EAAAj3B,QAAAg3B,EAAA,GAA4El4B,IAAAd,EAAAkB,cAAAg4B,EAAAl3B,QAAAg3B,EAAA,GAAuEl4B,0BC7BnJ,IAAAw1B,EAAYv2B,EAAQ,IACpBw2B,EAAqBx2B,EAAQ,KAkC7BsF,EAAAzF,QAhBA,SAAA42B,EAAA2C,GACA,IAAAtkB,EAAAyhB,EAAAE,GACA7D,EAAAgE,OAAAwC,GACAzG,EAAA7d,EAAAmiB,cACApE,EAAA/d,EAAAV,UAEA2iB,EAAA,IAAAziB,KAAA,GACAyiB,EAAAC,YAAArE,EAAAC,EAAA,IACAmE,EAAAG,SAAA,SACA,IAAAC,EAAAX,EAAAO,GAIA,OADAjiB,EAAAsiB,SAAAxE,EAAApvB,KAAA+oB,IAAAsG,EAAAsE,IACAriB,qCChCA9U,EAAAhB,EAAAgzB,EAAA,sBAAAvc,IAAA,IAAA4jB,EAAAr5B,EAAA,KAAAs5B,EAAAt5B,EAAA,GA4Be,SAASyV,EAAS1U,GAC/B,OACEu4B,EAAA,qBACEn3B,UAAWk3B,EAAW,6BAA8Bt4B,EAAMoB,WAAUo3B,gBACrDx4B,EAAMsQ,UACpBtQ,EAAMiyB,6CCjCbhzB,EAAAhB,EAAAgzB,EAAA,sBAAAwH,IAAA,IAAAH,EAAAr5B,EAAA,KAAAs5B,EAAAt5B,EAAA,GAAAy5B,EAAAz5B,EAAA,KAAA05B,EAAA15B,EAAAq2B,EAAAoD,GAAAE,EAAA35B,EAAA,KAAA45B,EAAA55B,EAAAq2B,EAAAsD,GAAAE,EAAA75B,EAAA,GAAAA,EAAA,KAgCe,SAASw5B,EAAV3yB,GAAkE,IAAAizB,EAAAjzB,EAA7CkzB,mBAA6C,IAAAD,KAAxB33B,EAAwB0E,EAAxB1E,UAAWoZ,EAAa1U,EAAb0U,KACjE,OACE+d,EAAA,sBAAAU,aACc96B,OAAA26B,EAAA,wBAAA36B,CAAwB,cAAeqc,EAAKvB,KAAK,OAC7D7X,UAAWk3B,EAAW,YAAal3B,IACnCm3B,EAAA,cAACM,EAAAxyB,EAAQ,CAACjF,UAAU,gBACpBm3B,EAAA,sBAAAW,eAAmB,EAAM93B,UAAU,4BAA4BiZ,MAAOG,EAAKvB,KAAK,OAC7EuB,EAAKvB,KAAK,OAEZ+f,GAAeT,EAAA,cAACI,EAAAtyB,EAAY,CAACjF,UAAU,iHCd/B,MAAMiuB,UAA6BkJ,EAAA,cAIhD1xB,YAAY7G,GACVwd,MAAMxd,GAaRhC,KAAAm7B,YAAc,KACZ,MAAMC,EAAep7B,KAAKq7B,WAAar7B,KAAKq7B,UAAUC,wBACtD,OAAKF,EAGE,CACL7J,IAAK7kB,OAAO6uB,YAAcH,EAAa7J,IACvCiK,KAAM9uB,OAAO+uB,YAAcL,EAAaI,MAJjC,CAAEjK,IAAK,EAAGiK,KAAM,IAfzBx7B,KAAK07B,kBAAoBC,IAAS,IAAM37B,KAAK47B,cAAe,KAG9D/yB,oBACE7I,KAAK47B,cACLlvB,OAAOojB,iBAAiB,SAAU9vB,KAAK07B,mBAGzC7yB,uBACE6D,OAAOqjB,oBAAoB,SAAU/vB,KAAK07B,mBAc5C7yB,SACE,OACE0xB,EAAA,qBACEn3B,UAAWpD,KAAKgC,MAAMoB,UACtB6G,IAAKoxB,GAAcr7B,KAAKq7B,UAAYA,GACnCr7B,KAAKgC,MAAMiyB,SAASj0B,KAAKm7B,oDC7DlCl6B,EAAAhB,EAAAgzB,EAAA,sBAAAtc,IAAA,IAAAwc,EAAAlyB,EAAA,GAAA46B,EAAA56B,EAAA,KAAA66B,EAAA76B,EAAA,KAAA86B,EAAA96B,EAAAq2B,EAAAwE,GAAAE,EAAA/6B,EAAA,KAAAg7B,EAAAh7B,EAAAq2B,EAAA0E,GAAAE,EAAAj7B,EAAA,KAAAk7B,EAAAl7B,EAAAq2B,EAAA4E,GAAAE,EAAAn7B,EAAA,GAqCe,MAAM0V,UAAoBwc,EAAA,cAAzCtqB,kCACE7I,KAAA2B,YAAeC,IACbA,EAAMC,iBACND,EAAME,cAAcC,OAChB/B,KAAKgC,MAAME,SACblC,KAAKgC,MAAME,WAIf2G,eACE,OAAK7I,KAAKgC,MAAMq6B,OAGTlJ,EAAA,cAAC4I,EAAA1zB,EAAW,CAACjF,UAAU,cAAcD,QAASnD,KAAKgC,MAAMq6B,SAFvD,KAKXxzB,uBAAoB,MACV6I,EAAW1R,KAAKgC,MAAhB0P,OACR,IAAKA,IAAWA,EAAOvN,OACrB,OAAO,KAET,MAAMpD,EACc,IAAlB2Q,EAAOvN,OAAeuN,EAAO,GAAKvR,OAAAi8B,EAAA,wBAAAj8B,CAAwB,aAAcuR,EAAOvN,QACjF,OACEgvB,EAAA,sBAAM/vB,UAAU,sBAAsBiZ,MAAOtb,GAC1CA,GAKP8H,SACE,MAAMyzB,EACiB,MAArBt8B,KAAKgC,MAAM0P,QAAkB1R,KAAKgC,MAAM0P,OAAOvN,OAAS,GAA2B,MAAtBnE,KAAKgC,MAAMiQ,QAE1E,OACEkhB,EAAA,qBAAK/vB,UAAU,6DACZpD,KAAKgC,MAAME,QACVixB,EAAA,sBAAM/vB,UAAU,qDACd+vB,EAAA,mBAAG7vB,KAAK,IAAIpB,QAASlC,KAAK2B,aACxBwxB,EAAA,cAAC8I,EAAA5zB,EAAa,CAACjF,UAAU,sBAAsBiP,KAAMrS,KAAKgC,MAAMqQ,OAC/DrS,KAAKgC,MAAMyO,MAEbzQ,KAAKu8B,gBAGRpJ,EAAA,sBAAM/vB,UAAU,qDACbpD,KAAKgC,MAAMyO,KACXzQ,KAAKu8B,gBAITv8B,KAAKgC,MAAMiyB,SAEZd,EAAA,sBAAM/vB,UAAU,iEACbpD,KAAKw8B,wBAGPx8B,KAAKgC,MAAM6P,UACVshB,EAAA,sBAAM/vB,UAAU,uBACd+vB,EAAA,cAACgJ,EAAA9zB,EAAe,OAInBi0B,GACCnJ,EAAA,cAAC0I,EAAA,OAAM,CACLz4B,UAAU,+DACVlB,QAASlC,KAAKgC,MAAMiQ,SACnB9R,OAAAi8B,EAAA,UAAAj8B,CAAU,+CCxGvBc,EAAAhB,EAAAgzB,EAAA,sBAAA7c,IAAA,IAAAkkB,EAAAr5B,EAAA,KAAAs5B,EAAAt5B,EAAA,GAmCe,MAAMmV,UAAkBmkB,EAAA,cAAvC1xB,kCAOE7I,KAAA2B,YAAeC,IACbA,EAAMC,iBACND,EAAME,cAAcC,OACpB/B,KAAKgC,MAAME,QAAQlC,KAAKgC,MAAMjB,MAAOa,EAAM66B,SAAW76B,EAAM86B,UAG9D7zB,cACE,OAAuB,MAAnB7I,KAAKgC,MAAMwY,KACN,KAGF+f,EAAA,sBAAMn3B,UAAU,cAAcpD,KAAKgC,MAAMwY,MAGlD3R,SAAM,MACI4H,EAASzQ,KAAKgC,MAAdyO,KACFrN,EAAYk3B,EAAW,yBAA0Bt6B,KAAKgC,MAAMoB,UAAW,CAC3EiT,OAAQrW,KAAKgC,MAAMqU,OACnBsmB,8BAA+B38B,KAAKgC,MAAM0Y,YAG5C,OAAO1a,KAAKgC,MAAMC,SAChBs4B,EAAA,sBAAMn3B,UAAWA,EAASw5B,aAAc58B,KAAKgC,MAAMjB,MAAOsb,MAAOrc,KAAKgC,MAAMgB,SAC1Eu3B,EAAA,sBAAMn3B,UAAU,cAAcqN,GAC7BzQ,KAAK68B,eAGRtC,EAAA,mBACEn3B,UAAWA,EAASw5B,aACR58B,KAAKgC,MAAMjB,MACvBuC,KAAK,IACLpB,QAASlC,KAAK2B,YACd0a,MAAOrc,KAAKgC,MAAMgB,SAClBu3B,EAAA,sBAAMn3B,UAAU,cAAcqN,GAC7BzQ,KAAK68B,gBAxCLzmB,EAAAU,aAAe,CACpB7U,UAAU,EACVyY,WAAW,EACX1L,SAAS,sHCJE,SAAS8tB,EAAkB96B,GAA6B,MAC7DqU,EAAgDrU,EAAhDqU,OAAQ0mB,EAAwC/6B,EAAxC+6B,OAAQ96B,EAAgCD,EAAhCC,SAAU0L,EAAsB3L,EAAtB2L,QAASjF,EAAa1G,EAAb0G,SACrCs0B,EAAU,IAAMh7B,EAAMg7B,QAAQrvB,GAC9BvK,EAAY6J,EAAW,CAAEoJ,SAAQpU,aACjCuM,EAAQxM,EAAMi7B,YAAYtvB,GAEhC,OACE1F,EAAA,oBAAIi1B,QAASF,EAASG,YAAaH,GACjC/0B,EAAA,cAACsc,EAAAlc,EAAQ,CACPkY,QAASsL,QAAQnjB,GACjBtF,UAAWA,EACXnB,SAAUA,EACVkgB,GAAIxU,EACJsW,QAASjiB,EAAMo7B,gBACdL,EACC90B,EAAA,sBAAAgzB,aAAA,GAAAxlB,OACiBtV,OAAA+H,EAAA,UAAA/H,CAAU,sBAD3B,MAAAsV,OACqDjH,GACnDpL,UAAU,sBACV6E,EAAA,sBAAAizB,eAAmB,EAAM93B,UAAU,uBAAqB,KAGvDoL,GAGHvG,EAAA,sBAAM7E,UAAU,sBAAsBoL,qCCAjC,MAAM6uB,UAAoBp1B,EAAA,cAavCY,YAAY7G,GACVwd,MAAMxd,GAXRhC,KAAAyf,SAAU,EA2DVzf,KAAAs9B,mBAAqB,CAAC50B,EAAmB60B,KACnC70B,EACF1I,KAAKw9B,aAAaD,GAElBv9B,KAAKy9B,eAAeF,IAIxBv9B,KAAA09B,mBAAsB38B,IACpBf,KAAK29B,cAAe39B,KAAKgC,MAA2B47B,oBAAoB78B,KAG1Ef,KAAA69B,mBAAsBlwB,IACpB3N,KAAKgJ,SAAS,CAAC2mB,EAAW3tB,KACjB,CAAE87B,UAAW99B,KAAK+9B,eAAe/7B,EAAO2tB,GAAW0G,QAAQ1oB,OAItE3N,KAAAg+B,eAAkBC,IAChB,OAAQA,EAAI5T,SACV,KAAK,GACH4T,EAAIC,kBACJD,EAAIp8B,iBACJ7B,KAAKgJ,SAAShJ,KAAKm+B,mBACnB,MACF,KAAK,GACHF,EAAIC,kBACJD,EAAIp8B,iBACJ7B,KAAKgJ,SAAShJ,KAAKo+B,uBACnB,MACF,KAAK,GACL,KAAK,GACHH,EAAIC,kBACJ,MACF,KAAK,GACCl+B,KAAK+G,MAAM+2B,WAAa,GAC1B99B,KAAKq+B,aAAar+B,KAAK+9B,eAAe/9B,KAAKgC,MAAOhC,KAAK+G,OAAO/G,KAAK+G,MAAM+2B,cAMjF99B,KAAA29B,cAAiBruB,IACftP,KAAKgJ,SAAS,CAAE80B,UAAW,EAAG9uB,SAAS,EAAMM,UAC7CtP,KAAKgC,MAAMmQ,SAAS7C,GAAO6D,KAAKnT,KAAKs+B,YAAat+B,KAAKs+B,cAGzDt+B,KAAAw9B,aAAgBD,IACVv9B,KAAKu+B,aAAahB,EAAMv9B,KAAKgC,QAC/BhC,KAAK29B,cAAc,IAErB39B,KAAKgC,MAAMyL,SAAS8vB,IAGtBv9B,KAAAy9B,eAAkBF,GAAiBv9B,KAAKgC,MAAMw8B,WAAWjB,GAEzDv9B,KAAAu+B,aAAe,CAACE,EAAD32B,KAAA,IAAiB42B,EAAjB52B,EAAiB42B,iBAAkBC,EAAnC72B,EAAmC62B,SAAnC,OACbF,EAAKt6B,OAAS,IAAyC,IAApCu6B,EAAiBrI,QAAQoI,KAA4C,IAA5BE,EAAStI,QAAQoI,IAE/Ez+B,KAAA4+B,uBAA0B58B,IACxBhC,KAAKgJ,SAAUjC,GACTA,EAAMuI,MACD,CACLovB,iBAAkB18B,EAAM68B,eAAe93B,EAAMuI,MAAOtN,EAAM08B,mBAGrD,CAAEA,iBAAkB,IAAI18B,EAAM08B,qBAK3C1+B,KAAA8+B,yBAA4B98B,IAC1BhC,KAAKgJ,SAAUjC,GACU,IAAnB/E,EAAM+8B,SACD,CAAEC,mBAAoBC,IAAWj9B,EAAM28B,SAAU38B,EAAM08B,mBACrD18B,EAAM+8B,SAAWh4B,EAAM23B,iBAAiBv6B,OAC1C,CAAE66B,mBAAoB,IAEtB,CACLA,mBAAoBC,IAAWj9B,EAAM28B,SAAU38B,EAAM08B,kBAAkBn1B,MACrE,EACAvH,EAAM+8B,SAAWh4B,EAAM23B,iBAAiBv6B,WAOlDnE,KAAA+9B,eAAiB,CAAC/7B,EAAc+E,IAC1B/G,KAAKu+B,aAAax3B,EAAMuI,MAAOtN,GAC1B,IAAI+E,EAAM23B,oBAAqB33B,EAAMi4B,mBAAoBj4B,EAAMuI,OAE/D,IAAIvI,EAAM23B,oBAAqB33B,EAAMi4B,oBAIhDh/B,KAAAk/B,iBAAoBC,GAAgBn/B,KAAKgJ,SAAS,CAAE80B,UAAWqB,IAE/Dn/B,KAAAm+B,kBAAoB,CAACp3B,EAAc/E,KAAgB,MACzC87B,EAAc/2B,EAAd+2B,UACFsB,EAAcp/B,KAAK+9B,eAAe/7B,EAAO+E,GAC/C,OAAI+2B,EAAY,GAAKA,GAAasB,EAAYj7B,OAAS,EAC9C,CAAE25B,UAAW,GAEb,CAAEA,UAAWA,EAAY,IAIpC99B,KAAAo+B,sBAAwB,CAACr3B,EAAc/E,KAAgB,MAC7C87B,EAAc/2B,EAAd+2B,UACFsB,EAAcp/B,KAAK+9B,eAAe/7B,EAAO+E,GAC/C,GAAI+2B,GAAa,EAAG,CAElB,MAAO,CAAEA,UADOsB,EAAYj7B,OAAS,GAGrC,MAAO,CAAE25B,UAAWA,EAAY,IAIpC99B,KAAAs+B,YAAc,KACRt+B,KAAKyf,SACPzf,KAAKgJ,SAAS,CAAEgG,SAAS,KAI7BhP,KAAAq+B,aAAgBd,KACqC,IAA/Cv9B,KAAKgC,MAAM08B,iBAAiBrI,QAAQkH,GACtCv9B,KAAKw9B,aAAaD,GAElBv9B,KAAKy9B,eAAeF,IAhLtBv9B,KAAK+G,MAAQ,CACX+2B,UAAW,EACX9uB,SAAS,EACTM,MAAO,GACPovB,iBAAkB,GAClBM,mBAAoB,IAIxBn2B,oBACE7I,KAAKyf,SAAU,EACfzf,KAAK29B,cAAc,IACnB39B,KAAK4+B,uBAAuB5+B,KAAKgC,OACjChC,KAAK8+B,yBAAyB9+B,KAAKgC,OAC/BhC,KAAKq7B,WACPr7B,KAAKq7B,UAAUvL,iBAAiB,UAAW9vB,KAAKg+B,gBAAgB,GAIpEn1B,0BAA0BgD,GACxB,GACE7L,KAAKgC,MAAM28B,WAAa9yB,EAAU8yB,UAClC3+B,KAAKgC,MAAM08B,mBAAqB7yB,EAAU6yB,iBAC1C,CACA1+B,KAAK4+B,uBAAuB/yB,GAC5B7L,KAAK8+B,yBAAyBjzB,GAE9B,MAAMwzB,EAAgBr/B,KAAK+9B,eAAelyB,EAAW7L,KAAK+G,OAAO5C,OAC7DnE,KAAK+G,MAAM+2B,WAAauB,GAC1Br/B,KAAKgJ,SAAS,CAAE80B,UAAWuB,EAAgB,KAKjDx2B,qBACM7I,KAAKs/B,aACPt/B,KAAKs/B,YAAYC,QAIrB12B,uBACE7I,KAAKyf,SAAU,EACXzf,KAAKq7B,WACPr7B,KAAKq7B,UAAUtL,oBAAoB,UAAW/vB,KAAKg+B,gBAyIvDn1B,SAAM,MAAAkB,EACwE/J,KAAKgC,MAD7Ew9B,EAAAz1B,EACI01B,sBADJ,IAAAD,KAAAE,EAAA31B,EAC2B41B,wBAD3B,IAAAD,KAAAE,EAAA71B,EACoD81B,kBADpD,IAAAD,EACiE,GADjEA,EAEI3C,EAAgBj9B,KAAKgC,MAArBi7B,YAFJvY,EAG+D1kB,KAAK+G,MAAhEuI,EAHJoV,EAGIpV,MAAOwuB,EAHXpZ,EAGWoZ,UAAWY,EAHtBha,EAGsBga,iBAAkBM,EAHxCta,EAGwCsa,mBACtCc,EAAgB9/B,KAAK+9B,eAAe/9B,KAAKgC,MAAOhC,KAAK+G,OAAO+2B,GAC5DiC,EAAiBJ,GAAoB3/B,KAAKu+B,aAAajvB,EAAOtP,KAAKgC,OACnEg+B,EAAuC,IAAxBhgC,KAAKgC,MAAM+8B,SAC1BkB,EAAchzB,EAAW,OAAQ,CACrCizB,0BAA2BF,EAC3BG,aAAcH,EACdI,qBAAsBJ,EACtBK,wBAAyBxU,QAAQgU,KAGnC,OACE53B,EAAA,qBAAK7E,UAAU,eAAe6G,IAAKq2B,GAAQtgC,KAAKq7B,UAAYiF,GAC1Dr4B,EAAA,qBAAK7E,UAAU,eACb6E,EAAA,cAACs4B,EAAAl4B,EAAS,CACRm4B,WAAW,EACXp9B,UAAU,oBACV4L,QAAShP,KAAK+G,MAAMiI,QACpBa,SAAU7P,KAAK09B,mBACf+C,YAAazgC,KAAKgC,MAAMy+B,YACxB1/B,MAAOuO,KAGXrH,EAAA,oBAAI7E,UAAW68B,GACZvB,EAAiBv6B,OAAS,GACzBu6B,EAAiBr6B,IAAIsJ,GACnB1F,EAAA,cAAC60B,EAAiB,CAChBzmB,OAAQypB,IAAkBnyB,EAC1BA,QAASA,EACT3I,IAAK2I,EACLqvB,QAASh9B,KAAK69B,mBACdT,eAAgBp9B,KAAKs9B,mBACrBL,YAAaA,EACbv0B,UAAU,KAGfs2B,EAAmB76B,OAAS,GAC3B66B,EAAmB36B,IAAIsJ,GACrB1F,EAAA,cAAC60B,EAAiB,CAChBzmB,OAAQypB,IAAkBnyB,EAC1B1L,UAAWw9B,EACX9xB,QAASA,EACT3I,IAAK2I,EACLqvB,QAASh9B,KAAK69B,mBACdT,eAAgBp9B,KAAKs9B,mBACrBL,YAAaA,KAGlB8C,GACC93B,EAAA,cAAC60B,EAAiB,CAChBzmB,OAAQypB,IAAkBxwB,EAC1BytB,QAAQ,EACRpvB,QAAS2B,EACTtK,IAAKsK,EACL0tB,QAASh9B,KAAK69B,mBACdT,eAAgBp9B,KAAKs9B,mBACrBL,YAAaA,KAGf8C,GAAkBrB,EAAiBv6B,OAAS,GAAK66B,EAAmB76B,OAAS,GAC7E8D,EAAA,oBAAI7E,UAAU,eAAejD,OAAA+H,EAAA,wBAAA/H,CAAwB,mBAAoBmP,KAG5EuwB,IAhQAxC,EAAAvmB,aAA6B,CAClC+nB,eAAgB,CAACvvB,EAAeovB,IAC9BA,EAAiBpnB,OAAOmnB,GAAQA,EAAKxuB,SAASX,IAChDyvB,SAAU,EACV9B,YAActvB,GAAoBA,EAClCiwB,oBAAsB78B,GAAkBA,qCCrE5CE,EAAAhB,EAAAgzB,EAAA,sBAAA5O,IAAA,IAAAiW,EAAAr5B,EAAA,KAAAs5B,EAAAt5B,EAAA,GAAAs2B,EAAAt2B,EAAA,GAAAy/B,EAAAz/B,EAAA,KA4Be,MAAMojB,UAAqBkW,EAAA,cACxC1xB,YAAYo1B,GACVA,EAAIp8B,iBACJ6K,OAAO2F,KAAKlS,OAAAugC,EAAA,EAAAvgC,GAAsB,WAAY,iDAGhD0I,SACE,OACE0xB,EAAA,qBAAKn3B,UAAWk3B,EAAW,gBAAiBt6B,KAAKgC,MAAMoB,YACrDm3B,EAAA,mBAAGn3B,UAAU,sBAAsBE,KAAK,IAAIpB,QAASlC,KAAK2B,aACvDxB,OAAAo3B,EAAA,UAAAp3B,CAAU,sBAEZ,IACDo6B,EAAA,sBAAMn3B,UAAU,mBAAgBjD,OAAAo3B,EAAA,UAAAp3B,CAAU,QAAgB,KAC1Do6B,EAAA,sBAAMn3B,UAAU,oBAEbjD,OAAAo3B,EAAA,UAAAp3B,CAAU,QAEN,MACPo6B,EAAA,sBAAMn3B,UAAU,oBAAiBjD,OAAAo3B,EAAA,UAAAp3B,CAAU,2CC/CnD,IAAAq3B,EAAYv2B,EAAQ,IAyBpBsF,EAAAzF,QAPA,SAAA42B,EAAAiJ,GACA,IAAA5qB,EAAAyhB,EAAAE,GACA9D,EAAAiE,OAAA8I,GAEA,OADA5qB,EAAAkiB,YAAArE,GACA7d,wBCtBA,IAAA6qB,EAAgB3/B,EAAQ,KAuBxBsF,EAAAzF,QALA,SAAA42B,EAAAC,GACA,IAAAC,EAAAC,OAAAF,GACA,OAAAiJ,EAAAlJ,GAAAE,sCCpBA32B,EAAAhB,EAAAgzB,EAAA,sBAAArY,IAAA,IAAAuY,EAAAlyB,EAAA,GA0Be,SAAS2Z,EAAV9S,GAAmD,IAAxBmsB,EAAwBnsB,EAAxBmsB,SAAU5X,EAAcvU,EAAduU,MACjD,OACE8W,EAAA,qBAAK/vB,UAAU,+BACZiZ,GAAS8W,EAAA,qBAAK/vB,UAAU,qCAAqCiZ,GAC7D4X,0BC9BP1tB,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,mNAAmN,0BCF1O,IA2CA3B,EA3CkB5D,EAAQ,IA2C1B4/B,GAEAt6B,EAAAzF,QAAA+D,uBC7CA,IAAAi8B,EAAgB7/B,EAAQ,KACxB8/B,EAAqB9/B,EAAQ,KAC7B+/B,EAAe//B,EAAQ,KA2BvBsF,EAAAzF,QAlBA,SAAAmgC,GACA,gBAAAjsB,EAAAksB,EAAAC,GAaA,OAZAA,GAAA,iBAAAA,GAAAJ,EAAA/rB,EAAAksB,EAAAC,KACAD,EAAAC,OAAAh8B,GAGA6P,EAAAgsB,EAAAhsB,QACA7P,IAAA+7B,GACAA,EAAAlsB,EACAA,EAAA,GAEAksB,EAAAF,EAAAE,GAEAC,OAAAh8B,IAAAg8B,EAAAnsB,EAAAksB,EAAA,KAAAF,EAAAG,GACAL,EAAA9rB,EAAAksB,EAAAC,EAAAF,wBCxBA,IAAAG,EAAA38B,KAAA48B,KACAC,EAAA78B,KAAAuB,IAyBAO,EAAAzF,QAZA,SAAAkU,EAAAksB,EAAAC,EAAAF,GAKA,IAJA,IAAA18B,GAAA,EACAJ,EAAAm9B,EAAAF,GAAAF,EAAAlsB,IAAAmsB,GAAA,OACA5vB,EAAAjR,MAAA6D,GAEAA,KACAoN,EAAA0vB,EAAA98B,IAAAI,GAAAyQ,EACAA,GAAAmsB,EAEA,OAAA5vB,qCCvBApR,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAG,EAAYD,EAAQ,GACpBmzB,EAAanzB,EAAQ,KAMrBH,EAAAoC,QALA,SAAAH,GACA,IAAAK,EAAAL,EAAAK,UAAAa,EAAAlB,EAAAL,YAAA,IAAAuB,EAAA,eAAAA,EAAAoN,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAlxB,QAAA,CAAiDE,YAAAiO,QACjDnQ,EAAAkB,cAAA,QAAqCnC,EAAA,uTAAAgF,MAAA,CAAoUvC,kOCwB1V,MAAM6+B,UAA6Bt5B,EAAA,cAAlDY,kCACE7I,KAAAwhC,oBAAuB5/B,IACrBA,EAAMC,iBACND,EAAME,cAAcC,OACpB/B,KAAKgC,MAAMy/B,YAGbzhC,KAAA0hC,oBAAuB9/B,IACrBA,EAAMC,iBACND,EAAME,cAAcC,OAChB/B,KAAKgC,MAAM2/B,UACb3hC,KAAKgC,MAAM2/B,YAIf94B,SAAM,MAAAkB,EACqB/J,KAAKgC,MAAtBwG,EADJuB,EACIvB,MAAOiG,EADX1E,EACW0E,MACTkoB,EAAUloB,EAAQjG,EAClBo5B,EAAW/V,QAAQpd,GAASA,IAAUjG,GAE5C,OACEP,EAAA,wBAAQ7E,UAAU,6CACfjD,OAAA+H,EAAA,wBAAA/H,CAAwB,SAAUA,OAAAoI,EAAA,cAAApI,CAAcqI,EAAO,MAAO,OAE9DmuB,GACC1uB,EAAA,mBAAG7E,UAAU,yBAAyBE,KAAK,IAAIpB,QAASlC,KAAKwhC,qBAC1DrhC,OAAA+H,EAAA,UAAA/H,CAAU,cAIdH,KAAKgC,MAAM2/B,UAAYC,GACtB35B,EAAA,mBAAG7E,UAAU,yBAAyBE,KAAK,IAAIpB,QAASlC,KAAK0hC,qBAC1DvhC,OAAA+H,EAAA,UAAA/H,CAAU,yfCmBR,MAAM0hC,UAA0B55B,EAAA,UAA/CY,kCACE7I,KAAAyf,SAAU,EAQVzf,KAAA+G,MAAkB,CAChBy5B,WAAW,EACXlxB,MAAO,GACPwyB,WAAW,EACXC,oBAAqB,GACrBC,cAAc,GAqChBhiC,KAAAyP,gBAAkB,CAACC,EAAmBC,KACpC,GAAI3P,KAAKgC,MAAMkQ,YACblS,KAAKgC,MAAMkQ,YAAYxC,EAAWC,OAC7B,OACG+B,EAAW1R,KAAKgC,MAAhB0P,OACR,GAAI/B,EAAU,CACZ,MAAMI,EAAWC,IACf0B,EAAOzB,SAASP,GAAaQ,IAAQwB,EAAQhC,GAAa,IAAIgC,EAAQhC,IAExE1P,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC7I,KAAKgC,MAAMsQ,UAAWvC,SAE7C/P,KAAKgC,MAAM6N,SAAS,CAClBhH,CAAC7I,KAAKgC,MAAMsQ,UAAWZ,EAAOzB,SAASP,IAAcgC,EAAOvN,OAAS,EAAI,GAAK,CAACuL,OAMvF1P,KAAA+T,kBAAoB,KAClB/T,KAAKgC,MAAMoQ,SAASpS,KAAKgC,MAAMsQ,WAGjCtS,KAAAmQ,YAAc,KACRnQ,KAAKgC,MAAMiQ,QACbjS,KAAKgC,MAAMiQ,UAEXjS,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC7I,KAAKgC,MAAMsQ,UAAW,MAIjDtS,KAAAiiC,cAAgB,KACVjiC,KAAKyf,SACPzf,KAAKgJ,SAAS,CAAE84B,WAAW,KAI/B9hC,KAAAyR,OAAUnC,IACJA,EAAMnL,QAAUnE,KAAKgC,MAAM2V,iBAC7B3X,KAAKgJ,SAAS,CAAEsG,QAAOwyB,WAAW,IAClC9hC,KAAKgC,MACFmQ,SAAS7C,GACT6D,KAAKnT,KAAKkiC,4BACV/uB,KAAKrL,IAA2C,IAAxCuL,EAAwCvL,EAAxCuL,WAAYxE,EAA4B/G,EAA5B+G,OAAQyE,EAAoBxL,EAApBwL,QAASxC,EAAWhJ,EAAXgJ,MAChC9Q,KAAKyf,SACPzf,KAAKgJ,SAASjC,IAAK,CACjB+6B,WAAW,EACXK,iBAAkB9uB,EAClB+uB,cAAe9uB,EACf+uB,aAAcxzB,EACdkzB,oBAAmB7tB,EAAA,GAAOnN,EAAMg7B,oBAAwBjxB,QAI7DooB,MAAMl5B,KAAKiiC,gBAEdjiC,KAAKgJ,SAAS,CAAEsG,QAAOwyB,WAAW,EAAOM,cAAe,MAI5DpiC,KAAAsiC,WAAa,KAAK,MAAA5d,EAC+B1kB,KAAK+G,MAA5CuI,EADQoV,EACRpV,MAAO+yB,EADC3d,EACD2d,aAAcD,EADb1d,EACa0d,cACzB9yB,GAAS8yB,GAAiBC,IAC5BriC,KAAKgJ,SAAS,CAAE84B,WAAW,IAC3B9hC,KAAKgC,MACFmQ,SAAS7C,EAAO+yB,EAAappB,UAAY,GACzC9F,KAAKnT,KAAKkiC,4BACV/uB,KAAKkB,IAA+B,IAA5BxF,EAA4BwF,EAA5BxF,OAAQyE,EAAoBe,EAApBf,QAASxC,EAAWuD,EAAXvD,MACpB9Q,KAAKyf,SACPzf,KAAKgJ,SAASjC,IAAK,CACjB+6B,WAAW,EACXM,cAAe,IAAIA,KAAkB9uB,GACrC+uB,aAAcxzB,EACdkzB,oBAAmB7tB,EAAA,GAAOnN,EAAMg7B,oBAAwBjxB,QAI7DooB,MAAMl5B,KAAKiiC,iBAIlBjiC,KAAAkiC,2BAA8B9mB,IAA+B,MAAAmnB,EACGviC,KAAKgC,MAA3D2O,6BADmD,IAAA4xB,EAC3B,IAAMppB,QAAQC,QAAQ,IADKmpB,EAErDC,EAAgBpnB,EAAS9H,QAAQgE,OAAO/F,IAC5C,MAAMvM,EAAMhF,KAAKgC,MAAM+P,mBAAmBR,GAC1C,YAA6BpM,IAAtBnF,KAAKya,QAAQzV,SAA8DG,IAAxCnF,KAAK+G,MAAMg7B,oBAAoB/8B,KAE3E,OAAIw9B,EAAcr+B,OAAS,EAClBwM,EAAsB6xB,GAAervB,KAAKrC,GAAKoD,EAAA,GAAUkH,EAAV,CAAoBtK,WAE1EoD,EAAA,GAAYkH,EAAZ,CAAsBtK,MAAO,MASjC9Q,KAAAgiC,aAAe,KACbhiC,KAAKgJ,SAAS,CAAEg5B,cAAc,KAGhChiC,KAAAyiC,aAAe,KACbziC,KAAKgJ,SAAS,CAAEg5B,cAAc,KAzIhCn5B,oBACE7I,KAAKyf,SAAU,EAGjB5W,mBAAmBe,IACZA,EAAUyI,MAAQrS,KAAKgC,MAAMqQ,KAEhCrS,KAAKgJ,SAAS,CAAEw3B,WAAW,IAE1B52B,EAAUyI,OAASrS,KAAKgC,MAAMqQ,OAC9BlS,OAAAuiC,EAAA,aAAAviC,CAAayJ,EAAU0F,OAAS,GAAItP,KAAKgC,MAAMsN,OAAS,IAGzDtP,KAAKgJ,SAAS,CACZsG,MAAO,GACP6yB,sBAAkBh9B,EAClBi9B,mBAAej9B,EACf28B,WAAW,EACXC,oBAAqB,GACrBC,cAAc,IAGhBp4B,EAAUkH,QAAU9Q,KAAKgC,MAAM8O,OAC/B3Q,OAAO4Q,KAAK/Q,KAAKgC,MAAM8O,OAAS,IAAI3M,OAASnE,KAAKgC,MAAM2gC,iBAGxD3iC,KAAKgJ,SAAS,CAAEg5B,cAAc,IAIlCn5B,uBACE7I,KAAKyf,SAAU,EAgGjB5W,QAAQ00B,GAAY,MACVzsB,EAAU9Q,KAAKgC,MAAf8O,MACR,OAAOA,QAAyB3L,IAAhB2L,EAAMysB,GAAsBzsB,GAASA,EAAMysB,QAAQp4B,EAWrE0D,aAAU,MACAiI,EAAU9Q,KAAKgC,MAAf8O,MAER,IAAKA,EACH,OAAO,KAGT,MAAM8xB,EAAc5iC,KAAKgC,MAAM4O,eAC3B5Q,KAAKgC,MAAM4O,iBACXZ,IACE7P,OAAO4Q,KAAKD,GACZ9L,IAAQ8L,EAAM9L,GACdA,GAAOhF,KAAKgC,MAAM8P,iBAAiB9M,IAGnC69B,EAAc7iC,KAAK+G,MAAMi7B,aAC3BY,EACAA,EAAYr5B,MAAM,EAAGvJ,KAAKgC,MAAM2gC,iBAG9BG,EAAqB9iC,KAAK+G,MAAMi7B,aAClC,GACAY,EACGr5B,MAAMvJ,KAAKgC,MAAM2gC,iBACjBrrB,OAAOimB,GAAQv9B,KAAKgC,MAAM0P,OAAOzB,SAASstB,IAE3CwF,EAAuBH,EAAYz+B,QAAUnE,KAAKgC,MAAMghC,SAE9D,OACE/6B,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC2S,EAAA,EAAc,KACZioB,EAAYx+B,IAAIk5B,GACft1B,EAAA,cAACmO,EAAA,EAAS,CACRC,OAAQrW,KAAKgC,MAAM0P,OAAOzB,SAASstB,GACnCv4B,IAAKu4B,EACL9sB,KAAMzQ,KAAKgC,MAAMgP,gBAAgBusB,GACjCr7B,QAASlC,KAAKyP,gBACd+K,KAAMyoB,EAAgBjjC,KAAKya,QAAQ8iB,IACnCv6B,QAAShD,KAAKgC,MAAM8P,iBAAiByrB,GACrCx8B,MAAOw8B,MAIZuF,EAAmB3+B,OAAS,GAC3B8D,EAAA,cAAAA,EAAA,cACEA,EAAA,qBAAK7E,UAAU,kCAAgC,KAC/C6E,EAAA,cAAC2S,EAAA,EAAc,KACZkoB,EAAmBz+B,IAAIk5B,GACtBt1B,EAAA,cAACmO,EAAA,EAAS,CACRC,QAAQ,EACRrR,IAAKu4B,EACL9sB,KAAMzQ,KAAKgC,MAAMgP,gBAAgBusB,GACjCr7B,QAASlC,KAAKyP,gBACd+K,KAAMyoB,EAAgBjjC,KAAKya,QAAQ8iB,IACnCv6B,QAAShD,KAAKgC,MAAM8P,iBAAiByrB,GACrCx8B,MAAOw8B,OAMjBt1B,EAAA,cAACs5B,EAAoB,CACnB/4B,MAAOq6B,EAAY1+B,OAAS2+B,EAAmB3+B,OAC/Cw9B,SAAU3hC,KAAK+G,MAAMi7B,aAAehiC,KAAKyiC,kBAAet9B,EACxDs8B,SAAUzhC,KAAKgiC,aACfvzB,MAAOm0B,EAAYz+B,SAEpB4+B,GAAwB/iC,KAAK+G,MAAMi7B,cAClC/5B,EAAA,cAAC4c,EAAA,MAAK,CAACzhB,UAAU,aAAa0hB,QAAQ,WACnC3kB,OAAA+H,EAAA,UAAA/H,CAAU,mCAOrB0I,eACE,OAAK7I,KAAKgC,MAAM8O,OAAU3Q,OAAO4Q,KAAK/Q,KAAKgC,MAAM8O,OAAO3M,OAKtD8D,EAAA,cAACs4B,EAAAl4B,EAAS,CACRm4B,UAAWxgC,KAAK+G,MAAMy5B,UACtBp9B,UAAU,kCACV4L,QAAShP,KAAK+G,MAAM+6B,UACpBoB,UAAWljC,KAAKgC,MAAM2V,gBACtB9H,SAAU7P,KAAKyR,OACfgvB,YAAazgC,KAAKgC,MAAMwQ,kBACxBzR,MAAOf,KAAK+G,MAAMuI,QAXb,KAgBXzG,sBAAmB,MAAAgkB,EACoD7sB,KAAK+G,MAAlE+6B,EADSjV,EACTiV,UAAWK,EADFtV,EACEsV,iBAAkBC,EADpBvV,EACoBuV,cAAeC,EADnCxV,EACmCwV,aAEpD,OAAKP,GAAeM,GAAkBA,EAAcj+B,OAI/Ci+B,EAMHn6B,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC2S,EAAA,EAAc,KACZwnB,EAAc/9B,IAAIkN,GAAUvR,KAAKsR,mBAAmBC,KAEtD4wB,GACCl6B,EAAA,cAAC4c,EAAA,MAAK,CAACzhB,UAAU,aAAa0hB,QAAQ,WACnC3kB,OAAA+H,EAAA,UAAA/H,CAAU,kCAGdkiC,GACCp6B,EAAA,cAACkpB,EAAA9oB,EAAU,CACTjF,UAAU,gBACVoF,MAAO45B,EAAcj+B,OACrBitB,SAAUpxB,KAAKsiC,WACf5L,OAAQoL,EACRrzB,MAAO4zB,EAAa5zB,SAnBnB,KALAxG,EAAA,qBAAK7E,UAAU,sBAAsBjD,OAAA+H,EAAA,UAAA/H,CAAU,eA+B1D0I,mBAAmB0I,GACjB,MAAMvM,EAAMhF,KAAKgC,MAAM+P,mBAAmBR,GACpC8E,EAASrW,KAAKgC,MAAM0P,OAAOzB,SAASjL,GACpCwV,EAAOxa,KAAKya,QAAQzV,IAAQhF,KAAK+G,MAAMg7B,oBAAoB/8B,GAC3D/C,GAAYoU,GAAmB,IAATmE,EAC5B,OACEvS,EAAA,cAACmO,EAAA,EAAS,CACRC,OAAQA,EACRpU,SAAUA,EACV+C,IAAKA,EACLyL,KAAMzQ,KAAKgC,MAAMsP,mBAAmBC,EAAQvR,KAAK+G,MAAMuI,OACvDpN,QAASlC,KAAKyP,gBACd+K,KAAMyoB,EAAgBzoB,GACtBxX,QAAShD,KAAKgC,MAAMgQ,oBAAoBT,GACxCxQ,MAAOiE,IAKb6D,SAAM,MAAAkB,EAC6B/J,KAAKgC,MAA9BC,EADJ8H,EACI9H,SADJ4O,EAAA9G,EACc+G,aADd,IAAAD,EACsB,GADtBA,EAAA+c,EAEwC5tB,KAAK+G,MAAzCuI,EAFJse,EAEIte,MAAOwyB,EAFXlU,EAEWkU,UAAWM,EAFtBxU,EAEsBwU,cACpB1wB,EAAS1R,KAAKgC,MAAM0P,OAAOrN,IAAIk5B,GAAQv9B,KAAKgC,MAAM8P,iBAAiByrB,IACnE4F,EACM,KAAV7zB,GAAgBwyB,SAAgC38B,IAAlBi9B,GAAwD,IAAzBA,EAAcj+B,QACvEi/B,GAAY9zB,GAAS6zB,EAC3B,OACEl7B,EAAA,cAACyO,EAAA,EAAQ,CACPtT,UAAW6J,EAAWjN,KAAKgC,MAAMoB,UAAW,CAC1CigC,uCAAwCphC,IAE1CqQ,SAAUtS,KAAKgC,MAAMsQ,UACrBrK,EAAA,cAAC0O,EAAA,EAAW,CACV9E,SAAU7R,KAAKgC,MAAM6P,SACrBpB,KACExI,EAAA,cAACG,EAAAC,EAAO,CAAClF,QAASlB,EAAWjC,KAAKgC,MAAMshC,oBAAiBn+B,GACvD8C,EAAA,0BAAOjI,KAAKgC,MAAM4P,cAGtBK,QAASjS,KAAKmQ,YACdjO,QAASD,OAAWkD,EAAYnF,KAAK+T,kBACrC1B,KAAMrS,KAAKgC,MAAMqQ,OAASpQ,EAC1ByP,OAAQA,IAGT1R,KAAKgC,MAAMqQ,OAASpQ,GACnBgG,EAAA,cAAAA,EAAA,cACGjI,KAAKujC,eACLH,EAAWpjC,KAAKsyB,aAAetyB,KAAKwjC,sBACrCv7B,EAAA,cAAC4S,EAAA,EAAqB,CAACpU,QAAStG,OAAO4Q,KAAKD,GAAO3M,OAAQuN,OAAQA,EAAOvN,YAQtF,SAAS8+B,EAAgBzoB,GACvB,OAAOA,GAAQra,OAAAoI,EAAA,cAAApI,CAAcqa,EAAM,aArV5BqnB,EAAA/qB,aAAe,CACpB6rB,gBAAiB,GACjBK,SAAU,IACVrrB,gBAAiB,qCCvFrBxX,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAG,EAAYD,EAAQ,GAQpBH,EAAA2iC,cAPA,SAAAC,EAAAnwB,GACA,IAAAowB,EAAAD,EAAA1qB,cAAAqd,QAAA9iB,EAAAyF,eACA,WAAA2qB,EAAAziC,EAAAkB,cAAAlB,EAAA0iC,SAAA,KACAD,EAAA,GAAAD,EAAAG,UAAA,EAAAF,GACAziC,EAAAkB,cAAA,YAAAshC,EAAAnd,OAAAod,EAAApwB,EAAApP,SACAw/B,EAAApwB,EAAApP,OAAAu/B,EAAAv/B,QAAAu/B,EAAAG,UAAAF,EAAApwB,EAAApP,SAAA,qCCRAlD,EAAAhB,EAAAgzB,EAAA,sBAAA6Q,IAAA,IAAA3Q,EAAAlyB,EAAA,GAAAw0B,EAAAx0B,EAAA,GAAA8iC,EAAA9iC,EAAA,KAAAA,EAAA,KAiCe,SAAS6iC,EAAa9hC,GACnC,OACEmxB,EAAA,cAAC4Q,EAAA,EAAW,CACVpF,SAAU38B,EAAMwa,KAChBuiB,SAAU/8B,EAAM+8B,SAChB5sB,SAAUnQ,EAAMmQ,SAChB1E,SAAUzL,EAAMyL,SAChB+wB,WAAYx8B,EAAMw8B,WAClBiC,YAAatgC,OAAAs1B,EAAA,UAAAt1B,CAAU,0BACvBu+B,iBAAkB18B,EAAMgiC,aACxBpG,oBAAqBqG,IAKpB,SAASA,EAAYljC,GAE1B,OAAOA,EAAMiY,cAAckS,QAAQ,kBAAmB,+oBCPxD,MAAMgZ,EAAY/jC,OAAAgkC,EAAA,SAAAhkC,CAAS,IAAMc,EAAAymB,EAAA,KAAAvU,KAAAlS,EAAAic,EAAAyK,KAAA,cAwBlB,MAAMyc,UAAkBC,EAAA,cAGrCx7B,YAAY7G,GACVwd,MAAMxd,GAIRhC,KAAAu/B,MAAQ,KACFv/B,KAAKkiB,OACPliB,KAAKkiB,MAAMqd,QAEbv/B,KAAKskC,gBAGPtkC,KAAAukC,iBAAmB,KACjBvkC,KAAKwkC,gBACLxkC,KAAKgC,MAAM6N,cAAS1K,IAGtBnF,KAAAskC,aAAe,KACbtkC,KAAKgJ,SAAS,CACZy7B,aAAczkC,KAAKgC,MAAMjB,OAASf,KAAKgC,MAAMyiC,cAAgB,IAAIlvB,KACjEmvB,iBAAav/B,EACbkN,MAAM,KAIVrS,KAAAwkC,cAAgB,KACdxkC,KAAKgJ,SAAS,CAAEqJ,MAAM,KAGxBrS,KAAA2kC,eAAiB,CAAC7Q,EAAW8Q,KACtBA,EAAU3iC,WACbjC,KAAKwkC,gBACLxkC,KAAKgC,MAAM6N,SAASikB,KAIxB9zB,KAAA6kC,oBAAsB,CAAC/Q,EAAW8Q,KAChC5kC,KAAKgJ,SAAS,CAAE07B,YAAaE,EAAU3iC,cAAWkD,EAAY2uB,KAGhE9zB,KAAA8kC,yBAA2Bh9B,IAAiC,IAA9B/G,EAA8B+G,EAA9B/G,MAC5Bf,KAAKgJ,SAAUjC,IAAD,CAAqB09B,aAAcM,EAASh+B,EAAM09B,aAAc1jC,OAGhFf,KAAAglC,wBAA0B3wB,IAAiC,IAA9BtT,EAA8BsT,EAA9BtT,MAC3Bf,KAAKgJ,SAASjC,IAAK,CAAO09B,aAAcQ,EAAQl+B,EAAM09B,aAAc1jC,OAGtEf,KAAAklC,yBAA2B,KACzBllC,KAAKgJ,SAASjC,IAAK,CAAO09B,aAAcU,EAAUp+B,EAAM09B,aAAc,OAGxEzkC,KAAAolC,qBAAuB,KACrBplC,KAAKgJ,SAASjC,IAAK,CAAO09B,aAAcY,EAAUt+B,EAAM09B,aAAc,OAnDtEzkC,KAAK+G,MAAQ,CAAE09B,aAAcziC,EAAMjB,OAASiB,EAAMyiC,cAAgB,IAAIlvB,KAAQlD,MAAM,GAsDtFxJ,SAAM,MAAAkB,EACmD/J,KAAKgC,MAApDsjC,EADJv7B,EACIu7B,cAAeC,EADnBx7B,EACmBw7B,YAAaC,EADhCz7B,EACgCy7B,QAASzkC,EADzCgJ,EACyChJ,MACrC2jC,EAAgB1kC,KAAK+G,MAArB29B,YAEFe,EAAQzlC,KAAKgC,MAAM0jC,SAAW,IAAInwB,KAElCowB,EAASC,IAAM,IACfC,EAAQD,KAAM,IAAIrwB,MAAO2iB,cAAgB,IAAI,IAAI3iB,MAAO2iB,cAAgB,GAExE4N,EAA2B/kC,EAAQ,CAACA,GAAS,GACnD,IAAI6jC,EACJ,MAAMmB,EAAqBrB,GAAe3jC,EAEtCukC,GAAiBS,IACnBnB,EAAY,CAAEoB,YAAa,CAAE1xB,KAAMgxB,EAAe/wB,GAAIwxB,IACtDD,EAAaj/B,KAAKy+B,IAEhBC,GAAeQ,IACjBnB,EAAY,CAAEoB,YAAa,CAAE1xB,KAAMyxB,EAAoBxxB,GAAIgxB,IAC3DO,EAAaj/B,KAAK0+B,IAGpB,MAAMU,EAAeL,IAAM,GAAGvhC,IAAI6hC,EAAA,gBAC5BC,EAAgBP,IAAM,GAAGvhC,IAAI6hC,EAAA,qBAEnC,OACE7B,EAAA,cAAC+B,EAAA/9B,EAAmB,CAACg+B,eAAgBrmC,KAAKwkC,eACxCH,EAAA,sBAAMjhC,UAAWkjC,EAAW,qBAAsBtmC,KAAKgC,MAAMoB,YAC3DihC,EAAA,cAACkC,EAAY,CACXnjC,UAAWkjC,EAAW,2BAA4BtmC,KAAKgC,MAAMwkC,eAAgB,CAC3EC,iBAAkCthC,IAArBnF,KAAKgC,MAAMjB,QAE1B2lC,SAAUh9B,GAAS1J,KAAKkiB,MAAQxY,EAChC+G,KAAMzQ,KAAKgC,MAAMyO,KACjBysB,QAASl9B,KAAKskC,aACd7D,YAAazgC,KAAKgC,MAAMy+B,YACxBkG,UAAU,EACVx6B,KAAK,OACLpL,MAAOA,IAETsjC,EAAA,cAACuC,EAAAv+B,EAAY,CAACjF,UAAU,0BAA0BV,KAAK,UACjCyC,IAArBnF,KAAKgC,MAAMjB,OACVsjC,EAAA,cAACwC,EAAA,YAAW,CACVzjC,UAAU,uCACV0jC,UAAW,CAAEz1B,KAAM,IACnBnP,QAASlC,KAAKukC,mBAGjBvkC,KAAK+G,MAAMsL,MACVgyB,EAAA,qBAAKjhC,UAAU,uBACbihC,EAAA,qBAAKjhC,UAAU,2BACbihC,EAAA,cAACwC,EAAA,WAAU,CAACzjC,UAAU,eAAelB,QAASlC,KAAKklC,0BACjDb,EAAA,cAAC0C,EAAA1+B,EAAe,OAElBg8B,EAAA,qBAAKjhC,UAAU,6BACbihC,EAAA,cAAC2C,EAAA3+B,EAAM,CACLjF,UAAU,mCACVyM,SAAU7P,KAAK8kC,yBACfr+B,QAASk/B,EAAOthC,IAAIwvB,IAAK,CACvBrlB,MAAOrO,OAAA+lC,EAAA,kBAAA/lC,CAAkB0zB,GACzB9yB,MAAO8yB,KAET9yB,MAAOf,KAAK+G,MAAM09B,aAAa1M,aAEjCsM,EAAA,cAAC2C,EAAA3+B,EAAM,CACLjF,UAAU,+CACVyM,SAAU7P,KAAKglC,wBACfv+B,QAASo/B,EAAMxhC,IAAIuvB,IAAI,CAAOplB,MAAOy4B,OAAOrT,GAAO7yB,MAAO6yB,KAC1D7yB,MAAOf,KAAK+G,MAAM09B,aAAavM,iBAGnCmM,EAAA,cAACwC,EAAA,WAAU,CAACzjC,UAAU,eAAelB,QAASlC,KAAKolC,sBACjDf,EAAA,cAAC6C,EAAA7+B,EAAgB,QAGrBg8B,EAAA,cAACH,EAAS,CACRiD,eAAgB9C,EAAA,cAAC+C,EAAa,MAC9BC,aAAc,CAAE5B,QAAO6B,OAAQ9B,GAC/B+B,eAAgB,EAChB3C,UAAWA,EACX/Q,MAAO7zB,KAAK+G,MAAM09B,aAClB+C,cAAenD,EAAA,cAAC+C,EAAa,MAC7BK,WAAYznC,KAAK2kC,eACjB+C,gBAAiB1nC,KAAK6kC,oBACtBiB,aAAcA,EACdG,aAAcA,EACdE,cAAeA,QAU/B,SAASiB,IACP,OAAO,KAST,MAAMb,EAAepmC,OAAAwnC,EAAA,WAAAxnC,CAAW8kB,IAA2D,IAAxDyhB,EAAwDzhB,EAAxDyhB,SAAU9xB,EAA8CqQ,EAA9CrQ,KAAM7T,EAAwCkkB,EAAxClkB,MAAUsrB,EAA8BC,EAAArH,EAAA,6BACzF,MAAM2iB,EACJ7mC,GAAS6T,EAAKD,WAAW5T,EAAO,CAAE6yB,KAAM,UAAWC,MAAO,QAASC,IAAK,YAC1E,OAAOuQ,EAAA,sBAAAlkC,OAAA6M,OAAA,GAAWqf,EAAK,CAAEpiB,IAAKy8B,EAAU3lC,MAAO6mC,GAAkB,0CC1OnEznC,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAG,EAAYD,EAAQ,GACpBmzB,EAAanzB,EAAQ,KAMrBH,EAAAoC,QALA,SAAAH,GACA,IAAAK,EAAAL,EAAAK,UAAAa,EAAAlB,EAAAL,YAAA,IAAAuB,EAAA,eAAAA,EAAAoN,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAgyB,EAAAlxB,QAAA,CAAiDE,YAAAiO,QACjDnQ,EAAAkB,cAAA,QAAqCnC,EAAA,0iCAAAgF,MAAA,CAAujCvC,iCCN5lC,IAAA4D,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,isDAAisD,0BCDxtD,IAAAF,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,q0BAAq0B,uCCF51B,IAAA8zB,EAAAr5B,EAAA,KAAAs5B,EAAAt5B,EAAA,GAAA4mC,EAAA5mC,EAAA,KAAA6mC,EAAA7mC,EAAA,KAAA8mC,EAAA9mC,EAAA,KAAA+mC,EAAA/mC,EAAAq2B,EAAAyQ,GAAAE,EAAAhnC,EAAA,KAAAinC,EAAAjnC,EAAAq2B,EAAA2Q,GAAAE,EAAAlnC,EAAA,GAAAmnC,EAAAnnC,EAAA,KAAAonC,EAAApnC,EAAA,KAgFA,MAIM8xB,EAAoC,CAAEuV,YApF5CrnC,EAAA,KAoF4C,GAE7BgyB,EAAA,EAAA9yB,OAAA0nC,EAAA,QAAA1nC,CANU4G,IAAD,CACtB+Y,YAAa3f,OAAAkoC,EAAA,eAAAloC,CAAe4G,KAKUgsB,EAAzB,CA3Cf,cAA6BwH,EAAA,cAA7B1xB,kCACE7I,KAAA2B,YAAc,KACZ3B,KAAKgC,MAAMsmC,YAAYtoC,KAAKgC,MAAM8nB,cAGpCjhB,SAAM,MAAAkB,EACiC/J,KAAKgC,MAAlC8nB,EADJ/f,EACI+f,YAAahK,EADjB/V,EACiB+V,YAErB,IAAK3f,OAAAioC,EAAA,EAAAjoC,CAAW2f,GACd,OAAO,KAJL,MAOIyoB,EAAazoB,EAAbyoB,SACFhoB,OAAuBpb,IAAbojC,IAgCmBroC,EAhCgC4pB,GAgC/CzhB,EAhCqCkgC,GAkCvDp8B,OAASjM,EAAEiM,MACZ9D,EAAU8pB,SAAYjyB,EAAUiyB,QAChC9pB,EAAUyC,YAAe5K,EAAU4K,WACnCzC,EAAUmH,eAAkBtP,EAAUsP,cAL3C,IAAwBnH,EAAenI,EA/BnC,MAAM8C,EAAUud,EAAUpgB,OAAAgoC,EAAA,UAAAhoC,CAAU,oBAAsBA,OAAAgoC,EAAA,UAAAhoC,CAAU,kBAEpE,OACEo6B,EAAA,cAACyN,EAAA3/B,EAAO,CAAClF,QAASH,GACfud,EACCga,EAAA,sBAAAU,aACcj4B,EACZI,UAAWk3B,EAAW,uBAAwBt6B,KAAKgC,MAAMoB,YACzDm3B,EAAA,cAAC2N,EAAA7/B,EAAQ,CAACmgC,OAAQjoB,KAGpBga,EAAA,cAACuN,EAAA,WAAU,CAAA7M,aACGj4B,EACZI,UAAWk3B,EAAW,oBAAqB,oBAAqBt6B,KAAKgC,MAAMoB,WAC3ElB,QAASlC,KAAK2B,aACd44B,EAAA,cAAC2N,EAAA7/B,EAAQ,CAACmgC,OAAQjoB,2CCvE9BpgB,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAC,EAAiBC,EAAQ,KACzBC,EAAYD,EAAQ,GACpBG,EAAcH,EAAQ,KACtBmzB,EAAanzB,EAAQ,KAOrBH,EAAAoC,QANA,SAAAH,GACA,IAAAK,EAAAL,EAAAK,UAAAV,EAAAK,EAAAL,KAAAuB,EAAAlB,EAAAylC,cAAA,IAAAvkC,KAAAoN,EAAAtO,EAAAsO,KACA,OAAAnQ,EAAAkB,cAAAhB,EAAAiB,cAAA,cAAAC,GAA+E,OAAApB,EAAAkB,cAAAgyB,EAAAlxB,QAAA,CAA8CE,UAAApC,EAAAoC,EAAA,gBAAmDqjC,YAAA+B,IAAsBn3B,OAAApM,MAAA,CAAuBwjC,MAAA/lC,GAAAJ,EAAAK,OAAA4yB,SAC7Nr0B,EAAAkB,cAAA,KAAkCiE,UAAA,mDAClCnF,EAAAkB,cAAA,QAAyCnC,EAAA,+yBCqB1B,SAASwI,EAAczG,GAAY,MACxCiyB,EAAmDjyB,EAAnDiyB,SAAUyU,EAAyC1mC,EAAzC0mC,QAASxmC,EAAgCF,EAAhCE,QAASwG,EAAuB1G,EAAvB0G,SAAa2jB,EADDC,EACWtqB,EADX,6CAE1C2mC,EAAkBzmC,EAAU,CAAEA,UAAS2K,KAAM,SAAUC,SAAU,GAAM,GAE7E,OACEytB,EAAA,oBAAAp6B,OAAA6M,OAAA,CACE5J,UAAWk3B,EAAW,iBAAkB,CACtCsO,aAAcF,EACdhgC,cAEEigC,EACAtc,GACH4H,sCC3CPhzB,EAAAhB,EAAAgzB,EAAA,sBAAA7W,IAAA,IAAA+W,EAAAlyB,EAAA,GAAA4nC,EAAA5nC,EAAA,KAAA6nC,EAAA7nC,EAAAq2B,EAAAuR,GAAAtR,EAAAt2B,EAAA,GA6Be,SAASmb,EAAapa,GACnC,MAAMsY,EAAatY,EAAMsY,YAAN,KAAA7E,OAAyBtV,OAAAo3B,EAAA,UAAAp3B,CAAU,mBAAoB6B,EAAMsY,YAA7D,KACnB,OACE6Y,EAAA,sBAAM/vB,UAAWpB,EAAMoB,WACrB+vB,EAAA,cAAC2V,EAAAzgC,EAAU,CAACjF,UAAU,sBAAsB+Y,OAAQna,EAAMma,SACzDhc,OAAAo3B,EAAA,UAAAp3B,CAAU,eAAgB6B,EAAMma,QAChC7B,sCClCP,IACAxa,EADAC,EAAAC,WAAAD,YACAD,EAAA,SAAAG,EAAAC,GAIA,OAHAJ,EAAAK,OAAAC,gBACA,CAAcC,UAAA,cAAgBC,OAAA,SAAAL,EAAAC,GAAsCD,EAAAI,UAAAH,IACpE,SAAAD,EAAAC,GAA6B,QAAAK,KAAAL,IAAAM,eAAAD,KAAAN,EAAAM,GAAAL,EAAAK,MAC7BN,EAAAC,IAEA,SAAAD,EAAAC,GAEA,SAAAO,IAAuBT,KAAAU,YAAAT,EADvBH,EAAAG,EAAAC,GAEAD,EAAAU,UAAA,OAAAT,EAAAC,OAAAS,OAAAV,IAAAO,EAAAE,UAAAT,EAAAS,UAAA,IAAAF,KAGAN,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAC,EAAiBC,EAAQ,KACzBC,EAAYD,EAAQ,GACpBA,EAAQ,KACR,IAAA8nC,EAAA,SAAAxnC,GAEA,SAAAwnC,IACA,IAAAvnC,EAAA,OAAAD,KAAAE,MAAAzB,KAAA0B,YAAA1B,KAOA,OANAwB,EAAAG,YAAA,SAAAC,GACAA,EAAAC,iBACAL,EAAAQ,MAAAC,UACAT,EAAAQ,MAAAiiB,QAAAziB,EAAAQ,MAAAjB,QAGAS,EAQA,OAjBAzB,EAAAgpC,EAAAxnC,GAWAwnC,EAAApoC,UAAAmC,OAAA,WACA,IAAAC,EAAA/C,KAAAgC,MAAAoB,EAAAL,EAAAK,UAAAmd,EAAAxd,EAAAwd,QAAA0T,EAAAlxB,EAAAkxB,SAAAhyB,EAAAc,EAAAd,SACA,OAAAf,EAAAkB,cAAA,KAA0C4mC,eAAAzoB,EAAAnd,UAAApC,EAAA,wCAAAoC,EAAA,CAAqGnB,aAAqBqB,KAAA,IAAApB,QAAAlC,KAAA2B,YAAAkL,KAAA,SACpK3L,EAAAkB,cAAA,KAAsCgB,UAAApC,EAAA,6BAAsDioC,aAAA1oB,MAC5F0T,IAEA8U,EAlBA,CAmBC7nC,EAAAqC,eACDzC,EAAAoC,QAAA6lC,uBCrCA,IAAAziC,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAiDqF,EAAAG,GAE9DH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAiD,IAE5E4F,KAAA,CAAcN,EAAAC,EAAS,20BAA60B,0BCDp2B,IAAAF,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAiEqF,EAAAG,GAE9EH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAiE,IAE5F4F,KAAA,CAAcN,EAAAC,EAAS,+/PAAmgQ,uCCF1hQvF,EAAAhB,EAAAgzB,EAAA,sBAAApY,IAAA,IAAAsY,EAAAlyB,EAAA,GAAAw0B,EAAAx0B,EAAA,GAAAA,EAAA,KA4Be,SAAS4Z,EAAV/S,GAA0D,IAAxBrB,EAAwBqB,EAAxBrB,QAE9C,OAAe,IAFuDqB,EAAf4J,QAEnCjL,EAAU,EACrB,KAIP0sB,EAAA,qBAAK/vB,UAAU,2BACb+vB,EAAA,qBAAK/vB,UAAU,iCACZjD,OAAAs1B,EAAA,UAAAt1B,EAW6C,IAA7C+oC,UAAUC,UAAU9S,QAAQ,YATvB,qDACA,uFCxCd,IAAA+S,EAAAnoC,EAAA,KAqBA,MAAM2nB,EAAezoB,OAAAipC,EAAA,SAAAjpC,CACnB,IAAMgZ,QAAA6L,IAAA,CAAA/jB,EAAAymB,EAAA,GAAAzmB,EAAAymB,EAAA,GAAAzmB,EAAAymB,EAAA,GAAAzmB,EAAAymB,EAAA,IAAAzmB,EAAAymB,EAAA,OAAAvU,KAAAlS,EAAA0mB,KAAA,WACN,gBAEasL,EAAA,yBCzBf,IAAAoW,EAAepoC,EAAQ,KA+BvBsF,EAAAzF,QAnBA,SAAAwoC,EAAAC,EAAAC,GAIA,IAHA,IAAAjlC,GAAA,EACAJ,EAAAmlC,EAAAnlC,SAEAI,EAAAJ,GAAA,CACA,IAAApD,EAAAuoC,EAAA/kC,GACAgK,EAAAg7B,EAAAxoC,GAEA,SAAAwN,SAAApJ,IAAAskC,EACAl7B,OAAA86B,EAAA96B,GACAi7B,EAAAj7B,EAAAk7B,IAEA,IAAAA,EAAAl7B,EACAgD,EAAAxQ,EAGA,OAAAwQ,qCCTO,SAASm4B,IACd,OAAOzoC,EAAAymB,EAAA,KAAAvU,KAAAlS,EAAAic,EAAAyK,KAAA,aAA2BxU,KAAK3O,GAAKA,EAAEtB,SAGzC,SAASymC,EAAkBlrB,EAAwBmrB,GACxD,MAAMC,EAASprB,EAAUV,IAAI6rB,GAC7B,OAAKC,EAEmB,YAAbD,EACFC,EAAOxtB,MAEd,OAAA5G,OAAcm0B,EAAd,OAAAn0B,OAA4Bo0B,EAAOxtB,OAJnC,OAAA5G,OAAcm0B,GAQX,SAASE,EACdrrB,EACAmrB,GACkB,IAAlBG,EAAkBroC,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,IAAAA,UAAA,GAElB,MAAMmoC,EAASprB,EAAUL,WAAWwrB,GACpC,OAGSI,EAHJH,EAGa,GAAAp0B,OAAIm0B,EAASK,cAAb,OAAAx0B,OAAgCo0B,EAAOxtB,OAFtCutB,EAASK,cAEsC,QAASF,GAItE,SAASG,EACdzrB,EACAmrB,GACkB,IAAlBG,EAAkBroC,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,IAAAA,UAAA,GAElB,MAAMmoC,EAASprB,EAAUH,UAAUsrB,GACnC,OAAOI,EAAUH,EAASA,EAAOxtB,MAAQutB,EAAU,OAAQG,GAGtD,SAASI,EACd1rB,EACAmrB,GACkB,IAAlBG,EAAkBroC,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,IAAAA,UAAA,GAElB,MAAMmoC,EAASprB,EAAUD,oBAAoBorB,GAC7C,OAAKC,EAEmB,WAAbD,EACFC,EAAOxtB,MAEP2tB,EAAUH,EAAOxtB,MAAO,QAAS0tB,GAJjCC,EAAUJ,EAASK,cAAe,QAASF,GAQtD,SAASC,EAAU3tB,EAAe+tB,EAAgBL,GAChD,OAAOA,EAAU,GAAAt0B,OAAM20B,EAAN,KAAA30B,OAAgB4G,GAAUA,EAxE7Cpb,EAAAhB,EAAAgzB,EAAA,sBAAAyW,IAAAzoC,EAAAhB,EAAAgzB,EAAA,sBAAA0W,IAAA1oC,EAAAhB,EAAAgzB,EAAA,sBAAA6W,IAAA7oC,EAAAhB,EAAAgzB,EAAA,sBAAAiX,IAAAjpC,EAAAhB,EAAAgzB,EAAA,sBAAAkX,sCCAAlpC,EAAAhB,EAAAgzB,EAAA,sBAAA/c,IAAA,IAAAokB,EAAAr5B,EAAA,KAAAs5B,EAAAt5B,EAAA,GAAAs2B,EAAAt2B,EAAA,GAAAopC,EAAAppC,EAAA,KAkCe,MAAMiV,UAAuBqkB,EAAA,cAA5C1xB,kCAWE7I,KAAAsqC,iBAAoBh2B,IAClBtU,KAAKgC,MAAM6N,SAAS,CAAEyE,OAAMC,GAAIvU,KAAKuU,KAGrC4S,WAAW,KACL7S,IAAStU,KAAKuU,IAAMvU,KAAKuqC,aAC3BvqC,KAAKuqC,YAAYhL,SAElB,IAGLv/B,KAAAwqC,eAAkBj2B,IAChBvU,KAAKgJ,SAAS,CAAEuL,OAChBvU,KAAKgC,MAAM6N,SAAS,CAAEyE,KAAMtU,KAAKsU,KAAMC,QArBzCD,WACE,OAAOtU,KAAKgC,MAAMjB,OAASf,KAAKgC,MAAMjB,MAAMuT,KAG9CC,SACE,OAAOvU,KAAKgC,MAAMjB,OAASf,KAAKgC,MAAMjB,MAAMwT,GAmB9C1L,SACE,OACE0xB,EAAA,qBAAKn3B,UAAWk3B,EAAW,6BAA8Bt6B,KAAKgC,MAAMoB,YAClEm3B,EAAA,cAAC8P,EAAA,EAAS,CACR5F,aAAczkC,KAAKuU,GAAEsiB,YACX,OACV0O,YAAavlC,KAAKuU,GAClBmxB,QAAS1lC,KAAKuU,GACd1E,SAAU7P,KAAKsqC,iBACf7J,YAAatgC,OAAAo3B,EAAA,UAAAp3B,CAAU,cACvBY,MAAOf,KAAKsU,OAEdimB,EAAA,sBAAMn3B,UAAU,+CAA+CjD,OAAAo3B,EAAA,UAAAp3B,CAAU,QACzEo6B,EAAA,cAAC8P,EAAA,EAAS,CACR5F,aAAczkC,KAAKsU,KAAIuiB,YACb,KACVyO,cAAetlC,KAAKsU,KACpBkxB,QAASxlC,KAAKsU,KACdzE,SAAU7P,KAAKwqC,eACf/J,YAAatgC,OAAAo3B,EAAA,UAAAp3B,CAAU,YACvB8J,IAAK0D,GAAY3N,KAAKuqC,YAAc58B,EACpC5M,MAAOf,KAAKuU,6BClFtB,IAAAk2B,EAAiBxpC,EAAQ,KA4BzBsF,EAAAzF,QAPA,SAAA4pC,EAAAC,GACA,IAAAC,EAAAH,EAAAC,GACAG,EAAAJ,EAAAE,GAEA,OAAAC,EAAAE,YAAAD,EAAAC,8BCZAvkC,EAAAzF,QAJA,SAAAC,EAAAsrB,GACA,OAAAtrB,EAAAsrB,qCCVAprB,EAAAhB,EAAAgzB,EAAA,sBAAA8X,IAAA,IAAA5X,EAAAlyB,EAAA,GAAAw0B,EAAAx0B,EAAA,GAAA+pC,EAAA/pC,EAAA,KA2Be,SAAS8pC,EAAVjjC,GAA4C,IAoCpD+B,EApCuCohC,EAAanjC,EAAbmjC,KAC3C,GAAiB,SAAbA,EAAKjmC,IACP,OACEmuB,EAAA,uBACGhzB,OAAAs1B,EAAA,wBAAAt1B,CACC,yBACA8qC,EAAKC,UAAY,GACjBD,EAAKl7B,UAAY,KAIlB,GAAI,CAAC,mBAAoB,eAAeE,SAASg7B,EAAKjmC,KAC3D,OACEmuB,EAAA,uBACGhzB,OAAAs1B,EAAA,wBAAAt1B,CACC,2BACA8qC,EAAKC,UAAY,GACjBD,EAAKl7B,UAAY,KAIlB,GAAiB,sBAAbk7B,EAAKjmC,IAEd,OACEmuB,EAAA,uBACGhzB,OAAAs1B,EAAA,wBAAAt1B,CACC,+BACA8qC,EAAKC,UAAY,GACjBD,EAAKl7B,UAAY,KAIlB,GAAiB,SAAbk7B,EAAKjmC,IACd,OAAOmuB,EAAA,uBAAIhzB,OAAAs1B,EAAA,wBAAAt1B,CAAwB,iCAAkC8qC,EAAKC,UAAY,KAIxF,GAAqB,MAAjBD,EAAKl7B,SAAkB,KACnBA,EAAak7B,EAAbl7B,SACW,WAAbk7B,EAAKjmC,MACP+K,EAAW5P,OAAA6qC,EAAA,cAAA7qC,CAAc8qC,EAAKl7B,SAAU,aAE1ClG,EAAU1J,OAAAs1B,EAAA,wBAAAt1B,CACR,6BACAA,OAAAs1B,EAAA,UAAAt1B,CAAU,wBAAyB8qC,EAAKjmC,KACxC+K,QAGFlG,EAAU1J,OAAAs1B,EAAA,wBAAAt1B,CACR,0BACAA,OAAAs1B,EAAA,UAAAt1B,CAAU,wBAAyB8qC,EAAKjmC,MAI5C,GAAqB,MAAjBimC,EAAKC,SAAkB,KACnBA,EAAaD,EAAbC,SACW,WAAbD,EAAKjmC,MACPkmC,EAAW/qC,OAAA6qC,EAAA,cAAA7qC,CAAc8qC,EAAKC,SAAU,aAE1CrhC,GAAO,KAAA4L,OAAStV,OAAAs1B,EAAA,wBAAAt1B,CAAwB,sBAAuB+qC,GAAxD,KAET,OAAO/X,EAAA,uBAAItpB,sCCvFb,IACA/J,EADAC,EAAAC,WAAAD,YACAD,EAAA,SAAAG,EAAAC,GAIA,OAHAJ,EAAAK,OAAAC,gBACA,CAAcC,UAAA,cAAgBC,OAAA,SAAAL,EAAAC,GAAsCD,EAAAI,UAAAH,IACpE,SAAAD,EAAAC,GAA6B,QAAAK,KAAAL,IAAAM,eAAAD,KAAAN,EAAAM,GAAAL,EAAAK,MAC7BN,EAAAC,IAEA,SAAAD,EAAAC,GAEA,SAAAO,IAAuBT,KAAAU,YAAAT,EADvBH,EAAAG,EAAAC,GAEAD,EAAAU,UAAA,OAAAT,EAAAC,OAAAS,OAAAV,IAAAO,EAAAE,UAAAT,EAAAS,UAAA,IAAAF,KAGAN,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAAC,EAAiBC,EAAQ,KACzBC,EAAYD,EAAQ,GACpBE,EAAaF,EAAQ,GACrBG,EAAcH,EAAQ,KACtBI,EAAgBJ,EAAQ,KACxBkqC,EAAA,SAAA5pC,GAEA,SAAA4pC,IACA,IAAA3pC,EAAA,OAAAD,KAAAE,MAAAzB,KAAA0B,YAAA1B,KAMA,OALAwB,EAAAG,YAAA,SAAAC,GACAA,EAAAC,iBACAD,EAAAE,cAAAC,OACAP,EAAAQ,MAAAE,WAEAV,EAQA,OAhBAzB,EAAAorC,EAAA5pC,GAUA4pC,EAAAxqC,UAAAmC,OAAA,WACA,IAAAC,EAAA/C,KAAAgC,MAAAgB,eAAA,IAAAD,EAAA5B,EAAA8B,UAAA,UAAAF,EACA,OAAA7B,EAAAkB,cAAAf,EAAA6B,QAAA,CAAwDC,QAAAH,GACxD9B,EAAAkB,cAAA,KAAsCgB,UAAApC,EAAA,oBAAAhB,KAAAgC,MAAAoB,WAAAE,KAAA,IAAApB,QAAAlC,KAAA2B,aAAyGT,EAAAkB,cAAAhB,EAAAiB,cAAA,cAAAC,GAAqE,OAAApB,EAAAkB,cAAA,OAAqCG,OAAA,KAAAC,QAAA,YAAAC,MAAA,MACzPvB,EAAAkB,cAAA,QAA6CnC,EAAA,0QAAAyC,KAAAJ,EAAAK,OAAAE,wBAE7CsoC,EAjBA,CAkBCjqC,EAAAqC,eACDzC,EAAAoC,QAAAioC,uBCtCA,IAAA7kC,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,6BChBA,IAAAN,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,g4BAAg4B,uCCFv5BvF,EAAAhB,EAAAgzB,EAAA,sBAAA/oB,IAAA,IAAAowB,EAAAr5B,EAAA,KAAAs5B,EAAAt5B,EAAA,GAAAA,EAAA,KA4Be,SAASiJ,EAAgBlI,GACtC,OACEu4B,EAAA,qBAAKn3B,UAAWk3B,EAAW,mBAAoB,CAAE5xB,SAAU1G,EAAM0G,YAC9D1G,EAAMiyB,gCC9Bb,IAAA3tB,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,mzBAAqzB,0BCD50B,IAAAF,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,2qFAA6qF,6ECoB7rF,MAAM4kC,EAAc,CACzBv7B,EACAw7B,EACAC,EACAC,KAEA,MAAMC,OAAgCrmC,IAAbmmC,QAAuCnmC,IAAbomC,EAC/CC,GACF37B,EAAS07B,GAGXF,EAAcl4B,KACZiI,IACE,IAAKowB,EAAkB,CACrB,MAAMzjC,EAAQ5H,OAAAsrC,EAAA,EAAAtrC,CACZib,EAASrT,MACTqT,EAAS/D,WACT+D,EAAS5K,MACT4K,EAASL,OAEXlL,EAAS9H,KAGb,KACMyjC,GACF37B,EAASy7B,sOCfF,MAAMI,UAAuBzjC,EAAA,cAA5CY,kCACE7I,KAAA2rC,aAAgB/pC,IACdA,EAAMC,iBACF7B,KAAKgC,MAAMyL,UACbzN,KAAKgC,MAAMyL,SAASzN,KAAKgC,MAAMu7B,OAInCv9B,KAAA4rC,YAAc,KACR5rC,KAAKgC,MAAMg7B,SACbh9B,KAAKgC,MAAMg7B,QAAQh9B,KAAKgC,MAAMu7B,OAIlC10B,aACE,MAAMorB,EAAWj0B,KAAKgC,MAAMiyB,UAAYj0B,KAAKgC,MAAMu7B,KACnD,OACEt1B,EAAA,wBACEA,EAAA,mBACE7E,UAAWyoC,IACT,CAAEx1B,OAAQrW,KAAKgC,MAAMqU,SAAWrW,KAAKgC,MAAMu7B,MAC3Cv9B,KAAKgC,MAAMoB,WAEbE,KAAK,IACLpB,QAASlC,KAAK2rC,aACdzO,QAASl9B,KAAK4rC,YACdzO,YAAan9B,KAAK4rC,aACjB3X,IAMTprB,SACE,OACEZ,EAAA,cAACG,EAAAC,EAAO,CAAClF,QAASnD,KAAKgC,MAAMqa,YAASlX,EAAW2mC,UAAU,SACxD9rC,KAAK+rC,eChCC,MAAMC,UAAmB/jC,EAAA,cAKtCY,YAAY7G,GACVwd,MAAMxd,GAuBRhC,KAAAyvB,gBAAkB,KAChBzvB,KAAKisC,iBAAmB7hB,EAAA,WACxBpqB,KAAKksC,eAAiB9hB,EAAA,OACtBpqB,KAAKmsC,gBAAkBC,IAAS,aAChChiB,EAAA,SAAapqB,KAAKmsC,iBAIjB/hB,EAAA,OAAsBxoB,IAAkD,MAC/DyqC,GAAYzqC,EAAM0qC,QAAU1qC,EAAM2qC,YAAlCF,QACFG,EAAsB,UAAZH,GAAmC,WAAZA,GAAoC,aAAZA,EAC/D,MAAO,CAAC,GAAI,GAAI,IAAIp8B,SAASrO,EAAMyoB,WAAamiB,GAGlDpiB,EAAI,OAAQpqB,KAAKmsC,gBAAiB,KAChCnsC,KAAKgJ,SAAShJ,KAAKm+B,oBACZ,IAGT/T,EAAI,KAAMpqB,KAAKmsC,gBAAiB,KAC9BnsC,KAAKgJ,SAAShJ,KAAKo+B,wBACZ,IAGThU,EAAI,SAAUpqB,KAAKmsC,gBAAiB,KACT,MAArBnsC,KAAK+G,MAAMsP,QACbrW,KAAK2rC,aAAa3rC,KAAK+G,MAAMsP,SAExB,KAIXrW,KAAA6vB,gBAAkB,KACZ7vB,KAAKisC,kBACP7hB,EAAA,SAAapqB,KAAKisC,kBAEhBjsC,KAAKmsC,iBACP/hB,EAAA,YAAgBpqB,KAAKmsC,iBAEtB/hB,EAAA,OAAqBpqB,KAAKksC,gBAG7BlsC,KAAA2rC,aAAgBpO,IACdv9B,KAAKgC,MAAMyL,SAAS8vB,IAGtBv9B,KAAA4rC,YAAerO,IACbv9B,KAAKgJ,SAAS,CAAEqN,OAAQknB,KAG1Bv9B,KAAAm+B,kBAAoB,CAACp3B,EAAc/E,KACjC,MAAMm9B,EAAMn9B,EAAMyqC,MAAMpW,QAAQtvB,EAAMsP,QACtC,OAAI8oB,EAAM,EACD,CAAE9oB,OAAQrU,EAAMyqC,MAAM,IAExB,CAAEp2B,OAAQrU,EAAMyqC,OAAOtN,EAAM,GAAKn9B,EAAMyqC,MAAMtoC,UAGvDnE,KAAAo+B,sBAAwB,CAACr3B,EAAc/E,KACrC,MAAMm9B,EAAMn9B,EAAMyqC,MAAMpW,QAAQtvB,EAAMsP,QACtC,OAAI8oB,GAAO,EACF,CAAE9oB,OAAQrU,EAAMyqC,MAAMzqC,EAAMyqC,MAAMtoC,OAAS,IAE7C,CAAEkS,OAAQrU,EAAMyqC,MAAMtN,EAAM,KAGrCn/B,KAAA0sC,YAAeC,GACA,MAATA,EACK,KAGLA,EAAMxgC,OAASu/B,EACViB,EAEF1kC,EAAA,aAAmB0kC,EAAO,CAC/Bt2B,OAAQrW,KAAK+G,MAAMsP,OACnB2mB,QAASh9B,KAAK4rC,YACdn+B,SAAUzN,KAAK2rC,eAnGjB3rC,KAAK+G,MAAQ,CACXsP,OAAQrU,EAAM4qC,aAIlB/jC,oBACE7I,KAAKyvB,kBAGP5mB,mBAAmBe,GAEfA,EAAUgjC,cAAgB5sC,KAAKgC,MAAM4qC,aACpC5sC,KAAKgC,MAAMyqC,MAAMx8B,SAASjQ,KAAK+G,MAAMsP,SAEtCrW,KAAKgJ,SAAS,CAAEqN,OAAQrW,KAAKgC,MAAM4qC,cAIvC/jC,uBACE7I,KAAK6vB,kBAoFPhnB,SAAM,MACIorB,EAAaj0B,KAAKgC,MAAlBiyB,SACF4Y,EAAc5kC,EAAA,SAAeO,MAAMyrB,GAAY,EACrD,OACEhsB,EAAA,oBAAI7E,UAAWyoC,IAAW,OAAQ7rC,KAAKgC,MAAMoB,YAC1CypC,GAAe5kC,EAAA,SAAe5D,IAAI4vB,EAAUj0B,KAAK0sC,cAChDG,GACA7sC,KAAKgC,MAAMyqC,MAAMpoC,IAAIk5B,GACnBt1B,EAAA,cAACyjC,EAAc,CACbr1B,OAAQrW,KAAK+G,MAAMsP,OACnBknB,KAAMA,EACNv4B,IAAKu4B,EACLP,QAASh9B,KAAK4rC,YACdn+B,SAAUzN,KAAK2rC,+BClH7B,MAAMmB,EAAY,GA4FH,IAAAC,EAAA5sC,OAAA6sC,EAAA,GA1FR,cAA+B/kC,EAAA,cAGpCY,YAAY7G,GACVwd,MAAMxd,GAcRhC,KAAAitC,cAAiB39B,IACfnP,OAAA+sC,EAAA,EAAA/sC,CAAc,CACZqP,aAAcxP,KAAKgC,MAAM+F,MAAMolC,oBAC/Bj6B,EAAG5D,EACH2D,GAAI65B,IACH35B,KAAKnT,KAAKotC,mBAAoB,SAGnCptC,KAAAqtC,YAAe/9B,IACbnP,OAAAmtC,EAAA,EAAAntC,CAAY,CAAE+S,EAAG5D,EAAO2D,GAAI65B,IAAa35B,KAAKnT,KAAKotC,mBAAoB,SAGzEptC,KAAAotC,mBAAqBtlC,IACnB,MAAMylC,EADoDzlC,EAApC0I,MACI8G,OAAOk2B,EAAA,GACjCxtC,KAAKgJ,SAAS,CACZwH,MAAO+8B,EACPztB,YAAaytB,EAAYppC,OAAS,EAAIopC,EAAY,GAAG78B,MAAQ,MAIjE1Q,KAAA09B,mBAAsBpuB,IACC,IAAjBA,EAAMnL,OACRnE,KAAKgJ,SAAS,CACZsG,QACAkB,MAAOxQ,KAAKytC,kBACZ3tB,YAAa9f,KAAKytC,kBAAkB,GAAG/8B,SAGzC1Q,KAAKgJ,SAAS,CAAEsG,UACZnP,OAAA4pB,EAAA,aAAA5pB,GACFH,KAAKitC,cAAc39B,GAEnBtP,KAAKqtC,YAAY/9B,KA7CrBtP,KAAKytC,kBAAoB,CAAC,CAAE/8B,MAAO,GAAID,KAAMtQ,OAAA+H,EAAA,UAAA/H,CAAU,gBAEnDA,OAAAqtC,EAAA,EAAArtC,CAAW6B,EAAM8d,eACnB9f,KAAKytC,kBAAoB,CAACzrC,EAAM8d,eAAgB9f,KAAKytC,oBAGvDztC,KAAK+G,MAAQ,CACXuI,MAAO,GACPkB,MAAOxQ,KAAKytC,kBACZ3tB,YAAa9f,KAAKytC,kBAAkBtpC,OAAS,EAAInE,KAAKytC,kBAAkB,GAAG/8B,MAAQ,IAyCvF7H,SACE,OACEZ,EAAA,cAACylC,EAAA,gBAAe,CAACC,WAAW,GAC1B1lC,EAAA,qBAAK7E,UAAU,gBACb6E,EAAA,qBAAK7E,UAAU,eACb6E,EAAA,cAACs4B,EAAAl4B,EAAS,CACRm4B,WAAW,EACXp9B,UAAU,oBACV8/B,UAAW,EACXrzB,SAAU7P,KAAK09B,mBACf+C,YAAatgC,OAAA+H,EAAA,UAAA/H,CAAU,2BACvBY,MAAOf,KAAK+G,MAAMuI,SAGtBrH,EAAA,cAAC+jC,EAAU,CACTY,YAAa5sC,KAAK+G,MAAM+Y,YACxB2sB,MAAOmB,IAAI5tC,KAAK+G,MAAMyJ,MAAO,SAC7B/C,SAAUzN,KAAKgC,MAAMyL,UACpBzN,KAAK+G,MAAMyJ,MAAMnM,IAAIiM,GACpBrI,EAAA,cAACyjC,EAAc,CAACnO,KAAMjtB,EAAKI,MAAO1L,IAAKsL,EAAKI,SACvCJ,EAAKI,OACNzI,EAAA,cAACiJ,EAAA,EAAM,CAAC9N,UAAU,eAAe+N,KAAMb,EAAKc,OAAQX,KAAMH,EAAKG,KAAMY,KAAM,KAE7EpJ,EAAA,sBAAM7E,UAAU,cAAc6B,MAAO,CAAE4oC,WAAYv9B,EAAKI,MAAQ,QAAKvL,IAClEmL,EAAKG,cCxFT,MAAMq9B,UAAoB7lC,EAAA,cAAzCY,kCACE7I,KAAA+tC,aAAgB17B,IACdrS,KAAKgC,MAAMgsC,YAAY,SAAU37B,IAGnCrS,KAAAiuC,YAAc,KACZjuC,KAAK+tC,cAAa,IAGpBllC,iBAAc,MACJd,EAAU/H,KAAKgC,MAAf+F,MACFmmC,EAAenmC,EAAMmmC,cAAgBnmC,EAAMsI,SAEjD,OAAI69B,EAEAjmC,EAAA,cAAAA,EAAA,cACEA,EAAA,sBAAM7E,UAAU,YACd6E,EAAA,cAACiJ,EAAA,EAAM,CACL9N,UAAU,sBACV+N,KAAMpJ,EAAMomC,eACZ19B,KAAM1I,EAAMmmC,cAAgBnmC,EAAMsI,SAClCgB,KAAM,MAGVpJ,EAAA,sBAAM7E,UAAU,qBACY,IAAzB2E,EAAMqmC,eACHjuC,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkB+tC,GAC1CA,IAMLjmC,EAAA,sBAAM7E,UAAU,oBAAoBjD,OAAA+H,EAAA,UAAA/H,CAAU,eAGvD0I,SACE,OAAI7I,KAAKgC,MAAMqsC,UAEXpmC,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNkmC,eAAe,EACfjpB,eAAgBtlB,KAAKiuC,YACrB57B,KAAMrS,KAAKgC,MAAMwsC,QAAUxuC,KAAKgC,MAAMqsC,UACtClrC,QAAS8E,EAAA,cAAC8kC,EAAgB,CAAChlC,MAAO/H,KAAKgC,MAAM+F,MAAO0F,SAAUzN,KAAKgC,MAAMysC,YACzExmC,EAAA,cAACgB,EAAA,WAAU,CACT7F,UAAU,yDACVlB,QAASlC,KAAK+tC,cACb/tC,KAAK0uC,iBACNzmC,EAAA,cAAC0mC,EAAAtmC,EAAY,CAACjF,UAAU,0BAMzBpD,KAAK0uC,+BCtDH,MAAME,UAAqB3mC,EAAA,cACxCY,YAAY7G,GACVwd,MAAMxd,GAMRhC,KAAA0gB,oBAAuB9e,IACrB5B,KAAKgJ,SAAS,CAAE6lC,YAAajtC,EAAM0qC,OAAOvrC,SAG5Cf,KAAA8uC,mBAAqB,KACf9uC,KAAK+G,MAAM8nC,YAAYE,OAAO5qC,OAAS,GACzCnE,KAAKgC,MAAMgtC,UAAUhvC,KAAK+G,MAAM8nC,cAIpC7uC,KAAAivC,kBAAoB,KAClBjvC,KAAKgC,MAAMktC,eAAc,IAG3BlvC,KAAAg+B,eAAkBp8B,IACM,KAAlBA,EAAMyoB,UAAmBzoB,EAAM86B,SAAW96B,EAAM66B,SAElDz8B,KAAK8uC,qBACI,CAAC,GAAI,GAAI,GAAI,IAAI7+B,SAASrO,EAAMyoB,UAEzCzoB,EAAMs8B,mBAzBRl+B,KAAK+G,MAAQ,CACX8nC,YAAa7sC,EAAM2e,QAAU3e,EAAM2e,QAAQwuB,SAAW,IA4B1DtmC,SAAM,MAAAkB,EAC+B/J,KAAKgC,MAAhC2e,EADJ5W,EACI4W,QAASyuB,EADbrlC,EACaqlC,cACjB,OACEnnC,EAAA,cAACylC,EAAA,gBAAe,CAAC5B,UAAW9rC,KAAKgC,MAAM8pC,WACrC7jC,EAAA,qBAAK7E,UAAU,8BACb6E,EAAA,qBAAK7E,UAAU,2BACb6E,EAAA,0BACEu4B,WAAW,EACX3wB,SAAU7P,KAAK0gB,oBACf2uB,UAAWrvC,KAAKg+B,eAChByC,YAAazgC,KAAKgC,MAAMy+B,YACxBrc,KAAM,EACNrjB,MAAOf,KAAK+G,MAAM8nC,eAGtB5mC,EAAA,qBAAK7E,UAAU,6BACb6E,EAAA,qBAAK7E,UAAU,8BACb6E,EAAA,cAACgB,EAAA,OAAM,CACL7F,UAAU,8CACVnB,SAAUjC,KAAK+G,MAAM8nC,YAAYE,OAAO5qC,OAAS,EACjDjC,QAASlC,KAAK8uC,oBACbnuB,GAAWxgB,OAAA+H,EAAA,UAAA/H,CAAU,SACpBwgB,GAAWxgB,OAAA+H,EAAA,UAAA/H,CAAU,yBAEzB8H,EAAA,cAACgB,EAAA,gBAAe,CAAC7F,UAAU,0BAA0BlB,QAASlC,KAAKivC,mBAChEG,EAAgBjvC,OAAA+H,EAAA,UAAA/H,CAAU,QAAUA,OAAA+H,EAAA,UAAA/H,CAAU,YAGnD8H,EAAA,qBAAK7E,UAAU,2BACb6E,EAAA,cAACoc,EAAA,EAAY,WChEZ,MAAMirB,UAA2BrnC,EAAA,cAAhDY,kCACE7I,KAAAuvC,WAAczqC,IACZsmC,EAAYprC,KAAKgC,MAAM6N,SAAU1P,OAAAgO,EAAA,EAAAhO,CAAgB,CAAE4H,MAAO/H,KAAKgC,MAAM4oB,SAAU9lB,UAC/E9E,KAAKgC,MAAMktC,eAAc,IAG3BlvC,KAAA8uC,mBAAqB,KACnB9uC,KAAKgC,MAAMktC,iBAGblvC,KAAAiuC,YAAc,KACZjuC,KAAKgC,MAAMktC,eAAc,IAG3BrmC,SACE,OACEZ,EAAA,oBAAI7E,UAAU,uBACZ6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNmnC,qBAAqB,EACrBlqB,eAAgBtlB,KAAKiuC,YACrB57B,KAAkC,YAA5BrS,KAAKgC,MAAMytC,aACjBtsC,QACE8E,EAAA,cAAC2mC,EAAY,CACXQ,cAAepvC,KAAKgC,MAAM0tC,qBAC1BV,UAAWhvC,KAAKuvC,WAChB9O,YAAazgC,KAAKgC,MAAM2tC,mBACxBT,cAAelvC,KAAKgC,MAAMktC,iBAG9BjnC,EAAA,cAACgB,EAAA,WAAU,CAAC7F,UAAU,gCAAgClB,QAASlC,KAAK8uC,oBAClE7mC,EAAA,sBAAM7E,UAAU,oBAAoBjD,OAAA+H,EAAA,UAAA/H,CAAU,8DCnC1D,MAAMyvC,EAAW,CAAC,UAAW,WAAY,QAAS,QAAS,QAE5C,SAASC,EAAV/nC,GAAqD,IAAxBC,EAAwBD,EAAxBC,MAAO0F,EAAiB3F,EAAjB2F,SAChD,OACExF,EAAA,cAACylC,EAAA,gBAAe,KACdzlC,EAAA,cAAC+jC,EAAU,CAACY,YAAa7kC,EAAM+T,SAAU2wB,MAAOmD,EAAUniC,SAAUA,GACjEmiC,EAASvrC,IAAIyX,GACZ7T,EAAA,cAACyjC,EAAc,CAACtoC,UAAU,sBAAsBm6B,KAAMzhB,EAAU9W,IAAK8W,GACnE7T,EAAA,cAAC6nC,EAAAznC,EAAY,CAACjF,UAAU,sBAAsB0Y,SAAUA,IACvD3b,OAAA+H,EAAA,UAAA/H,CAAU,WAAY2b,OCApB,MAAMi0B,UAAsB9nC,EAAA,cAA3CY,kCACE7I,KAAAgwC,kBAAqB39B,IACnBrS,KAAKgC,MAAMgsC,YAAY,eAAgB37B,IAGzCrS,KAAAiwC,YAAen0B,IACb9b,KAAKgC,MAAMkuC,iBAAiB,WAAY,eAAgB/hC,EAAA,EAAkB2N,IAG5E9b,KAAAiuC,YAAc,KACZjuC,KAAKgwC,mBAAkB,IAGzBnnC,SAAM,MACId,EAAU/H,KAAKgC,MAAf+F,MACR,OAAI/H,KAAKgC,MAAMmuC,eAEXloC,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNid,eAAgBtlB,KAAKiuC,YACrB57B,KAAMrS,KAAKgC,MAAMwsC,QAAUxuC,KAAKgC,MAAMmuC,eACtChtC,QAAS8E,EAAA,cAAC4nC,EAAgB,CAAC9nC,MAAOA,EAAO0F,SAAUzN,KAAKiwC,eACxDhoC,EAAA,cAACgB,EAAA,WAAU,CACT7F,UAAU,+DACVlB,QAASlC,KAAKgwC,mBACd/nC,EAAA,cAAC8T,EAAA,EAAc,CAAC3Y,UAAU,mBAAmB0Y,SAAU/T,EAAM+T,WAC7D7T,EAAA,cAAC0mC,EAAAtmC,EAAY,CAACjF,UAAU,0BAMzB6E,EAAA,cAAC8T,EAAA,EAAc,CAAC3Y,UAAU,mBAAmB0Y,SAAU/T,EAAM+T,+ECpC1E,MAAMs0B,GAAY,GAEH,MAAMC,WAA0BpoC,EAAA,cAA/CY,kCACE7I,KAAAyf,SAAU,EACVzf,KAAA+G,MAAe,CAAEupC,aAAc,IAU/BtwC,KAAAmS,SAAY7C,GACHnP,OAAAgO,EAAA,EAAAhO,CAAgB,CACrB+S,EAAG5D,EACH2D,GAAIxO,KAAK+oB,IAAIxtB,KAAKgC,MAAMgiC,aAAa7/B,OAAS,EAAIisC,GAAW,KAC7D5gC,aAAcxP,KAAKgC,MAAMwN,eACxB2D,KACAqJ,IACKxc,KAAKyf,SACPzf,KAAKgJ,SAAS,CAAEsnC,aAAc9zB,KAGlC,QAIJxc,KAAAyN,SAAYiP,IACV1c,KAAKgC,MAAMuuC,QAAQ,IAAIvwC,KAAKgC,MAAMgiC,aAActnB,KAGlD1c,KAAAw+B,WAAc9hB,IACZ1c,KAAKgC,MAAMuuC,QAAQrgC,IAAQlQ,KAAKgC,MAAMgiC,aAActnB,KA5BtD7T,oBACE7I,KAAKyf,SAAU,EAGjB5W,uBACE7I,KAAKyf,SAAU,EA0BjB5W,SACE,MAAM2nC,EAAgBvR,IAAWj/B,KAAK+G,MAAMupC,aAActwC,KAAKgC,MAAMgiC,cACrE,OACE/7B,EAAA,cAACylC,EAAA,gBAAe,CAAC5B,UAAW2E,EAAA,eAAeC,aACzCzoC,EAAA,cAAC67B,EAAA,EAAY,CACX/E,SAAUqR,GACVj+B,SAAUnS,KAAKmS,SACf1E,SAAUzN,KAAKyN,SACf+wB,WAAYx+B,KAAKw+B,WACjBwF,aAAchkC,KAAKgC,MAAMgiC,aACzBxnB,KAAMg0B,+HC/CD,MAAMG,WAAkB1oC,EAAA,cAAvCY,kCACE7I,KAAA4wC,cAAiBv+B,IACfrS,KAAKgC,MAAMgsC,YAAY,YAAa37B,IAGtCrS,KAAAuwC,QAAW/zB,IAAkB,MACnBzU,EAAU/H,KAAKgC,MAAf+F,MACFwjC,qUAAQr3B,CAAA,GAAQnM,EAAR,CAAeyU,SAC7B4uB,EACEprC,KAAKgC,MAAM6N,SACX1P,OAAAgO,EAAA,EAAAhO,CAAa,CAAE4H,MAAOA,EAAM/C,IAAKwX,KAAMA,EAAKvB,KAAK,OACjDlT,EACAwjC,IAIJvrC,KAAAiuC,YAAc,KACZjuC,KAAK4wC,eAAc,IAGrB/nC,SAAM,MACId,EAAU/H,KAAKgC,MAAf+F,MADJ8oC,EAEkB9oC,EAAdyU,YAFJ,IAAAq0B,EAEW,GAFXA,EAIJ,OAAI7wC,KAAKgC,MAAM8uC,WAEX7oC,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNid,eAAgBtlB,KAAKiuC,YACrB57B,KAAMrS,KAAKgC,MAAMwsC,OACjBrrC,QACE8E,EAAA,cAACooC,GAAiB,CAChB7gC,aAAczH,EAAMolC,oBACpBnJ,aAAcxnB,EACd+zB,QAASvwC,KAAKuwC,WAGlBtoC,EAAA,cAACgB,EAAA,WAAU,CACT7F,UAAU,4DACVlB,QAASlC,KAAK4wC,eACd3oC,EAAA,cAACwyB,EAAA,EAAQ,CACPO,YAAah7B,KAAKgC,MAAM8uC,WACxBt0B,KACEzU,EAAMyU,MAAQzU,EAAMyU,KAAKrY,OAAS,EAAI4D,EAAMyU,KAAO,CAACrc,OAAA+H,EAAA,UAAA/H,CAAU,sBASxE8H,EAAA,cAACwyB,EAAA,EAAQ,CACPO,YAAah7B,KAAKgC,MAAM8uC,WACxB1tC,UAAU,OACVoZ,KAAMzU,EAAMyU,MAAQzU,EAAMyU,KAAKrY,OAAS,EAAI4D,EAAMyU,KAAO,CAACrc,OAAA+H,EAAA,UAAA/H,CAAU,qbC3D/D,SAAS4wC,GAAVjpC,GAAgF,IAAjDkpC,EAAiDlpC,EAAjDkpC,YAAavjC,EAAoC3F,EAApC2F,SAAUqW,EAA0Bhc,EAA1Bgc,YAAa3X,EAAarE,EAAbqE,KAC/E,MAAM8kC,EAAwBD,GAAwB,kBAAT7kC,EAC7C,OACElE,EAAA,cAACylC,EAAA,gBAAe,KACdzlC,EAAA,cAAC+jC,EAAU,CAACY,YAAa9oB,EAAY,GAAI2oB,MAAO3oB,EAAarW,SAAUA,GACpEqW,EAAYzf,IAAIoc,IAAa,MAAAywB,EAAAhsB,GAatC,SAA6BzE,EAAoBwwB,GAC/C,OAAOA,GAAyB9wC,OAAA+H,EAAA,WAAA/H,CAAW,2BAA4BsgB,GACnE,CACEtgB,OAAA+H,EAAA,UAAA/H,CAAU,2BAA4BsgB,GACtCtgB,OAAA+H,EAAA,UAAA/H,CAAU,2BAA4BsgB,EAAY,gBAEpD,CACEtgB,OAAA+H,EAAA,UAAA/H,CAAU,mBAAoBsgB,GAC9BtgB,OAAA+H,EAAA,UAAA/H,CAAU,mBAAoBsgB,EAAY,gBApBZ0wB,CAAoB1wB,EAAYwwB,GADhC,GACrBxgC,EADqBygC,EAAA,GACfE,EADeF,EAAA,GAE5B,OACEjpC,EAAA,cAACyjC,EAAc,CAACnO,KAAM9c,EAAYzb,IAAKyb,EAAYpE,MAAO+0B,GACvD3gC,OCLA,MAAM4gC,WAAwBppC,EAAA,cAA7CY,kCACE7I,KAAAsxC,cAAiB7wB,IACf2qB,EACEprC,KAAKgC,MAAM6N,SACX1P,OAAAgO,EAAA,EAAAhO,CAAmB,CAAE4H,MAAO/H,KAAKgC,MAAM+F,MAAM/C,IAAKyb,gBAEpDzgB,KAAKuxC,uBAGPvxC,KAAAuxC,oBAAuBl/B,IACrBrS,KAAKgC,MAAMgsC,YAAY,aAAc37B,IAGvCrS,KAAAiuC,YAAc,KACZjuC,KAAKuxC,qBAAoB,IAG3B1oC,SAAM,MACId,EAAU/H,KAAKgC,MAAf+F,MAER,OAAI/H,KAAKgC,MAAMwvC,eAEXvpC,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNid,eAAgBtlB,KAAKiuC,YACrB57B,KAAMrS,KAAKgC,MAAMwsC,QAAUxuC,KAAKgC,MAAMwvC,eACtCruC,QACE8E,EAAA,cAAC8oC,GAAkB,CACjBC,YAAajpC,EAAMipC,YACnBvjC,SAAUzN,KAAKsxC,cACfxtB,YAAa/b,EAAM+b,YACnB3X,KAAMpE,EAAMoE,QAGhBlE,EAAA,cAACgB,EAAA,WAAU,CACT7F,UAAU,6DACVlB,QAASlC,KAAKuxC,qBACdtpC,EAAA,cAACmU,GAAA,EAAY,CACXhZ,UAAU,mBACVkX,WAAYvS,EAAMuS,WAClB6B,OAAQpU,EAAMoU,SAEhBlU,EAAA,cAAC0mC,EAAAtmC,EAAY,CAACjF,UAAU,0BAO9B6E,EAAA,cAACmU,GAAA,EAAY,CACXhZ,UAAU,mBACVkX,WAAYvS,EAAMuS,WAClB6B,OAAQpU,EAAMoU,6CCzDxB,MAAMs1B,GAAQ,CAAC,MAAO,gBAAiB,cAExB,SAASC,GAAV5pC,GAAiD,IAAxBC,EAAwBD,EAAxBC,MAAO0F,EAAiB3F,EAAjB2F,SAC5C,OACExF,EAAA,cAACylC,EAAA,gBAAe,KACdzlC,EAAA,cAAC+jC,EAAU,CAACY,YAAa7kC,EAAMoE,KAAMsgC,MAAOgF,GAAOhkC,SAAUA,GAC1DgkC,GAAMptC,IAAI8H,GACTlE,EAAA,cAACyjC,EAAc,CAACtoC,UAAU,sBAAsBm6B,KAAMpxB,EAAMnH,IAAKmH,GAC/DlE,EAAA,cAAC+U,GAAA3U,EAAa,CAACjF,UAAU,sBAAsBkM,MAAOnD,IACrDhM,OAAA+H,EAAA,UAAA/H,CAAU,aAAcgM,OCEtB,MAAMwlC,WAAkB1pC,EAAA,cAAvCY,kCACE7I,KAAA4xC,cAAiBv/B,IACfrS,KAAKgC,MAAMgsC,YAAY,WAAY37B,IAGrCrS,KAAA6xC,QAAW1lC,IACTnM,KAAKgC,MAAMkuC,iBAAiB,OAAQ,WAAY/hC,EAAA,EAAchC,IAGhEnM,KAAAiuC,YAAc,KACZjuC,KAAK4xC,eAAc,IAGrB/oC,SAAM,MACId,EAAU/H,KAAKgC,MAAf+F,MACR,OAAI/H,KAAKgC,MAAM8vC,WAEX7pC,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNid,eAAgBtlB,KAAKiuC,YACrB57B,KAAMrS,KAAKgC,MAAMwsC,QAAUxuC,KAAKgC,MAAM8vC,WACtC3uC,QAAS8E,EAAA,cAACypC,GAAY,CAAC3pC,MAAOA,EAAO0F,SAAUzN,KAAK6xC,WACpD5pC,EAAA,cAACgB,EAAA,WAAU,CACT7F,UAAU,2DACVlB,QAASlC,KAAK4xC,eACd3pC,EAAA,cAAC+U,GAAA3U,EAAa,CACZjF,UAAU,sBACVV,KAAMJ,GAAA,OAAOyvC,cACbziC,MAAOvH,EAAMoE,OAEdhM,OAAA+H,EAAA,UAAA/H,CAAU,aAAc4H,EAAMoE,MAC/BlE,EAAA,cAAC0mC,EAAAtmC,EAAY,CAACjF,UAAU,0BAO9B6E,EAAA,0BACEA,EAAA,cAAC+U,GAAA3U,EAAa,CAACjF,UAAU,sBAAsBkM,MAAOvH,EAAMoE,OAC3DhM,OAAA+H,EAAA,UAAA/H,CAAU,aAAc4H,EAAMoE,iICvC1B,MAAM6lC,WAAwB/pC,EAAA,cAA7CY,cAAA,IAAArH,wBAAAxB,KACEA,KAAA+G,MAAe,CACb2oC,sBAAsB,EACtBC,mBAAoB,IAGtB3vC,KAAAkwC,iBAAmB,CACjB59B,EACA2/B,EACAC,EACAnxC,KACE,MACMgH,EAAU/H,KAAKgC,MAAf+F,MACR,GAAIA,EAAMuK,KAAcvR,EAAO,CAC7B,MAAMwqC,qUAAQ4G,CAAA,GAAQpqC,EAAR,CAAec,CAACyJ,GAAWvR,IACzCqqC,EACEprC,KAAKgC,MAAM6N,SACXqiC,EAAQ,CAAEnqC,MAAOA,EAAM/C,IAAK6D,CAACyJ,GAAWvR,IACxCgH,EACAwjC,GAGJvrC,KAAKgC,MAAMgsC,YAAYiE,GAAO,IAGhCjyC,KAAAkvC,cAAgB,SAAC78B,GAAsE,IAA3CouB,EAA2C/+B,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,GAAAA,UAAA,GAA7B,GAAI0tC,EAAyB1tC,UAAAyC,OAAA,QAAAgB,IAAAzD,UAAA,IAAAA,UAAA,GACrFF,EAAKwH,SAAS,CACZ2mC,mBAAoBlP,EACpBiP,qBAAsBN,IAExB5tC,EAAKQ,MAAMgsC,YAAY,UAAW37B,IAGpCrS,KAAAoyC,iBAAoBrqC,IAClB/H,KAAKgC,MAAM6N,SAAS9H,IAEG,mBAArBA,EAAMuS,YACgB,YAArBvS,EAAMuS,YAA2C,qBAAfvS,EAAMoE,OAEzCnM,KAAKkvC,eAAc,EAAM/uC,OAAA+H,EAAA,UAAA/H,CAAU,8BAA8B,IAIrE0I,SAAM,MACId,EAAU/H,KAAKgC,MAAf+F,MACFsmC,EAAYtmC,EAAMyd,QAAQvV,SAAS,UACnCoiC,EAAatqC,EAAMyd,QAAQvV,SAAS,WACpCkgC,EAAiBpoC,EAAMyd,QAAQvV,SAAS,gBACxC6hC,EAAa/pC,EAAMyd,QAAQvV,SAAS,YACpC6gC,EAAa/oC,EAAMyd,QAAQvV,SAAS,YACpCuhC,EAAiBzpC,EAAM+b,aAAe/b,EAAM+b,YAAY3f,OAAS,EACjEmuC,EAAmC,qBAAfvqC,EAAMoE,KAEhC,OACElE,EAAA,qBAAK7E,UAAU,iBACb6E,EAAA,oBAAI7E,UAAU,mBACZ6E,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,cAAC0pC,GAAS,CACRG,WAAYA,EACZtD,OAAoC,aAA5BxuC,KAAKgC,MAAMytC,cAA+BqC,EAClD/pC,MAAOA,EACPmoC,iBAAkBlwC,KAAKkwC,iBACvBlC,YAAahuC,KAAKgC,MAAMgsC,gBAG1BsE,GACArqC,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,cAAC8nC,EAAa,CACZI,eAAgBA,EAChB3B,OAAoC,iBAA5BxuC,KAAKgC,MAAMytC,cAAmCU,EACtDpoC,MAAOA,EACPmoC,iBAAkBlwC,KAAKkwC,iBACvBlC,YAAahuC,KAAKgC,MAAMgsC,eAI9B/lC,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,cAACopC,GAAe,CACdG,eAAgBA,EAChBhD,OAAoC,eAA5BxuC,KAAKgC,MAAMytC,cAAiC+B,EACpDzpC,MAAOA,EACP8H,SAAU7P,KAAKoyC,iBACfpE,YAAahuC,KAAKgC,MAAMgsC,eAG5B/lC,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,cAAC6lC,EAAW,CACVO,UAAWA,EACXG,OAAoC,WAA5BxuC,KAAKgC,MAAMytC,cAA6BpB,EAChDtmC,MAAOA,EACP0mC,SAAUzuC,KAAKgC,MAAMysC,SACrBT,YAAahuC,KAAKgC,MAAMgsC,gBAG1BsE,GAAqBvqC,EAAMwhB,QAC3BthB,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,sBAAM7E,UAAU,oBACbjD,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkB4H,EAAMwhB,UAItD8oB,GACCpqC,EAAA,cAACqnC,EAAkB,CACjBI,qBAAsB1vC,KAAK+G,MAAM2oC,qBACjCC,mBAAoB3vC,KAAK+G,MAAM4oC,mBAC/BF,aAAczvC,KAAKgC,MAAMytC,aACzB7kB,SAAU7iB,EAAM/C,IAChB6K,SAAU7P,KAAKgC,MAAM6N,SACrBq/B,cAAelvC,KAAKkvC,iBAI1BjnC,EAAA,oBAAI7E,UAAU,eACZ6E,EAAA,oBAAI7E,UAAU,4BACZ6E,EAAA,cAAC0oC,GAAS,CACRG,WAAYA,EACZtC,OAAoC,cAA5BxuC,KAAKgC,MAAMytC,cAAgCqB,EACnD/oC,MAAOA,EACP8H,SAAU7P,KAAKgC,MAAM6N,SACrBm+B,YAAahuC,KAAKgC,MAAMgsC,0CCrIvB,SAASuE,GAAVzqC,GAAgD,IAAjB0qC,EAAiB1qC,EAAjB0qC,SAC3C,OACEvqC,EAAA,cAACylC,EAAA,gBAAe,CAAC5B,UAAW2E,EAAA,eAAeC,aACzCzoC,EAAA,qBAAK7E,UAAU,qBACb6E,EAAA,qBAAK7E,UAAU,iBAAiBjD,OAAA+H,EAAA,UAAA/H,CAAU,yCAC1C8H,EAAA,cAACgB,EAAA,OAAM,CAAC7F,UAAU,aAAalB,QAASswC,GACrCryC,OAAA+H,EAAA,UAAA/H,CAAU,aCKN,MAAMsyC,WAAyBxqC,EAAA,cAA9CY,kCACE7I,KAAA+G,MAAe,CACbigB,UAAW,IAGbhnB,KAAA0yC,WAAc5tC,IACZ9E,KAAKgC,MAAM2wC,OAAO3yC,KAAKgC,MAAM2e,QAAQ3b,IAAKF,GAC1C9E,KAAK4yC,iBAAgB,IAGvB5yC,KAAA6yC,aAAe,KACb7yC,KAAKgC,MAAMwwC,SAASxyC,KAAKgC,MAAM2e,QAAQ3b,KACvChF,KAAK8yC,mBAAkB,IAGzB9yC,KAAAguC,YAAc,CAAC7f,EAAmBoL,KAChCv5B,KAAKgJ,SAAS2mB,GACRA,EAAU3I,YAAcmH,IAAuB,IAAVoL,EAChC,CAAEvS,UAAWmH,GACXwB,EAAU3I,YAAcmH,IAAuB,IAAVoL,EACvC,CAAEvS,UAAW,IAEf2I,IAIX3vB,KAAA8yC,kBAAqBvZ,IACnBv5B,KAAKguC,YAAY,SAAUzU,IAG7Bv5B,KAAA4yC,gBAAmBrZ,IACjBv5B,KAAKguC,YAAY,OAAQzU,IAG3Bv5B,KAAA+yC,YAAc,KACZ/yC,KAAKgJ,SAAS,CAAEge,UAAW,MAG7Bne,SAAM,MACI8X,EAAY3gB,KAAKgC,MAAjB2e,QACF/N,EAAS+N,EAAQqyB,YAAcryB,EAAQ/N,OACvCpB,GACqB,IAAzBmP,EAAQsyB,cAA0BrgC,EAC9BzS,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkByS,GAC1CA,EACN,OACE3K,EAAA,qBAAK7E,UAAU,iBACb6E,EAAA,qBAAK7E,UAAU,uBAAuBiZ,MAAO7K,GAC3CvJ,EAAA,cAACiJ,EAAA,EAAM,CACL9N,UAAU,sBACV+N,KAAMwP,EAAQuyB,aACdziC,KAAMmC,EACNvB,KAAM,KAEPG,GAEHvJ,EAAA,qBACE7E,UAAU,8BACV+vC,wBAAyB,CAAEC,OAAQjzC,OAAAkzC,GAAA,SAAAlzC,CAASwgB,EAAQ2yB,aAEtDrrC,EAAA,qBAAK7E,UAAU,qBACb6E,EAAA,cAAC+N,GAAA,EAAW,CAACD,KAAM4K,EAAQhN,aAE7B1L,EAAA,qBAAK7E,UAAU,yBACZud,EAAQ4yB,WACPtrC,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNmnC,qBAAqB,EACrBlqB,eAAgBtlB,KAAK+yC,YACrB1gC,KAA+B,SAAzBrS,KAAK+G,MAAMigB,UACjB7jB,QACE8E,EAAA,cAAC2mC,EAAY,CACXjuB,QAASA,EACTquB,UAAWhvC,KAAK0yC,WAChBjS,YAAY,GACZqL,UAAW2E,EAAA,eAAeC,YAC1BxB,cAAelvC,KAAK4yC,mBAGxB3qC,EAAA,cAACgB,EAAA,WAAU,CACT7F,UAAU,qCACVlB,QAASlC,KAAK4yC,oBAKrBjyB,EAAQ4yB,WACPtrC,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNid,eAAgBtlB,KAAK+yC,YACrB1gC,KAA+B,WAAzBrS,KAAK+G,MAAMigB,UACjB7jB,QAAS8E,EAAA,cAACsqC,GAAkB,CAACC,SAAUxyC,KAAK6yC,gBAC5C5qC,EAAA,cAACgB,EAAA,aAAY,CACX7F,UAAU,uCACVlB,QAASlC,KAAK8yC,iIClGjB,MAAMU,WAAuBvrC,EAAA,cAA5CY,kCACE7I,KAAAyf,SAAU,EACVzf,KAAA+G,MAAe,CAAE0sC,UAAW,IAE5B5qC,oBACE7I,KAAKyf,SAAU,EACfzf,KAAK0zC,gBAGP7qC,uBACE7I,KAAKyf,SAAU,EAGjB5W,gBACE1I,OAAAgO,EAAA,EAAAhO,CAAkBH,KAAKgC,MAAM+F,MAAM/C,KAAKmO,KACtCrL,IAAkB,IAAf2rC,EAAe3rC,EAAf2rC,UACGzzC,KAAKyf,SACPzf,KAAKgJ,SAAS,CAAEyqC,eAGpB,QAIJ5qC,SAAM,MACId,EAAU/H,KAAKgC,MAAf+F,MACA6K,EAAW7K,EAAX6K,OACR,OACE3K,EAAA,cAACylC,EAAA,gBAAe,CAAC5B,UAAW2E,EAAA,eAAeC,aACzCzoC,EAAA,qBAAK7E,UAAU,qCACb6E,EAAA,uBAAO7E,UAAU,UACf6E,EAAA,2BACEA,EAAA,wBACEA,EAAA,oBAAI7E,UAAU,kCACZ6E,EAAA,cAAC6N,GAAA,EAAiB,CAACC,KAAMhO,EAAM4rC,gBAEjC1rC,EAAA,oBAAI7E,UAAU,sBACXwP,EAAM,GAAA6C,OAAMtV,OAAA+H,EAAA,UAAA/H,CAAU,cAAhB,KAAAsV,OAAiC7C,GAAWzS,OAAA+H,EAAA,UAAA/H,CAAU,aAIhEH,KAAK+G,MAAM0sC,UAAUpvC,IAAI,CAACk5B,EAAM4B,KAC/B,MAAMluB,EAAWssB,EAAKtsB,UAAYssB,EAAKjtB,KAEvC,OACErI,EAAA,oBAAIjD,IAAKm6B,GACPl3B,EAAA,oBAAI7E,UAAU,kCACZ6E,EAAA,cAAC6N,GAAA,EAAiB,CAACC,KAAMwnB,EAAKoW,gBAEhC1rC,EAAA,oBAAI7E,UAAU,sBACX6N,GACChJ,EAAA,uBACEA,EAAA,cAACiJ,EAAA,EAAM,CACL9N,UAAU,sBACV+N,KAAMosB,EAAKnsB,OACXX,KAAMQ,EACNI,KAAM,KAEPksB,EAAKqW,aACF3iC,EACA9Q,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkB8Q,IAGjDssB,EAAKsW,MAAMxvC,IAAI4mC,GACdhjC,EAAA,cAAC8iC,GAAA,EAAkB,CAACE,KAAMA,EAAMjmC,IAAKimC,EAAKjmC,gBCjEnD,MAAM8uC,WAAuB7rC,EAAA,cAA5CY,kCACE7I,KAAA+zC,gBAAmB1hC,IACjBrS,KAAKgC,MAAMgsC,YAAY,YAAa37B,IAGtCrS,KAAA2B,YAAc,KACZ3B,KAAK+zC,mBAGP/zC,KAAAiuC,YAAc,KACZjuC,KAAK+zC,iBAAgB,IAGvBlrC,SACE,OACEZ,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNid,eAAgBtlB,KAAKiuC,YACrB57B,KAAMrS,KAAKgC,MAAMwsC,OACjBrrC,QAAS8E,EAAA,cAACurC,GAAc,CAACzrC,MAAO/H,KAAKgC,MAAM+F,SAC3CE,EAAA,cAACG,EAAAC,EAAO,CACNC,gBAAiB,GACjBnF,QAAS8E,EAAA,cAAC6N,GAAA,EAAiB,CAACC,KAAM/V,KAAKgC,MAAM2xC,gBAC7C1rC,EAAA,cAACgB,EAAA,WAAU,CACT7F,UAAU,iEACVlB,QAASlC,KAAK2B,aACdsG,EAAA,sBAAM7E,UAAU,oBACd6E,EAAA,cAAC+N,GAAA,EAAW,CAACD,KAAM/V,KAAKgC,MAAM2xC,gBAEhC1rC,EAAA,cAAC0mC,EAAAtmC,EAAY,CAACjF,UAAU,4BC9BvB,SAAS4wC,GAAahyC,GAAwB,MACnDiyC,EAAgEjyC,EAAhEiyC,OAAQC,EAAwDlyC,EAAxDkyC,oBAAqBrqC,EAAmC7H,EAAnC6H,QAAS2F,EAA0BxN,EAA1BwN,aAAc+L,EAAYvZ,EAAZuZ,QAE5D,OACEtT,EAAA,qBAAK7E,UAAU,iBACb6E,EAAA,sBAAM7E,UAAU,gBAAgByG,GAChC5B,EAAA,cAACgB,EAAA,WAAU,CAAAgyB,aACG96B,OAAA+H,EAAA,UAAA/H,CAAU,6BACtBiD,UAAU,8BACVlB,QAAS,IAAMF,EAAMmyC,WAAW,CAAEnvC,IAAKuW,EAAS/L,kBAC/CrP,OAAA+H,EAAA,UAAA/H,CAAU,yBAGZ8zC,GACChsC,EAAA,cAACG,EAAAC,EAAO,CAAClF,QAAShD,OAAA+H,EAAA,wBAAA/H,CAAwB,kCAAmC8zC,IAC3EhsC,EAAA,qBAAK7E,UAAU,+BAA+B6wC,IAGjDC,GACCjsC,EAAA,cAACG,EAAAC,EAAO,CAAClF,QAAShD,OAAA+H,EAAA,UAAA/H,CAAU,2CAC1B8H,EAAA,qBAAK7E,UAAU,+BACZjD,OAAA+H,EAAA,UAAA/H,CAAU,8GClBR,MAAMi0C,WAA2BnsC,EAAA,cAAhDY,kCACE7I,KAAA2rC,aAAgBr5B,IACdtS,KAAKgC,MAAM8kB,SAASxU,EAAUtS,KAAKgC,MAAM+F,QAG3Cc,SAAM,MACId,EAAU/H,KAAKgC,MAAf+F,MAEF0kC,EAAQ,CACZ,OACA,WACA,SACA,aACA,WACA,WACI1kC,EAAMyU,MAAQ,IAAInY,IAAIqY,GAAG,SAAAjH,OAAaiH,IAC1C,UACA3U,EAAMge,WAAa,cAAW5gB,EAC9B,QACAmS,OAAOimB,GAAQA,GAEXltB,EAAWtI,EAAMmmC,cAAgBnmC,EAAMsI,SAE7C,OACEpI,EAAA,cAACylC,EAAA,gBAAe,CAACC,WAAW,GAC1B1lC,EAAA,wBAAQ7E,UAAU,eAChB6E,EAAA,wBAAK9H,OAAA+H,EAAA,UAAA/H,CAAU,iCAGjB8H,EAAA,cAAC+jC,EAAU,CACT5oC,UAAU,6BACVwpC,YAAaH,EAAM,GACnBA,MAAOA,EACPh/B,SAAUzN,KAAK2rC,cACf1jC,EAAA,cAACyjC,EAAc,CAACtoC,UAAU,sBAAsBm6B,KAAK,QACnDt1B,EAAA,cAAC+U,GAAA3U,EAAa,CAACjF,UAAU,sBAAsBkM,MAAOvH,EAAMoE,OAC3DhM,OAAA+H,EAAA,UAAA/H,CAAU,aAAc4H,EAAMoE,OAGjClE,EAAA,cAACyjC,EAAc,CAACnO,KAAK,YACnBt1B,EAAA,cAAC8T,EAAA,EAAc,CAAC3Y,UAAU,sBAAsB0Y,SAAU/T,EAAM+T,YAGlE7T,EAAA,cAACyjC,EAAc,CAACnO,KAAK,UACnBt1B,EAAA,cAACmU,GAAA,EAAY,CACXhZ,UAAU,sBACVkX,gBAAYnV,EACZgX,OAAQpU,EAAMoU,UAIlBlU,EAAA,cAACyjC,EAAc,CAACnO,KAAK,cACE,MAApBx1B,EAAMuS,WACHna,OAAA+H,EAAA,UAAA/H,CAAU,mBAAoB4H,EAAMuS,YACpCna,OAAA+H,EAAA,UAAA/H,CAAU,eAGhB8H,EAAA,cAACyjC,EAAc,CAACnO,KAAK,YAClBltB,EACCpI,EAAA,0BACG9H,OAAA+H,EAAA,UAAA/H,CAAU,eACX8H,EAAA,cAACiJ,EAAA,EAAM,CACL9N,UAAU,yCACV+N,KAAMpJ,EAAMomC,eACZ19B,KAAMJ,EACNgB,KAAM,MAEkB,IAAzBtJ,EAAMqmC,eACHjuC,OAAA+H,EAAA,wBAAA/H,CAAwB,iBAAkBkQ,GAC1CA,GAGNlQ,OAAA+H,EAAA,UAAA/H,CAAU,eAId8H,EAAA,oBAAI7E,UAAU,YAEd6E,EAAA,cAACyjC,EAAc,CAACnO,KAAK,QAAQp9B,OAAAiN,GAAA,mBAAAjN,CAAmB4H,EAAMssC,WAEvC,MAAdtsC,EAAMyU,MACLzU,EAAMyU,KAAKnY,IAAIqY,GACbzU,EAAA,cAACyjC,EAAc,CAACnO,KAAI,SAAA9nB,OAAWiH,GAAO1X,IAAG,SAAAyQ,OAAWiH,IAClDzU,EAAA,cAAC2U,GAAAvU,EAAQ,CAACjF,UAAU,0DACpB6E,EAAA,sBAAM7E,UAAU,eAAesZ,KAIrCzU,EAAA,oBAAI7E,UAAU,YAEd6E,EAAA,cAACyjC,EAAc,CAACnO,KAAK,WACnBt1B,EAAA,cAACyP,GAAArP,EAAa,CAACjF,UAAU,sBAAsB2P,UAAU,QACxDhL,EAAM+d,aAGY,MAApB/d,EAAMge,YACL9d,EAAA,cAACyjC,EAAc,CAACnO,KAAK,UACnBt1B,EAAA,cAACyP,GAAArP,EAAa,CAACjF,UAAU,sBAAsB2P,UAAU,QACxDhL,EAAMie,gBAIX/d,EAAA,cAACyjC,EAAc,CAACnO,KAAK,QACnBt1B,EAAA,cAACyP,GAAArP,EAAa,CAACjF,UAAU,sBAAsB2P,UAAWhL,EAAMusC,qBAC/Dn0C,OAAAiN,GAAA,aAAAjN,CAAa4H,EAAMyF,uBC3GjB,MAAM+mC,WAA4BtsC,EAAA,cAAjDY,kCACE7I,KAAAmmB,aAAe,CAAC7T,EAAkBvK,KAChC/H,KAAKguC,aAAY,GACbhuC,KAAKgC,MAAM8kB,UACb9mB,KAAKgC,MAAM8kB,SAASxU,EAAUvK,IAIlC/H,KAAAguC,YAAe37B,IACbrS,KAAKgC,MAAMgsC,YAAY,gBAAiB37B,IAG1CrS,KAAAiuC,YAAc,KACZjuC,KAAKguC,aAAY,IAGnBnlC,SACE,OACEZ,EAAA,qBAAK7E,UAAU,YACb6E,EAAA,cAACqmC,EAAAjmC,EAAO,CACNid,eAAgBtlB,KAAKiuC,YACrB57B,KAAMrS,KAAKgC,MAAMwsC,OACjBrrC,QAAS8E,EAAA,cAACmsC,GAAkB,CAACrsC,MAAO/H,KAAKgC,MAAM+F,MAAO+e,SAAU9mB,KAAKmmB,gBACrEle,EAAA,cAACgB,EAAA,WAAU,CAAAgyB,aACG96B,OAAA+H,EAAA,UAAA/H,CAAU,+BACtBiD,UAAU,yDACVlB,QAASlC,KAAKguC,YACd3xB,MAAOlc,OAAA+H,EAAA,UAAA/H,CAAU,gCACjB8H,EAAA,cAACusC,GAAAnsC,EAAU,CAACjF,UAAU,0BACtB6E,EAAA,cAAC0mC,EAAAtmC,EAAY,CAACjF,UAAU,uJCnBrB,SAASqxC,GAAczyC,GAAY,MACxC+F,EAAU/F,EAAV+F,MACF2sC,EAA2C,MAAlB1yC,EAAM8kB,SAE/B6tB,EACJ5sC,EAAMb,mBAAmB/C,OACzB4D,EAAMZ,MAAMytC,OAAO,CAACC,EAAKtqC,IAAcsqC,EAAMtqC,EAAUpG,OAAQ,GAE3D2wC,EACJ7sC,EAAA,cAACG,EAAAC,EAAO,CACNlF,QAAShD,OAAA+H,EAAA,wBAAA/H,CACP,6CACAA,OAAAoI,GAAA,cAAApI,CAAcw0C,EAAgB,SAEhC1sC,EAAA,cAACQ,GAAA,EAAa,KAAEksC,IAIdI,EAAmB/yC,EAAMgzC,uBAAyBL,EAAiB,EAEnEM,EAAW90C,OAAA+0C,GAAA,EAAA/0C,CAAsB4H,EAAM+K,2UAAPqiC,CAAA,GACjCh1C,OAAA4qB,GAAA,EAAA5qB,CAAmB6B,EAAM4kB,YADQ,CAEpCzY,OAAQpG,EAAM/C,IACdqN,KAAMtK,EAAM/C,IACZ+X,MAAsB,qBAAfhV,EAAMoE,KAA8BpE,EAAMoE,UAAOhH,KAG1D,OACE8C,EAAA,qBAAK7E,UAAU,aACb6E,EAAA,cAACmtC,GAAA,EAAiB/hB,SAAQ,KACvBvrB,IAAA,IAAGutC,EAAHvtC,EAAGutC,SAAH,OACCptC,EAAA,cAAC+rC,GAAY,CACXC,OAAQlsC,EAAMutC,mBACdpB,oBAAqBnsC,EAAMipC,aAA8B,kBAAfjpC,EAAMoE,KAChDtC,QAAS9B,EAAM8B,QACfsqC,WAAYkB,EACZ7lC,aAAczH,EAAMyH,aACpB+L,QAASxT,EAAMsT,SAKrBpT,EAAA,qBAAK7E,UAAU,kBACb6E,EAAA,oBAAI7E,UAAU,mBACZ6E,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,cAAC6rC,GAAc,CACbH,aAAc5rC,EAAM4rC,aACpBnF,OAA+B,cAAvBxsC,EAAMytC,aACd1nC,MAAOA,EACPimC,YAAahsC,EAAMgsC,eAGH,MAAnBjmC,EAAMwgB,WACLtgB,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,sBAAM7E,UAAU,mBAAmBiZ,MAAOlc,OAAA+H,EAAA,UAAA/H,CAAU,oBAChD4H,EAAMwgB,UAAUE,UAIvBssB,GACC9sC,EAAA,oBAAI7E,UAAU,cACXpB,EAAMuzC,qBACLttC,EAAA,cAACwQ,GAAA,KAAI,CAAC6zB,OAAO,SAAS/3B,GAAI0gC,GACvBH,GAGHA,GAIN7sC,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,cAACwQ,GAAA,KAAI,CACHrV,UAAU,uCACVkpC,OAAO,SACPjwB,MAAOlc,OAAA+H,EAAA,UAAA/H,CAAU,aACjBoU,GAAI0gC,GACJhtC,EAAA,cAACutC,GAAAntC,EAAQ,QAGZqsC,GACCzsC,EAAA,oBAAI7E,UAAU,cACZ6E,EAAA,cAACssC,GAAmB,CAClB/F,OAA+B,kBAAvBxsC,EAAMytC,aACd1nC,MAAOA,EACP+e,SAAU9kB,EAAM8kB,SAChBknB,YAAahsC,EAAMgsC,kBCpFpB,MAAMyH,WAAkBxtC,EAAA,cAAvCY,kCACE7I,KAAA01C,YAAc,KACR11C,KAAKgC,MAAMiiB,SACbjkB,KAAKgC,MAAMiiB,QAAQjkB,KAAKgC,MAAM+F,MAAM/C,MAIxChF,KAAA2B,YAAeC,KA2EjB,SAAS+zC,EAAYjsC,GACnB,IAAKA,EACH,OAAO,EAGT,MAAM2iC,GAAW3iC,EAAK2iC,SAAW,IAAIpC,cACrC,MAFsB,CAAC,IAAK,SAAU,QAAS,YAE1Bh6B,SAASo8B,IAAYsJ,EAAYjsC,EAAKksC,eAhFpDD,CAAY/zC,EAAM0qC,SAA0BtsC,KAAKgC,MAAME,UAC1DN,EAAMC,iBACN7B,KAAKgC,MAAME,QAAQlC,KAAKgC,MAAM+F,MAAM/C,OAIxChF,KAAA61C,YAAc,CAACl1B,EAAiB7b,KAC9BsmC,EAAYprC,KAAKgC,MAAM6N,SAAU1P,OAAAgO,EAAA,EAAAhO,CAAiB,CAAEwgB,UAAS7b,WAG/D9E,KAAA81C,cAAiBn1B,IACfyqB,EAAYprC,KAAKgC,MAAM6N,SAAU1P,OAAAgO,EAAA,EAAAhO,CAAmB,CAAEwgB,cAGxD9X,SAAM,MACId,EAAU/H,KAAKgC,MAAf+F,MAEFguC,EAAoC,MAAtB/1C,KAAKgC,MAAMiiB,QAEzB+xB,EAAanK,IAAW,QAAS,CACrCoK,QAAwB,qBAAfluC,EAAMoE,KACf+pC,sBAAuBH,EACvBrtC,SAAU1I,KAAKgC,MAAM0G,WAGvB,OACET,EAAA,qBACE7E,UAAW4yC,EAAUG,aACTpuC,EAAM/C,IAClB9C,QAASlC,KAAK2B,YACdkL,KAAK,WACLC,SAAU,GACV7E,EAAA,cAACwsC,GAAa,CACZ7tB,WAAY5mB,KAAKgC,MAAM4kB,WACvB6oB,aAAczvC,KAAKgC,MAAMytC,aACzBuF,sBAAuBh1C,KAAKgC,MAAMgzC,sBAClCO,qBAAsBv1C,KAAKgC,MAAMuzC,qBACjCxtC,MAAOA,EACP+e,SAAU9mB,KAAKgC,MAAM8kB,SACrBknB,YAAahuC,KAAKgC,MAAMgsC,cAE1B/lC,EAAA,cAAC+pC,GAAe,CACdvC,aAAczvC,KAAKgC,MAAMytC,aACzB1nC,MAAOA,EACP0mC,SAAUzuC,KAAKgC,MAAMysC,SACrB5+B,SAAU7P,KAAKgC,MAAM6N,SACrBm+B,YAAahuC,KAAKgC,MAAMgsC,cAEzBjmC,EAAMquC,UAAYruC,EAAMquC,SAASjyC,OAAS,GACzC8D,EAAA,qBAAK7E,UAAU,kBACZ2E,EAAMquC,SAAS/xC,IAAIsc,GAClB1Y,EAAA,cAACwqC,GAAgB,CACf9xB,QAASA,EACT3b,IAAK2b,EAAQ3b,IACbwtC,SAAUxyC,KAAK81C,cACfnD,OAAQ3yC,KAAK61C,gBAKpBE,GACC9tC,EAAA,cAAAA,EAAA,cACEA,EAAA,cAACsc,EAAAlc,EAAQ,CACPkY,QAASvgB,KAAKgC,MAAMue,UAAW,EAC/Bnd,UAAU,2BACV6gB,QAASjkB,KAAK01C,iBCtH5Bz0C,EAAAhB,EAAAgzB,EAAA,sBAAAojB,KA0Ce,MAAMA,WAAcpuC,EAAA,cAAnCY,kCA2EE7I,KAAAguC,YAAc,CAAC7f,EAAmB9b,KAChCrS,KAAKgC,MAAM+kB,cAAc/mB,KAAKgC,MAAM+F,MAAM/C,IAAKmpB,EAAW9b,IAG5DrS,KAAAs2C,kBAAqB5lC,IAAiB,MAC5B3I,EAAU/H,KAAKgC,MAAf+F,MACJA,EAAMsI,WAAaK,GACrB06B,EAAYprC,KAAKgC,MAAM6N,SAAU1P,OAAAgO,EAAA,EAAAhO,CAAiB,CAAE4H,MAAOA,EAAM/C,IAAKqL,SAAUK,KAElF1Q,KAAKguC,YAAY,UAAU,IA/E7BnlC,oBACM7I,KAAKgC,MAAM0G,UACb1I,KAAKu2C,gBAIT1tC,oBAAoBgD,IACbA,EAAUnD,UAAY1I,KAAKgC,MAAM0G,UACpC1I,KAAKw2C,kBAIT3tC,mBAAmBe,IACZA,EAAUlB,UAAY1I,KAAKgC,MAAM0G,UACpC1I,KAAKu2C,gBAIT1tC,uBACM7I,KAAKgC,MAAM0G,UACb1I,KAAKw2C,kBAIT3tC,gBACEuhB,EAAI,IAAK,SAAU,KACjBpqB,KAAKguC,YAAY,eACV,IAET5jB,EAAI,IAAK,SAAU,KACjBpqB,KAAKguC,YAAY,WACV,IAET5jB,EAAI,IAAK,SAAU,KACbpqB,KAAKgC,MAAM+F,MAAMyd,QAAQvV,SAAS,WACpCjQ,KAAKs2C,kBAAkB,QAElB,IAETlsB,EAAI,IAAK,SAAU,KACjBpqB,KAAKguC,YAAY,iBACV,IAET5jB,EAAI,IAAK,SAAU,KACjBpqB,KAAKguC,YAAY,YACV,IAET5jB,EAAI,IAAK,SAAU,KACjBpqB,KAAKguC,YAAY,cACV,IAET5jB,EAAI,QAAS,SAAU,KACrB,GAAIpqB,KAAKgC,MAAMiiB,QAEb,OADAjkB,KAAKgC,MAAMiiB,QAAQjkB,KAAKgC,MAAM+F,MAAM/C,MAC7B,IAMb6D,kBACEuhB,EAAA,OAAW,IAAK,UAChBA,EAAA,OAAW,IAAK,UAChBA,EAAA,OAAW,IAAK,UAChBA,EAAA,OAAW,IAAK,UAChBA,EAAA,OAAW,IAAK,UAChBA,EAAA,OAAW,QAAS,UACpBA,EAAA,OAAW,IAAK,UAelBvhB,SACE,OACEZ,EAAA,cAACwtC,GAAS,CACR7uB,WAAY5mB,KAAKgC,MAAM4kB,WACvBrG,QAASvgB,KAAKgC,MAAMue,QACpBkvB,aAAczvC,KAAKgC,MAAMglB,UACzBguB,sBAAuBh1C,KAAKgC,MAAMgzC,sBAClCO,qBAAsBv1C,KAAKgC,MAAMuzC,qBACjCxtC,MAAO/H,KAAKgC,MAAM+F,MAClB0mC,SAAUzuC,KAAKs2C,kBACfzmC,SAAU7P,KAAKgC,MAAM6N,SACrBoU,QAASjkB,KAAKgC,MAAMiiB,QACpB/hB,QAASlC,KAAKgC,MAAME,QACpB4kB,SAAU9mB,KAAKgC,MAAM8kB,SACrBpe,SAAU1I,KAAKgC,MAAM0G,SACrBslC,YAAahuC,KAAKguC,eArGjBqI,GAAAv/B,aAAe,CACpBpO,UAAU,qCC5Cd,IAAAyqB,EAAAlyB,EAAA,GAAAw1C,EAAAx1C,EAAA,KAAAy1C,EAAAz1C,EAAA,KAAA01C,EAAA11C,EAAA,KAmCA,SAAS4Y,EAAa7X,GAAY,MAAA40C,EACyB50C,EAAjD8X,YADwB,IAAA88B,KACXpnC,EAAoCxN,EAApCwN,aAErB,OAFyDxN,EAAtB60C,mBAERrnC,EAKzB2jB,EAAA,0BACGrZ,EACCqZ,EAAA,cAACwjB,EAAA,EAAgB,CAACvzC,UAAWpB,EAAM80C,cAAetnC,aAAcA,GAC7DA,EAAaiB,MAGhBjB,EAAaiB,KAEf0iB,EAAA,sBAAM/vB,UAAU,qBAZX,KAsBI6vB,EAAA,EAAA9yB,OAAAs2C,EAAA,QAAAt2C,CALS,CAAC4G,EAAcgwC,KAAf,CACtBvnC,aAAcrP,OAAAu2C,EAAA,qBAAAv2C,CAAqB4G,EAAOgwC,EAASh9B,iBACnD88B,kBAAmB12C,OAAAu2C,EAAA,4BAAAv2C,CAA4B4G,KAGlC,CAAyB8S,qCC7DxC5Y,EAAAhB,EAAAgzB,EAAA,sBAAAlC,IAAA,IAAAoC,EAAAlyB,EAAA,GAAA46B,EAAA56B,EAAA,KAAAs2B,EAAAt2B,EAAA,GA4Be,SAAS8vB,EAAVjpB,GAAwD,IAA9BkpB,EAA8BlpB,EAA9BkpB,aAAcC,EAAgBnpB,EAAhBmpB,QACpD,OACEkC,EAAA,qBAAK/vB,UAAU,mCACZ4tB,GACCmC,EAAA,qBAAK/vB,UAAU,cACb+vB,EAAA,cAAC0I,EAAA,OAAM,CAACz4B,UAAU,aAAa+e,GAAG,iCAAiCjgB,QAAS+uB,GACzE9wB,OAAAo3B,EAAA,UAAAp3B,CAAU,uBAKjBgzB,EAAA,wBAAKhzB,OAAAo3B,EAAA,UAAAp3B,CAAU,yOC+BN,MAAM2d,UAAsBk5B,EAAA,cAA3CnuC,kCACE7I,KAAAyf,SAAU,EACVzf,KAAAsS,SAAW2kC,EAAA,EACXj3C,KAAA+G,MAAe,CACbmwC,SAAU,GACVz4B,UAAW,CAAEL,WAAY,GAAIE,UAAW,GAAIP,IAAK,GAAIS,oBAAqB,KA4B5Exe,KAAAm3C,cAAgB,KACdh3C,OAAAi3C,EAAA,EAAAj3C,GAAegT,KACbrL,IAAqE,IAAlEsW,EAAkEtW,EAAlEsW,WAAYE,EAAsDxW,EAAtDwW,UAAWP,EAA2CjW,EAA3CiW,IAAKS,EAAsC1W,EAAtC0W,oBACzBxe,KAAKyf,SACPzf,KAAKgJ,SAAS,CAAEyV,UAAW,CAAEL,aAAYE,YAAWP,MAAKS,0BAG7D,SAIJxe,KAAA4W,UAAY,IACH,IACF5W,KAAKgC,MAAMwc,oBAAoBna,IAAIk5B,GACpCp9B,OAAAi3C,EAAA,EAAAj3C,CAAkCH,KAAK+G,MAAM0X,UAAW8e,GAAM,OAE7Dv9B,KAAKgC,MAAMoc,WAAW/Z,IAAIk5B,GAC3Bp9B,OAAAi3C,EAAA,EAAAj3C,CAAyBH,KAAK+G,MAAM0X,UAAW8e,GAAM,OAEpDv9B,KAAKgC,MAAMsc,UAAUja,IAAIk5B,GAC1Bp9B,OAAAi3C,EAAA,EAAAj3C,CAAwBH,KAAK+G,MAAM0X,UAAW8e,GAAM,OAEnDv9B,KAAKgC,MAAM+b,IAAI1Z,IAAIk5B,GAAQp9B,OAAAi3C,EAAA,EAAAj3C,CAAkBH,KAAK+G,MAAM0X,UAAW8e,KAI1Ev9B,KAAA+T,kBAAoB,KAClB/T,KAAKgC,MAAMoQ,SAASpS,KAAKsS,WAG3BtS,KAAAq3C,4BAA8B,KAC5Br3C,KAAKgC,MAAMoQ,SAAS,eAGtBpS,KAAAs3C,2BAA6B,KAC3Bt3C,KAAKgC,MAAMoQ,SAAS,cAGtBpS,KAAAu3C,qCAAuC,KACrCv3C,KAAKgC,MAAMoQ,SAAS,wBAGtBpS,KAAAmQ,YAAc,KACZnQ,KAAKgC,MAAM6N,SAAS,CAClBhH,CAAC7I,KAAKsS,UAAW,GACjB8L,WAAY,GACZE,UAAW,GACXP,IAAK,GACLS,oBAAqB,MAIzBxe,KAAAyP,gBAAkB,CAAC+nC,EAAkB9nC,EAAmBC,KACtD,MAAM88B,EAAQzsC,KAAKgC,MAAMw1C,GACzB,GAAI7nC,EAAU,CACZ,MAAMI,EAAW0nC,IACfhL,EAAMx8B,SAASP,GAAagoC,IAAQjL,EAAO/8B,GAAa,IAAI+8B,EAAO/8B,IAErE1P,KAAKgC,MAAM6N,SAAS,CAAEhH,CAAC2uC,GAAOznC,SAE9B/P,KAAKgC,MAAM6N,SAAS,CAClBhH,CAAC2uC,GAAO/K,EAAMx8B,SAASP,IAAc+8B,EAAMtoC,OAAS,EAAI,GAAK,CAACuL,MAKpE1P,KAAA23C,0BAA4B,CAACjoC,EAAmBC,KAC9C3P,KAAKyP,gBAAgB,aAAcC,EAAWC,IAGhD3P,KAAA43C,yBAA2B,CAACloC,EAAmBC,KAC7C3P,KAAKyP,gBAAgB,YAAaC,EAAWC,IAG/C3P,KAAA63C,mCAAqC,CAACnoC,EAAmBC,KACvD3P,KAAKyP,gBAAgB,sBAAuBC,EAAWC,IAGzD3P,KAAA83C,gBAAmBxoC,GACV6J,QAAQC,QAAQ,CACrB9F,QAASnT,OAAO4Q,KAAK/Q,KAAK+G,MAAM0X,UAAUV,KAAKzG,OAAOyG,GACpD5d,OAAAi3C,EAAA,EAAAj3C,CAAkBH,KAAK+G,MAAM0X,UAAWV,GACrC/E,cACA/I,SAASX,EAAM0J,kBAKxBhZ,KAAA+3C,yBAA4BC,IAAwB,MAC1CrnC,EAA0B3Q,KAAKgC,MAA/B2O,sBACR,OAAOA,EACHA,EAAsB,MAAO,CAAEoN,IAAKi6B,IACpC7+B,QAAQC,QAAQ,KAGtBpZ,KAAAsyB,WAAa,CACX2lB,EACAC,EACAC,EACAj2C,KAEA,MAAM4O,EAAQ9Q,KAAKgC,MAAMi2C,GACnBvmC,EAAS1R,KAAKgC,MAAMk2C,GAC1B,IAAKpnC,EACH,OAAO,KAET,MAAMknC,EAAaP,IAAOt3C,OAAO4Q,KAAKD,GAAQ9L,IAAQ8L,EAAM9L,IAC5D,OAAOhF,KAAKo4C,qBAAqBtnC,EAAOY,EAAQsmC,EAAYG,EAAYA,EAAYj2C,IAItFlC,KAAAo4C,qBAAuB,CACrBtnC,EACAY,EACAsmC,EACAG,EACAE,EACAn2C,KAEA,IAAK81C,EAAW7zC,OACd,OACE6yC,EAAA,qBAAK5zC,UAAU,kDACZjD,OAAA26B,EAAA,UAAA36B,CAAU,eAKjB,MAAMsa,EAAWmvB,GACR94B,EAAQA,EAAM84B,QAAYzkC,EAGnC,OACE6xC,EAAA,cAACsB,EAAA,EAAc,KACZN,EAAW3zC,IAAIulC,GACdoN,EAAA,cAACuB,EAAA,EAAS,CACRliC,OAAQ3E,EAAOzB,SAAS25B,GACxB5kC,IAAK4kC,EACLn5B,KAAM0nC,EAAWn4C,KAAK+G,MAAM0X,UAAWmrB,GACvC1nC,QAASA,EACTsY,KAAMra,OAAA82C,EAAA,EAAA92C,CAAgBsa,EAAQmvB,IAC9B5mC,QAASq1C,EAAcr4C,KAAK+G,MAAM0X,UAAWmrB,GAC7C7oC,MAAO6oC,OAOjB5pC,KAAAw4C,WAAa,CAACP,EAAsBC,KAClC,MAAMpnC,EAAQ9Q,KAAKgC,MAAMi2C,IAAc,GACjCvmC,EAAS1R,KAAKgC,MAAMk2C,GAC1B,OAAOlB,EAAA,cAACyB,EAAA,EAAqB,CAAChyC,QAAStG,OAAO4Q,KAAKD,GAAO3M,OAAQuN,OAAQA,EAAOvN,UAhLnF0E,oBACE7I,KAAKyf,SAAU,GAIbzf,KAAKgC,MAAMqQ,MACXrS,KAAKgC,MAAMoc,WAAWja,OAAS,GAC/BnE,KAAKgC,MAAM+b,IAAI5Z,OAAS,GACxBnE,KAAKgC,MAAMsc,UAAUna,OAAS,GAC9BnE,KAAKgC,MAAMwc,oBAAoBra,OAAS,IAExCnE,KAAKm3C,gBAITtuC,mBAAmBe,IACZA,EAAUyI,MAAQrS,KAAKgC,MAAMqQ,MAChCrS,KAAKm3C,gBAITtuC,uBACE7I,KAAKyf,SAAU,EA6JjB5W,uBACE,OAAO7I,KAAKsyB,WACV,kBACA,aACA8kB,EAAA,EACAp3C,KAAK23C,2BAIT9uC,uBACE,OAAO7I,KAAKw4C,WAAW,kBAAmB,cAG5C3vC,sBACE,OAAO7I,KAAKsyB,WACV,iBACA,YACA8kB,EAAA,EACAp3C,KAAK43C,0BAIT/uC,sBACE,OAAO7I,KAAKw4C,WAAW,iBAAkB,aAG3C3vC,gCACE,OAAO7I,KAAKsyB,WACV,2BACA,sBACA8kB,EAAA,EACAp3C,KAAK63C,oCAIThvC,gCACE,OAAO7I,KAAKw4C,WAAW,2BAA4B,uBAGrD3vC,kBACE,OACEmuC,EAAA,cAAAA,EAAA,cACEA,EAAA,cAAC0B,EAAA,EAAQ,CAACt1C,UAAU,WAAWkP,SAAS,uBACtC0kC,EAAA,cAAC2B,EAAA,EAAW,CACV9mC,SAAU7R,KAAKgC,MAAMuc,4BACrB9N,KAAMtQ,OAAA26B,EAAA,UAAA36B,CAAU,oCAChB+B,QAASlC,KAAKu3C,qCACdllC,KAAMrS,KAAKgC,MAAM8c,wBACjBpN,OAAQ1R,KAAKgC,MAAMwc,oBAAoBna,IAAIk5B,GACzCp9B,OAAAi3C,EAAA,EAAAj3C,CAAkCH,KAAK+G,MAAM0X,UAAW8e,MAG3Dv9B,KAAKgC,MAAM8c,yBACVk4B,EAAA,cAAAA,EAAA,cACGh3C,KAAK44C,gCACL54C,KAAK64C,kCAIZ7B,EAAA,cAAC0B,EAAA,EAAQ,CAACt1C,UAAU,WAAWkP,SAAS,cACtC0kC,EAAA,cAAC2B,EAAA,EAAW,CACV9mC,SAAU7R,KAAKgC,MAAMmc,mBACrB1N,KAAMtQ,OAAA26B,EAAA,UAAA36B,CAAU,2BAChB+B,QAASlC,KAAKq3C,4BACdhlC,KAAMrS,KAAKgC,MAAM0c,eACjBhN,OAAQ1R,KAAKgC,MAAMoc,WAAW/Z,IAAIk5B,GAChCp9B,OAAAi3C,EAAA,EAAAj3C,CAAyBH,KAAK+G,MAAM0X,UAAW8e,MAGlDv9B,KAAKgC,MAAM0c,gBACVs4B,EAAA,cAAAA,EAAA,cACGh3C,KAAK84C,uBACL94C,KAAK+4C,yBAIZ/B,EAAA,cAAC0B,EAAA,EAAQ,CAACt1C,UAAU,WAAWkP,SAAS,aACtC0kC,EAAA,cAAC2B,EAAA,EAAW,CACV9mC,SAAU7R,KAAKgC,MAAMqc,kBACrB5N,KAAMtQ,OAAA26B,EAAA,UAAA36B,CAAU,0BAChB+B,QAASlC,KAAKs3C,2BACdjlC,KAAMrS,KAAKgC,MAAM4c,cACjBlN,OAAQ1R,KAAKgC,MAAMsc,UAAUja,IAAIk5B,GAC/Bp9B,OAAAi3C,EAAA,EAAAj3C,CAAwBH,KAAK+G,MAAM0X,UAAW8e,MAGjDv9B,KAAKgC,MAAM4c,eACVo4B,EAAA,cAAAA,EAAA,cACGh3C,KAAKg5C,sBACLh5C,KAAKi5C,wBAIZjC,EAAA,cAACkC,EAAA,EAAc,CACb91C,UAAU,WACVwO,YAAazR,OAAA26B,EAAA,UAAA36B,CAAU,oBACvB0R,SAAU7R,KAAKgC,MAAMkc,YACrBpM,iBAAkByrB,GAAQp9B,OAAAi3C,EAAA,EAAAj3C,CAAkBH,KAAK+G,MAAM0X,UAAW8e,GAClExrB,mBAAoBwrB,GAAQA,EAC5BvrB,oBAAqBurB,GAAQp9B,OAAAi3C,EAAA,EAAAj3C,CAAkBH,KAAK+G,MAAM0X,UAAW8e,GACrE5sB,sBAAuB3Q,KAAK+3C,yBAC5BloC,SAAU7P,KAAKgC,MAAM6N,SACrBsC,SAAUnS,KAAK83C,gBACf1lC,SAAUpS,KAAKgC,MAAMoQ,SACrBC,KAAMrS,KAAKgC,MAAMgc,QACjB1L,SAAS,MACThD,MAAO6pC,IAAKn5C,KAAKgC,MAAMsN,MAAO,OAC9B0B,gBAAiBusB,GAAQp9B,OAAAi3C,EAAA,EAAAj3C,CAAkBH,KAAK+G,MAAM0X,UAAW8e,GACjEjsB,mBAAoB,CAACisB,EAAMjuB,IACzBnP,OAAAi5C,EAAA,cAAAj5C,CAAcA,OAAAi3C,EAAA,EAAAj3C,CAAkBH,KAAK+G,MAAM0X,UAAW8e,GAAOjuB,GAE/DkD,kBAAmBrS,OAAA26B,EAAA,UAAA36B,CAAU,yBAC7B2Q,MAAO9Q,KAAKgC,MAAMic,SAClBvM,OAAQ1R,KAAKgC,MAAM+b,OAM3BlV,SACE,OACEmuC,EAAA,cAAC0B,EAAA,EAAQ,CAACpmC,SAAUtS,KAAKsS,UACvB0kC,EAAA,cAAC2B,EAAA,EAAW,CACVloC,KAAMtQ,OAAA26B,EAAA,UAAA36B,CAAU,eAAgBH,KAAKsS,UACrCL,QAASjS,KAAKmQ,YACdjO,QAASlC,KAAK+T,kBACd1B,KAAMrS,KAAKgC,MAAMqQ,KACjBX,OAAQ1R,KAAK4W,cAGd5W,KAAKgC,MAAMqQ,MAAQrS,KAAKq5C,0CClYjC,IAAA/yC,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAoEqF,EAAAG,GAEjFH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,2PAA2P,uCCFlRvF,EAAAhB,EAAAgzB,EAAA,sBAAA3kB,IAAA,IAAAgsB,EAAAr5B,EAAA,KAAAs5B,EAAAt5B,EAAA,GAAA+pC,EAAA/pC,EAAA,KA8Be,SAASqN,EAAVxG,GAAiE,IAAzC1E,EAAyC0E,EAAzC1E,UAAWmL,EAA8BzG,EAA9ByG,QAASC,EAAqB1G,EAArB0G,MAAOC,EAAc3G,EAAd2G,MAC/D,OACE8rB,EAAA,qBAAKn3B,UAAWk3B,EAAW,uBAAwBl3B,IACjDm3B,EAAA,wBAAQn3B,UAAU,4BACH+B,IAAZoJ,GAAyBpO,OAAA6qC,EAAA,cAAA7qC,CAAcoO,EAAU,EAAG,OAAS,MAC9DgsB,EAAA,sBAAMn3B,UAAU,yBAAyBjD,OAAA6qC,EAAA,cAAA7qC,CAAcsO,EAAO,SAE/DD,sCCrCPvN,EAAAhB,EAAAgzB,EAAA,sBAAA/lB,IAAA,IAAAimB,EAAAlyB,EAAA,GAAAq4C,EAAAr4C,EAAA,KAAAs4C,EAAAt4C,EAAAq2B,EAAAgiB,GAAA/hB,EAAAt2B,EAAA,GA4Be,SAASiM,EAAWlL,GACjC,OACEmxB,EAAA,sBAAM/vB,UAAWpB,EAAMoB,WACrB+vB,EAAA,cAAComB,EAAAlxC,EAAa,CAACjF,UAAU,sBAAsBkM,MAAOtN,EAAMmK,OAC3DhM,OAAAo3B,EAAA,UAAAp3B,CAAU,aAAc6B,EAAMmK,6BC/BrC,IAAA7F,EAAcrF,EAAQ,KAEtB,iBAAAqF,MAAA,EAA4CC,EAAAC,EAASF,EAAA,MAOrD,IAAAG,EAAA,CAAeC,KAAA,EAEfL,eAPAA,EAQAM,gBAAAxB,GAEalE,EAAQ,IAARA,CAAiDqF,EAAAG,GAE9DH,EAAAM,SAAAL,EAAAzF,QAAAwF,EAAAM,8BCjBAL,EAAAzF,QAA2BG,EAAQ,IAARA,EAAiD,IAE5E4F,KAAA,CAAcN,EAAAC,EAAS,2FAA2F,uCCFlHvF,EAAAhB,EAAAgzB,EAAA,sBAAAlB,IAAA,IAAAoB,EAAAlyB,EAAA,GAAAw0B,EAAAx0B,EAAA,GAAAA,EAAA,KAuBe,SAAS8wB,IACtB,OACEoB,EAAA,qBAAK/vB,UAAU,gBACb+vB,EAAA,wBAAKhzB,OAAAs1B,EAAA,UAAAt1B,CAAU,sBACfgzB,EAAA,mBAAG/vB,UAAU,kBAAkBjD,OAAAs1B,EAAA,UAAAt1B,CAAU,gDC3B/CoG,EAAAzF,QAA2BG,EAAQ,IAARA,EAAoE,IAE/F4F,KAAA,CAAcN,EAAAC,EAAS,wGAAwG,0BCF/H,IAAAgzC,EAAmBv4C,EAAQ,KAC3Bw4C,EAAax4C,EAAQ,KACrB0R,EAAe1R,EAAQ,KA0BvBsF,EAAAzF,QANA,SAAAwoC,GACA,OAAAA,KAAAnlC,OACAq1C,EAAAlQ,EAAA32B,EAAA8mC,QACAt0C,qCCxBA,IACArF,EADAC,EAAAC,WAAAD,YACAD,EAAA,SAAAG,EAAAC,GAIA,OAHAJ,EAAAK,OAAAC,gBACA,CAAcC,UAAA,cAAgBC,OAAA,SAAAL,EAAAC,GAAsCD,EAAAI,UAAAH,IACpE,SAAAD,EAAAC,GAA6B,QAAAK,KAAAL,IAAAM,eAAAD,KAAAN,EAAAM,GAAAL,EAAAK,MAC7BN,EAAAC,IAEA,SAAAD,EAAAC,GAEA,SAAAO,IAAuBT,KAAAU,YAAAT,EADvBH,EAAAG,EAAAC,GAEAD,EAAAU,UAAA,OAAAT,EAAAC,OAAAS,OAAAV,IAAAO,EAAAE,UAAAT,EAAAS,UAAA,IAAAF,KAGAN,OAAAU,eAAAC,EAAA,cAA8CC,OAAA,IAC9C,IAAA24C,EAAez4C,EAAQ,IACvBC,EAAYD,EAAQ,GACpBE,EAAaF,EAAQ,GACrB04C,EAAe14C,EAAQ,KACvB24C,EAAA,SAAAr4C,GAEA,SAAAq4C,EAAA53C,GACA,IAAAR,EAAAD,EAAA60B,KAAAp2B,KAAAgC,IAAAhC,KAwCA,OAvCAwB,EAAAie,SAAA,EACAje,EAAA6N,aAAA,SAAAC,GACA,IAAAuqC,EAAAvqC,EACA9N,EAAAQ,MAAAmQ,SAAA0nC,GAAA1mC,KAAA,SAAA1M,GACAjF,EAAAie,SACAje,EAAAwH,SAAA,SAAAjC,GAAqD,OACrDiI,SAAA,EACAvI,QAAAM,EAAAuI,QAAAuqC,EAAApzC,EAAAM,EAAAN,YAGa,WACbjF,EAAAie,SACAje,EAAAwH,SAAA,CAAoCgG,SAAA,OAIpCxN,EAAAs4C,aAAA,SAAAx3B,GACAhiB,MAAAy5C,QAAAz3B,GACA9gB,EAAAQ,MAAA0hB,eACAliB,EAAAQ,MAAA0hB,cAAApB,GAGA9gB,EAAAQ,MAAAyL,UACAjM,EAAAQ,MAAAyL,SAAA6U,IAGA9gB,EAAAw4C,kBAAA,SAAA1qC,GACA,GAAAA,EAAAnL,QAAA3C,EAAAgiB,mBACAhiB,EAAAwH,SAAA,CAAgCgG,SAAA,EAAAM,UAChC9N,EAAA6N,aAAAC,OAEA,CACA,IAAA7I,EAAA,IAAA6I,EAAAnL,QAAA3C,EAAAQ,MAAA0gB,gBAAA,GACAlhB,EAAAwH,SAAA,CAAgCvC,UAAA6I,YAGhC9N,EAAAy4C,mBAAA,WAAgD,UAChDz4C,EAAAuF,MAAA,CAAuBiI,SAAA,EAAAvI,QAAAzE,EAAA0gB,gBAAA,GAAApT,MAAA,IACvB9N,EAAA6N,aAAAqqC,EAAAQ,SAAA14C,EAAA6N,aAAA,KACA7N,EAmCA,OA7EAzB,EAAA65C,EAAAr4C,GA4CAq4C,EAAAj5C,UAAAw5C,kBAAA,WACAn6C,KAAAyf,SAAA,GAEAm6B,EAAAj5C,UAAAy5C,qBAAA,WACAp6C,KAAAyf,SAAA,GAEAtf,OAAAU,eAAA+4C,EAAAj5C,UAAA,aACA05C,IAAA,WACA,YAAAl1C,IAAAnF,KAAAgC,MAAAs4C,WAAAt6C,KAAAgC,MAAAs4C,WAEAC,YAAA,EACAC,cAAA,IAEAr6C,OAAAU,eAAA+4C,EAAAj5C,UAAA,sBACA05C,IAAA,WACA,YAAAl1C,IAAAnF,KAAAgC,MAAAwhB,mBAAAxjB,KAAAgC,MAAAwhB,mBAAA,GAEA+2B,YAAA,EACAC,cAAA,IAEAr6C,OAAAU,eAAA+4C,EAAAj5C,UAAA,eACA05C,IAAA,WACA,YAAAl1C,IAAAnF,KAAAgC,MAAA4gB,aAAA5iB,KAAAgC,MAAA4gB,aAEA23B,YAAA,EACAC,cAAA,IAEAZ,EAAAj5C,UAAAmC,OAAA,WACA,IAAA23C,EAAAz6C,KAAAgC,MAAAuhB,UAAAo2B,EAAAe,UAAAf,EAAAz2C,QACA,OAAAhC,EAAAkB,cAAAq4C,EAAA,CAAgDja,UAAAxgC,KAAAs6C,UAAAl3C,UAAApD,KAAAgC,MAAAoB,UAAAqf,UAAAziB,KAAAgC,MAAAygB,UAAAk4B,mBAAA,EAAAC,aAAA56C,KAAAi6C,mBAAAY,UAAA76C,KAAA+G,MAAAiI,QAAAyU,MAAAzjB,KAAAgC,MAAAyhB,MAAAq3B,cAAA96C,KAAA+G,MAAAuI,MAAAnL,OAAAnE,KAAAwjB,mBAChDriB,EAAA+1B,wBAAA,mBAAAl3B,KAAAwjB,oBACAriB,EAAA8B,UAAA,qBAAA83C,kBAAA/6C,KAAA4iB,YAAA/S,SAAA7P,KAAA85C,aAAAkB,cAAAh7C,KAAAg6C,kBAAAl3B,eAAA9iB,KAAAgC,MAAA2gB,aAAAlc,QAAAzG,KAAA+G,MAAAN,QAAAg6B,YAAAt/B,EAAA8B,UAAA,eAAA0gB,kBAAA3jB,KAAAgC,MAAA2hB,kBAAAX,YAAA,EAAAjiB,MAAAf,KAAAgC,MAAAjB,MAAAkiB,cAAAjjB,KAAAgC,MAAA2gB,gBAEAi3B,EA9EA,CA+EC14C,EAAAqC,eACDzC,EAAAoC,QAAA02C","file":"js/279.m.fb32ca39.chunk.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar theme_1 = require(\"../theme\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar BackButton = (function (_super) {\n    __extends(BackButton, _super);\n    function BackButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            if (!_this.props.disabled) {\n                _this.props.onClick();\n            }\n        };\n        _this.renderIcon = function () { return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(\"svg\", { height: \"24\", viewBox: \"0 0 21 24\", width: \"21\" },\n            React.createElement(\"path\", { d: \"M3.845 12.9992l5.993 5.993.052.056c.049.061.093.122.129.191.082.159.121.339.111.518-.006.102-.028.203-.064.298-.149.39-.537.652-.954.644-.102-.002-.204-.019-.301-.052-.148-.05-.273-.135-.387-.241l-8.407-8.407 8.407-8.407.056-.052c.061-.048.121-.092.19-.128.116-.06.237-.091.366-.108.076-.004.075-.004.153-.003.155.015.3.052.437.129.088.051.169.115.239.19.246.266.33.656.214.999-.051.149-.135.273-.241.387l-5.983 5.984c5.287-.044 10.577-.206 15.859.013.073.009.091.009.163.027.187.047.359.15.49.292.075.081.136.175.18.276.044.101.072.209.081.319.032.391-.175.775-.521.962-.097.052-.202.089-.311.107-.073.012-.091.01-.165.013H3.845z\", fill: _this.props.disabled ? theme.colors.disableGrayText : theme.colors.secondFontColor }))); })); };\n        return _this;\n    }\n    BackButton.prototype.render = function () {\n        var _a = this.props.tooltip, tooltip = _a === void 0 ? l10n_1.translate('issues.return_to_list') : _a;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip },\n            React.createElement(\"a\", { className: classNames('link-no-underline', { 'cursor-not-allowed': this.props.disabled }, this.props.className), href: \"#\", onClick: this.handleClick }, this.renderIcon())));\n    };\n    return BackButton;\n}(React.PureComponent));\nexports.default = BackButton;\n//# sourceMappingURL=BackButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar d3_array_1 = require(\"d3-array\");\nvar d3_scale_1 = require(\"d3-scale\");\nvar React = require(\"react\");\nvar Tooltip_1 = require(\"../controls/Tooltip\");\nrequire(\"./BarChart.css\");\nvar BarChart = (function (_super) {\n    __extends(BarChart, _super);\n    function BarChart() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (point) {\n            if (_this.props.onBarClick) {\n                _this.props.onBarClick(point);\n            }\n        };\n        _this.renderXTicks = function (xScale, yScale) {\n            var _a = _this.props, data = _a.data, _b = _a.xTicks, xTicks = _b === void 0 ? [] : _b;\n            if (!xTicks.length) {\n                return null;\n            }\n            var ticks = xTicks.map(function (tick, index) {\n                var point = data[index];\n                var x = Math.round(xScale(point.x) + xScale.bandwidth() / 2);\n                var y = yScale.range()[0];\n                var d = data[index];\n                var text = (React.createElement(\"text\", { className: \"bar-chart-tick\", dy: \"1.5em\", key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, x: x, y: y }, tick));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: d.tooltip || undefined }, text));\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderXValues = function (xScale, yScale) {\n            var _a = _this.props, data = _a.data, _b = _a.xValues, xValues = _b === void 0 ? [] : _b;\n            if (!xValues.length) {\n                return null;\n            }\n            var ticks = xValues.map(function (value, index) {\n                var point = data[index];\n                var x = Math.round(xScale(point.x) + xScale.bandwidth() / 2);\n                var y = yScale(point.y);\n                var text = (React.createElement(\"text\", { className: \"bar-chart-tick\", dy: \"-1em\", key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, x: x, y: y }, value));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: point.tooltip || undefined }, text));\n            });\n            return React.createElement(\"g\", null, ticks);\n        };\n        _this.renderBars = function (xScale, yScale) {\n            var bars = _this.props.data.map(function (point, index) {\n                var x = Math.round(xScale(point.x));\n                var maxY = yScale.range()[0];\n                var y = Math.round(yScale(point.y)) - 1;\n                var height = maxY - y;\n                var rect = (React.createElement(\"rect\", { className: \"bar-chart-bar\", height: height, key: index, onClick: function () { return _this.handleClick(point); }, style: { cursor: _this.props.onBarClick ? 'pointer' : 'default' }, width: _this.props.barsWidth, x: x, y: y }));\n                return (React.createElement(Tooltip_1.default, { key: index, overlay: point.tooltip || undefined }, rect));\n            });\n            return React.createElement(\"g\", null, bars);\n        };\n        return _this;\n    }\n    BarChart.prototype.render = function () {\n        var _a = this.props, barsWidth = _a.barsWidth, data = _a.data, width = _a.width, height = _a.height, _b = _a.padding, padding = _b === void 0 ? [10, 10, 10, 10] : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var availableHeight = height - padding[0] - padding[2];\n        var innerPadding = (availableWidth - barsWidth * data.length) / (data.length - 1);\n        var relativeInnerPadding = innerPadding / (innerPadding + barsWidth);\n        var maxY = d3_array_1.max(data, function (d) { return d.y; });\n        var xScale = d3_scale_1.scaleBand()\n            .domain(data.map(function (d) { return d.x; }))\n            .range([0, availableWidth])\n            .paddingInner(relativeInnerPadding);\n        var yScale = d3_scale_1.scaleLinear()\n            .domain([0, maxY])\n            .range([availableHeight, 0]);\n        return (React.createElement(\"svg\", { className: \"bar-chart\", height: height, width: width },\n            React.createElement(\"g\", { transform: \"translate(\" + padding[3] + \", \" + padding[0] + \")\" },\n                this.renderXTicks(xScale, yScale),\n                this.renderXValues(xScale, yScale),\n                this.renderBars(xScale, yScale))));\n    };\n    return BarChart;\n}(React.PureComponent));\nexports.default = BarChart;\n//# sourceMappingURL=BarChart.js.map","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".issues-main-header .component-name{line-height:24px}.issues-main-header-spinner{margin-right:2px}.concise-issues-list-header-inner{width:260px;text-align:center}.concise-issues-list-header .spinner{margin-top:4px;margin-left:1px;margin-right:1px}.concise-issues-list-header-button{border:none}.concise-issues-list-header-button path{fill:#777;transition:fill .3s ease}.concise-issues-list-header-button:hover path{fill:#4b9fd5}.concise-issue-component{margin-top:16px;margin-bottom:4px;padding-left:8px;padding-right:8px}.concise-issue-box{position:relative;z-index:1;margin-bottom:4px;padding:7px;border:2px solid #e6e6e6;background-color:#fff;cursor:pointer;transition:background-color .3s ease,border-color .3s ease}.concise-issue-box:hover{border:2px dashed #4b9fd5}.concise-issue-box:focus{outline:none}.concise-issue-box.selected{z-index:2;border:2px solid #4b9fd5;cursor:default}.concise-issue-box-message{overflow:hidden;text-overflow:ellipsis;font-weight:700}.concise-issue-box-message:focus{outline:none}.concise-issue-box.selected .concise-issue-box-message{cursor:pointer}.concise-issue-box-attributes{margin-top:8px;line-height:16px;font-size:12px;display:flex;align-items:flex-start;flex-wrap:wrap;justify-content:flex-start}.concise-issue-box:not(.selected) .location-index{background-color:#ccc}.concise-issue-locations{display:inline-block;margin-bottom:-4px;margin-left:8px}.concise-issue-box-attributes>.location-index{margin-bottom:4px;margin-right:4px}.concise-issue-box-attributes>.concise-issue-expand{background-color:transparent;border:1px solid #d18582;height:16px;color:#d18582;font-weight:700;font-size:16px;line-height:8px;padding-bottom:6px}.concise-issue-box-attributes>.concise-issue-expand:hover{background-color:#d18582;color:#fff}.concise-issue-locations-navigator-location{position:relative;z-index:3;display:inline-flex;align-items:flex-start;max-width:100%;border:none}.concise-issue-locations-navigator-file{position:relative}.concise-issue-locations-navigator-file+.concise-issue-locations-navigator-file{margin-top:12px}.concise-issue-locations-navigator-file:not(:last-child):before{position:absolute;display:block;width:0;top:13px;bottom:-16px;left:4px;border-left:1px dotted #d18582;content:\\\"\\\"}.concise-issue-location-file{height:16px;padding-bottom:4px;font-size:12px;font-weight:700;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.concise-issue-location-file-circle,.concise-issue-location-file-circle-multiple,.concise-issue-location-file-circle-multiple:after,.concise-issue-location-file-circle-multiple:before{position:relative;top:1px;display:inline-block;width:9px;height:9px;border:1px solid #d18582;border-radius:100%;box-sizing:border-box;background-color:#f2dede}.concise-issue-location-file-circle-multiple{top:-2px}.concise-issue-location-file-circle-multiple:before{position:absolute;z-index:7;top:2px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-circle-multiple:after{position:absolute;z-index:8;top:5px;left:-1px;content:\\\"\\\"}.concise-issue-location-file-locations{padding-left:16px}.concise-issue-location-file-more{border-color:rgba(209,133,130,.2);color:#d18582!important;font-style:italic;font-weight:400}.concise-issue-location-file-more:focus,.concise-issue-location-file-more:hover{border-color:rgba(209,133,130,.6)}.component-source-container{border:1px solid #cdcdcd}.component-source-container+.component-source-container{margin-top:8px}.component-source-container-header{background-color:#efefef;padding:8px}.issues-my-issues-filter{margin-bottom:24px;text-align:center}.issues-page-actions{display:inline-block;min-width:80px;text-align:right}.issues .issue-list{min-width:640px;width:800px}.issues .issue{border:2px solid transparent;cursor:pointer}.issues .issue:focus-within,.issues .issue:hover{border:2px dashed #4b9fd5;transition:all .3s ease;outline:0}.issues .issue a:focus,.issues .issue button:focus{box-shadow:none;outline:1px dotted #4b9fd5}@media (max-width:1320px){.issues .issue-list{width:calc(60vw - 40px)}}.issue-location{display:inline-block;vertical-align:top;line-height:18px;height:18px;box-sizing:border-box;background-color:#f2dede;transition:background-color .3s ease}.issues-workspace-list-component{padding:10px 10px 6px}.issues-workspace-list-item+.issues-workspace-list-item{margin-top:5px}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:10px}.issues-workspace-list-item:first-child .issues-workspace-list-component{padding-top:0}.issues-workspace-list-component+.issues-workspace-list-item{margin-top:0}.issues-predefined-periods{display:flex}.issues-predefined-periods .search-navigator-facet{width:auto;margin-right:4px}.bulk-change-radio-button{margin:0 -4px;padding:0 4px}.bulk-change-radio-button:hover{background-color:#f3f3f3}.navigation-keyboard-shortcuts>span{background-color:hsla(0,0%,78.4%,.5);border-radius:16px;display:inline-block;font-size:12px;height:16px;padding:4px 8px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { State } from './components/App';\nimport { allLocationsEmpty } from './utils';\n\nexport function enableLocationsNavigator(state: State) {\n  const { openIssue, selectedLocationIndex } = state;\n  if (openIssue && (openIssue.secondaryLocations.length > 0 || openIssue.flows.length > 0)) {\n    const selectedFlowIndex =\n      state.selectedFlowIndex || (openIssue.flows.length > 0 ? 0 : undefined);\n\n    if (!allLocationsEmpty(openIssue, selectedFlowIndex)) {\n      return {\n        locationsNavigator: true,\n        selectedFlowIndex,\n        // Also reset index = -1 to 0, we don't want to start on the issue when enabling the location navigator\n        selectedLocationIndex:\n          !selectedLocationIndex || selectedLocationIndex < 0 ? 0 : selectedLocationIndex\n      };\n    }\n  }\n  return null;\n}\n\nexport function disableLocationsNavigator() {\n  return { locationsNavigator: false };\n}\n\nexport function selectLocation(nextIndex: number) {\n  return (state: Pick<State, 'selectedLocationIndex' | 'openIssue'>) => {\n    const { selectedLocationIndex: index, openIssue } = state;\n    if (openIssue) {\n      if (index === nextIndex) {\n        // disable locations when selecting (clicking) the same location\n        return {\n          locationsNavigator: false,\n          selectedLocationIndex: undefined\n        };\n      } else {\n        return { locationsNavigator: true, selectedLocationIndex: nextIndex };\n      }\n    }\n    return null;\n  };\n}\n\nexport function selectNextLocation(\n  state: Pick<State, 'selectedFlowIndex' | 'selectedLocationIndex' | 'openIssue'>\n) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    const locations =\n      selectedFlowIndex !== undefined\n        ? openIssue.flows[selectedFlowIndex]\n        : openIssue.secondaryLocations;\n    const lastLocationIdx = locations.length - 1;\n    if (index === lastLocationIdx) {\n      // -1 to jump back to the issue itself\n      return { selectedLocationIndex: -1 };\n    }\n    return {\n      selectedLocationIndex: index !== undefined && index < lastLocationIdx ? index + 1 : index\n    };\n  }\n  return null;\n}\n\nexport function selectPreviousLocation(state: State) {\n  const { selectedFlowIndex, selectedLocationIndex: index, openIssue } = state;\n  if (openIssue) {\n    if (index === -1) {\n      const locations =\n        selectedFlowIndex !== undefined\n          ? openIssue.flows[selectedFlowIndex]\n          : openIssue.secondaryLocations;\n      const lastLocationIdx = locations.length - 1;\n      return { selectedLocationIndex: lastLocationIdx };\n    }\n    return { selectedLocationIndex: index !== undefined && index > 0 ? index - 1 : index };\n  }\n  return null;\n}\n\nexport function selectFlow(nextIndex?: number) {\n  return () => {\n    return { locationsNavigator: true, selectedFlowIndex: nextIndex, selectedLocationIndex: 0 };\n  };\n}\n\nexport function selectNextFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (\n    openIssue &&\n    selectedFlowIndex !== undefined &&\n    openIssue.flows.length > selectedFlowIndex + 1\n  ) {\n    return { selectedFlowIndex: selectedFlowIndex + 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n\nexport function selectPreviousFlow(state: State) {\n  const { openIssue, selectedFlowIndex } = state;\n  if (openIssue && selectedFlowIndex !== undefined && selectedFlowIndex > 0) {\n    return { selectedFlowIndex: selectedFlowIndex - 1, selectedLocationIndex: 0 };\n  }\n  return null;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'> | undefined;\n}\n\nexport default function LocationNavigationKeyboardShortcuts({ issue }: Props) {\n  if (!issue || (!issue.secondaryLocations.length && !issue.flows.length)) {\n    return null;\n  }\n  const hasSeveralFlows = issue.flows.length > 1;\n  return (\n    <div className=\"navigation-keyboard-shortcuts big-spacer-top text-center\">\n      <span>\n        alt + ↑ ↓ {hasSeveralFlows && <>←→</>}\n        {translate('issues.to_navigate_issue_locations')}\n      </span>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport LocationIndex from '../../../components/common/LocationIndex';\n\ninterface Props {\n  count: number;\n  onClick?: () => void;\n  selected: boolean;\n}\n\nexport default function ConciseIssueLocationBadge(props: Props) {\n  return (\n    <Tooltip\n      mouseEnterDelay={0.5}\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(props.count, 'INT')\n      )}>\n      <LocationIndex onClick={props.onClick} selected={props.selected}>\n        {'+'}\n        {props.count}\n      </LocationIndex>\n    </Tooltip>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConciseIssueLocationBadge from './ConciseIssueLocationBadge';\n\ninterface Props {\n  issue: Pick<T.Issue, 'flows' | 'secondaryLocations'>;\n  onFlowSelect: (index: number) => void;\n  selectedFlowIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\nconst LIMIT = 8;\n\nexport default class ConciseIssueLocations extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  handleExpandClick = () => {\n    this.setState({ collapsed: false });\n  };\n\n  renderExpandButton() {\n    return (\n      <Button\n        className=\"concise-issue-expand location-index link-no-underline\"\n        onClick={this.handleExpandClick}>\n        ...\n      </Button>\n    );\n  }\n\n  render() {\n    const { secondaryLocations, flows } = this.props.issue;\n\n    const badges: JSX.Element[] = [];\n\n    if (secondaryLocations.length > 0) {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={secondaryLocations.length}\n          key=\"-1\"\n          selected={!this.props.selectedFlowIndex}\n        />\n      );\n    }\n\n    flows.forEach((flow, index) => {\n      badges.push(\n        <ConciseIssueLocationBadge\n          count={flow.length}\n          key={index}\n          onClick={() => this.props.onFlowSelect(index)}\n          selected={index === this.props.selectedFlowIndex}\n        />\n      );\n    });\n\n    if (!this.state.collapsed || badges.length <= LIMIT) {\n      return badges;\n    }\n\n    return (\n      <>\n        {badges.slice(0, LIMIT - 1)}\n        {this.renderExpandButton()}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport LocationIndex from '../../../components/common/LocationIndex';\nimport LocationMessage from '../../../components/common/LocationMessage';\n\ninterface Props {\n  index: number;\n  isTaintAnalysis: boolean;\n  message: string | undefined;\n  onClick: (index: number) => void;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  totalCount: number;\n}\n\nexport default class ConciseIssueLocationsNavigatorLocation extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected && this.node) {\n      this.props.scroll(this.node);\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.index);\n  };\n\n  prefixMessage(index: number, message = '', totalCount: number) {\n    switch (index) {\n      case 0:\n        return 'source: ' + message;\n      case totalCount - 1:\n        return 'sink: ' + message;\n      default:\n        return message;\n    }\n  }\n\n  render() {\n    const { index, isTaintAnalysis, message, selected, totalCount } = this.props;\n\n    return (\n      <div className=\"little-spacer-top\" ref={node => (this.node = node)}>\n        <a\n          className=\"concise-issue-locations-navigator-location\"\n          href=\"#\"\n          onClick={this.handleClick}>\n          <LocationIndex selected={selected}>{index + 1}</LocationIndex>\n          <LocationMessage selected={selected}>\n            {isTaintAnalysis ? this.prefixMessage(index, message, totalCount) : message}\n          </LocationMessage>\n        </a>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\n\ninterface Props {\n  isTaintAnalysis: boolean;\n  issue: Pick<T.Issue, 'key' | 'type'>;\n  locations: T.FlowLocation[];\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedLocationIndex: number | undefined;\n}\n\ninterface State {\n  collapsed: boolean;\n}\n\ninterface LocationGroup {\n  component: string | undefined;\n  componentName: string | undefined;\n  firstLocationIndex: number;\n  locations: T.FlowLocation[];\n}\n\nexport default class CrossFileLocationsNavigator extends React.PureComponent<Props, State> {\n  state: State = { collapsed: true };\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.issue.key !== this.props.issue.key) {\n      this.setState({ collapsed: true });\n    }\n\n    // expand locations list as soon as a location in the middle of the list is selected\n    const { locations: nextLocations } = nextProps;\n    if (\n      nextProps.selectedLocationIndex &&\n      nextProps.selectedLocationIndex > 0 &&\n      nextLocations !== undefined &&\n      nextProps.selectedLocationIndex < nextLocations.length - 1\n    ) {\n      this.setState({ collapsed: false });\n    }\n  }\n\n  handleMoreLocationsClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ collapsed: false });\n  };\n\n  groupByFile = (locations: T.FlowLocation[]) => {\n    const groups: LocationGroup[] = [];\n\n    let currentLocations: T.FlowLocation[] = [];\n    let currentComponent: string | undefined;\n    let currentComponentName: string | undefined;\n    let currentFirstLocationIndex = 0;\n\n    for (let index = 0; index < locations.length; index++) {\n      const location = locations[index];\n      if (location.component === currentComponent) {\n        currentLocations.push(location);\n      } else {\n        if (currentLocations.length > 0) {\n          groups.push({\n            component: currentComponent,\n            componentName: currentComponentName,\n            firstLocationIndex: currentFirstLocationIndex,\n            locations: currentLocations\n          });\n        }\n        currentLocations = [location];\n        currentComponent = location.component;\n        currentComponentName = location.componentName;\n        currentFirstLocationIndex = index;\n      }\n    }\n\n    if (currentLocations.length > 0) {\n      groups.push({\n        component: currentComponent,\n        componentName: currentComponentName,\n        firstLocationIndex: currentFirstLocationIndex,\n        locations: currentLocations\n      });\n    }\n\n    return groups;\n  };\n\n  renderLocation = (index: number, message: string | undefined) => {\n    return (\n      <ConciseIssueLocationsNavigatorLocation\n        index={index}\n        isTaintAnalysis={this.props.isTaintAnalysis}\n        key={index}\n        message={message}\n        onClick={this.props.onLocationSelect}\n        scroll={this.props.scroll}\n        selected={index === this.props.selectedLocationIndex}\n        totalCount={this.props.locations.length}\n      />\n    );\n  };\n\n  renderGroup = (\n    group: LocationGroup,\n    groupIndex: number,\n    { onlyFirst = false, onlyLast = false } = {}\n  ) => {\n    const { firstLocationIndex } = group;\n    const lastLocationIndex = group.locations.length - 1;\n    return (\n      <div className=\"concise-issue-locations-navigator-file\" key={groupIndex}>\n        <div className=\"concise-issue-location-file\">\n          <i className=\"concise-issue-location-file-circle little-spacer-right\" />\n          {collapsePath(group.componentName || '', 15)}\n        </div>\n        {group.locations.length > 0 && (\n          <div className=\"concise-issue-location-file-locations\">\n            {onlyFirst && this.renderLocation(firstLocationIndex, group.locations[0].msg)}\n\n            {onlyLast &&\n              this.renderLocation(\n                firstLocationIndex + lastLocationIndex,\n                group.locations[lastLocationIndex].msg\n              )}\n\n            {!onlyFirst &&\n              !onlyLast &&\n              group.locations.map((location, index) =>\n                this.renderLocation(firstLocationIndex + index, location.msg)\n              )}\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  render() {\n    const { locations } = this.props;\n    const groups = this.groupByFile(locations);\n\n    if (locations.length > 2 && groups.length > 1 && this.state.collapsed) {\n      const firstGroup = groups[0];\n      const lastGroup = groups[groups.length - 1];\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {this.renderGroup(firstGroup, 0, { onlyFirst: true })}\n          <div className=\"concise-issue-locations-navigator-file\">\n            <div className=\"concise-issue-location-file\">\n              <i className=\"concise-issue-location-file-circle-multiple little-spacer-right\" />\n              <a\n                className=\"concise-issue-location-file-more\"\n                href=\"#\"\n                onClick={this.handleMoreLocationsClick}>\n                {translateWithParameters('issues.x_more_locations', locations.length - 2)}\n              </a>\n            </div>\n          </div>\n          {this.renderGroup(lastGroup, groups.length - 1, { onlyLast: true })}\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {groups.map((group, groupIndex) => this.renderGroup(group, groupIndex))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport { getLocations } from '../utils';\nimport ConciseIssueLocationsNavigatorLocation from './ConciseIssueLocationsNavigatorLocation';\nimport CrossFileLocationsNavigator from './CrossFileLocationsNavigator';\n\ninterface Props {\n  issue: Pick<T.Issue, 'component' | 'key' | 'flows' | 'secondaryLocations' | 'type'>;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element) => void;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueLocationsNavigator extends React.PureComponent<Props> {\n  render() {\n    const locations = getLocations(this.props.issue, this.props.selectedFlowIndex);\n\n    if (!locations || locations.length === 0 || locations.every(location => !location.msg)) {\n      return null;\n    }\n\n    const isTaintAnalysis =\n      this.props.issue.type === 'VULNERABILITY' && this.props.issue.flows.length > 0;\n\n    const locationComponents = [\n      this.props.issue.component,\n      ...locations.map(location => location.component)\n    ];\n    const isCrossFile = uniq(locationComponents).length > 1;\n\n    if (isCrossFile) {\n      return (\n        <CrossFileLocationsNavigator\n          isTaintAnalysis={isTaintAnalysis}\n          issue={this.props.issue}\n          locations={locations}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selectedLocationIndex={this.props.selectedLocationIndex}\n        />\n      );\n    } else {\n      return (\n        <div className=\"concise-issue-locations-navigator spacer-top\">\n          {locations.map((location, index) => (\n            <ConciseIssueLocationsNavigatorLocation\n              index={index}\n              isTaintAnalysis={isTaintAnalysis}\n              key={index}\n              message={location.msg}\n              onClick={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selected={index === this.props.selectedLocationIndex}\n              totalCount={locations.length}\n            />\n          ))}\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport LocationNavigationKeyboardShortcuts from '../components/LocationNavigationKeyboardShortcuts';\nimport ConciseIssueLocations from './ConciseIssueLocations';\nimport ConciseIssueLocationsNavigator from './ConciseIssueLocationsNavigator';\n\ninterface Props {\n  issue: T.Issue;\n  onClick: (issueKey: string) => void;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  scroll: (element: Element, bottomOffset?: number) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssueBox extends React.PureComponent<Props> {\n  messageElement?: HTMLElement | null;\n  rootElement?: HTMLElement | null;\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selected && prevProps.selected !== this.props.selected) {\n      this.handleScroll();\n    }\n  }\n\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.issue.key);\n  };\n\n  handleScroll = () => {\n    const { selectedFlowIndex } = this.props;\n    const { flows, secondaryLocations } = this.props.issue;\n\n    const locations = flows.length > 0 ? flows[selectedFlowIndex || 0] : secondaryLocations;\n\n    if (!locations || locations.length < 15) {\n      // if there are no locations, or there are just few\n      // then ensuse that the whole box is visible\n      if (this.rootElement) {\n        this.props.scroll(this.rootElement);\n      }\n    } else if (this.messageElement) {\n      // otherwise scroll until the the message element is located on top\n      this.props.scroll(this.messageElement, window.innerHeight - 250);\n    }\n  };\n\n  render() {\n    const { issue, selected } = this.props;\n\n    const clickAttributesMain = selected\n      ? {}\n      : { onClick: this.handleClick, role: 'listitem', tabIndex: 0 };\n\n    const clickAttributesTitle = selected\n      ? { onClick: this.handleClick, role: 'listitem', tabIndex: 0 }\n      : {};\n\n    return (\n      <div\n        className={classNames('concise-issue-box', 'clearfix', { selected })}\n        ref={node => (this.rootElement = node)}\n        {...clickAttributesMain}>\n        <div\n          className=\"concise-issue-box-message\"\n          {...clickAttributesTitle}\n          ref={node => (this.messageElement = node)}>\n          {issue.message}\n        </div>\n        <div className=\"concise-issue-box-attributes\">\n          <TypeHelper className=\"display-block little-spacer-right\" type={issue.type} />\n          <ConciseIssueLocations\n            issue={issue}\n            onFlowSelect={this.props.onFlowSelect}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n          />\n        </div>\n        {selected && (\n          <>\n            <ConciseIssueLocationsNavigator\n              issue={issue}\n              onLocationSelect={this.props.onLocationSelect}\n              scroll={this.props.scroll}\n              selectedFlowIndex={this.props.selectedFlowIndex}\n              selectedLocationIndex={this.props.selectedLocationIndex}\n            />\n            <LocationNavigationKeyboardShortcuts issue={issue} />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\n\ninterface Props {\n  path: string;\n}\n\nexport default function ConciseIssueComponent(props: Props) {\n  return (\n    <div className=\"concise-issue-component note text-ellipsis\">{collapsePath(props.path, 20)}</div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ConciseIssueBox from './ConciseIssueBox';\nimport ConciseIssueComponent from './ConciseIssueComponent';\n\ninterface Props {\n  issue: T.Issue;\n  onFlowSelect: (index: number) => void;\n  onLocationSelect: (index: number) => void;\n  onSelect: (issueKey: string) => void;\n  previousIssue: T.Issue | undefined;\n  scroll: (element: Element) => void;\n  selected: boolean;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssue extends React.PureComponent<Props> {\n  render() {\n    const { issue, previousIssue, selected } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div>\n        {displayComponent && <ConciseIssueComponent path={issue.componentLongName} />}\n        <ConciseIssueBox\n          issue={issue}\n          onClick={this.props.onSelect}\n          onFlowSelect={this.props.onFlowSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          scroll={this.props.scroll}\n          selected={selected}\n          selectedFlowIndex={selected ? this.props.selectedFlowIndex : undefined}\n          selectedLocationIndex={selected ? this.props.selectedLocationIndex : undefined}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport ConciseIssue from './ConciseIssue';\n\ninterface Props {\n  issues: T.Issue[];\n  onFlowSelect: (index: number) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  selected: string | undefined;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class ConciseIssuesList extends React.PureComponent<Props> {\n  handleScroll = (element: Element, bottomOffset = 100) => {\n    const scrollableElement = document.querySelector('.layout-page-side');\n    if (element && scrollableElement) {\n      scrollToElement(element, { topOffset: 150, bottomOffset, parent: scrollableElement });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        {this.props.issues.map((issue, index) => (\n          <ConciseIssue\n            issue={issue}\n            key={issue.key}\n            onFlowSelect={this.props.onFlowSelect}\n            onLocationSelect={this.props.onLocationSelect}\n            onSelect={this.props.onIssueSelect}\n            previousIssue={index > 0 ? this.props.issues[index - 1] : undefined}\n            scroll={this.handleScroll}\n            selected={issue.key === this.props.selected}\n            selectedFlowIndex={this.props.selectedFlowIndex}\n            selectedLocationIndex={this.props.selectedLocationIndex}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PageCounter from '../../../components/common/PageCounter';\n\ninterface Props {\n  className?: string;\n  current: number | undefined;\n  total: number;\n}\n\nexport default function IssuesCounter(props: Props) {\n  return (\n    <PageCounter\n      className=\"spacer-left\"\n      current={props.current}\n      label={translate('issues.issues')}\n      total={props.total}\n    />\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BackButton from 'sonar-ui-common/components/controls/BackButton';\nimport ReloadButton from 'sonar-ui-common/components/controls/ReloadButton';\nimport IssuesCounter from '../components/IssuesCounter';\n\ninterface Props {\n  displayBackButton?: boolean;\n  loading: boolean;\n  onBackClick: () => void;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default function ConciseIssuesListHeader(props: Props) {\n  const { displayBackButton = true, paging, selectedIndex } = props;\n\n  return (\n    <header className=\"layout-page-header-panel concise-issues-list-header\">\n      <div className=\"layout-page-header-panel-inner concise-issues-list-header-inner\">\n        {displayBackButton && (\n          <BackButton className=\"pull-left\" disabled={props.loading} onClick={props.onBackClick} />\n        )}\n        {props.loading ? (\n          <i className=\"spinner pull-right\" />\n        ) : (\n          <ReloadButton className=\"pull-right\" onClick={props.onReload} />\n        )}\n        {paging && <IssuesCounter current={selectedIndex} total={paging.total} />}\n      </div>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport Avatar from '../../../components/ui/Avatar';\nimport { isUserActive } from '../../../helpers/users';\nimport { Facet, Query, searchAssignees } from '../utils';\n\ninterface Props {\n  assigned: boolean;\n  assignees: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  referencedUsers: T.Dict<T.UserBase>;\n}\n\nexport default class AssigneeFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page?: number) => {\n    return searchAssignees(query, this.props.organization, page);\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { assignees } = this.props;\n    if (itemValue === '') {\n      // unassigned\n      this.props.onChange({ assigned: !this.props.assigned, assignees: [] });\n    } else if (multiple) {\n      const newValue = sortBy(\n        assignees.includes(itemValue) ? without(assignees, itemValue) : [...assignees, itemValue]\n      );\n      this.props.onChange({ assigned: true, assignees: newValue });\n    } else {\n      this.props.onChange({\n        assigned: true,\n        assignees: assignees.includes(itemValue) && assignees.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleClear = () => {\n    this.props.onChange({ assigned: true, assignees: [] });\n  };\n\n  getAssigneeName = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    } else {\n      const user = this.props.referencedUsers[assignee];\n      if (!user) {\n        return assignee;\n      }\n      return isUserActive(user) ? user.name : translateWithParameters('user.x_deleted', user.login);\n    }\n  };\n\n  loadSearchResultCount = (assignees: T.UserBase[]) => {\n    return this.props.loadSearchResultCount('assignees', {\n      assigned: undefined,\n      assignees: assignees.map(assignee => assignee.login)\n    });\n  };\n\n  getSortedItems = () => {\n    const { stats = {} } = this.props;\n    return sortBy(\n      Object.keys(stats),\n      // put \"not assigned\" first\n      key => (key === '' ? 0 : 1),\n      // the sort by number\n      key => -stats[key]\n    );\n  };\n\n  renderFacetItem = (assignee: string) => {\n    if (assignee === '') {\n      return translate('unassigned');\n    }\n\n    const user = this.props.referencedUsers[assignee];\n\n    if (!user) {\n      return assignee;\n    }\n\n    const userName = user.name || user.login;\n\n    return (\n      <>\n        <Avatar className=\"little-spacer-right\" hash={user.avatar} name={userName} size={16} />\n        {isUserActive(user) ? userName : translateWithParameters('user.x_deleted', userName)}\n      </>\n    );\n  };\n\n  renderSearchResult = (result: T.UserBase, query: string) => {\n    const displayName = isUserActive(result)\n      ? result.name\n      : translateWithParameters('user.x_deleted', result.login);\n    return (\n      <>\n        <Avatar\n          className=\"little-spacer-right\"\n          hash={result.avatar}\n          name={result.name || result.login}\n          size={16}\n        />\n        {highlightTerm(displayName, query)}\n      </>\n    );\n  };\n\n  render() {\n    const values = [...this.props.assignees];\n    if (!this.props.assigned) {\n      values.push('');\n    }\n\n    return (\n      <ListStyleFacet<T.UserBase>\n        facetHeader={translate('issues.facet.assignees')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getAssigneeName}\n        getSearchResultKey={user => user.login}\n        getSearchResultText={user => user.name || user.login}\n        // put \"not assigned\" item first\n        getSortedItems={this.getSortedItems}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onClear={this.handleClear}\n        onItemClick={this.handleItemClick}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"assignees\"\n        query={omit(this.props.query, 'assigned', 'assignees')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_users')}\n        stats={this.props.stats}\n        values={values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { searchIssueAuthors } from '../../../api/issues';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  authors: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class AuthorFacet extends React.PureComponent<Props> {\n  identity = (author: string) => {\n    return author;\n  };\n\n  handleSearch = (query: string, _page: number) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueAuthors({\n      organization: this.props.organization,\n      project,\n      ps: SEARCH_SIZE, // maximum\n      q: query\n    }).then(authors => ({ maxResults: authors.length === SEARCH_SIZE, results: authors }));\n  };\n\n  loadSearchResultCount = (authors: string[]) => {\n    return this.props.loadSearchResultCount('authors', { authors });\n  };\n\n  renderSearchResult = (author: string, term: string) => {\n    return highlightTerm(author, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.authors')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.identity}\n        getSearchResultKey={this.identity}\n        getSearchResultText={this.identity}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"authors\"\n        query={omit(this.props.query, 'authors')}\n        renderFacetItem={this.identity}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_authors')}\n        stats={this.props.stats}\n        values={this.props.authors}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as isSameDay from 'date-fns/is_same_day';\nimport { max } from 'lodash';\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport BarChart from 'sonar-ui-common/components/charts/BarChart';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport DateRangeInput from '../../../components/controls/DateRangeInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport { Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  createdAfter: Date | undefined;\n  createdAt: string;\n  createdBefore: Date | undefined;\n  createdInLast: string;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  sinceLeakPeriod: boolean;\n  stats: T.Dict<number> | undefined;\n}\n\nclass CreationDateFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  property = 'createdAt';\n\n  static defaultProps = {\n    open: true\n  };\n\n  hasValue = () =>\n    this.props.createdAfter !== undefined ||\n    this.props.createdAt.length > 0 ||\n    this.props.createdBefore !== undefined ||\n    this.props.createdInLast.length > 0 ||\n    this.props.sinceLeakPeriod;\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.resetTo({});\n  };\n\n  resetTo = (changes: Partial<Query>) => {\n    this.props.onChange({\n      createdAfter: undefined,\n      createdAt: undefined,\n      createdBefore: undefined,\n      createdInLast: undefined,\n      sinceLeakPeriod: undefined,\n      ...changes\n    });\n  };\n\n  handleBarClick = ({\n    createdAfter,\n    createdBefore\n  }: {\n    createdAfter: Date;\n    createdBefore?: Date;\n  }) => {\n    this.resetTo({ createdAfter, createdBefore });\n  };\n\n  handlePeriodChange = ({ from, to }: { from?: Date; to?: Date }) => {\n    this.resetTo({ createdAfter: from, createdBefore: to });\n  };\n\n  handlePeriodClick = (period: string) => this.resetTo({ createdInLast: period });\n\n  handleLeakPeriodClick = () => this.resetTo({ sinceLeakPeriod: true });\n\n  getValues() {\n    const { createdAfter, createdAt, createdBefore, createdInLast, sinceLeakPeriod } = this.props;\n    const { formatDate } = this.props.intl;\n    const values = [];\n    if (createdAfter) {\n      values.push(formatDate(createdAfter, longFormatterOption));\n    }\n    if (createdAt) {\n      values.push(formatDate(createdAt, longFormatterOption));\n    }\n    if (createdBefore) {\n      values.push(formatDate(createdBefore, longFormatterOption));\n    }\n    if (createdInLast === '1w') {\n      values.push(translate('issues.facet.createdAt.last_week'));\n    }\n    if (createdInLast === '1m') {\n      values.push(translate('issues.facet.createdAt.last_month'));\n    }\n    if (createdInLast === '1y') {\n      values.push(translate('issues.facet.createdAt.last_year'));\n    }\n    if (sinceLeakPeriod) {\n      values.push(translate('issues.new_code'));\n    }\n    return values;\n  }\n\n  renderBarChart() {\n    const { createdBefore, stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const periods = Object.keys(stats);\n\n    if (periods.length < 2 || periods.every(period => !stats[period])) {\n      return null;\n    }\n\n    const { formatDate } = this.props.intl;\n    const data = periods.map((start, index) => {\n      const startDate = parseDate(start);\n      let endDate;\n      if (index < periods.length - 1) {\n        endDate = parseDate(periods[index + 1]);\n        endDate.setDate(endDate.getDate() - 1);\n      } else {\n        endDate = createdBefore ? parseDate(createdBefore) : undefined;\n      }\n\n      const tooltipEndDate = endDate || new Date();\n      const tooltip = (\n        <React.Fragment>\n          {formatMeasure(stats[start], 'SHORT_INT')}\n          <br />\n          {formatDate(startDate, longFormatterOption)}\n          {!isSameDay(tooltipEndDate, startDate) &&\n            ` - ${formatDate(tooltipEndDate, longFormatterOption)}`}\n        </React.Fragment>\n      );\n\n      return {\n        createdAfter: startDate,\n        createdBefore: endDate,\n        tooltip,\n        x: index,\n        y: stats[start]\n      };\n    });\n\n    const barsWidth = Math.floor(250 / data.length);\n    const width = barsWidth * data.length - 1 + 10;\n\n    const maxValue = max(data.map(d => d.y));\n    const xValues = data.map(d => (d.y === maxValue ? formatMeasure(maxValue, 'SHORT_INT') : ''));\n\n    return (\n      <BarChart\n        barsWidth={barsWidth - 1}\n        data={data}\n        height={75}\n        onBarClick={this.handleBarClick}\n        padding={[25, 0, 5, 10]}\n        width={width}\n        xValues={xValues}\n      />\n    );\n  }\n\n  renderExactDate() {\n    return (\n      <div className=\"search-navigator-facet-container\">\n        <DateTimeFormatter date={this.props.createdAt} />\n        <br />\n        <span className=\"note\">\n          <DateFromNow date={this.props.createdAt} />\n        </span>\n      </div>\n    );\n  }\n\n  renderPeriodSelectors() {\n    const { createdAfter, createdBefore } = this.props;\n    return (\n      <div className=\"search-navigator-date-facet-selection\">\n        <DateRangeInput\n          onChange={this.handlePeriodChange}\n          value={{ from: createdAfter, to: createdBefore }}\n        />\n      </div>\n    );\n  }\n\n  renderPredefinedPeriods() {\n    const { component, createdInLast, sinceLeakPeriod } = this.props;\n    return (\n      <div className=\"spacer-top issues-predefined-periods\">\n        <FacetItem\n          active={!this.hasValue()}\n          name={translate('issues.facet.createdAt.all')}\n          onClick={this.handlePeriodClick}\n          tooltip={translate('issues.facet.createdAt.all')}\n          value=\"\"\n        />\n        {component ? (\n          <FacetItem\n            active={sinceLeakPeriod}\n            name={translate('issues.new_code')}\n            onClick={this.handleLeakPeriodClick}\n            tooltip={translate('issues.new_code_period')}\n            value=\"\"\n          />\n        ) : (\n          <>\n            <FacetItem\n              active={createdInLast === '1w'}\n              name={translate('issues.facet.createdAt.last_week')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_week')}\n              value=\"1w\"\n            />\n            <FacetItem\n              active={createdInLast === '1m'}\n              name={translate('issues.facet.createdAt.last_month')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_month')}\n              value=\"1m\"\n            />\n            <FacetItem\n              active={createdInLast === '1y'}\n              name={translate('issues.facet.createdAt.last_year')}\n              onClick={this.handlePeriodClick}\n              tooltip={translate('issues.facet.createdAt.last_year')}\n              value=\"1y\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n\n  renderInner() {\n    const { createdAt } = this.props;\n    return createdAt ? (\n      this.renderExactDate()\n    ) : (\n      <div>\n        {this.renderBarChart()}\n        {this.renderPeriodSelectors()}\n        {this.renderPredefinedPeriods()}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderInner()}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(CreationDateFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getDirectories, TreeComponentWithPath } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query } from '../utils';\n\ninterface Props {\n  componentKey: string;\n  directories: string[];\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  stats: Facet | undefined;\n}\n\nexport default class DirectoryFacet extends React.PureComponent<Props> {\n  getFacetItemText = (path: string) => {\n    return collapsePath(path, 15);\n  };\n\n  getSearchResultKey = (directory: TreeComponentWithPath) => {\n    return directory.path;\n  };\n\n  getSearchResultText = (directory: TreeComponentWithPath) => {\n    return directory.name;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    return getDirectories({\n      component: this.props.componentKey,\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(dir => dir.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (directories: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('directories', {\n      directories: directories.map(directory => directory.path)\n    });\n  };\n\n  renderDirectory = (directory: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"DIR\" />\n      {directory}\n    </>\n  );\n\n  renderFacetItem = (path: string) => {\n    return this.renderDirectory(collapsePath(path, 15));\n  };\n\n  renderSearchResult = (directory: TreeComponentWithPath, term: string) => {\n    return this.renderDirectory(highlightTerm(collapsePath(directory.path, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.directories')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"directories\"\n        query={omit(this.props.query, 'directories')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_directories')}\n        stats={this.props.stats}\n        values={this.props.directories}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsePath } from 'sonar-ui-common/helpers/path';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { isDefined } from 'sonar-ui-common/helpers/types';\nimport { getFiles, TreeComponentWithPath } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query, ReferencedComponent } from '../utils';\n\ninterface Props {\n  componentKey: string;\n  fetching: boolean;\n  fileUuids: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedComponents: T.Dict<ReferencedComponent>;\n  stats: Facet | undefined;\n}\n\nexport default class FileFacet extends React.PureComponent<Props> {\n  getFilePath = (fileUuid: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[fileUuid]\n      ? collapsePath(referencedComponents[fileUuid].path || '', 15)\n      : fileUuid;\n  };\n\n  getReferencedComponent = (key: string) => {\n    const { referencedComponents } = this.props;\n    const fileUuid = Object.keys(referencedComponents).find(uuid => {\n      return referencedComponents[uuid].key === key;\n    });\n    return fileUuid ? referencedComponents[fileUuid] : undefined;\n  };\n\n  getFacetItemText = (fileUuid: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[fileUuid] ? referencedComponents[fileUuid].path || '' : fileUuid;\n  };\n\n  getSearchResultKey = (file: TreeComponentWithPath) => {\n    const component = this.getReferencedComponent(file.key);\n    return component ? component.uuid : file.key;\n  };\n\n  getSearchResultText = (file: TreeComponentWithPath) => {\n    return file.path;\n  };\n\n  handleSearch = (query: string, page: number) => {\n    return getFiles({\n      component: this.props.componentKey,\n      q: query,\n      p: page,\n      ps: 30\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.filter(file => file.path !== undefined)\n    }));\n  };\n\n  loadSearchResultCount = (files: TreeComponentWithPath[]) => {\n    return this.props.loadSearchResultCount('files', {\n      files: files\n        .map(file => {\n          const component = this.getReferencedComponent(file.key);\n          return component && component.uuid;\n        })\n        .filter(isDefined)\n    });\n  };\n\n  renderFile = (file: React.ReactNode) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"FIL\" />\n      {file}\n    </>\n  );\n\n  renderFacetItem = (fileUuid: string) => {\n    const name = this.getFilePath(fileUuid);\n    return this.renderFile(name);\n  };\n\n  renderSearchResult = (file: TreeComponentWithPath, term: string) => {\n    return this.renderFile(highlightTerm(collapsePath(file.path, 15), term));\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<TreeComponentWithPath>\n        facetHeader={translate('issues.facet.files')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getFacetItemText}\n        getSearchResultKey={this.getSearchResultKey}\n        getSearchResultText={this.getSearchResultText}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={3}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"files\"\n        query={omit(this.props.query, 'files')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_files')}\n        stats={this.props.stats}\n        values={this.props.fileUuids}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport { Facet, Query, ReferencedLanguage } from '../utils';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props {\n  fetching: boolean;\n  installedLanguages: InstalledLanguage[];\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  query: Query;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  stats: T.Dict<number> | undefined;\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (language: string) => {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  loadSearchResultCount = (languages: InstalledLanguage[]) => {\n    return this.props.loadSearchResultCount('languages', {\n      languages: languages.map(language => language.key)\n    });\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        facetHeader={translate('issues.facet.languages')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        query={omit(this.props.query, 'languages')}\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.languages}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getTree, searchProjects } from '../../../api/components';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport Organization from '../../../components/shared/Organization';\nimport { Facet, Query, ReferencedComponent } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: { key: string } | undefined;\n  projects: string[];\n  query: Query;\n  referencedComponents: T.Dict<ReferencedComponent>;\n  stats: T.Dict<number> | undefined;\n}\n\ninterface SearchedProject {\n  key: string;\n  name: string;\n  organization: string;\n}\n\nexport default class ProjectFacet extends React.PureComponent<Props> {\n  handleSearch = (\n    query: string,\n    page = 1\n  ): Promise<{ results: SearchedProject[]; paging: T.Paging }> => {\n    const { component, organization } = this.props;\n    if (component && ['VW', 'SVW', 'APP'].includes(component.qualifier)) {\n      return getTree({\n        component: component.key,\n        p: page,\n        ps: 30,\n        q: query,\n        qualifiers: 'TRK'\n      }).then(({ components, paging }) => ({\n        paging,\n        results: components.map(component => ({\n          key: component.refKey || component.key,\n          name: component.name,\n          organization: component.organization\n        }))\n      }));\n    }\n\n    return searchProjects({\n      p: page,\n      ps: 30,\n      filter: query ? `query = \"${query}\"` : '',\n      organization: organization && organization.key\n    }).then(({ components, paging }) => ({\n      paging,\n      results: components.map(component => ({\n        key: component.key,\n        name: component.name,\n        organization: component.organization\n      }))\n    }));\n  };\n\n  getProjectName = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? referencedComponents[project].name : project;\n  };\n\n  loadSearchResultCount = (projects: SearchedProject[]) => {\n    return this.props.loadSearchResultCount('projects', {\n      projects: projects.map(project => project.key)\n    });\n  };\n\n  renderFacetItem = (project: string) => {\n    const { referencedComponents } = this.props;\n    return referencedComponents[project] ? (\n      this.renderProject(referencedComponents[project])\n    ) : (\n      <span>\n        <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n        {project}\n      </span>\n    );\n  };\n\n  renderProject = (project: Pick<SearchedProject, 'name' | 'organization'>) => (\n    <span>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n      {!this.props.organization && (\n        <Organization link={false} organizationKey={project.organization} />\n      )}\n      {project.name}\n    </span>\n  );\n\n  renderSearchResult = (project: Pick<SearchedProject, 'name' | 'organization'>, term: string) => (\n    <>\n      <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n      {!this.props.organization && (\n        <Organization link={false} organizationKey={project.organization} />\n      )}\n      {highlightTerm(project.name, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<SearchedProject>\n        facetHeader={translate('issues.facet.projects')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getProjectName}\n        getSearchResultKey={project => project.key}\n        getSearchResultText={project => project.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"projects\"\n        query={omit(this.props.query, 'projects')}\n        renderFacetItem={this.renderFacetItem}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_projects')}\n        stats={this.props.stats}\n        values={this.props.projects}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  resolved: boolean;\n  resolutions: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst RESOLUTIONS = ['', 'FALSE-POSITIVE', 'FIXED', 'REMOVED', 'WONTFIX'];\n\nexport default class ResolutionFacet extends React.PureComponent<Props> {\n  property = 'resolutions';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { resolutions } = this.props;\n    if (itemValue === '') {\n      // unresolved\n      this.props.onChange({ resolved: !this.props.resolved, resolutions: [] });\n    } else if (multiple) {\n      const newValue = orderBy(\n        resolutions.includes(itemValue)\n          ? without(resolutions, itemValue)\n          : [...resolutions, itemValue]\n      );\n      this.props.onChange({ resolved: true, [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        resolved: true,\n        [this.property]:\n          resolutions.includes(itemValue) && resolutions.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ resolved: false, resolutions: [] });\n  };\n\n  isFacetItemActive(resolution: string) {\n    return resolution === '' ? !this.props.resolved : this.props.resolutions.includes(resolution);\n  }\n\n  getFacetItemName(resolution: string) {\n    return resolution === '' ? translate('unresolved') : translate('issue.resolution', resolution);\n  }\n\n  getStat(resolution: string) {\n    const { stats } = this.props;\n    return stats ? stats[resolution] : undefined;\n  }\n\n  renderItem = (resolution: string) => {\n    const active = this.isFacetItemActive(resolution);\n    const stat = this.getStat(resolution);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={resolution}\n        name={this.getFacetItemName(resolution)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.getFacetItemName(resolution)}\n        value={resolution}\n      />\n    );\n  };\n\n  render() {\n    const { resolutions, stats = {} } = this.props;\n    const values = resolutions.map(resolution => this.getFacetItemName(resolution));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{RESOLUTIONS.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint\n              options={Object.keys(stats).length}\n              values={resolutions.length}\n            />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchRules } from '../../../api/rules';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query, ReferencedRule } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  languages: string[];\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  referencedRules: T.Dict<ReferencedRule>;\n  rules: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nexport default class RuleFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string, page = 1) => {\n    const { languages, organization } = this.props;\n    return searchRules({\n      f: 'name,langName',\n      languages: languages.length ? languages.join() : undefined,\n      organization,\n      q: query,\n      p: page,\n      ps: 30,\n      s: 'name',\n      include_external: true\n    }).then(response => ({\n      paging: { pageIndex: response.p, pageSize: response.ps, total: response.total },\n      results: response.rules\n    }));\n  };\n\n  loadSearchResultCount = (rules: T.Rule[]) => {\n    return this.props.loadSearchResultCount('rules', { rules: rules.map(rule => rule.key) });\n  };\n\n  getRuleName = (ruleKey: string) => {\n    const rule = this.props.referencedRules[ruleKey];\n    return rule ? this.formatRuleName(rule.name, rule.langName) : ruleKey;\n  };\n\n  formatRuleName = (name: string, langName: string | undefined) => {\n    // external rules don't have a language associated\n    // see https://jira.sonarsource.com/browse/MMF-1407\n    return langName ? `(${langName}) ${name}` : name;\n  };\n\n  renderSearchResult = (rule: T.Rule) => {\n    return this.formatRuleName(rule.name, rule.langName);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<T.Rule>\n        facetHeader={translate('issues.facet.rules')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getRuleName}\n        getSearchResultKey={rule => rule.key}\n        getSearchResultText={rule => rule.name}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"rules\"\n        query={omit(this.props.query, 'rules')}\n        renderFacetItem={this.getRuleName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_rules')}\n        stats={this.props.stats}\n        values={this.props.rules}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  severities: string[];\n  stats: T.Dict<number> | undefined;\n}\n\nconst SEVERITIES = ['BLOCKER', 'MINOR', 'CRITICAL', 'INFO', 'MAJOR'];\n\nexport default class SeverityFacet extends React.PureComponent<Props> {\n  property = 'severities';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { severities } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        severities.includes(itemValue) ? without(severities, itemValue) : [...severities, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: severities.includes(itemValue) && severities.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(severity: string) {\n    const { stats } = this.props;\n    return stats ? stats[severity] : undefined;\n  }\n\n  renderItem = (severity: string) => {\n    const active = this.props.severities.includes(severity);\n    const stat = this.getStat(severity);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={severity}\n        name={<SeverityHelper severity={severity} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('severity', severity)}\n        value={severity}\n      />\n    );\n  };\n\n  render() {\n    const { severities, stats = {} } = this.props;\n    const values = severities.map(severity => translate('severity', severity));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>{SEVERITIES.map(this.renderItem)}</FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={severities.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport StatusHelper from '../../../components/shared/StatusHelper';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  statuses: string[];\n}\n\nconst STATUSES = ['OPEN', 'CONFIRMED', 'REOPENED', 'RESOLVED', 'CLOSED'];\n\nexport default class StatusFacet extends React.PureComponent<Props> {\n  property = 'statuses';\n\n  static defaultProps = { open: true };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { statuses } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        statuses.includes(itemValue) ? without(statuses, itemValue) : [...statuses, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: statuses.includes(itemValue) && statuses.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(status: string) {\n    const { stats } = this.props;\n    return stats ? stats[status] : undefined;\n  }\n\n  renderItem = (status: string) => {\n    const active = this.props.statuses.includes(status);\n    const stat = this.getStat(status);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={true}\n        key={status}\n        name={<StatusHelper resolution={undefined} status={status} />}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={translate('issue.status', status)}\n        value={status}\n      />\n    );\n  };\n\n  render() {\n    const { statuses, stats = {} } = this.props;\n    const values = statuses.map(status => translate('issue.status', status));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList title={translate('issues')}>\n              {STATUSES.map(this.renderItem)}\n            </FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={statuses.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit } from 'lodash';\nimport * as React from 'react';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { searchIssueTags } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { Facet, Query } from '../utils';\n\ninterface Props {\n  component: T.Component | undefined;\n  fetching: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  organization: string | undefined;\n  query: Query;\n  stats: T.Dict<number> | undefined;\n  tags: string[];\n}\n\nconst SEARCH_SIZE = 100;\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    const { component } = this.props;\n    const project =\n      component && ['TRK', 'VW', 'APP'].includes(component.qualifier) ? component.key : undefined;\n    return searchIssueTags({\n      organization: this.props.organization,\n      project,\n      ps: SEARCH_SIZE,\n      q: query\n    }).then(tags => ({ maxResults: tags.length === SEARCH_SIZE, results: tags }));\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  loadSearchResultCount = (tags: string[]) => {\n    return this.props.loadSearchResultCount('tags', { tags });\n  };\n\n  renderTag = (tag: string) => {\n    return (\n      <>\n        <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n        {tag}\n      </>\n    );\n  };\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('issues.facet.tags')}\n        fetching={this.props.fetching}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        loadSearchResultCount={this.loadSearchResultCount}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        query={omit(this.props.query, 'tags')}\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.tags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { orderBy, without } from 'lodash';\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport { ISSUE_TYPES } from '../../../helpers/constants';\nimport { formatFacetStat, Query } from '../utils';\n\ninterface Props {\n  fetching: boolean;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  stats: T.Dict<number> | undefined;\n  types: string[];\n}\n\nexport default class TypeFacet extends React.PureComponent<Props> {\n  property = 'types';\n\n  static defaultProps = {\n    open: true\n  };\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { types } = this.props;\n    if (multiple) {\n      const newValue = orderBy(\n        types.includes(itemValue) ? without(types, itemValue) : [...types, itemValue]\n      );\n      this.props.onChange({ [this.property]: newValue });\n    } else {\n      this.props.onChange({\n        [this.property]: types.includes(itemValue) && types.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleClear = () => {\n    this.props.onChange({ [this.property]: [] });\n  };\n\n  getStat(type: string) {\n    const { stats } = this.props;\n    return stats ? stats[type] : undefined;\n  }\n\n  isFacetItemActive(type: string) {\n    return this.props.types.includes(type);\n  }\n\n  renderItem = (type: string) => {\n    const active = this.isFacetItemActive(type);\n    const stat = this.getStat(type);\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        key={type}\n        name={\n          <span className=\"display-flex-center\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />{' '}\n            {translate('issue.type', type)}\n          </span>\n        }\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        value={type}\n      />\n    );\n  };\n\n  render() {\n    const { types, stats = {} } = this.props;\n    const values = types.map(type => translate('issue.type', type));\n\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={values}\n        />\n\n        {this.props.open && (\n          <>\n            <FacetItemsList>\n              {ISSUE_TYPES.filter(t => t !== 'SECURITY_HOTSPOT').map(this.renderItem)}\n            </FacetItemsList>\n            <MultipleSelectionHint options={Object.keys(stats).length} values={types.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Facet, Query, ReferencedComponent, ReferencedLanguage, ReferencedRule } from '../utils';\nimport AssigneeFacet from './AssigneeFacet';\nimport AuthorFacet from './AuthorFacet';\nimport CreationDateFacet from './CreationDateFacet';\nimport DirectoryFacet from './DirectoryFacet';\nimport FileFacet from './FileFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProjectFacet from './ProjectFacet';\nimport ResolutionFacet from './ResolutionFacet';\nimport RuleFacet from './RuleFacet';\nimport SeverityFacet from './SeverityFacet';\nimport StandardFacet from './StandardFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TypeFacet from './TypeFacet';\n\nexport interface Props {\n  component: T.Component | undefined;\n  facets: T.Dict<Facet | undefined>;\n  hideAuthorFacet?: boolean;\n  loadSearchResultCount: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  loadingFacets: T.Dict<boolean>;\n  myIssues: boolean;\n  onFacetToggle: (property: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: T.Dict<boolean>;\n  organization: { key: string } | undefined;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n}\n\nexport default class Sidebar extends React.PureComponent<Props> {\n  renderComponentFacets() {\n    const { component, facets, loadingFacets, openFacets, query } = this.props;\n    if (!component) {\n      return null;\n    }\n    const commonProps = {\n      componentKey: component.key,\n      loadSearchResultCount: this.props.loadSearchResultCount,\n      onChange: this.props.onFilterChange,\n      onToggle: this.props.onFacetToggle,\n      query\n    };\n    return (\n      <>\n        {component.qualifier !== 'DIR' && (\n          <DirectoryFacet\n            directories={query.directories}\n            fetching={loadingFacets.directories === true}\n            open={!!openFacets.directories}\n            stats={facets.directories}\n            {...commonProps}\n          />\n        )}\n        <FileFacet\n          fetching={loadingFacets.files === true}\n          fileUuids={query.files}\n          open={!!openFacets.files}\n          referencedComponents={this.props.referencedComponentsById}\n          stats={facets.files}\n          {...commonProps}\n        />\n      </>\n    );\n  }\n\n  render() {\n    const { component, facets, hideAuthorFacet, openFacets, query } = this.props;\n\n    const displayProjectsFacet =\n      !component || !['TRK', 'BRC', 'DIR', 'DEV_PRJ'].includes(component.qualifier);\n    const displayAuthorFacet = !hideAuthorFacet && (!component || component.qualifier !== 'DEV');\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    return (\n      <>\n        <TypeFacet\n          fetching={this.props.loadingFacets.types === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.types}\n          stats={facets.types}\n          types={query.types}\n        />\n        <SeverityFacet\n          fetching={this.props.loadingFacets.severities === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.severities}\n          severities={query.severities}\n          stats={facets.severities}\n        />\n        <ResolutionFacet\n          fetching={this.props.loadingFacets.resolutions === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.resolutions}\n          resolutions={query.resolutions}\n          resolved={query.resolved}\n          stats={facets.resolutions}\n        />\n        <StatusFacet\n          fetching={this.props.loadingFacets.statuses === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.statuses}\n          stats={facets.statuses}\n          statuses={query.statuses}\n        />\n        <StandardFacet\n          cwe={query.cwe}\n          cweOpen={!!openFacets.cwe}\n          cweStats={facets.cwe}\n          fetchingCwe={this.props.loadingFacets.cwe === true}\n          fetchingOwaspTop10={this.props.loadingFacets.owaspTop10 === true}\n          fetchingSansTop25={this.props.loadingFacets.sansTop25 === true}\n          fetchingSonarSourceSecurity={this.props.loadingFacets.sonarsourceSecurity === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.standards}\n          owaspTop10={query.owaspTop10}\n          owaspTop10Open={!!openFacets.owaspTop10}\n          owaspTop10Stats={facets.owaspTop10}\n          query={query}\n          sansTop25={query.sansTop25}\n          sansTop25Open={!!openFacets.sansTop25}\n          sansTop25Stats={facets.sansTop25}\n          sonarsourceSecurity={query.sonarsourceSecurity}\n          sonarsourceSecurityOpen={!!openFacets.sonarsourceSecurity}\n          sonarsourceSecurityStats={facets.sonarsourceSecurity}\n        />\n        <CreationDateFacet\n          component={component}\n          createdAfter={query.createdAfter}\n          createdAt={query.createdAt}\n          createdBefore={query.createdBefore}\n          createdInLast={query.createdInLast}\n          fetching={this.props.loadingFacets.createdAt === true}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.createdAt}\n          sinceLeakPeriod={query.sinceLeakPeriod}\n          stats={facets.createdAt}\n        />\n        <LanguageFacet\n          fetching={this.props.loadingFacets.languages === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.languages}\n          query={query}\n          referencedLanguages={this.props.referencedLanguages}\n          stats={facets.languages}\n        />\n        <RuleFacet\n          fetching={this.props.loadingFacets.rules === true}\n          languages={query.languages}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.rules}\n          organization={organizationKey}\n          query={query}\n          referencedRules={this.props.referencedRules}\n          rules={query.rules}\n          stats={facets.rules}\n        />\n        <TagFacet\n          component={component}\n          fetching={this.props.loadingFacets.tags === true}\n          loadSearchResultCount={this.props.loadSearchResultCount}\n          onChange={this.props.onFilterChange}\n          onToggle={this.props.onFacetToggle}\n          open={!!openFacets.tags}\n          organization={organizationKey}\n          query={query}\n          stats={facets.tags}\n          tags={query.tags}\n        />\n        {displayProjectsFacet && (\n          <ProjectFacet\n            component={component}\n            fetching={this.props.loadingFacets.projects === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.projects}\n            organization={this.props.organization}\n            projects={query.projects}\n            query={query}\n            referencedComponents={this.props.referencedComponentsByKey}\n            stats={facets.projects}\n          />\n        )}\n        {this.renderComponentFacets()}\n        {!this.props.myIssues && (\n          <AssigneeFacet\n            assigned={query.assigned}\n            assignees={query.assignees}\n            fetching={this.props.loadingFacets.assignees === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.assignees}\n            organization={organizationKey}\n            query={query}\n            referencedUsers={this.props.referencedUsers}\n            stats={facets.assignees}\n          />\n        )}\n        {displayAuthorFacet && (\n          <AuthorFacet\n            authors={query.authors}\n            component={component}\n            fetching={this.props.loadingFacets.authors === true}\n            loadSearchResultCount={this.props.loadSearchResultCount}\n            onChange={this.props.onFilterChange}\n            onToggle={this.props.onFacetToggle}\n            open={!!openFacets.authors}\n            organization={organizationKey}\n            query={query}\n            stats={facets.authors}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { pickBy, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Radio from 'sonar-ui-common/components/controls/Radio';\nimport SearchSelect from 'sonar-ui-common/components/controls/SearchSelect';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { bulkChangeIssues, searchIssueTags } from '../../../api/issues';\nimport throwGlobalError from '../../../app/utils/throwGlobalError';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Avatar from '../../../components/ui/Avatar';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport { searchAssignees } from '../utils';\n\ninterface AssigneeOption {\n  avatar?: string;\n  email?: string;\n  label: string;\n  value: string;\n}\n\ninterface TagOption {\n  label: string;\n  value: string;\n}\n\ninterface Props {\n  component: T.Component | undefined;\n  currentUser: T.CurrentUser;\n  fetchIssues: (x: {}) => Promise<{ issues: T.Issue[]; paging: T.Paging }>;\n  onClose: () => void;\n  onDone: () => void;\n  organization: { key: string } | undefined;\n}\n\ninterface FormFields {\n  addTags?: Array<{ label: string; value: string }>;\n  assignee?: AssigneeOption;\n  comment?: string;\n  notifications?: boolean;\n  organization?: string;\n  removeTags?: Array<{ label: string; value: string }>;\n  severity?: string;\n  transition?: string;\n  type?: string;\n}\n\ninterface State extends FormFields {\n  initialTags: Array<{ label: string; value: string }>;\n  issues: T.Issue[];\n  // used for initial loading of issues\n  loading: boolean;\n  paging?: T.Paging;\n  // used when submitting a form\n  submitting: boolean;\n}\n\ntype AssigneeSelectType = new () => SearchSelect<AssigneeOption>;\nconst AssigneeSelect = SearchSelect as AssigneeSelectType;\n\ntype TagSelectType = new () => SearchSelect<TagOption>;\nconst TagSelect = SearchSelect as TagSelectType;\n\nexport const MAX_PAGE_SIZE = 500;\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    let organization = props.component && props.component.organization;\n    if (props.organization && !organization) {\n      organization = props.organization.key;\n    }\n    this.state = { initialTags: [], issues: [], loading: true, submitting: false, organization };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    Promise.all([\n      this.loadIssues(),\n      searchIssueTags({ organization: this.state.organization })\n    ]).then(\n      ([{ issues, paging }, tags]) => {\n        if (this.mounted) {\n          if (issues.length > MAX_PAGE_SIZE) {\n            issues = issues.slice(0, MAX_PAGE_SIZE);\n          }\n\n          this.setState({\n            initialTags: tags.map(tag => ({ label: tag, value: tag })),\n            issues,\n            loading: false,\n            paging\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadIssues = () => {\n    return this.props.fetchIssues({ additionalFields: 'actions,transitions', ps: MAX_PAGE_SIZE });\n  };\n\n  getDefaultAssignee = () => {\n    const { currentUser } = this.props;\n    const { issues } = this.state;\n    const options = [];\n\n    if (isLoggedIn(currentUser)) {\n      const canBeAssignedToMe =\n        issues.filter(issue => issue.assignee !== currentUser.login).length > 0;\n      if (canBeAssignedToMe) {\n        options.push({\n          avatar: currentUser.avatar,\n          label: currentUser.name,\n          value: currentUser.login\n        });\n      }\n    }\n\n    const canBeUnassigned = issues.filter(issue => issue.assignee).length > 0;\n    if (canBeUnassigned) {\n      options.push({ label: translate('unassigned'), value: '' });\n    }\n\n    return options;\n  };\n\n  handleAssigneeSearch = (query: string) => {\n    return searchAssignees(query, this.state.organization).then(({ results }) =>\n      results.map(r => {\n        const userInfo = r.name || r.login;\n\n        return {\n          avatar: r.avatar,\n          label: isUserActive(r) ? userInfo : translateWithParameters('user.x_deleted', userInfo),\n          value: r.login\n        };\n      })\n    );\n  };\n\n  handleAssigneeSelect = (assignee: AssigneeOption) => {\n    this.setState({ assignee });\n  };\n\n  handleTagsSearch = (query: string) => {\n    return searchIssueTags({ organization: this.state.organization, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleTagsSelect = (field: 'addTags' | 'removeTags') => (\n    options: Array<{ label: string; value: string }>\n  ) => {\n    this.setState<keyof FormFields>({ [field]: options });\n  };\n\n  handleFieldCheck = (field: keyof FormFields) => (checked: boolean) => {\n    if (!checked) {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    } else if (field === 'notifications') {\n      this.setState<keyof FormFields>({ [field]: true });\n    }\n  };\n\n  handleRadioTransitionChange = (transition: string) => {\n    this.setState({ transition });\n  };\n\n  handleCommentChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) => {\n    this.setState({ comment: event.currentTarget.value });\n  };\n\n  handleSelectFieldChange = (field: 'severity' | 'type') => (data: { value: string } | null) => {\n    if (data) {\n      this.setState<keyof FormFields>({ [field]: data.value });\n    } else {\n      this.setState<keyof FormFields>({ [field]: undefined });\n    }\n  };\n\n  handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    const query = pickBy(\n      {\n        add_tags: this.state.addTags && this.state.addTags.map(t => t.value).join(),\n        assign: this.state.assignee ? this.state.assignee.value : null,\n        comment: this.state.comment,\n        do_transition: this.state.transition,\n        remove_tags: this.state.removeTags && this.state.removeTags.map(t => t.value).join(),\n        sendNotifications: this.state.notifications,\n        set_severity: this.state.severity,\n        set_type: this.state.type\n      },\n      x => x !== undefined\n    );\n\n    const issueKeys = this.state.issues.map(issue => issue.key);\n\n    this.setState({ submitting: true });\n    bulkChangeIssues(issueKeys, query).then(\n      () => {\n        this.setState({ submitting: false });\n        this.props.onDone();\n      },\n      error => {\n        this.setState({ submitting: false });\n        throwGlobalError(error);\n      }\n    );\n  };\n\n  getAvailableTransitions(issues: T.Issue[]) {\n    const transitions: T.Dict<number> = {};\n    issues.forEach(issue => {\n      if (issue.transitions) {\n        issue.transitions.forEach(t => {\n          if (transitions[t] !== undefined) {\n            transitions[t]++;\n          } else {\n            transitions[t] = 1;\n          }\n        });\n      }\n    });\n    return sortBy(Object.keys(transitions)).map(transition => ({\n      transition,\n      count: transitions[transition]\n    }));\n  }\n\n  renderLoading = () => (\n    <div>\n      <div className=\"modal-head\">\n        <h2>{translate('bulk_change')}</h2>\n      </div>\n      <div className=\"modal-body\">\n        <div className=\"text-center\">\n          <i className=\"spinner spacer\" />\n        </div>\n      </div>\n      <div className=\"modal-foot\">\n        <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n      </div>\n    </div>\n  );\n\n  renderAffected = (affected: number) => (\n    <div className=\"pull-right note\">\n      ({translateWithParameters('issue_bulk_change.x_issues', affected)})\n    </div>\n  );\n\n  renderField = (\n    field: 'addTags' | 'assignee' | 'removeTags' | 'severity' | 'type',\n    label: string,\n    affected: number | undefined,\n    input: React.ReactNode\n  ) => (\n    <div className=\"modal-field\" id={`issues-bulk-change-${field}`}>\n      <label htmlFor={field}>{translate(label)}</label>\n      {input}\n      {affected !== undefined && this.renderAffected(affected)}\n    </div>\n  );\n\n  renderAssigneeOption = (option: AssigneeOption) => {\n    return (\n      <span>\n        {option.avatar !== undefined && (\n          <Avatar className=\"spacer-right\" hash={option.avatar} name={option.label} size={16} />\n        )}\n        {option.label}\n      </span>\n    );\n  };\n\n  renderAssigneeField = () => {\n    const affected = this.state.issues.filter(hasAction('assign')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <AssigneeSelect\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.getDefaultAssignee()}\n        onSearch={this.handleAssigneeSearch}\n        onSelect={this.handleAssigneeSelect}\n        renderOption={this.renderAssigneeOption}\n        resetOnBlur={false}\n        value={this.state.assignee}\n      />\n    );\n\n    return this.renderField('assignee', 'issue.assign.formlink', affected, input);\n  };\n\n  renderTypeField = () => {\n    const affected = this.state.issues.filter(hasAction('set_type')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const types: T.IssueType[] = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n    const options = types.map(type => ({ label: translate('issue.type', type), value: type }));\n\n    const optionRenderer = (option: { label: string; value: string }) => (\n      <>\n        <IssueTypeIcon query={option.value} />\n        <span className=\"little-spacer-left\">{option.label}</span>\n      </>\n    );\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('type')}\n        optionRenderer={optionRenderer}\n        options={options}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={optionRenderer}\n      />\n    );\n\n    return this.renderField('type', 'issue.set_type', affected, input);\n  };\n\n  renderSeverityField = () => {\n    const affected = this.state.issues.filter(hasAction('set_severity')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    const severities = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    const options = severities.map(severity => ({\n      label: translate('severity', severity),\n      value: severity\n    }));\n\n    const input = (\n      <Select\n        className=\"input-super-large\"\n        clearable={true}\n        onChange={this.handleSelectFieldChange('severity')}\n        optionRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n        options={options}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={(option: { value: string }) => <SeverityHelper severity={option.value} />}\n      />\n    );\n\n    return this.renderField('severity', 'issue.set_severity', affected, input);\n  };\n\n  renderTagOption = (option: TagOption) => {\n    return <span>{option.label}</span>;\n  };\n\n  renderTagsField = (field: 'addTags' | 'removeTags', label: string, allowCreate: boolean) => {\n    const { initialTags } = this.state;\n    const affected = this.state.issues.filter(hasAction('set_tags')).length;\n\n    if (initialTags === undefined || affected === 0) {\n      return null;\n    }\n\n    const input = (\n      <TagSelect\n        canCreate={allowCreate}\n        className=\"input-super-large\"\n        clearable={true}\n        defaultOptions={this.state.initialTags}\n        minimumQueryLength={0}\n        multi={true}\n        onMultiSelect={this.handleTagsSelect(field)}\n        onSearch={this.handleTagsSearch}\n        promptTextCreator={promptCreateTag}\n        renderOption={this.renderTagOption}\n        resetOnBlur={false}\n        value={this.state[field]}\n      />\n    );\n\n    return this.renderField(field, label, affected, input);\n  };\n\n  renderTransitionsField = () => {\n    const transitions = this.getAvailableTransitions(this.state.issues);\n\n    if (transitions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label>{translate('issue.transition')}</label>\n        {transitions.map(transition => (\n          <span\n            className=\"bulk-change-radio-button display-flex-center display-flex-space-between\"\n            key={transition.transition}>\n            <Radio\n              checked={this.state.transition === transition.transition}\n              onCheck={this.handleRadioTransitionChange}\n              value={transition.transition}>\n              {translate('issue.transition', transition.transition)}\n            </Radio>\n            {this.renderAffected(transition.count)}\n          </span>\n        ))}\n      </div>\n    );\n  };\n\n  renderCommentField = () => {\n    const affected = this.state.issues.filter(hasAction('comment')).length;\n\n    if (affected === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"modal-field\">\n        <label htmlFor=\"comment\">\n          <span className=\"text-middle\">{translate('issue.comment.formlink')}</span>\n          <HelpTooltip\n            className=\"spacer-left\"\n            overlay={translate('issue_bulk_change.comment.help')}\n          />\n        </label>\n        <textarea\n          id=\"comment\"\n          onChange={this.handleCommentChange}\n          rows={4}\n          value={this.state.comment || ''}\n        />\n        <MarkdownTips className=\"modal-field-descriptor text-right\" />\n      </div>\n    );\n  };\n\n  renderNotificationsField = () => (\n    <Checkbox\n      checked={this.state.notifications !== undefined}\n      className=\"display-inline-block spacer-top\"\n      id=\"send-notifications\"\n      onCheck={this.handleFieldCheck('notifications')}\n      right={true}>\n      <strong className=\"little-spacer-right\">{translate('issue.send_notifications')}</strong>\n    </Checkbox>\n  );\n\n  renderForm = () => {\n    const { issues, paging, submitting } = this.state;\n\n    const limitReached = paging && paging.total > MAX_PAGE_SIZE;\n\n    return (\n      <form id=\"bulk-change-form\" onSubmit={this.handleSubmit}>\n        <div className=\"modal-head\">\n          <h2>{translateWithParameters('issue_bulk_change.form.title', issues.length)}</h2>\n        </div>\n\n        <div className=\"modal-body modal-container\">\n          {limitReached && (\n            <Alert variant=\"warning\">\n              <FormattedMessage\n                defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                id=\"issue_bulk_change.max_issues_reached\"\n                values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n              />\n            </Alert>\n          )}\n\n          {this.renderAssigneeField()}\n          {this.renderTypeField()}\n          {this.renderSeverityField()}\n          {this.renderTagsField('addTags', 'issue.add_tags', true)}\n          {this.renderTagsField('removeTags', 'issue.remove_tags', false)}\n          {this.renderTransitionsField()}\n          {this.renderCommentField()}\n          {issues.length > 0 && this.renderNotificationsField()}\n          {issues.length === 0 && (\n            <Alert variant=\"warning\">{translate('issue_bulk_change.no_match')}</Alert>\n          )}\n        </div>\n\n        <div className=\"modal-foot\">\n          {submitting && <i className=\"spinner spacer-right\" />}\n          <SubmitButton disabled={submitting || issues.length === 0} id=\"bulk-change-submit\">\n            {translate('apply')}\n          </SubmitButton>\n          <ResetButtonLink onClick={this.props.onClose}>{translate('cancel')}</ResetButtonLink>\n        </div>\n      </form>\n    );\n  };\n\n  render() {\n    return (\n      <Modal contentLabel=\"modal\" onRequestClose={this.props.onClose} size=\"small\">\n        {this.state.loading ? this.renderLoading() : this.renderForm()}\n      </Modal>\n    );\n  }\n}\n\nfunction hasAction(action: string) {\n  return (issue: T.Issue) => issue.actions && issue.actions.includes(action);\n}\n\nfunction promptCreateTag(label: string) {\n  return `+ ${label}`;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { collapsePath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport Organization from '../../../components/shared/Organization';\nimport { getSelectedLocation } from '../utils';\n\ninterface Props {\n  component?: T.Component;\n  issue: Pick<\n    T.Issue,\n    | 'component'\n    | 'componentLongName'\n    | 'flows'\n    | 'organization'\n    | 'project'\n    | 'projectName'\n    | 'secondaryLocations'\n    | 'subProject'\n    | 'subProjectName'\n  >;\n  link?: boolean;\n  organization: { key: string } | undefined;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nexport default function ComponentBreadcrumbs({\n  component,\n  issue,\n  organization,\n  selectedFlowIndex,\n  selectedLocationIndex\n}: Props) {\n  const displayOrganization =\n    !organization && (!component || ['VW', 'SVW'].includes(component.qualifier));\n  const displayProject = !component || !['TRK', 'BRC', 'DIR'].includes(component.qualifier);\n  const displaySubProject = !component || !['BRC', 'DIR'].includes(component.qualifier);\n\n  const selectedLocation = getSelectedLocation(issue, selectedFlowIndex, selectedLocationIndex);\n  const componentName = selectedLocation ? selectedLocation.componentName : issue.componentLongName;\n\n  return (\n    <div className=\"component-name text-ellipsis\">\n      {displayOrganization && <Organization link={false} organizationKey={issue.organization} />}\n\n      {displayProject && (\n        <span title={issue.projectName}>\n          {limitComponentName(issue.projectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {displaySubProject && issue.subProject !== undefined && issue.subProjectName !== undefined && (\n        <span title={issue.subProjectName}>\n          {limitComponentName(issue.subProjectName)}\n          <span className=\"slash-separator\" />\n        </span>\n      )}\n\n      {collapsePath(componentName || '')}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Issue from '../../../components/issue/Issue';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query } from '../utils';\nimport ComponentBreadcrumbs from './ComponentBreadcrumbs';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: boolean;\n  component: T.Component | undefined;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck: ((issueKey: string) => void) | undefined;\n  onClick: (issueKey: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: string | undefined;\n  organization: { key: string } | undefined;\n  previousIssue: T.Issue | undefined;\n  selected: boolean;\n}\n\ninterface State {\n  similarIssues: boolean;\n}\n\nexport default class ListItem extends React.PureComponent<Props, State> {\n  state: State = { similarIssues: false };\n\n  handleFilter = (property: string, issue: T.Issue) => {\n    const { onFilterChange } = this.props;\n\n    const issuesReset = { issues: [] };\n\n    if (property.startsWith('tag###')) {\n      const tag = property.substr(6);\n      onFilterChange({ ...issuesReset, tags: [tag] });\n    } else {\n      switch (property) {\n        case 'type':\n          onFilterChange({ ...issuesReset, types: [issue.type] });\n          break;\n        case 'severity':\n          onFilterChange({ ...issuesReset, severities: [issue.severity] });\n          break;\n        case 'status':\n          onFilterChange({ ...issuesReset, statuses: [issue.status] });\n          break;\n        case 'resolution':\n          if (issue.resolution) {\n            onFilterChange({ ...issuesReset, resolved: true, resolutions: [issue.resolution] });\n          } else {\n            onFilterChange({ ...issuesReset, resolved: false, resolutions: [] });\n          }\n          break;\n        case 'assignee':\n          if (issue.assignee) {\n            onFilterChange({ ...issuesReset, assigned: true, assignees: [issue.assignee] });\n          } else {\n            onFilterChange({ ...issuesReset, assigned: false, assignees: [] });\n          }\n          break;\n        case 'rule':\n          onFilterChange({ ...issuesReset, rules: [issue.rule] });\n          break;\n        case 'project':\n          onFilterChange({ ...issuesReset, projects: [issue.projectKey] });\n          break;\n        case 'module':\n          if (issue.subProjectUuid) {\n            onFilterChange({ ...issuesReset, modules: [issue.subProjectUuid] });\n          }\n          break;\n        case 'file':\n          onFilterChange({ ...issuesReset, files: [issue.componentUuid] });\n      }\n    }\n  };\n\n  render() {\n    const { branchLike, component, issue, previousIssue } = this.props;\n\n    const displayComponent = !previousIssue || previousIssue.component !== issue.component;\n\n    return (\n      <div className=\"issues-workspace-list-item\">\n        {displayComponent && (\n          <div className=\"issues-workspace-list-component note\">\n            <ComponentBreadcrumbs\n              component={component}\n              issue={this.props.issue}\n              organization={this.props.organization}\n            />\n          </div>\n        )}\n        <Issue\n          branchLike={branchLike}\n          checked={this.props.checked}\n          issue={issue}\n          onChange={this.props.onChange}\n          onCheck={this.props.onCheck}\n          onClick={this.props.onClick}\n          onFilter={this.handleFilter}\n          onPopupToggle={this.props.onPopupToggle}\n          openPopup={this.props.openPopup}\n          selected={this.props.selected}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport { Query, scrollToIssue } from '../utils';\nimport ListItem from './ListItem';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  checked: string[];\n  component: T.Component | undefined;\n  issues: T.Issue[];\n  onFilterChange: (changes: Partial<Query>) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueCheck: ((issueKey: string) => void) | undefined;\n  onIssueClick: (issueKey: string) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup: { issue: string; name: string } | undefined;\n  organization: { key: string } | undefined;\n  selectedIssue: T.Issue | undefined;\n}\n\ninterface State {\n  prerender: boolean;\n}\n\nexport default class IssuesList extends React.PureComponent<Props, State> {\n  state: State = {\n    prerender: true\n  };\n\n  componentDidMount() {\n    // ! \\\\ This prerender state variable is to enable the page to be displayed\n    //      immediately, displaying a loader before attempting to render the\n    //      list of issues. See https://jira.sonarsource.com/browse/SONAR-11681\n    setTimeout(() => {\n      this.setState({ prerender: false });\n      if (this.props.selectedIssue) {\n        scrollToIssue(this.props.selectedIssue.key, false);\n      }\n    }, 42);\n  }\n\n  render() {\n    const { branchLike, checked, component, issues, openPopup, selectedIssue } = this.props;\n    const { prerender } = this.state;\n\n    if (prerender) {\n      return (\n        <div>\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        {issues.map((issue, index) => (\n          <ListItem\n            branchLike={branchLike}\n            checked={checked.includes(issue.key)}\n            component={component}\n            issue={issue}\n            key={issue.key}\n            onChange={this.props.onIssueChange}\n            onCheck={this.props.onIssueCheck}\n            onClick={this.props.onIssueClick}\n            onFilterChange={this.props.onFilterChange}\n            onPopupToggle={this.props.onPopupToggle}\n            openPopup={openPopup && openPopup.issue === issue.key ? openPopup.name : undefined}\n            organization={this.props.organization}\n            previousIssue={index > 0 ? issues[index - 1] : undefined}\n            selected={selectedIssue != null && selectedIssue.key === issue.key}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst CrossComponentSourceViewer = lazyLoad(\n  () => import(/* webpackPrefetch: true */ './CrossComponentSourceViewerWrapper'),\n  'CrossComponentSourceViewer'\n);\n\nexport default CrossComponentSourceViewer;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport { BranchLike } from '../../../types/branch-like';\nimport CrossComponentSourceViewer from '../crossComponentSourceViewer/CrossComponentSourceViewer';\nimport { getLocations, getSelectedLocation } from '../utils';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  issues: T.Issue[];\n  loadIssues: (component: string, from: number, to: number) => Promise<T.Issue[]>;\n  locationsNavigator: boolean;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: (index: number) => void;\n  openIssue: T.Issue;\n  selectedFlowIndex: number | undefined;\n  selectedLocationIndex: number | undefined;\n}\n\nexport default class IssuesSourceViewer extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidUpdate(prevProps: Props) {\n    const { openIssue, selectedLocationIndex } = this.props;\n\n    // Scroll back to the issue when the selected location is set to -1\n    const shouldScrollBackToIssue =\n      selectedLocationIndex === -1 && selectedLocationIndex !== prevProps.selectedLocationIndex;\n    if (\n      prevProps.openIssue.component === openIssue.component &&\n      (prevProps.openIssue !== openIssue || shouldScrollBackToIssue)\n    ) {\n      this.scrollToIssue();\n    }\n  }\n\n  scrollToIssue = (smooth = true) => {\n    if (this.node) {\n      const element = this.node.querySelector(`[data-issue=\"${this.props.openIssue.key}\"]`);\n      if (element) {\n        this.handleScroll(element, undefined, smooth);\n      }\n    }\n  };\n\n  handleScroll = (element: Element, offset = window.innerHeight / 2, smooth = true) => {\n    scrollToElement(element, { topOffset: offset - 100, bottomOffset: offset, smooth });\n  };\n\n  handleLoaded = () => {\n    this.scrollToIssue(false);\n  };\n\n  render() {\n    const { openIssue, selectedFlowIndex, selectedLocationIndex } = this.props;\n\n    const locations = getLocations(openIssue, selectedFlowIndex).map((loc, index) => {\n      loc.index = index;\n      return loc;\n    });\n    const selectedLocation = getSelectedLocation(\n      openIssue,\n      selectedFlowIndex,\n      selectedLocationIndex\n    );\n\n    const highlightedLocationMessage =\n      this.props.locationsNavigator && selectedLocationIndex !== undefined\n        ? selectedLocation && { index: selectedLocationIndex, text: selectedLocation.msg }\n        : undefined;\n\n    if (locations.length > 1) {\n      const components = uniq(locations.map(l => l.component));\n      return (\n        <div ref={node => (this.node = node)}>\n          <CrossComponentSourceViewer\n            branchLike={this.props.branchLike}\n            components={components}\n            highlightedLocationMessage={highlightedLocationMessage}\n            issue={openIssue}\n            issues={this.props.issues}\n            locations={locations}\n            onIssueChange={this.props.onIssueChange}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedFlowIndex={selectedFlowIndex}\n          />\n        </div>\n      );\n    } else {\n      // if location is selected, show (and load) code around it\n      // otherwise show code around the open issue\n      const aroundLine = selectedLocation\n        ? selectedLocation.textRange.startLine\n        : openIssue.textRange && openIssue.textRange.endLine;\n\n      const component = selectedLocation ? selectedLocation.component : openIssue.component;\n      const allMessagesEmpty =\n        locations !== undefined && locations.every(location => !location.msg);\n\n      const highlightedLocations = locations.filter(location => location.component === component);\n\n      // do not load issues when open another file for a location\n      const loadIssues =\n        component === openIssue.component ? this.props.loadIssues : () => Promise.resolve([]);\n      const selectedIssue = component === openIssue.component ? openIssue.key : undefined;\n\n      return (\n        <div ref={node => (this.node = node)}>\n          <SourceViewer\n            aroundLine={aroundLine}\n            branchLike={this.props.branchLike}\n            component={component}\n            displayAllIssues={true}\n            displayIssueLocationsCount={true}\n            displayIssueLocationsLink={false}\n            displayLocationMarkers={!allMessagesEmpty}\n            highlightedLocationMessage={highlightedLocationMessage}\n            highlightedLocations={highlightedLocations}\n            loadIssues={loadIssues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueSelect={this.props.onIssueSelect}\n            onLoaded={this.handleLoaded}\n            onLocationSelect={this.props.onLocationSelect}\n            scroll={this.handleScroll}\n            selectedIssue={selectedIssue}\n            slimHeader={true}\n          />\n        </div>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  myIssues: boolean;\n  onMyIssuesChange: (myIssues: boolean) => void;\n}\n\nexport default class MyIssuesFilter extends React.PureComponent<Props> {\n  handleClick = (myIssues: boolean) => () => {\n    this.props.onMyIssuesChange(myIssues);\n  };\n\n  render() {\n    const { myIssues } = this.props;\n\n    return (\n      <div className=\"issues-my-issues-filter\">\n        <div className=\"button-group\">\n          <Button\n            className={myIssues ? 'button-active' : undefined}\n            onClick={this.handleClick(true)}>\n            {translate('issues.my_issues')}\n          </Button>\n          <Button\n            className={myIssues ? undefined : 'button-active'}\n            onClick={this.handleClick(false)}>\n            {translate('all')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport '../../../components/common/EmptySearch.css';\n\nexport default function NoMyIssues() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('issues.no_my_issues')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\nexport default function TotalEffort({ effort }: { effort: number }) {\n  return (\n    <div className=\"display-inline-block bordered-left spacer-left\">\n      <div className=\"spacer-left\">\n        <FormattedMessage\n          defaultMessage={translate('issue.x_effort')}\n          id=\"issue.x_effort\"\n          values={{ 0: <strong>{formatMeasure(effort, 'WORK_DUR')}</strong> }}\n        />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ReloadButton from 'sonar-ui-common/components/controls/ReloadButton';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport HomePageSelect from '../../../components/controls/HomePageSelect';\nimport { isSonarCloud } from '../../../helpers/system';\nimport IssuesCounter from './IssuesCounter';\nimport TotalEffort from './TotalEffort';\n\ninterface Props {\n  canSetHome: boolean;\n  effortTotal: number | undefined;\n  onReload: () => void;\n  paging: T.Paging | undefined;\n  selectedIndex: number | undefined;\n}\n\nexport default class PageActions extends React.PureComponent<Props> {\n  renderShortcuts() {\n    return (\n      <span className=\"note big-spacer-right\">\n        <span className=\"big-spacer-right\">\n          <span className=\"shortcut-button little-spacer-right\">↑</span>\n          <span className=\"shortcut-button little-spacer-right\">↓</span>\n          {translate('issues.to_select_issues')}\n        </span>\n\n        <span>\n          <span className=\"shortcut-button little-spacer-right\">←</span>\n          <span className=\"shortcut-button little-spacer-right\">→</span>\n          {translate('issues.to_navigate')}\n        </span>\n      </span>\n    );\n  }\n\n  render() {\n    const { effortTotal, paging, selectedIndex } = this.props;\n\n    return (\n      <div className=\"pull-right\">\n        {this.renderShortcuts()}\n\n        <div className=\"issues-page-actions\">\n          <ReloadButton onClick={this.props.onReload} />\n          {paging != null && (\n            <IssuesCounter className=\"spacer-left\" current={selectedIndex} total={paging.total} />\n          )}\n          {effortTotal !== undefined && <TotalEffort effort={effortTotal} />}\n        </div>\n\n        {this.props.canSetHome && (\n          <HomePageSelect\n            className=\"huge-spacer-left\"\n            currentPage={isSonarCloud() ? { type: 'MY_ISSUES' } : { type: 'ISSUES' }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { debounce, keyBy, omit, without } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport handleRequiredAuthentication from 'sonar-ui-common/helpers/handleRequiredAuthentication';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from 'sonar-ui-common/helpers/pages';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport EmptySearch from '../../../components/common/EmptySearch';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { Location, Router, withRouter } from '../../../components/hoc/withRouter';\nimport '../../../components/search-navigator.css';\nimport {\n  fillBranchLike,\n  getBranchLikeQuery,\n  isPullRequest,\n  isSameBranchLike\n} from '../../../helpers/branch-like';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { fetchBranchStatus } from '../../../store/rootActions';\nimport { BranchLike } from '../../../types/branch-like';\nimport * as actions from '../actions';\nimport ConciseIssuesList from '../conciseIssuesList/ConciseIssuesList';\nimport ConciseIssuesListHeader from '../conciseIssuesList/ConciseIssuesListHeader';\nimport Sidebar from '../sidebar/Sidebar';\nimport '../styles.css';\nimport {\n  areMyIssuesSelected,\n  areQueriesEqual,\n  Facet,\n  getOpen,\n  mapFacet,\n  parseFacets,\n  parseQuery,\n  Query,\n  RawFacet,\n  ReferencedComponent,\n  ReferencedLanguage,\n  ReferencedRule,\n  saveMyIssues,\n  scrollToIssue,\n  serializeQuery,\n  shouldOpenSonarSourceSecurityFacet,\n  shouldOpenStandardsChildFacet,\n  shouldOpenStandardsFacet,\n  STANDARDS\n} from '../utils';\nimport BulkChangeModal, { MAX_PAGE_SIZE } from './BulkChangeModal';\nimport IssuesList from './IssuesList';\nimport IssuesSourceViewer from './IssuesSourceViewer';\nimport MyIssuesFilter from './MyIssuesFilter';\nimport NoIssues from './NoIssues';\nimport NoMyIssues from './NoMyIssues';\nimport PageActions from './PageActions';\n\ninterface FetchIssuesPromise {\n  components: ReferencedComponent[];\n  effortTotal: number;\n  facets: RawFacet[];\n  issues: T.Issue[];\n  languages: ReferencedLanguage[];\n  paging: T.Paging;\n  rules: ReferencedRule[];\n  users: T.UserBase[];\n}\n\ninterface Props {\n  branchLike?: BranchLike;\n  component?: T.Component;\n  currentUser: T.CurrentUser;\n  fetchBranchStatus: (branchLike: BranchLike, projectKey: string) => Promise<void>;\n  fetchIssues: (query: T.RawQuery, requestOrganizations?: boolean) => Promise<FetchIssuesPromise>;\n  hideAuthorFacet?: boolean;\n  location: Pick<Location, 'pathname' | 'query'>;\n  multiOrganizations?: boolean;\n  myIssues?: boolean;\n  onBranchesChange: () => void;\n  organization?: { key: string };\n  router: Pick<Router, 'push' | 'replace'>;\n  userOrganizations: T.Organization[];\n}\n\nexport interface State {\n  bulkChangeModal: boolean;\n  cannotShowOpenIssue?: boolean;\n  checkAll?: boolean;\n  checked: string[];\n  effortTotal?: number;\n  facets: T.Dict<Facet>;\n  issues: T.Issue[];\n  loading: boolean;\n  loadingFacets: T.Dict<boolean>;\n  loadingMore: boolean;\n  locationsNavigator: boolean;\n  myIssues: boolean;\n  openFacets: T.Dict<boolean>;\n  openIssue?: T.Issue;\n  openPopup?: { issue: string; name: string };\n  paging?: T.Paging;\n  query: Query;\n  referencedComponentsById: T.Dict<ReferencedComponent>;\n  referencedComponentsByKey: T.Dict<ReferencedComponent>;\n  referencedLanguages: T.Dict<ReferencedLanguage>;\n  referencedRules: T.Dict<ReferencedRule>;\n  referencedUsers: T.Dict<T.UserBase>;\n  selected?: string;\n  selectedFlowIndex?: number;\n  selectedLocationIndex?: number;\n}\n\nconst DEFAULT_QUERY = { resolved: 'false' };\nconst MAX_INITAL_FETCH = 1000;\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const query = parseQuery(props.location.query);\n    this.state = {\n      bulkChangeModal: false,\n      checked: [],\n      facets: {},\n      issues: [],\n      loading: true,\n      loadingFacets: {},\n      loadingMore: false,\n      locationsNavigator: false,\n      myIssues: props.myIssues || areMyIssuesSelected(props.location.query),\n      openFacets: {\n        owaspTop10: shouldOpenStandardsChildFacet({}, query, 'owaspTop10'),\n        sansTop25: shouldOpenStandardsChildFacet({}, query, 'sansTop25'),\n        severities: true,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet({}, query),\n        standards: shouldOpenStandardsFacet({}, query),\n        types: true\n      },\n      query,\n      referencedComponentsById: {},\n      referencedComponentsByKey: {},\n      referencedLanguages: {},\n      referencedRules: {},\n      referencedUsers: {},\n      selected: getOpen(props.location.query)\n    };\n    this.refreshBranchStatus = debounce(this.refreshBranchStatus, 1000);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n\n    if (this.state.myIssues && !this.props.currentUser.isLoggedIn) {\n      handleRequiredAuthentication();\n      return;\n    }\n\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchFirstIssues();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const openIssue = this.getOpenIssue(nextProps, this.state.issues);\n\n    if (openIssue && openIssue.key !== this.state.selected) {\n      this.setState({\n        locationsNavigator: false,\n        selected: openIssue.key,\n        selectedFlowIndex: undefined,\n        selectedLocationIndex: undefined\n      });\n    }\n\n    if (!openIssue) {\n      this.setState({ selectedFlowIndex: undefined, selectedLocationIndex: undefined });\n    }\n\n    this.setState({\n      myIssues: nextProps.myIssues || areMyIssuesSelected(nextProps.location.query),\n      openIssue,\n      query: parseQuery(nextProps.location.query)\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    const { query } = this.props.location;\n    const { query: prevQuery } = prevProps.location;\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike) ||\n      !areQueriesEqual(prevQuery, query) ||\n      areMyIssuesSelected(prevQuery) !== areMyIssuesSelected(query)\n    ) {\n      this.fetchFirstIssues();\n      this.setState({ checkAll: false });\n    } else if (\n      !this.state.openIssue &&\n      (prevState.selected !== this.state.selected || prevState.openIssue)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedIssue();\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n  }\n\n  attachShortcuts() {\n    key.setScope('issues');\n    key('up', 'issues', () => {\n      this.selectPreviousIssue();\n      return false;\n    });\n    key('down', 'issues', () => {\n      this.selectNextIssue();\n      return false;\n    });\n    key('right', 'issues', () => {\n      this.openSelectedIssue();\n      return false;\n    });\n    key('left', 'issues', () => {\n      if (this.state.query.issues.length !== 1) {\n        this.closeIssue();\n      }\n      return false;\n    });\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  }\n\n  detachShortcuts() {\n    key.deleteScope('issues');\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  handleKeyDown = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      event.preventDefault();\n      this.setState(actions.enableLocationsNavigator);\n    } else if (event.keyCode === 40 && event.altKey) {\n      // alt + down\n      event.preventDefault();\n      this.selectNextLocation();\n    } else if (event.keyCode === 38 && event.altKey) {\n      // alt + up\n      event.preventDefault();\n      this.selectPreviousLocation();\n    } else if (event.keyCode === 37 && event.altKey) {\n      // alt + left\n      event.preventDefault();\n      this.selectPreviousFlow();\n    } else if (event.keyCode === 39 && event.altKey) {\n      // alt + right\n      event.preventDefault();\n      this.selectNextFlow();\n    }\n  };\n\n  handleKeyUp = (event: KeyboardEvent) => {\n    if (key.getScope() !== 'issues') {\n      return;\n    }\n    if (event.keyCode === 18) {\n      // alt\n      this.setState(actions.disableLocationsNavigator);\n    }\n  };\n\n  getSelectedIndex() {\n    const { issues = [], selected } = this.state;\n    const index = issues.findIndex(issue => issue.key === selected);\n    return index !== -1 ? index : undefined;\n  }\n\n  getOpenIssue = (props: Props, issues: T.Issue[]) => {\n    const open = getOpen(props.location.query);\n    return open ? issues.find(issue => issue.key === open) : undefined;\n  };\n\n  selectNextIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex < issues.length - 1) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex + 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex + 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  selectPreviousIssue = () => {\n    const { issues } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openIssue) {\n        this.openIssue(issues[selectedIndex - 1].key);\n      } else {\n        this.setState({\n          selected: issues[selectedIndex - 1].key,\n          selectedFlowIndex: undefined,\n          selectedLocationIndex: undefined\n        });\n      }\n    }\n  };\n\n  openIssue = (issueKey: string) => {\n    const path = {\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined,\n        open: issueKey\n      }\n    };\n    if (this.state.openIssue) {\n      if (path.query.open && path.query.open === this.state.openIssue.key) {\n        this.setState(\n          {\n            locationsNavigator: false,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          },\n          this.scrollToSelectedIssue\n        );\n      } else {\n        this.props.router.replace(path);\n      }\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  closeIssue = () => {\n    if (this.state.query) {\n      this.props.router.push({\n        pathname: this.props.location.pathname,\n        query: {\n          ...serializeQuery(this.state.query),\n          ...getBranchLikeQuery(this.props.branchLike),\n          id: this.props.component && this.props.component.key,\n          myIssues: this.state.myIssues ? 'true' : undefined,\n          open: undefined\n        }\n      });\n    }\n  };\n\n  openSelectedIssue = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openIssue(selected);\n    }\n  };\n\n  scrollToSelectedIssue = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      scrollToIssue(selected, smooth);\n    }\n  };\n\n  fetchIssues = (\n    additional: T.RawQuery,\n    requestFacets = false,\n    requestOrganizations = true\n  ): Promise<FetchIssuesPromise> => {\n    const { component } = this.props;\n    const { myIssues, openFacets, query } = this.state;\n\n    const facets = requestFacets\n      ? Object.keys(openFacets)\n          .filter(facet => openFacets[facet])\n          .filter(facet => facet !== STANDARDS)\n          .map(mapFacet)\n          .join(',')\n      : undefined;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      s: 'FILE_LINE',\n      ...serializeQuery(query),\n      ps: '100',\n      organization: organizationKey,\n      facets,\n      ...additional\n    };\n\n    // only sorting by CREATION_DATE is allowed, so let's sort DESC\n    if (query.sort) {\n      Object.assign(parameters, { asc: 'false' });\n    }\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props.fetchIssues(\n      parameters,\n      Boolean(requestOrganizations && this.props.multiOrganizations)\n    );\n  };\n\n  fetchFirstIssues() {\n    const prevQuery = this.props.location.query;\n    const openIssueKey = getOpen(this.props.location.query);\n    let fetchPromise;\n\n    this.setState({ checked: [], loading: true });\n    if (openIssueKey !== undefined) {\n      fetchPromise = this.fetchIssuesUntil(1, (pageIssues: T.Issue[], paging: T.Paging) => {\n        if (\n          paging.total <= paging.pageIndex * paging.pageSize ||\n          paging.pageIndex * paging.pageSize >= MAX_INITAL_FETCH\n        ) {\n          return true;\n        }\n        return pageIssues.some(issue => issue.key === openIssueKey);\n      });\n    } else {\n      fetchPromise = this.fetchIssues({}, true);\n    }\n\n    return fetchPromise.then(\n      ({ effortTotal, facets, issues, paging, ...other }) => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          const openIssue = this.getOpenIssue(this.props, issues);\n          let selected: string | undefined = undefined;\n          if (issues.length > 0) {\n            selected = openIssue ? openIssue.key : issues[0].key;\n          }\n          this.setState(state => ({\n            cannotShowOpenIssue: Boolean(openIssueKey && !openIssue),\n            effortTotal,\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loading: false,\n            issues,\n            openIssue,\n            paging,\n            referencedComponentsById: keyBy(other.components, 'uuid'),\n            referencedComponentsByKey: keyBy(other.components, 'key'),\n            referencedLanguages: keyBy(other.languages, 'key'),\n            referencedRules: keyBy(other.rules, 'key'),\n            referencedUsers: keyBy(other.users, 'login'),\n            selected,\n            selectedFlowIndex: undefined,\n            selectedLocationIndex: undefined\n          }));\n        }\n        return issues;\n      },\n      () => {\n        if (this.mounted && areQueriesEqual(prevQuery, this.props.location.query)) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  }\n\n  fetchIssuesPage = (p: number) => {\n    return this.fetchIssues({ p });\n  };\n\n  fetchIssuesUntil = (\n    p: number,\n    done: (pageIssues: T.Issue[], paging: T.Paging) => boolean\n  ): Promise<FetchIssuesPromise> => {\n    const recursiveFetch = (p: number, prevIssues: T.Issue[]): Promise<FetchIssuesPromise> => {\n      return this.fetchIssuesPage(p).then(({ issues: pageIssues, paging, ...other }) => {\n        const issues = [...prevIssues, ...pageIssues];\n        return done(pageIssues, paging)\n          ? { issues, paging, ...other }\n          : recursiveFetch(p + 1, issues);\n      });\n    };\n\n    return recursiveFetch(p, []);\n  };\n\n  fetchMoreIssues = () => {\n    const { paging } = this.state;\n\n    if (!paging) {\n      return;\n    }\n\n    const p = paging.pageIndex + 1;\n\n    this.setState({ checkAll: false, loadingMore: true });\n    this.fetchIssuesPage(p).then(\n      response => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loadingMore: false,\n            issues: [...state.issues, ...response.issues],\n            paging: response.paging\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loadingMore: false });\n        }\n      }\n    );\n  };\n\n  fetchIssuesForComponent = (_component: string, _from: number, to: number) => {\n    const { issues, openIssue, paging } = this.state;\n\n    if (!openIssue || !paging) {\n      return Promise.reject(undefined);\n    }\n\n    const isSameComponent = (issue: T.Issue) => issue.component === openIssue.component;\n\n    const done = (pageIssues: T.Issue[], paging: T.Paging) => {\n      const lastIssue = pageIssues[pageIssues.length - 1];\n      if (paging.total <= paging.pageIndex * paging.pageSize) {\n        return true;\n      }\n      if (lastIssue.component !== openIssue.component) {\n        return true;\n      }\n      return lastIssue.textRange !== undefined && lastIssue.textRange.endLine > to;\n    };\n\n    if (done(issues, paging)) {\n      return Promise.resolve(issues.filter(isSameComponent));\n    }\n\n    this.setState({ loading: true });\n    return this.fetchIssuesUntil(paging.pageIndex + 1, done).then(\n      response => {\n        const nextIssues = [...issues, ...response.issues];\n        if (this.mounted) {\n          this.setState({\n            issues: nextIssues,\n            loading: false,\n            paging: response.paging\n          });\n        }\n        return nextIssues.filter(isSameComponent);\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n        return [];\n      }\n    );\n  };\n\n  fetchFacet = (facet: string) => {\n    const requestOrganizations = facet === 'projects';\n    return this.fetchIssues({ ps: 1, facets: mapFacet(facet) }, false, requestOrganizations).then(\n      ({ facets, ...other }) => {\n        if (this.mounted) {\n          this.setState(state => ({\n            facets: { ...state.facets, ...parseFacets(facets) },\n            loadingFacets: omit(state.loadingFacets, facet),\n            referencedComponentsById: {\n              ...state.referencedComponentsById,\n              ...keyBy(other.components, 'uuid')\n            },\n            referencedComponentsByKey: {\n              ...state.referencedComponentsByKey,\n              ...keyBy(other.components, 'key')\n            },\n            referencedLanguages: {\n              ...state.referencedLanguages,\n              ...keyBy(other.languages, 'key')\n            },\n            referencedRules: { ...state.referencedRules, ...keyBy(other.rules, 'key') },\n            referencedUsers: { ...state.referencedUsers, ...keyBy(other.users, 'login') }\n          }));\n        }\n      },\n      () => {}\n    );\n  };\n\n  isFiltered = () => {\n    const serialized = serializeQuery(this.state.query);\n    return !areQueriesEqual(serialized, DEFAULT_QUERY);\n  };\n\n  getCheckedIssues = () => {\n    const issues = this.state.checked\n      .map(checked => this.state.issues.find(issue => issue.key === checked))\n      .filter((issue): issue is T.Issue => issue !== undefined);\n    const paging = { pageIndex: 1, pageSize: issues.length, total: issues.length };\n    return Promise.resolve({ issues, paging });\n  };\n\n  getButtonLabel = (checked: string[], checkAll?: boolean, paging?: T.Paging) => {\n    if (checked.length > 0) {\n      let count;\n      if (checkAll && paging) {\n        count = paging.total > MAX_PAGE_SIZE ? MAX_PAGE_SIZE : paging.total;\n      } else {\n        count = Math.min(checked.length, MAX_PAGE_SIZE);\n      }\n\n      return translateWithParameters('issues.bulk_change_X_issues', count);\n    } else {\n      return translate('bulk_change');\n    }\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, ...changes }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n    this.setState(({ openFacets }) => ({\n      openFacets: {\n        ...openFacets,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet(openFacets, changes),\n        standards: shouldOpenStandardsFacet(openFacets, changes)\n      }\n    }));\n  };\n\n  handleMyIssuesChange = (myIssues: boolean) => {\n    this.closeFacet('assignees');\n    if (!this.props.component) {\n      saveMyIssues(myIssues);\n    }\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery({ ...this.state.query, assigned: true, assignees: [] }),\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  loadSearchResultCount = (property: string, changes: Partial<Query>) => {\n    const { component } = this.props;\n    const { myIssues, query } = this.state;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const parameters = {\n      ...getBranchLikeQuery(this.props.branchLike),\n      componentKeys: component && component.key,\n      facets: mapFacet(property),\n      s: 'FILE_LINE',\n      ...serializeQuery({ ...query, ...changes }),\n      ps: 1,\n      organization: organizationKey\n    };\n\n    if (myIssues) {\n      Object.assign(parameters, { assignees: '__me__' });\n    }\n\n    return this.props\n      .fetchIssues(parameters, false)\n      .then(({ facets }) => parseFacets(facets)[property]);\n  };\n\n  closeFacet = (property: string) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [property]: false }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => {\n      const willOpenProperty = !state.openFacets[property];\n      const newState = {\n        loadingFacets: state.loadingFacets,\n        openFacets: { ...state.openFacets, [property]: willOpenProperty }\n      };\n\n      // Try to open sonarsource security \"subfacet\" by default if the standard facet is open\n      if (willOpenProperty && property === STANDARDS) {\n        newState.openFacets.sonarsourceSecurity = shouldOpenSonarSourceSecurityFacet(\n          newState.openFacets,\n          state.query\n        );\n        // Force loading of sonarsource security facet data\n        property = newState.openFacets.sonarsourceSecurity ? 'sonarsourceSecurity' : property;\n      }\n\n      // No need to load facets data for standard facet\n      if (property !== STANDARDS && !state.facets[property]) {\n        newState.loadingFacets[property] = true;\n        this.fetchFacet(property);\n      }\n\n      return newState;\n    });\n  };\n\n  handleReset = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...DEFAULT_QUERY,\n        ...getBranchLikeQuery(this.props.branchLike),\n        id: this.props.component && this.props.component.key,\n        myIssues: this.state.myIssues ? 'true' : undefined\n      }\n    });\n  };\n\n  handlePopupToggle = (issue: string, popupName: string, open?: boolean) => {\n    this.setState((state: State) => {\n      const { openPopup } = state;\n      const samePopup = openPopup && openPopup.name === popupName && openPopup.issue === issue;\n\n      if (open !== false && !samePopup) {\n        return { ...state, openPopup: { issue, name: popupName } };\n      } else if (open !== true && samePopup) {\n        return { ...state, openPopup: undefined };\n      }\n\n      return state;\n    });\n  };\n\n  handleIssueCheck = (issue: string) => {\n    this.setState(state => ({\n      checkAll: false,\n      checked: state.checked.includes(issue)\n        ? without(state.checked, issue)\n        : [...state.checked, issue]\n    }));\n  };\n\n  handleIssueChange = (issue: T.Issue) => {\n    this.refreshBranchStatus();\n    this.setState(state => ({\n      issues: state.issues.map(candidate => (candidate.key === issue.key ? issue : candidate))\n    }));\n  };\n\n  handleOpenBulkChange = () => {\n    key.setScope('issues-bulk-change');\n    this.setState({ bulkChangeModal: true });\n  };\n\n  handleCloseBulkChange = () => {\n    key.setScope('issues');\n    this.setState({ bulkChangeModal: false });\n  };\n\n  handleBulkChangeDone = () => {\n    this.setState({ checkAll: false });\n    this.refreshBranchStatus();\n    this.fetchFirstIssues();\n    this.handleCloseBulkChange();\n  };\n\n  handleReload = () => {\n    this.fetchFirstIssues();\n    this.refreshBranchStatus();\n    if (isPullRequest(this.props.branchLike)) {\n      this.props.onBranchesChange();\n    }\n  };\n\n  handleReloadAndOpenFirst = () => {\n    this.fetchFirstIssues().then(\n      (issues: T.Issue[]) => {\n        if (issues.length > 0) {\n          this.openIssue(issues[0].key);\n        }\n      },\n      () => {}\n    );\n  };\n\n  selectLocation = (index: number) => {\n    this.setState(actions.selectLocation(index));\n  };\n\n  selectNextLocation = () => {\n    this.setState(actions.selectNextLocation);\n  };\n\n  selectPreviousLocation = () => {\n    this.setState(actions.selectPreviousLocation);\n  };\n\n  handleCheckAll = (checked: boolean) => {\n    if (checked) {\n      this.setState(state => ({\n        checkAll: true,\n        checked: state.issues.map(issue => issue.key)\n      }));\n    } else {\n      this.setState({ checkAll: false, checked: [] });\n    }\n  };\n\n  selectFlow = (index?: number) => {\n    this.setState(actions.selectFlow(index));\n  };\n\n  selectNextFlow = () => {\n    this.setState(actions.selectNextFlow);\n  };\n\n  selectPreviousFlow = () => {\n    this.setState(actions.selectPreviousFlow);\n  };\n\n  refreshBranchStatus = () => {\n    const { branchLike, component } = this.props;\n    if (branchLike && component && isPullRequest(branchLike)) {\n      this.props.fetchBranchStatus(branchLike, component.key);\n    }\n  };\n\n  renderBulkChange(openIssue: T.Issue | undefined) {\n    const { component, currentUser } = this.props;\n    const { checkAll, bulkChangeModal, checked, issues, paging } = this.state;\n\n    const isAllChecked = checked.length > 0 && issues.length === checked.length;\n    const thirdState = checked.length > 0 && !isAllChecked;\n    const isChecked = isAllChecked || thirdState;\n\n    if (!currentUser.isLoggedIn || openIssue) {\n      return null;\n    }\n\n    return (\n      <div className=\"pull-left\">\n        <Checkbox\n          checked={isChecked}\n          className=\"spacer-right text-middle\"\n          disabled={issues.length === 0}\n          id=\"issues-selection\"\n          onCheck={this.handleCheckAll}\n          thirdState={thirdState}\n          title={translate('issues.select_all_issues')}\n        />\n        <Button\n          disabled={checked.length === 0}\n          id=\"issues-bulk-change\"\n          onClick={this.handleOpenBulkChange}>\n          {this.getButtonLabel(checked, checkAll, paging)}\n        </Button>\n\n        {bulkChangeModal && (\n          <BulkChangeModal\n            component={component}\n            currentUser={currentUser}\n            fetchIssues={checkAll ? this.fetchIssues : this.getCheckedIssues}\n            onClose={this.handleCloseBulkChange}\n            onDone={this.handleBulkChangeDone}\n            organization={this.props.organization}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderFacets() {\n    const { component, currentUser, userOrganizations } = this.props;\n    const { query } = this.state;\n\n    const organizationKey =\n      (component && component.organization) ||\n      (this.props.organization && this.props.organization.key);\n\n    const userOrganization =\n      !isSonarCloud() ||\n      userOrganizations.find(o => {\n        return o.key === organizationKey;\n      });\n    const hideAuthorFacet =\n      this.props.hideAuthorFacet || (isSonarCloud() && this.props.myIssues) || !userOrganization;\n\n    return (\n      <div className=\"layout-page-filters\">\n        {currentUser.isLoggedIn && !isSonarCloud() && (\n          <MyIssuesFilter\n            myIssues={this.state.myIssues}\n            onMyIssuesChange={this.handleMyIssuesChange}\n          />\n        )}\n        <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n        <Sidebar\n          component={component}\n          facets={this.state.facets}\n          hideAuthorFacet={hideAuthorFacet}\n          loadSearchResultCount={this.loadSearchResultCount}\n          loadingFacets={this.state.loadingFacets}\n          myIssues={this.state.myIssues}\n          onFacetToggle={this.handleFacetToggle}\n          onFilterChange={this.handleFilterChange}\n          openFacets={this.state.openFacets}\n          organization={this.props.organization}\n          query={query}\n          referencedComponentsById={this.state.referencedComponentsById}\n          referencedComponentsByKey={this.state.referencedComponentsByKey}\n          referencedLanguages={this.state.referencedLanguages}\n          referencedRules={this.state.referencedRules}\n          referencedUsers={this.state.referencedUsers}\n        />\n      </div>\n    );\n  }\n\n  renderConciseIssuesList() {\n    const { issues, loadingMore, paging, query } = this.state;\n\n    return (\n      <div className=\"layout-page-filters\">\n        <ConciseIssuesListHeader\n          displayBackButton={query.issues.length !== 1}\n          loading={this.state.loading}\n          onBackClick={this.closeIssue}\n          onReload={this.handleReloadAndOpenFirst}\n          paging={paging}\n          selectedIndex={this.getSelectedIndex()}\n        />\n        <ConciseIssuesList\n          issues={issues}\n          onFlowSelect={this.selectFlow}\n          onIssueSelect={this.openIssue}\n          onLocationSelect={this.selectLocation}\n          selected={this.state.selected}\n          selectedFlowIndex={this.state.selectedFlowIndex}\n          selectedLocationIndex={this.state.selectedLocationIndex}\n        />\n        {paging && paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderSide(openIssue: T.Issue | undefined) {\n    return (\n      <ScreenPositionHelper className=\"layout-page-side-outer\">\n        {({ top }) => (\n          <div className=\"layout-page-side\" style={{ top }}>\n            <div className=\"layout-page-side-inner\">\n              <A11ySkipTarget\n                anchor=\"issues_sidebar\"\n                label={\n                  openIssue ? translate('issues.skip_to_list') : translate('issues.skip_to_filters')\n                }\n                weight={10}\n              />\n              {openIssue ? this.renderConciseIssuesList() : this.renderFacets()}\n            </div>\n          </div>\n        )}\n      </ScreenPositionHelper>\n    );\n  }\n\n  renderList() {\n    const { branchLike, component, currentUser, organization } = this.props;\n    const { issues, loading, loadingMore, openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const selectedIssue = selectedIndex !== undefined ? issues[selectedIndex] : undefined;\n\n    if (!paging || openIssue) {\n      return null;\n    }\n\n    let noIssuesMessage = null;\n    if (paging.total === 0 && !loading) {\n      if (this.isFiltered()) {\n        noIssuesMessage = <EmptySearch />;\n      } else if (this.state.myIssues) {\n        noIssuesMessage = <NoMyIssues />;\n      } else {\n        noIssuesMessage = <NoIssues />;\n      }\n    }\n\n    return (\n      <div>\n        {paging.total > 0 && (\n          <IssuesList\n            branchLike={branchLike}\n            checked={this.state.checked}\n            component={component}\n            issues={issues}\n            onFilterChange={this.handleFilterChange}\n            onIssueChange={this.handleIssueChange}\n            onIssueCheck={currentUser.isLoggedIn ? this.handleIssueCheck : undefined}\n            onIssueClick={this.openIssue}\n            onPopupToggle={this.handlePopupToggle}\n            openPopup={this.state.openPopup}\n            organization={organization}\n            selectedIssue={selectedIssue}\n          />\n        )}\n\n        {paging.total > 0 && (\n          <ListFooter\n            count={issues.length}\n            loadMore={this.fetchMoreIssues}\n            loading={loadingMore}\n            total={paging.total}\n          />\n        )}\n\n        {noIssuesMessage}\n      </div>\n    );\n  }\n\n  renderHeader({\n    openIssue,\n    paging,\n    selectedIndex\n  }: {\n    openIssue: T.Issue | undefined;\n    paging: T.Paging | undefined;\n    selectedIndex: number | undefined;\n  }) {\n    return openIssue ? (\n      <A11ySkipTarget anchor=\"issues_main\" />\n    ) : (\n      <div className=\"layout-page-header-panel layout-page-main-header issues-main-header\">\n        <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n          <div className=\"layout-page-main-inner\">\n            <A11ySkipTarget anchor=\"issues_main\" />\n\n            {this.renderBulkChange(openIssue)}\n            <PageActions\n              canSetHome={Boolean(\n                !this.props.organization &&\n                  !this.props.component &&\n                  (!isSonarCloud() || this.props.myIssues)\n              )}\n              effortTotal={this.state.effortTotal}\n              onReload={this.handleReload}\n              paging={paging}\n              selectedIndex={selectedIndex}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPage() {\n    const { cannotShowOpenIssue, checkAll, issues, loading, openIssue, paging } = this.state;\n    return (\n      <div className=\"layout-page-main-inner\">\n        {openIssue ? (\n          <IssuesSourceViewer\n            branchLike={fillBranchLike(openIssue.branch, openIssue.pullRequest)}\n            issues={issues}\n            loadIssues={this.fetchIssuesForComponent}\n            locationsNavigator={this.state.locationsNavigator}\n            onIssueChange={this.handleIssueChange}\n            onIssueSelect={this.openIssue}\n            onLocationSelect={this.selectLocation}\n            openIssue={openIssue}\n            selectedFlowIndex={this.state.selectedFlowIndex}\n            selectedLocationIndex={this.state.selectedLocationIndex}\n          />\n        ) : (\n          <DeferredSpinner loading={loading}>\n            {checkAll && paging && paging.total > MAX_PAGE_SIZE && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                <FormattedMessage\n                  defaultMessage={translate('issue_bulk_change.max_issues_reached')}\n                  id=\"issue_bulk_change.max_issues_reached\"\n                  values={{ max: <strong>{MAX_PAGE_SIZE}</strong> }}\n                />\n              </Alert>\n            )}\n            {cannotShowOpenIssue && (\n              <Alert className=\"big-spacer-bottom\" variant=\"warning\">\n                {translateWithParameters(\n                  'issues.cannot_open_issue_max_initial_X_fetched',\n                  MAX_INITAL_FETCH\n                )}\n              </Alert>\n            )}\n            {this.renderList()}\n          </DeferredSpinner>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { openIssue, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    return (\n      <div className=\"layout-page issues\" id=\"issues-page\">\n        <Suggestions suggestions=\"issues\" />\n        <Helmet defer={false} title={openIssue ? openIssue.message : translate('issues.page')} />\n\n        {this.renderSide(openIssue)}\n\n        <div className=\"layout-page-main\">\n          {this.renderHeader({ openIssue, paging, selectedIndex })}\n\n          {this.renderPage()}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = { fetchBranchStatus: fetchBranchStatus as any };\n\nexport default withRouter(connect(null, mapDispatchToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nvar qualifierIcons = {\n    app: ApplicationIcon,\n    brc: SubProjectIcon,\n    dev: DeveloperIcon,\n    dir: DirectoryIcon,\n    fil: FileIcon,\n    svw: SubPortfolioIcon,\n    trk: ProjectIcon,\n    uts: UnitTestIcon,\n    vw: PortfolioIcon,\n    cla: UnitTestIcon,\n    dev_prj: ProjectIcon,\n    lib: LibraryIcon,\n    pac: DirectoryIcon\n};\nfunction QualifierIcon(props) {\n    if (!props.qualifier) {\n        return null;\n    }\n    var qualifier = props.qualifier.toLowerCase();\n    var FoundIcon = qualifierIcons[qualifier];\n    return FoundIcon ? React.createElement(FoundIcon, { className: props.className, fill: props.fill }) : null;\n}\nexports.default = QualifierIcon;\nfunction ApplicationIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M3.014 10.986a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zm-5.004-.021c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zm-4.98 1.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM2.984 6a2 2 0 1 1-.001 4.001A2 2 0 0 1 2.984 6zm9.984 0a2 2 0 1 1-.001 4.001A2 2 0 0 1 12.968 6zm-5.004-.021c1.103 0 2 .897 2 2a2 2 0 1 1-2-2zM2.984 7a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm-5.004-.021a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2zM3 1.025a2 2 0 1 1-.001 4.001A2 2 0 0 1 3 1.025zm9.984 0a2 2 0 1 1-.001 4.001 2 2 0 0 1 .001-4.001zM7.98 1.004c1.103 0 2 .896 2 2s-.897 2-2 2a2 2 0 0 1 0-4zM3 2.025a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm9.984 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2zM7.98 2.004a1.001 1.001 0 0 1 0 2 1 1 0 0 1 0-2z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DeveloperIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M7.974 8.02a3.5 3.5 0 0 1-2.482-1.017 3.428 3.428 0 0 1-1.028-2.455c0-.927.365-1.8 1.028-2.455a3.505 3.505 0 0 1 2.482-1.017 3.5 3.5 0 0 1 2.482 1.017 3.434 3.434 0 0 1 1.027 2.455c0 .928-.365 1.8-1.027 2.455A3.504 3.504 0 0 1 7.974 8.02zm0-5.778c-1.286 0-2.332 1.034-2.332 2.306s1.046 2.307 2.332 2.307c1.285 0 2.332-1.035 2.332-2.307S9.258 2.242 7.974 2.242zm3.534 6.418c.127.016.243.045.348.086.17.066.302.146.406.246.132.124.253.282.36.47.126.218.226.442.3.668.08.253.15.535.206.838.056.313.095.604.113.867.02.28.03.57.03.862 0 .532-.174.758-.306.882-.142.132-.397.31-.973.31H3.948c-.233 0-.437-.03-.606-.09-.14-.05-.26-.123-.366-.222-.13-.123-.306-.35-.306-.88 0-.294.01-.584.03-.863.018-.263.056-.554.112-.867a6.5 6.5 0 0 1 .207-.838c.073-.226.173-.45.298-.667.108-.19.23-.347.36-.47.106-.1.238-.18.407-.247.105-.04.22-.07.348-.086.202.13.432.277.683.435.342.217.756.4 1.265.564.523.166 1.06.25 1.59.25a5.25 5.25 0 0 0 1.592-.25c.51-.164.923-.348 1.266-.565.25-.158.48-.304.682-.435l-.002.002zm-.244-1.18c-.055 0-.184.066-.387.196-.202.13-.43.276-.685.437-.255.16-.586.307-.994.437-.408.13-.818.196-1.23.196-.41 0-.82-.065-1.228-.196a4.303 4.303 0 0 1-.993-.437c-.255-.16-.484-.306-.686-.437-.202-.13-.33-.196-.386-.196-.374 0-.716.06-1.026.183-.31.12-.572.283-.787.487a3.28 3.28 0 0 0-.57.737 4.662 4.662 0 0 0-.395.888c-.098.303-.18.633-.244.988a9.652 9.652 0 0 0-.128.992c-.02.306-.032.62-.032.942 0 .73.224 1.304.672 1.726.448.42 1.043.632 1.785.632h8.044c.743 0 1.34-.21 1.787-.633.447-.42.67-.996.67-1.725 0-.32-.01-.635-.03-.942a9.159 9.159 0 0 0-.374-1.98c-.098-.304-.23-.6-.395-.888a3.23 3.23 0 0 0-.57-.737 2.404 2.404 0 0 0-.788-.487 2.779 2.779 0 0 0-1.026-.183h-.004z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction DirectoryIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 12.286V5.703a.673.673 0 0 0-.195-.5.644.644 0 0 0-.49-.203H6.704a.686.686 0 0 1-.5-.214.707.707 0 0 1-.203-.51v-.57c0-.2-.07-.363-.207-.502A.679.679 0 0 0 5.29 3H2.707a.672.672 0 0 0-.5.204.683.683 0 0 0-.206.5v8.582c0 .2.07.367.206.506.137.14.304.208.5.208h10.61a.66.66 0 0 0 .49-.208.685.685 0 0 0 .194-.506H14zm1-6.598v6.65c0 .458-.152.83-.475 1.16-.324.326-.7.502-1.15.502H2.647c-.452 0-.84-.175-1.162-.503a1.572 1.572 0 0 1-.486-1.158V3.654a1.6 1.6 0 0 1 .486-1.17A1.578 1.578 0 0 1 2.648 2h2.7c.45 0 .84.157 1.164.485.324.328.488.714.488 1.17V4h6.373c.452 0 .83.174 1.152.5.323.33.475.73.475 1.187v.001z\", style: { fill: fill || theme.colors.orange } }));\n    }));\n}\nfunction FileIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1 .034 1.759.758 2.428 1.42.667.663 1.561 1.605 1.574 2.555H14V15zM9 2H3v12h10V6H9V2zm3 10H4v-1h8v1zm0-2H4V9h8v1zm-1.988-5h3.008c-.012-.674-.714-1.443-1.204-1.937-.488-.495-1.039-1.058-1.816-1.055v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction LibraryIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M1 13h4V3H1v10zm3-1H2v-2h2v2zM2 4h2v4H2V4zm4 9h4V3H6v10zm3-1H7v-2h2v2zM7 4h2v4H7V4zm4 9h4V3h-4v10zm3-1h-2v-2h2v2zm-2-8h2v4h-2V4z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction PortfolioIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.97 14.97H1.016V1.015H14.97V14.97zm-1-12.955H2.015V13.97H13.97V2.015zm-.973 10.982H9V9h3.997v3.997zM7 12.996H3.004V9H7v3.996zM11.997 10H10v1.997h1.997V10zM6 10H4.004v1.996H6V10zm1-3H3.006V3.006H7V7zm5.985 0H9V3.015h3.985V7zM6 4.006H4.006V6H6V4.006zm5.985.009H10V6h1.985V4.015z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction ProjectIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14.985 13.988L1 14.005 1.02 5h13.966v8.988h-.001zM1.998 5.995l.006 7.02L14.022 13 14 6.004l-12.002-.01v.001zM3 4.5V4h9.996l.004.5h1l-.005-1.497-11.98.003L2 4.5h1zm1-2v-.504h8.002L12 2.5h1l-.004-1.495H3.003L3 2.5h1z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubPortfolioIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 7h2v9H7v-2H0V0h14v7zM8 8v7h7V8H8zm3 6H9v-2h2v2zm3 0h-2v-2h2v2zm-1-7V1H1v12h6V7h6zm-7 5H2V8h4v4zm5-1H9V9h2v2zm3 0h-2V9h2v2zM5 9H3v2h2V9zm1-3H2V2h4v4zm6 0H8V2h4v4zM5 3H3v2h2V3zm6 0H9v2h2V3z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction SubProjectIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M8 9V8h6v1h1v1h1v6H6v-6h1V9h1zm7 2H7v4h8v-4zm-1-7v3h-1V5H1v7h4v1H0V4h14zm-1-2v1.5h-1V3H2v.5H1V2h12zm-1-2v1.5h-1V1H3v.5H2V0h10z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\nfunction UnitTestIcon(_a) {\n    var className = _a.className, fill = _a.fill, size = _a.size;\n    return (React.createElement(Icon_1.ThemedIcon, { className: className, size: size }, function (_a) {\n        var theme = _a.theme;\n        return (React.createElement(\"path\", { d: \"M14 15H2V1l7.997.02c1.013-.03 1.57.893 2.239 1.555.667.663 1.75 1.47 1.763 2.42H14V15zM9 2H3v12h10V6H9V2zM7 8l-3 2.5L7 13V8zm1 5l3-2.5L8 8v5zm2.012-8h3.008c-.012-.674-.78-1.258-1.27-1.752-.488-.495-.973-1.243-1.75-1.24v2.96l.012.032z\", style: { fill: fill || theme.colors.blue } }));\n    }));\n}\n//# sourceMappingURL=QualifierIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","\"use strict\";\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar measures_1 = require(\"../../helpers/measures\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nfunction ListFooter(_a) {\n    var _b = _a.ready, ready = _b === void 0 ? true : _b, props = __rest(_a, [\"ready\"]);\n    var handleLoadMore = function (event) {\n        event.preventDefault();\n        event.currentTarget.blur();\n        if (props.loadMore) {\n            props.loadMore();\n        }\n    };\n    var handleReload = function (event) {\n        event.preventDefault();\n        event.currentTarget.blur();\n        if (props.reload) {\n            props.reload();\n        }\n    };\n    var hasMore = props.total && props.total > props.count;\n    var loadMoreLink = (React.createElement(\"a\", { className: \"spacer-left\", \"data-test\": \"show-more\", href: \"#\", onClick: handleLoadMore }, l10n_1.translate('show_more')));\n    var reloadLink = (React.createElement(\"a\", { className: \"spacer-left\", \"data-test\": \"reload\", href: \"#\", onClick: handleReload }, l10n_1.translate('reload')));\n    var className = classNames('spacer-top note text-center', { 'new-loading': !ready }, props.className);\n    var link;\n    if (props.needReload && props.reload) {\n        link = reloadLink;\n    }\n    else if (hasMore && props.loadMore) {\n        link = loadMoreLink;\n    }\n    return (React.createElement(\"footer\", { className: className },\n        l10n_1.translateWithParameters('x_of_y_shown', measures_1.formatMeasure(props.count, 'INT', null), measures_1.formatMeasure(props.total, 'INT', null)),\n        link,\n        props.loading && React.createElement(DeferredSpinner_1.default, { className: \"text-bottom spacer-left position-absolute\" })));\n}\nexports.default = ListFooter;\n//# sourceMappingURL=ListFooter.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added\n * @returns {Date} the new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * var result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nfunction addMonths (dirtyDate, dirtyAmount) {\n  var date = parse(dirtyDate)\n  var amount = Number(dirtyAmount)\n  var desiredMonth = date.getMonth() + amount\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(date.getFullYear(), desiredMonth, 1)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(desiredMonth, Math.min(daysInMonth, date.getDate()))\n  return date\n}\n\nmodule.exports = addMonths\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * var result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nfunction getDaysInMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  var monthIndex = date.getMonth()\n  var lastDayOfMonth = new Date(0)\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0)\n  lastDayOfMonth.setHours(0, 0, 0, 0)\n  return lastDayOfMonth.getDate()\n}\n\nmodule.exports = getDaysInMonth\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: T.Dict<T.RuleActivation[]>;\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    response => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (response && response.status === 409) {\n        return Promise.reject(response);\n      } else {\n        return throwGlobalError(response);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronDownIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M7.72 11.596L3.119 6.992A.382.382 0 0 1 3 6.713c0-.108.04-.2.118-.279l1.03-1.03a.382.382 0 0 1 .278-.117c.108 0 .201.04.28.117L8 8.7l3.294-3.295a.382.382 0 0 1 .28-.117c.108 0 .2.04.279.117l1.03 1.03a.382.382 0 0 1 .117.28c0 .107-.04.2-.118.278L8.28 11.596a.382.382 0 0 1-.279.117.382.382 0 0 1-.28-.117z\", style: { fill: fill } })));\n}\nexports.default = ChevronDownIcon;\n//# sourceMappingURL=ChevronDownIcon.js.map","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CLASS_SIDEBAR_PAGE = 'sidebar-page';\nvar CLASS_WHITE_PAGE = 'white-page';\nvar CLASS_NO_FOOTER_PAGE = 'no-footer-page';\nfunction addSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, true);\n}\nexports.addSideBarClass = addSideBarClass;\nfunction addWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, true);\n}\nexports.addWhitePageClass = addWhitePageClass;\nfunction addNoFooterPageClass() {\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, true);\n}\nexports.addNoFooterPageClass = addNoFooterPageClass;\nfunction removeSideBarClass() {\n    toggleBodyClass(CLASS_SIDEBAR_PAGE, false);\n}\nexports.removeSideBarClass = removeSideBarClass;\nfunction removeWhitePageClass() {\n    toggleBodyClass(CLASS_WHITE_PAGE, false);\n}\nexports.removeWhitePageClass = removeWhitePageClass;\nfunction removeNoFooterPageClass() {\n    toggleBodyClass(CLASS_NO_FOOTER_PAGE, false);\n}\nexports.removeNoFooterPageClass = removeNoFooterPageClass;\nfunction toggleBodyClass(className, force) {\n    document.body.classList.toggle(className, force);\n    if (document.documentElement) {\n        document.documentElement.classList.toggle(className, force);\n    }\n}\n//# sourceMappingURL=pages.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ChevronDownIcon_1 = require(\"./ChevronDownIcon\");\nvar ChevronRightIcon_1 = require(\"./ChevronRightIcon\");\nfunction OpenCloseIcon(_a) {\n    var open = _a.open, props = __rest(_a, [\"open\"]);\n    return open ? React.createElement(ChevronDownIcon_1.default, __assign({}, props)) : React.createElement(ChevronRightIcon_1.default, __assign({}, props));\n}\nexports.default = OpenCloseIcon;\n//# sourceMappingURL=OpenCloseIcon.js.map","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} month - the month of the new date\n * @returns {Date} the new date with the month setted\n *\n * @example\n * // Set February to 1 September 2014:\n * var result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nfunction setMonth (dirtyDate, dirtyMonth) {\n  var date = parse(dirtyDate)\n  var month = Number(dirtyMonth)\n  var year = date.getFullYear()\n  var day = date.getDate()\n\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(year, month, 15)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(month, Math.min(day, daysInMonth))\n  return date\n}\n\nmodule.exports = setMonth\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getMarkdownHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class MarkdownTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(getMarkdownHelpUrl(), 'Markdown', 'height=300,width=600,scrollbars=1,resizable=1');\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('markdown.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} year - the year of the new date\n * @returns {Date} the new date with the year setted\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * var result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nfunction setYear (dirtyDate, dirtyYear) {\n  var date = parse(dirtyDate)\n  var year = Number(dirtyYear)\n  date.setFullYear(year)\n  return date\n}\n\nmodule.exports = setYear\n","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted\n * @returns {Date} the new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * var result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction subMonths (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMonths(dirtyDate, -amount)\n}\n\nmodule.exports = subMonths\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ChevronLeftIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\", style: { fill: fill } })));\n}\nexports.default = ChevronLeftIcon;\n//# sourceMappingURL=ChevronLeftIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess && allShown && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n            {translate('show_less')}\n          </a>\n        )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { queriesEqual } from 'sonar-ui-common/helpers/query';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<T.Dict<number>>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: T.Dict<string | string[]>) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: T.RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: T.Dict<number> | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: T.Dict<number>;\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else {\n      this.props.onChange({ [this.props.property]: [] });\n    }\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(\n          Object.keys(stats),\n          key => -stats[key],\n          key => this.props.getFacetItemText(key)\n        );\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\">⋯</div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults && this.state.showFullList && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        {this.props.open && !disabled && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nfunction highlightTerm(str, term) {\n    var pos = str.toLowerCase().indexOf(term.toLowerCase());\n    return pos !== -1 ? (React.createElement(React.Fragment, null,\n        pos > 0 && str.substring(0, pos),\n        React.createElement(\"mark\", null, str.substr(pos, term.length)),\n        pos + term.length < str.length && str.substring(pos + term.length))) : (str);\n}\nexports.highlightTerm = highlightTerm;\n//# sourceMappingURL=search.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport CalendarIcon from 'sonar-ui-common/components/icons/CalendarIcon';\nimport ChevronLeftIcon from 'sonar-ui-common/components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport {\n  getShortMonthName,\n  getShortWeekDayName,\n  getWeekDayName\n} from 'sonar-ui-common/helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoad(() => import('react-day-picker'));\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction CalendarIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"path\", { d: \"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\", style: { fill: fill } })));\n}\nexports.default = CalendarIcon;\n//# sourceMappingURL=CalendarIcon.js.map","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport HomeIcon from 'sonar-ui-common/components/icons/HomeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isLoggedIn } from '../../helpers/users';\nimport { getCurrentUser, Store } from '../../store/rootReducer';\nimport { setHomePage } from '../../store/users';\n\ninterface StateProps {\n  currentUser: T.CurrentUser;\n}\n\ninterface DispatchProps {\n  setHomePage: (homepage: T.HomePage) => void;\n}\n\ninterface Props extends StateProps, DispatchProps {\n  className?: string;\n  currentPage: T.HomePage;\n}\n\nclass HomePageSelect extends React.PureComponent<Props> {\n  handleClick = () => {\n    this.props.setHomePage(this.props.currentPage);\n  };\n\n  render() {\n    const { currentPage, currentUser } = this.props;\n\n    if (!isLoggedIn(currentUser)) {\n      return null;\n    }\n\n    const { homepage } = currentUser;\n    const checked = homepage !== undefined && isSameHomePage(homepage, currentPage);\n    const tooltip = checked ? translate('homepage.current') : translate('homepage.check');\n\n    return (\n      <Tooltip overlay={tooltip}>\n        {checked ? (\n          <span\n            aria-label={tooltip}\n            className={classNames('display-inline-block', this.props.className)}>\n            <HomeIcon filled={checked} />\n          </span>\n        ) : (\n          <ButtonLink\n            aria-label={tooltip}\n            className={classNames('link-no-underline', 'set-homepage-link', this.props.className)}\n            onClick={this.handleClick}>\n            <HomeIcon filled={checked} />\n          </ButtonLink>\n        )}\n      </Tooltip>\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  currentUser: getCurrentUser(state)\n});\n\nconst mapDispatchToProps: DispatchProps = { setHomePage };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePageSelect);\n\nfunction isSameHomePage(a: T.HomePage, b: T.HomePage) {\n  return (\n    a.type === b.type &&\n    (a as any).branch === (b as any).branch &&\n    (a as any).component === (b as any).component &&\n    (a as any).organization === (b as any).organization\n  );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar theme_1 = require(\"../theme\");\nvar Icon_1 = require(\"./Icon\");\nfunction HomeIcon(_a) {\n    var className = _a.className, fill = _a.fill, _b = _a.filled, filled = _b === void 0 ? false : _b, size = _a.size;\n    return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(Icon_1.default, { className: classNames(className, 'icon-outline', { 'is-filled': filled }), size: size, style: { color: fill || theme.colors.orange } },\n        React.createElement(\"g\", { transform: \"matrix(0.870918,0,0,0.870918,0.978227,0.978227)\" },\n            React.createElement(\"path\", { d: \"M15.9,7.8L8.2,0.1C8.1,0 7.9,0 7.8,0.1L0.1,7.8C0,7.9 0,8.1 0.1,8.2C0.2,8.3 0.2,8.3 0.3,8.3L2.2,8.3L2.2,15.8C2.2,15.9 2.2,15.9 2.3,16C2.3,16 2.4,16.1 2.5,16.1L6.2,16.1C6.3,16.1 6.5,16 6.5,15.8L6.5,10.5L9.7,10.5L9.7,15.8C9.7,15.9 9.8,16.1 10,16.1L13.7,16.1C13.8,16.1 14,16 14,15.8L14,8.2L15.9,8.2C16,8.2 16,8.2 16.1,8.1C16,8 16.1,7.9 15.9,7.8Z\" })))); }));\n}\nexports.default = HomeIcon;\n//# sourceMappingURL=HomeIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationIndex.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  leading?: boolean;\n  onClick?: () => void;\n  selected?: boolean;\n  [x: string]: any;\n}\n\nexport default function LocationIndex(props: Props) {\n  const { children, leading, onClick, selected, ...other } = props;\n  const clickAttributes = onClick ? { onClick, role: 'button', tabIndex: 0 } : {};\n  // put {...others} because Tooltip sets some event handlers\n  return (\n    <div\n      className={classNames('location-index', {\n        'is-leading': leading,\n        selected\n      })}\n      {...clickAttributes}\n      {...other}>\n      {children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport StatusIcon from 'sonar-ui-common/components/icons/StatusIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  resolution: string | undefined;\n  status: string;\n}\n\nexport default function StatusHelper(props: Props) {\n  const resolution = props.resolution && ` (${translate('issue.resolution', props.resolution)})`;\n  return (\n    <span className={props.className}>\n      <StatusIcon className=\"little-spacer-right\" status={props.status} />\n      {translate('issue.status', props.status)}\n      {resolution}\n    </span>\n  );\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nrequire(\"./Radio.css\");\nvar Radio = (function (_super) {\n    __extends(Radio, _super);\n    function Radio() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            if (!_this.props.disabled) {\n                _this.props.onCheck(_this.props.value);\n            }\n        };\n        return _this;\n    }\n    Radio.prototype.render = function () {\n        var _a = this.props, className = _a.className, checked = _a.checked, children = _a.children, disabled = _a.disabled;\n        return (React.createElement(\"a\", { \"aria-checked\": checked, className: classNames('display-inline-flex-center link-radio', className, { disabled: disabled }), href: \"#\", onClick: this.handleClick, role: \"radio\" },\n            React.createElement(\"i\", { className: classNames('icon-radio', 'spacer-right', { 'is-checked': checked }) }),\n            children));\n    };\n    return Radio;\n}(React.PureComponent));\nexports.default = Radio;\n//# sourceMappingURL=Radio.js.map","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./Radio.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".icon-radio{position:relative;display:inline-block;vertical-align:top;width:14px;height:14px;margin:1px;border:1px solid #cdcdcd;border-radius:12px;box-sizing:border-box;transition:border-color .3s ease;flex-shrink:0}.icon-radio:after{position:absolute;top:2px;left:2px;display:block;width:8px;height:8px;border-radius:8px;background-color:#236a97;content:\\\"\\\";opacity:0;transition:opacity .3s ease}.link-radio .icon-radio.is-checked:after{opacity:1}.link-radio{border-bottom:none}.link-radio,.link-radio:not(.disabled):active,.link-radio:not(.disabled):focus,.link-radio:not(.disabled):hover{color:inherit}.link-radio:not(.disabled):hover>.icon-radio{border-color:#4b9fd5}.link-radio.disabled,.link-radio.disabled:hover,.link-radio.disabled label{color:#bbb;cursor:not-allowed}.link-radio.disabled .icon-radio:after{background-color:#ebebeb}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\n\nconst SourceViewer = lazyLoad(\n  () => import(/* webpackPrefetch: true */ './SourceViewerBase'),\n  'SourceViewer'\n);\nexport default SourceViewer;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getStandards(): Promise<T.Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: T.Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'SONAR', withPrefix);\n  } else if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record.title, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateInput from './DateInput';\n\ntype DateRange = { from?: Date; to?: Date };\n\ninterface Props {\n  className?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  onChange: (date: DateRange) => void;\n  value?: DateRange;\n}\n\nexport default class DateRangeInput extends React.PureComponent<Props> {\n  toDateInput?: DateInput | null;\n\n  get from() {\n    return this.props.value && this.props.value.from;\n  }\n\n  get to() {\n    return this.props.value && this.props.value.to;\n  }\n\n  handleFromChange = (from: Date | undefined) => {\n    this.props.onChange({ from, to: this.to });\n\n    // use `setTimeout` to work around the immediate closing of the `toDateInput`\n    setTimeout(() => {\n      if (from && !this.to && this.toDateInput) {\n        this.toDateInput.focus();\n      }\n    }, 0);\n  };\n\n  handleToChange = (to: Date | undefined) => {\n    this.setState({ to });\n    this.props.onChange({ from: this.from, to });\n  };\n\n  render() {\n    return (\n      <div className={classNames('display-inline-flex-center', this.props.className)}>\n        <DateInput\n          currentMonth={this.to}\n          data-test=\"from\"\n          highlightTo={this.to}\n          maxDate={this.to}\n          onChange={this.handleFromChange}\n          placeholder={translate('start_date')}\n          value={this.from}\n        />\n        <span className=\"note little-spacer-left little-spacer-right\">{translate('to_')}</span>\n        <DateInput\n          currentMonth={this.from}\n          data-test=\"to\"\n          highlightFrom={this.from}\n          minDate={this.from}\n          onChange={this.handleToChange}\n          placeholder={translate('end_date')}\n          ref={element => (this.toDateInput = element)}\n          value={this.to}\n        />\n      </div>\n    );\n  }\n}\n","var startOfDay = require('../start_of_day/index.js')\n\n/**\n * @category Day Helpers\n * @summary Are the given dates in the same day?\n *\n * @description\n * Are the given dates in the same day?\n *\n * @param {Date|String|Number} dateLeft - the first date to check\n * @param {Date|String|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * var result = isSameDay(\n *   new Date(2014, 8, 4, 6, 0),\n *   new Date(2014, 8, 4, 18, 0)\n * )\n * //=> true\n */\nfunction isSameDay (dirtyDateLeft, dirtyDateRight) {\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft)\n  var dateRightStartOfDay = startOfDay(dirtyDateRight)\n\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime()\n}\n\nmodule.exports = isSameDay\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  diff: T.IssueChangelogDiff;\n}\n\nexport default function IssueChangelogDiff({ diff }: Props) {\n  if (diff.key === 'file') {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.file_move',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (['from_long_branch', 'from_branch'].includes(diff.key)) {\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'from_short_branch') {\n    // Applies to both legacy short lived branch and pull request\n    return (\n      <p>\n        {translateWithParameters(\n          'issue.change.from_non_branch',\n          diff.oldValue || '',\n          diff.newValue || ''\n        )}\n      </p>\n    );\n  } else if (diff.key === 'line') {\n    return <p>{translateWithParameters('issue.changelog.line_removed_X', diff.oldValue || '')}</p>;\n  }\n\n  let message;\n  if (diff.newValue != null) {\n    let { newValue } = diff;\n    if (diff.key === 'effort') {\n      newValue = formatMeasure(diff.newValue, 'WORK_DUR');\n    }\n    message = translateWithParameters(\n      'issue.changelog.changed_to',\n      translate('issue.changelog.field', diff.key),\n      newValue\n    );\n  } else {\n    message = translateWithParameters(\n      'issue.changelog.removed',\n      translate('issue.changelog.field', diff.key)\n    );\n  }\n\n  if (diff.oldValue != null) {\n    let { oldValue } = diff;\n    if (diff.key === 'effort') {\n      oldValue = formatMeasure(diff.oldValue, 'WORK_DUR');\n    }\n    message += ` (${translateWithParameters('issue.changelog.was', oldValue)})`;\n  }\n  return <p>{message}</p>;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar theme_1 = require(\"../theme\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar ReloadButton = (function (_super) {\n    __extends(ReloadButton, _super);\n    function ReloadButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleClick = function (event) {\n            event.preventDefault();\n            event.currentTarget.blur();\n            _this.props.onClick();\n        };\n        return _this;\n    }\n    ReloadButton.prototype.render = function () {\n        var _a = this.props.tooltip, tooltip = _a === void 0 ? l10n_1.translate('reload') : _a;\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip },\n            React.createElement(\"a\", { className: classNames('link-no-underline', this.props.className), href: \"#\", onClick: this.handleClick }, React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(\"svg\", { height: \"24\", viewBox: \"0 0 18 24\", width: \"18\" },\n                React.createElement(\"path\", { d: \"M16.6454 8.1084c-.3-.5-.9-.7-1.4-.4-.5.3-.7.9-.4 1.4.9 1.6 1.1 3.4.6 5.1-.5 1.7-1.7 3.2-3.2 4-3.3 1.8-7.4.6-9.1-2.7-1.8-3.1-.8-6.9 2.1-8.8v3.3h2v-7h-7v2h3.9c-3.7 2.5-5 7.5-2.8 11.4 1.6 3 4.6 4.6 7.7 4.6 1.4 0 2.8-.3 4.2-1.1 2-1.1 3.5-3 4.2-5.2.6-2.2.3-4.6-.8-6.6z\", fill: theme.colors.secondFontColor }))); }))));\n    };\n    return ReloadButton;\n}(React.PureComponent));\nexports.default = ReloadButton;\n//# sourceMappingURL=ReloadButton.js.map","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./EmptySearch.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationIndex.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport './LocationMessage.css';\n\ninterface Props {\n  children?: React.ReactNode;\n  selected: boolean;\n}\n\nexport default function LocationMessage(props: Props) {\n  return (\n    <div className={classNames('location-message', { selected: props.selected })}>\n      {props.children}\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./LocationMessage.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:\\\"\\\"}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./Issue.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none;word-break:break-all}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:\\\"\\\";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { IssueResponse } from '../../api/issues';\nimport { parseIssueFromResponse } from '../../helpers/issues';\n\nexport const updateIssue = (\n  onChange: (issue: T.Issue) => void,\n  resultPromise: Promise<IssueResponse>,\n  oldIssue?: T.Issue,\n  newIssue?: T.Issue\n) => {\n  const optimisticUpdate = oldIssue !== undefined && newIssue !== undefined;\n  if (optimisticUpdate) {\n    onChange(newIssue!);\n  }\n\n  resultPromise.then(\n    response => {\n      if (!optimisticUpdate) {\n        const issue = parseIssueFromResponse(\n          response.issue,\n          response.components,\n          response.users,\n          response.rules\n        );\n        onChange(issue);\n      }\n    },\n    () => {\n      if (optimisticUpdate) {\n        onChange(oldIssue!);\n      }\n    }\n  );\n};\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\n\ninterface Props {\n  active?: string;\n  className?: string;\n  item: string;\n  onHover?: (item: string) => void;\n  onSelect?: (item: string) => void;\n  title?: string;\n}\n\nexport default class SelectListItem extends React.PureComponent<Props> {\n  handleSelect = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    if (this.props.onSelect) {\n      this.props.onSelect(this.props.item);\n    }\n  };\n\n  handleHover = () => {\n    if (this.props.onHover) {\n      this.props.onHover(this.props.item);\n    }\n  };\n\n  renderLink() {\n    const children = this.props.children || this.props.item;\n    return (\n      <li>\n        <a\n          className={classNames(\n            { active: this.props.active === this.props.item },\n            this.props.className\n          )}\n          href=\"#\"\n          onClick={this.handleSelect}\n          onFocus={this.handleHover}\n          onMouseOver={this.handleHover}>\n          {children}\n        </a>\n      </li>\n    );\n  }\n\n  render() {\n    return (\n      <Tooltip overlay={this.props.title || undefined} placement=\"right\">\n        {this.renderLink()}\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as key from 'keymaster';\nimport { uniqueId } from 'lodash';\nimport * as React from 'react';\nimport SelectListItem from './SelectListItem';\n\ninterface Props {\n  className?: string;\n  items: string[];\n  currentItem: string;\n  onSelect: (item: string) => void;\n}\n\ninterface State {\n  active: string;\n}\n\nexport default class SelectList extends React.PureComponent<Props, State> {\n  currentKeyScope?: string;\n  previousFilter?: (event: any) => void;\n  previousKeyScope?: string;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      active: props.currentItem\n    };\n  }\n\n  componentDidMount() {\n    this.attachShortcuts();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.currentItem !== this.props.currentItem &&\n      !this.props.items.includes(this.state.active)\n    ) {\n      this.setState({ active: this.props.currentItem });\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    this.previousKeyScope = key.getScope();\n    this.previousFilter = key.filter;\n    this.currentKeyScope = uniqueId('key-scope');\n    key.setScope(this.currentKeyScope);\n\n    // sometimes there is a *focused* search field next to the SelectList component\n    // we need to allow shortcuts in this case, but only for the used keys\n    (key as any).filter = (event: KeyboardEvent & { target: HTMLElement }) => {\n      const { tagName } = event.target || event.srcElement;\n      const isInput = tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA';\n      return [13, 38, 40].includes(event.keyCode) || !isInput;\n    };\n\n    key('down', this.currentKeyScope, () => {\n      this.setState(this.selectNextElement);\n      return false;\n    });\n\n    key('up', this.currentKeyScope, () => {\n      this.setState(this.selectPreviousElement);\n      return false;\n    });\n\n    key('return', this.currentKeyScope, () => {\n      if (this.state.active != null) {\n        this.handleSelect(this.state.active);\n      }\n      return false;\n    });\n  };\n\n  detachShortcuts = () => {\n    if (this.previousKeyScope) {\n      key.setScope(this.previousKeyScope);\n    }\n    if (this.currentKeyScope) {\n      key.deleteScope(this.currentKeyScope);\n    }\n    (key as any).filter = this.previousFilter;\n  };\n\n  handleSelect = (item: string) => {\n    this.props.onSelect(item);\n  };\n\n  handleHover = (item: string) => {\n    this.setState({ active: item });\n  };\n\n  selectNextElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx < 0) {\n      return { active: props.items[0] };\n    }\n    return { active: props.items[(idx + 1) % props.items.length] };\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const idx = props.items.indexOf(state.active);\n    if (idx <= 0) {\n      return { active: props.items[props.items.length - 1] };\n    }\n    return { active: props.items[idx - 1] };\n  };\n\n  renderChild = (child: any) => {\n    if (child == null) {\n      return null;\n    }\n    // do not pass extra props to children like `<li className=\"divider\" />`\n    if (child.type !== SelectListItem) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      active: this.state.active,\n      onHover: this.handleHover,\n      onSelect: this.handleSelect\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const hasChildren = React.Children.count(children) > 0;\n    return (\n      <ul className={classNames('menu', this.props.className)}>\n        {hasChildren && React.Children.map(children, this.renderChild)}\n        {!hasChildren &&\n          this.props.items.map(item => (\n            <SelectListItem\n              active={this.state.active}\n              item={item}\n              key={item}\n              onHover={this.handleHover}\n              onSelect={this.handleSelect}\n            />\n          ))}\n      </ul>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { searchMembers } from '../../../api/organizations';\nimport { searchUsers } from '../../../api/users';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn, isUserActive } from '../../../helpers/users';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport { withCurrentUser } from '../../hoc/withCurrentUser';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  currentUser: T.CurrentUser;\n  issue: Pick<T.Issue, 'projectOrganization'>;\n  onSelect: (login: string) => void;\n}\n\ninterface State {\n  currentUser: string;\n  query: string;\n  users: T.UserActive[];\n}\n\nconst LIST_SIZE = 10;\n\nexport class SetAssigneePopup extends React.PureComponent<Props, State> {\n  defaultUsersArray: T.UserActive[];\n\n  constructor(props: Props) {\n    super(props);\n    this.defaultUsersArray = [{ login: '', name: translate('unassigned') }];\n\n    if (isLoggedIn(props.currentUser)) {\n      this.defaultUsersArray = [props.currentUser, ...this.defaultUsersArray];\n    }\n\n    this.state = {\n      query: '',\n      users: this.defaultUsersArray,\n      currentUser: this.defaultUsersArray.length > 0 ? this.defaultUsersArray[0].login : ''\n    };\n  }\n\n  searchMembers = (query: string) => {\n    searchMembers({\n      organization: this.props.issue.projectOrganization,\n      q: query,\n      ps: LIST_SIZE\n    }).then(this.handleSearchResult, () => {});\n  };\n\n  searchUsers = (query: string) => {\n    searchUsers({ q: query, ps: LIST_SIZE }).then(this.handleSearchResult, () => {});\n  };\n\n  handleSearchResult = ({ users }: { users: T.UserBase[] }) => {\n    const activeUsers = users.filter(isUserActive);\n    this.setState({\n      users: activeUsers,\n      currentUser: activeUsers.length > 0 ? activeUsers[0].login : ''\n    });\n  };\n\n  handleSearchChange = (query: string) => {\n    if (query.length === 0) {\n      this.setState({\n        query,\n        users: this.defaultUsersArray,\n        currentUser: this.defaultUsersArray[0].login\n      });\n    } else {\n      this.setState({ query });\n      if (isSonarCloud()) {\n        this.searchMembers(query);\n      } else {\n        this.searchUsers(query);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <DropdownOverlay noPadding={true}>\n        <div className=\"multi-select\">\n          <div className=\"menu-search\">\n            <SearchBox\n              autoFocus={true}\n              className=\"little-spacer-top\"\n              minLength={2}\n              onChange={this.handleSearchChange}\n              placeholder={translate('search.search_for_users')}\n              value={this.state.query}\n            />\n          </div>\n          <SelectList\n            currentItem={this.state.currentUser}\n            items={map(this.state.users, 'login')}\n            onSelect={this.props.onSelect}>\n            {this.state.users.map(user => (\n              <SelectListItem item={user.login} key={user.login}>\n                {!!user.login && (\n                  <Avatar className=\"spacer-right\" hash={user.avatar} name={user.name} size={16} />\n                )}\n                <span className=\"text-middle\" style={{ marginLeft: user.login ? 24 : undefined }}>\n                  {user.name}\n                </span>\n              </SelectListItem>\n            ))}\n          </SelectList>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n\nexport default withCurrentUser(SetAssigneePopup);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport Avatar from '../../ui/Avatar';\nimport SetAssigneePopup from '../popups/SetAssigneePopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<\n    T.Issue,\n    'assignee' | 'assigneeActive' | 'assigneeAvatar' | 'assigneeName' | 'projectOrganization'\n  >;\n  canAssign: boolean;\n  onAssign: (login: string) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueAssign extends React.PureComponent<Props> {\n  toggleAssign = (open?: boolean) => {\n    this.props.togglePopup('assign', open);\n  };\n\n  handleClose = () => {\n    this.toggleAssign(false);\n  };\n\n  renderAssignee() {\n    const { issue } = this.props;\n    const assigneeName = issue.assigneeName || issue.assignee;\n\n    if (assigneeName) {\n      return (\n        <>\n          <span className=\"text-top\">\n            <Avatar\n              className=\"little-spacer-right\"\n              hash={issue.assigneeAvatar}\n              name={issue.assigneeName || issue.assignee}\n              size={16}\n            />\n          </span>\n          <span className=\"issue-meta-label\">\n            {issue.assigneeActive === false\n              ? translateWithParameters('user.x_deleted', assigneeName)\n              : assigneeName}\n          </span>\n        </>\n      );\n    }\n\n    return <span className=\"issue-meta-label\">{translate('unassigned')}</span>;\n  }\n\n  render() {\n    if (this.props.canAssign) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            closeOnEscape={true}\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canAssign}\n            overlay={<SetAssigneePopup issue={this.props.issue} onSelect={this.props.onAssign} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-assign\"\n              onClick={this.toggleAssign}>\n              {this.renderAssignee()}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return this.renderAssignee();\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MarkdownTips from '../../common/MarkdownTips';\n\ninterface Props {\n  comment?: Pick<T.IssueComment, 'markdown'>;\n  onComment: (text: string) => void;\n  toggleComment: (visible: boolean) => void;\n  placeholder: string;\n  placement?: PopupPlacement;\n  autoTriggered?: boolean;\n}\n\ninterface State {\n  textComment: string;\n}\n\nexport default class CommentPopup extends React.PureComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      textComment: props.comment ? props.comment.markdown : ''\n    };\n  }\n\n  handleCommentChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ textComment: event.target.value });\n  };\n\n  handleCommentClick = () => {\n    if (this.state.textComment.trim().length > 0) {\n      this.props.onComment(this.state.textComment);\n    }\n  };\n\n  handleCancelClick = () => {\n    this.props.toggleComment(false);\n  };\n\n  handleKeyboard = (event: React.KeyboardEvent) => {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      // Ctrl + Enter\n      this.handleCommentClick();\n    } else if ([37, 38, 39, 40].includes(event.keyCode)) {\n      // Arrow keys\n      event.stopPropagation();\n    }\n  };\n\n  render() {\n    const { comment, autoTriggered } = this.props;\n    return (\n      <DropdownOverlay placement={this.props.placement}>\n        <div className=\"issue-comment-bubble-popup\">\n          <div className=\"issue-comment-form-text\">\n            <textarea\n              autoFocus={true}\n              onChange={this.handleCommentChange}\n              onKeyDown={this.handleKeyboard}\n              placeholder={this.props.placeholder}\n              rows={2}\n              value={this.state.textComment}\n            />\n          </div>\n          <div className=\"issue-comment-form-footer\">\n            <div className=\"issue-comment-form-actions\">\n              <Button\n                className=\"js-issue-comment-submit little-spacer-right\"\n                disabled={this.state.textComment.trim().length < 1}\n                onClick={this.handleCommentClick}>\n                {comment && translate('save')}\n                {!comment && translate('issue.comment.submit')}\n              </Button>\n              <ResetButtonLink className=\"js-issue-comment-cancel\" onClick={this.handleCancelClick}>\n                {autoTriggered ? translate('skip') : translate('cancel')}\n              </ResetButtonLink>\n            </div>\n            <div className=\"issue-comment-form-tips\">\n              <MarkdownTips />\n            </div>\n          </div>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { addIssueComment } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  commentAutoTriggered?: boolean;\n  commentPlaceholder: string;\n  currentPopup?: string;\n  issueKey: string;\n  onChange: (issue: T.Issue) => void;\n  toggleComment: (open?: boolean, placeholder?: string, autoTriggered?: boolean) => void;\n}\n\nexport default class IssueCommentAction extends React.PureComponent<Props> {\n  addComment = (text: string) => {\n    updateIssue(this.props.onChange, addIssueComment({ issue: this.props.issueKey, text }));\n    this.props.toggleComment(false);\n  };\n\n  handleCommentClick = () => {\n    this.props.toggleComment();\n  };\n\n  handleClose = () => {\n    this.props.toggleComment(false);\n  };\n\n  render() {\n    return (\n      <li className=\"issue-meta dropdown\">\n        <Toggler\n          closeOnClickOutside={false}\n          onRequestClose={this.handleClose}\n          open={this.props.currentPopup === 'comment'}\n          overlay={\n            <CommentPopup\n              autoTriggered={this.props.commentAutoTriggered}\n              onComment={this.addComment}\n              placeholder={this.props.commentPlaceholder}\n              toggleComment={this.props.toggleComment}\n            />\n          }>\n          <ButtonLink className=\"issue-action js-issue-comment\" onClick={this.handleCommentClick}>\n            <span className=\"issue-meta-label\">{translate('issue.comment.formlink')}</span>\n          </ButtonLink>\n        </Toggler>\n      </li>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ntype Props = {\n  issue: Pick<T.Issue, 'severity'>;\n  onSelect: (severity: string) => void;\n};\n\nconst SEVERITY = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\nexport default function SetSeverityPopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.severity} items={SEVERITY} onSelect={onSelect}>\n        {SEVERITY.map(severity => (\n          <SelectListItem className=\"display-flex-center\" item={severity} key={severity}>\n            <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n            {translate('severity', severity)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { IssueResponse, setIssueSeverity } from '../../../api/issues';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport SetSeverityPopup from '../popups/SetSeverityPopup';\n\ninterface Props {\n  canSetSeverity: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'severity'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueSeverity extends React.PureComponent<Props> {\n  toggleSetSeverity = (open?: boolean) => {\n    this.props.togglePopup('set-severity', open);\n  };\n\n  setSeverity = (severity: string) => {\n    this.props.setIssueProperty('severity', 'set-severity', setIssueSeverity, severity);\n  };\n\n  handleClose = () => {\n    this.toggleSetSeverity(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetSeverity) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetSeverity}\n            overlay={<SetSeverityPopup issue={issue} onSelect={this.setSeverity} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-severity\"\n              onClick={this.toggleSetSeverity}>\n              <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return <SeverityHelper className=\"issue-meta-label\" severity={issue.severity} />;\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, without } from 'lodash';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { searchIssueTags } from '../../../api/issues';\nimport TagsSelector from '../../tags/TagsSelector';\n\ninterface Props {\n  organization: string;\n  selectedTags: string[];\n  setTags: (tags: string[]) => void;\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class SetIssueTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return searchIssueTags({\n      q: query,\n      ps: Math.min(this.props.selectedTags.length - 1 + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      (tags: string[]) => {\n        if (this.mounted) {\n          this.setState({ searchResult: tags });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags([...this.props.selectedTags, tag]);\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.selectedTags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.selectedTags);\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <TagsSelector\n          listSize={LIST_SIZE}\n          onSearch={this.onSearch}\n          onSelect={this.onSelect}\n          onUnselect={this.onUnselect}\n          selectedTags={this.props.selectedTags}\n          tags={availableTags}\n        />\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { setIssueTags } from '../../../api/issues';\nimport TagsList from '../../tags/TagsList';\nimport { updateIssue } from '../actions';\nimport SetIssueTagsPopup from '../popups/SetIssueTagsPopup';\n\ninterface Props {\n  canSetTags: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'key' | 'projectOrganization' | 'tags'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTags extends React.PureComponent<Props> {\n  toggleSetTags = (open?: boolean) => {\n    this.props.togglePopup('edit-tags', open);\n  };\n\n  setTags = (tags: string[]) => {\n    const { issue } = this.props;\n    const newIssue = { ...issue, tags };\n    updateIssue(\n      this.props.onChange,\n      setIssueTags({ issue: issue.key, tags: tags.join(',') }),\n      issue as T.Issue,\n      newIssue as T.Issue\n    );\n  };\n\n  handleClose = () => {\n    this.toggleSetTags(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    const { tags = [] } = issue;\n\n    if (this.props.canSetTags) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen}\n            overlay={\n              <SetIssueTagsPopup\n                organization={issue.projectOrganization}\n                selectedTags={tags}\n                setTags={this.setTags}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-edit-tags\"\n              onClick={this.toggleSetTags}>\n              <TagsList\n                allowUpdate={this.props.canSetTags}\n                tags={\n                  issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]\n                }\n              />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <TagsList\n          allowUpdate={this.props.canSetTags}\n          className=\"note\"\n          tags={issue.tags && issue.tags.length > 0 ? issue.tags : [translate('issue.no_tag')]}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { hasMessage, translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\nexport interface Props {\n  fromHotspot: boolean;\n  onSelect: (transition: string) => void;\n  transitions: string[];\n  type: T.IssueType;\n}\n\nexport default function SetTransitionPopup({ fromHotspot, onSelect, transitions, type }: Props) {\n  const isManualVulnerability = fromHotspot && type === 'VULNERABILITY';\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={transitions[0]} items={transitions} onSelect={onSelect}>\n        {transitions.map(transition => {\n          const [name, description] = translateTransition(transition, isManualVulnerability);\n          return (\n            <SelectListItem item={transition} key={transition} title={description}>\n              {name}\n            </SelectListItem>\n          );\n        })}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n\nfunction translateTransition(transition: string, isManualVulnerability: boolean) {\n  return isManualVulnerability && hasMessage('vulnerability.transition', transition)\n    ? [\n        translate('vulnerability.transition', transition),\n        translate('vulnerability.transition', transition, 'description')\n      ]\n    : [\n        translate('issue.transition', transition),\n        translate('issue.transition', transition, 'description')\n      ];\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport { setIssueTransition } from '../../../api/issues';\nimport StatusHelper from '../../shared/StatusHelper';\nimport { updateIssue } from '../actions';\nimport SetTransitionPopup from '../popups/SetTransitionPopup';\n\ninterface Props {\n  hasTransitions: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'fromHotspot' | 'key' | 'resolution' | 'status' | 'transitions' | 'type'>;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueTransition extends React.PureComponent<Props> {\n  setTransition = (transition: string) => {\n    updateIssue(\n      this.props.onChange,\n      setIssueTransition({ issue: this.props.issue.key, transition })\n    );\n    this.toggleSetTransition();\n  };\n\n  toggleSetTransition = (open?: boolean) => {\n    this.props.togglePopup('transition', open);\n  };\n\n  handleClose = () => {\n    this.toggleSetTransition(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    if (this.props.hasTransitions) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.hasTransitions}\n            overlay={\n              <SetTransitionPopup\n                fromHotspot={issue.fromHotspot}\n                onSelect={this.setTransition}\n                transitions={issue.transitions}\n                type={issue.type}\n              />\n            }>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-transition\"\n              onClick={this.toggleSetTransition}>\n              <StatusHelper\n                className=\"issue-meta-label\"\n                resolution={issue.resolution}\n                status={issue.status}\n              />\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <StatusHelper\n          className=\"issue-meta-label\"\n          resolution={issue.resolution}\n          status={issue.status}\n        />\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\n\ninterface Props {\n  issue: Pick<T.Issue, 'type'>;\n  onSelect: (type: T.IssueType) => void;\n}\n\nconst TYPES = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\nexport default function SetTypePopup({ issue, onSelect }: Props) {\n  return (\n    <DropdownOverlay>\n      <SelectList currentItem={issue.type} items={TYPES} onSelect={onSelect}>\n        {TYPES.map(type => (\n          <SelectListItem className=\"display-flex-center\" item={type} key={type}>\n            <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n            {translate('issue.type', type)}\n          </SelectListItem>\n        ))}\n      </SelectList>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse, setIssueType } from '../../../api/issues';\nimport { colors } from '../../../app/theme';\nimport SetTypePopup from '../popups/SetTypePopup';\n\ninterface Props {\n  canSetType: boolean;\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'type'>;\n  setIssueProperty: (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueType extends React.PureComponent<Props> {\n  toggleSetType = (open?: boolean) => {\n    this.props.togglePopup('set-type', open);\n  };\n\n  setType = (type: string) => {\n    this.props.setIssueProperty('type', 'set-type', setIssueType, type);\n  };\n\n  handleClose = () => {\n    this.toggleSetType(false);\n  };\n\n  render() {\n    const { issue } = this.props;\n    if (this.props.canSetType) {\n      return (\n        <div className=\"dropdown\">\n          <Toggler\n            onRequestClose={this.handleClose}\n            open={this.props.isOpen && this.props.canSetType}\n            overlay={<SetTypePopup issue={issue} onSelect={this.setType} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-set-type\"\n              onClick={this.toggleSetType}>\n              <IssueTypeIcon\n                className=\"little-spacer-right\"\n                fill={colors.baseFontColor}\n                query={issue.type}\n              />\n              {translate('issue.type', issue.type)}\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Toggler>\n        </div>\n      );\n    } else {\n      return (\n        <span>\n          <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n          {translate('issue.type', issue.type)}\n        </span>\n      );\n    }\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { IssueResponse } from '../../../api/issues';\nimport { updateIssue } from '../actions';\nimport IssueAssign from './IssueAssign';\nimport IssueCommentAction from './IssueCommentAction';\nimport IssueSeverity from './IssueSeverity';\nimport IssueTags from './IssueTags';\nimport IssueTransition from './IssueTransition';\nimport IssueType from './IssueType';\n\ninterface Props {\n  issue: T.Issue;\n  currentPopup?: string;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\ninterface State {\n  commentAutoTriggered: boolean;\n  commentPlaceholder: string;\n}\n\nexport default class IssueActionsBar extends React.PureComponent<Props, State> {\n  state: State = {\n    commentAutoTriggered: false,\n    commentPlaceholder: ''\n  };\n\n  setIssueProperty = (\n    property: keyof T.Issue,\n    popup: string,\n    apiCall: (query: T.RawQuery) => Promise<IssueResponse>,\n    value: string\n  ) => {\n    const { issue } = this.props;\n    if (issue[property] !== value) {\n      const newIssue = { ...issue, [property]: value };\n      updateIssue(\n        this.props.onChange,\n        apiCall({ issue: issue.key, [property]: value }),\n        issue,\n        newIssue\n      );\n    }\n    this.props.togglePopup(popup, false);\n  };\n\n  toggleComment = (open: boolean | undefined, placeholder = '', autoTriggered = false) => {\n    this.setState({\n      commentPlaceholder: placeholder,\n      commentAutoTriggered: autoTriggered\n    });\n    this.props.togglePopup('comment', open);\n  };\n\n  handleTransition = (issue: T.Issue) => {\n    this.props.onChange(issue);\n    if (\n      issue.resolution === 'FALSE-POSITIVE' ||\n      (issue.resolution === 'WONTFIX' && issue.type !== 'SECURITY_HOTSPOT')\n    ) {\n      this.toggleComment(true, translate('issue.comment.explain_why'), true);\n    }\n  };\n\n  render() {\n    const { issue } = this.props;\n    const canAssign = issue.actions.includes('assign');\n    const canComment = issue.actions.includes('comment');\n    const canSetSeverity = issue.actions.includes('set_severity');\n    const canSetType = issue.actions.includes('set_type');\n    const canSetTags = issue.actions.includes('set_tags');\n    const hasTransitions = issue.transitions && issue.transitions.length > 0;\n    const isSecurityHotspot = issue.type === 'SECURITY_HOTSPOT';\n\n    return (\n      <div className=\"issue-actions\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueType\n              canSetType={canSetType}\n              isOpen={this.props.currentPopup === 'set-type' && canSetType}\n              issue={issue}\n              setIssueProperty={this.setIssueProperty}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && (\n            <li className=\"issue-meta\">\n              <IssueSeverity\n                canSetSeverity={canSetSeverity}\n                isOpen={this.props.currentPopup === 'set-severity' && canSetSeverity}\n                issue={issue}\n                setIssueProperty={this.setIssueProperty}\n                togglePopup={this.props.togglePopup}\n              />\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <IssueTransition\n              hasTransitions={hasTransitions}\n              isOpen={this.props.currentPopup === 'transition' && hasTransitions}\n              issue={issue}\n              onChange={this.handleTransition}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          <li className=\"issue-meta\">\n            <IssueAssign\n              canAssign={canAssign}\n              isOpen={this.props.currentPopup === 'assign' && canAssign}\n              issue={issue}\n              onAssign={this.props.onAssign}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n          {!isSecurityHotspot && issue.effort && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\">\n                {translateWithParameters('issue.x_effort', issue.effort)}\n              </span>\n            </li>\n          )}\n          {canComment && (\n            <IssueCommentAction\n              commentAutoTriggered={this.state.commentAutoTriggered}\n              commentPlaceholder={this.state.commentPlaceholder}\n              currentPopup={this.props.currentPopup}\n              issueKey={issue.key}\n              onChange={this.props.onChange}\n              toggleComment={this.toggleComment}\n            />\n          )}\n        </ul>\n        <ul className=\"list-inline\">\n          <li className=\"issue-meta js-issue-tags\">\n            <IssueTags\n              canSetTags={canSetTags}\n              isOpen={this.props.currentPopup === 'edit-tags' && canSetTags}\n              issue={issue}\n              onChange={this.props.onChange}\n              togglePopup={this.props.togglePopup}\n            />\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onDelete: () => void;\n}\n\nexport default function CommentDeletePopup({ onDelete }: Props) {\n  return (\n    <DropdownOverlay placement={PopupPlacement.BottomRight}>\n      <div className=\"menu is-container\">\n        <div className=\"spacer-bottom\">{translate('issue.comment.delete_confirm_message')}</div>\n        <Button className=\"button-red\" onClick={onDelete}>\n          {translate('delete')}\n        </Button>\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sanitize } from 'dompurify';\nimport * as React from 'react';\nimport { DeleteButton, EditButton } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport DateFromNow from '../../intl/DateFromNow';\nimport Avatar from '../../ui/Avatar';\nimport CommentDeletePopup from '../popups/CommentDeletePopup';\nimport CommentPopup from '../popups/CommentPopup';\n\ninterface Props {\n  comment: T.IssueComment;\n  onDelete: (comment: string) => void;\n  onEdit: (comment: string, text: string) => void;\n}\n\ninterface State {\n  openPopup: string;\n}\n\nexport default class IssueCommentLine extends React.PureComponent<Props, State> {\n  state: State = {\n    openPopup: ''\n  };\n\n  handleEdit = (text: string) => {\n    this.props.onEdit(this.props.comment.key, text);\n    this.toggleEditPopup(false);\n  };\n\n  handleDelete = () => {\n    this.props.onDelete(this.props.comment.key);\n    this.toggleDeletePopup(false);\n  };\n\n  togglePopup = (popupName: string, force?: boolean) => {\n    this.setState(prevState => {\n      if (prevState.openPopup !== popupName && force !== false) {\n        return { openPopup: popupName };\n      } else if (prevState.openPopup === popupName && force !== true) {\n        return { openPopup: '' };\n      }\n      return prevState;\n    });\n  };\n\n  toggleDeletePopup = (force?: boolean) => {\n    this.togglePopup('delete', force);\n  };\n\n  toggleEditPopup = (force?: boolean) => {\n    this.togglePopup('edit', force);\n  };\n\n  closePopups = () => {\n    this.setState({ openPopup: '' });\n  };\n\n  render() {\n    const { comment } = this.props;\n    const author = comment.authorName || comment.author;\n    const displayName =\n      comment.authorActive === false && author\n        ? translateWithParameters('user.x_deleted', author)\n        : author;\n    return (\n      <div className=\"issue-comment\">\n        <div className=\"issue-comment-author\" title={displayName}>\n          <Avatar\n            className=\"little-spacer-right\"\n            hash={comment.authorAvatar}\n            name={author}\n            size={16}\n          />\n          {displayName}\n        </div>\n        <div\n          className=\"issue-comment-text markdown\"\n          dangerouslySetInnerHTML={{ __html: sanitize(comment.htmlText) }}\n        />\n        <div className=\"issue-comment-age\">\n          <DateFromNow date={comment.createdAt} />\n        </div>\n        <div className=\"issue-comment-actions\">\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                closeOnClickOutside={false}\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'edit'}\n                overlay={\n                  <CommentPopup\n                    comment={comment}\n                    onComment={this.handleEdit}\n                    placeholder=\"\"\n                    placement={PopupPlacement.BottomRight}\n                    toggleComment={this.toggleEditPopup}\n                  />\n                }>\n                <EditButton\n                  className=\"js-issue-comment-edit button-small\"\n                  onClick={this.toggleEditPopup}\n                />\n              </Toggler>\n            </div>\n          )}\n          {comment.updatable && (\n            <div className=\"dropdown\">\n              <Toggler\n                onRequestClose={this.closePopups}\n                open={this.state.openPopup === 'delete'}\n                overlay={<CommentDeletePopup onDelete={this.handleDelete} />}>\n                <DeleteButton\n                  className=\"js-issue-comment-delete button-small\"\n                  onClick={this.toggleDeletePopup}\n                />\n              </Toggler>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getIssueChangelog } from '../../../api/issues';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport Avatar from '../../ui/Avatar';\nimport IssueChangelogDiff from '../components/IssueChangelogDiff';\n\ninterface Props {\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n}\n\ninterface State {\n  changelog: T.IssueChangelog[];\n}\n\nexport default class ChangelogPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { changelog: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadChangelog();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadChangelog() {\n    getIssueChangelog(this.props.issue.key).then(\n      ({ changelog }) => {\n        if (this.mounted) {\n          this.setState({ changelog });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    const { issue } = this.props;\n    const { author } = issue;\n    return (\n      <DropdownOverlay placement={PopupPlacement.BottomRight}>\n        <div className=\"menu is-container issue-changelog\">\n          <table className=\"spaced\">\n            <tbody>\n              <tr>\n                <td className=\"thin text-left text-top nowrap\">\n                  <DateTimeFormatter date={issue.creationDate} />\n                </td>\n                <td className=\"text-left text-top\">\n                  {author ? `${translate('created_by')} ${author}` : translate('created')}\n                </td>\n              </tr>\n\n              {this.state.changelog.map((item, idx) => {\n                const userName = item.userName || item.user;\n\n                return (\n                  <tr key={idx}>\n                    <td className=\"thin text-left text-top nowrap\">\n                      <DateTimeFormatter date={item.creationDate} />\n                    </td>\n                    <td className=\"text-left text-top\">\n                      {userName && (\n                        <p>\n                          <Avatar\n                            className=\"little-spacer-right\"\n                            hash={item.avatar}\n                            name={userName}\n                            size={16}\n                          />\n                          {item.isUserActive\n                            ? userName\n                            : translateWithParameters('user.x_deleted', userName)}\n                        </p>\n                      )}\n                      {item.diffs.map(diff => (\n                        <IssueChangelogDiff diff={diff} key={diff.key} />\n                      ))}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport DateFromNow from '../../intl/DateFromNow';\nimport DateTimeFormatter from '../../intl/DateTimeFormatter';\nimport ChangelogPopup from '../popups/ChangelogPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: Pick<T.Issue, 'author' | 'creationDate' | 'key'>;\n  creationDate: string;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default class IssueChangelog extends React.PureComponent<Props> {\n  toggleChangelog = (open?: boolean) => {\n    this.props.togglePopup('changelog', open);\n  };\n\n  handleClick = () => {\n    this.toggleChangelog();\n  };\n\n  handleClose = () => {\n    this.toggleChangelog(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<ChangelogPopup issue={this.props.issue} />}>\n          <Tooltip\n            mouseEnterDelay={0.5}\n            overlay={<DateTimeFormatter date={this.props.creationDate} />}>\n            <ButtonLink\n              className=\"issue-action issue-action-with-options js-issue-show-changelog\"\n              onClick={this.handleClick}>\n              <span className=\"issue-meta-label\">\n                <DateFromNow date={this.props.creationDate} />\n              </span>\n              <DropdownIcon className=\"little-spacer-left\" />\n            </ButtonLink>\n          </Tooltip>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\nexport interface IssueMessageProps {\n  engine?: string;\n  manualVulnerability: boolean;\n  message: string;\n  onOpenRule: WorkspaceContextShape['openRule'];\n  organization: string;\n  ruleKey: string;\n}\n\nexport default function IssueMessage(props: IssueMessageProps) {\n  const { engine, manualVulnerability, message, organization, ruleKey } = props;\n\n  return (\n    <div className=\"issue-message\">\n      <span className=\"spacer-right\">{message}</span>\n      <ButtonLink\n        aria-label={translate('issue.why_this_issue.long')}\n        className=\"issue-see-rule spacer-right\"\n        onClick={() => props.onOpenRule({ key: ruleKey, organization })}>\n        {translate('issue.why_this_issue')}\n      </ButtonLink>\n\n      {engine && (\n        <Tooltip overlay={translateWithParameters('issue.from_external_rule_engine', engine)}>\n          <div className=\"badge spacer-right text-top\">{engine}</div>\n        </Tooltip>\n      )}\n      {manualVulnerability && (\n        <Tooltip overlay={translate('issue.manual_vulnerability.description')}>\n          <div className=\"badge spacer-right text-top\">\n            {translate('issue.manual_vulnerability')}\n          </div>\n        </Tooltip>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { fileFromPath, limitComponentName } from 'sonar-ui-common/helpers/path';\nimport SelectList from '../../common/SelectList';\nimport SelectListItem from '../../common/SelectListItem';\nimport SeverityHelper from '../../shared/SeverityHelper';\nimport StatusHelper from '../../shared/StatusHelper';\nimport Avatar from '../../ui/Avatar';\n\ninterface Props {\n  issue: T.Issue;\n  onFilter: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesPopup extends React.PureComponent<Props> {\n  handleSelect = (property: string) => {\n    this.props.onFilter(property, this.props.issue);\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const items = [\n      'type',\n      'severity',\n      'status',\n      'resolution',\n      'assignee',\n      'rule',\n      ...(issue.tags || []).map(tag => `tag###${tag}`),\n      'project',\n      issue.subProject ? 'module' : undefined,\n      'file'\n    ].filter(item => item) as string[];\n\n    const assignee = issue.assigneeName || issue.assignee;\n\n    return (\n      <DropdownOverlay noPadding={true}>\n        <header className=\"menu-search\">\n          <h6>{translate('issue.filter_similar_issues')}</h6>\n        </header>\n\n        <SelectList\n          className=\"issues-similar-issues-menu\"\n          currentItem={items[0]}\n          items={items}\n          onSelect={this.handleSelect}>\n          <SelectListItem className=\"display-flex-center\" item=\"type\">\n            <IssueTypeIcon className=\"little-spacer-right\" query={issue.type} />\n            {translate('issue.type', issue.type)}\n          </SelectListItem>\n\n          <SelectListItem item=\"severity\">\n            <SeverityHelper className=\"display-flex-center\" severity={issue.severity} />\n          </SelectListItem>\n\n          <SelectListItem item=\"status\">\n            <StatusHelper\n              className=\"display-flex-center\"\n              resolution={undefined}\n              status={issue.status}\n            />\n          </SelectListItem>\n\n          <SelectListItem item=\"resolution\">\n            {issue.resolution != null\n              ? translate('issue.resolution', issue.resolution)\n              : translate('unresolved')}\n          </SelectListItem>\n\n          <SelectListItem item=\"assignee\">\n            {assignee ? (\n              <span>\n                {translate('assigned_to')}\n                <Avatar\n                  className=\"little-spacer-left little-spacer-right\"\n                  hash={issue.assigneeAvatar}\n                  name={assignee}\n                  size={16}\n                />\n                {issue.assigneeActive === false\n                  ? translateWithParameters('user.x_deleted', assignee)\n                  : assignee}\n              </span>\n            ) : (\n              translate('unassigned')\n            )}\n          </SelectListItem>\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"rule\">{limitComponentName(issue.ruleName)}</SelectListItem>\n\n          {issue.tags != null &&\n            issue.tags.map(tag => (\n              <SelectListItem item={`tag###${tag}`} key={`tag###${tag}`}>\n                <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                <span className=\"text-middle\">{tag}</span>\n              </SelectListItem>\n            ))}\n\n          <li className=\"divider\" />\n\n          <SelectListItem item=\"project\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n            {issue.projectName}\n          </SelectListItem>\n\n          {issue.subProject != null && (\n            <SelectListItem item=\"module\">\n              <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n              {issue.subProjectName}\n            </SelectListItem>\n          )}\n\n          <SelectListItem item=\"file\">\n            <QualifierIcon className=\"little-spacer-right\" qualifier={issue.componentQualifier} />\n            {fileFromPath(issue.componentLongName)}\n          </SelectListItem>\n        </SelectList>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SimilarIssuesPopup from '../popups/SimilarIssuesPopup';\n\ninterface Props {\n  isOpen: boolean;\n  issue: T.Issue;\n  togglePopup: (popup: string, show?: boolean) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n}\n\nexport default class SimilarIssuesFilter extends React.PureComponent<Props> {\n  handleFilter = (property: string, issue: T.Issue) => {\n    this.togglePopup(false);\n    if (this.props.onFilter) {\n      this.props.onFilter(property, issue);\n    }\n  };\n\n  togglePopup = (open?: boolean) => {\n    this.props.togglePopup('similarIssues', open);\n  };\n\n  handleClose = () => {\n    this.togglePopup(false);\n  };\n\n  render() {\n    return (\n      <div className=\"dropdown\">\n        <Toggler\n          onRequestClose={this.handleClose}\n          open={this.props.isOpen}\n          overlay={<SimilarIssuesPopup issue={this.props.issue} onFilter={this.handleFilter} />}>\n          <ButtonLink\n            aria-label={translate('issue.filter_similar_issues')}\n            className=\"issue-action issue-action-with-options js-issue-filter\"\n            onClick={this.togglePopup}\n            title={translate('issue.filter_similar_issues')}>\n            <FilterIcon className=\"icon-half-transparent\" />\n            <DropdownIcon className=\"icon-half-transparent\" />\n          </ButtonLink>\n        </Toggler>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getBranchLikeQuery } from '../../../helpers/branch-like';\nimport { getComponentIssuesUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport LocationIndex from '../../common/LocationIndex';\nimport { WorkspaceContext } from '../../workspace/context';\nimport IssueChangelog from './IssueChangelog';\nimport IssueMessage from './IssueMessage';\nimport SimilarIssuesFilter from './SimilarIssuesFilter';\n\ninterface Props {\n  branchLike?: BranchLike;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  togglePopup: (popup: string, show?: boolean) => void;\n}\n\nexport default function IssueTitleBar(props: Props) {\n  const { issue } = props;\n  const hasSimilarIssuesFilter = props.onFilter != null;\n\n  const locationsCount =\n    issue.secondaryLocations.length +\n    issue.flows.reduce((sum, locations) => sum + locations.length, 0);\n\n  const locationsBadge = (\n    <Tooltip\n      overlay={translateWithParameters(\n        'issue.this_issue_involves_x_code_locations',\n        formatMeasure(locationsCount, 'INT')\n      )}>\n      <LocationIndex>{locationsCount}</LocationIndex>\n    </Tooltip>\n  );\n\n  const displayLocations = props.displayLocationsCount && locationsCount > 0;\n\n  const issueUrl = getComponentIssuesUrl(issue.project, {\n    ...getBranchLikeQuery(props.branchLike),\n    issues: issue.key,\n    open: issue.key,\n    types: issue.type === 'SECURITY_HOTSPOT' ? issue.type : undefined\n  });\n\n  return (\n    <div className=\"issue-row\">\n      <WorkspaceContext.Consumer>\n        {({ openRule }) => (\n          <IssueMessage\n            engine={issue.externalRuleEngine}\n            manualVulnerability={issue.fromHotspot && issue.type === 'VULNERABILITY'}\n            message={issue.message}\n            onOpenRule={openRule}\n            organization={issue.organization}\n            ruleKey={issue.rule}\n          />\n        )}\n      </WorkspaceContext.Consumer>\n\n      <div className=\"issue-row-meta\">\n        <ul className=\"issue-meta-list\">\n          <li className=\"issue-meta\">\n            <IssueChangelog\n              creationDate={issue.creationDate}\n              isOpen={props.currentPopup === 'changelog'}\n              issue={issue}\n              togglePopup={props.togglePopup}\n            />\n          </li>\n          {issue.textRange != null && (\n            <li className=\"issue-meta\">\n              <span className=\"issue-meta-label\" title={translate('line_number')}>\n                L{issue.textRange.endLine}\n              </span>\n            </li>\n          )}\n          {displayLocations && (\n            <li className=\"issue-meta\">\n              {props.displayLocationsLink ? (\n                <Link target=\"_blank\" to={issueUrl}>\n                  {locationsBadge}\n                </Link>\n              ) : (\n                locationsBadge\n              )}\n            </li>\n          )}\n          <li className=\"issue-meta\">\n            <Link\n              className=\"js-issue-permalink link-no-underline\"\n              target=\"_blank\"\n              title={translate('permalink')}\n              to={issueUrl}>\n              <LinkIcon />\n            </Link>\n          </li>\n          {hasSimilarIssuesFilter && (\n            <li className=\"issue-meta\">\n              <SimilarIssuesFilter\n                isOpen={props.currentPopup === 'similarIssues'}\n                issue={issue}\n                onFilter={props.onFilter}\n                togglePopup={props.togglePopup}\n              />\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { deleteIssueComment, editIssueComment } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport IssueActionsBar from './components/IssueActionsBar';\nimport IssueCommentLine from './components/IssueCommentLine';\nimport IssueTitleBar from './components/IssueTitleBar';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  currentPopup?: string;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onAssign: (login: string) => void;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  selected: boolean;\n  togglePopup: (popup: string, show: boolean | void) => void;\n}\n\nexport default class IssueView extends React.PureComponent<Props> {\n  handleCheck = () => {\n    if (this.props.onCheck) {\n      this.props.onCheck(this.props.issue.key);\n    }\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (!isClickable(event.target as HTMLElement) && this.props.onClick) {\n      event.preventDefault();\n      this.props.onClick(this.props.issue.key);\n    }\n  };\n\n  editComment = (comment: string, text: string) => {\n    updateIssue(this.props.onChange, editIssueComment({ comment, text }));\n  };\n\n  deleteComment = (comment: string) => {\n    updateIssue(this.props.onChange, deleteIssueComment({ comment }));\n  };\n\n  render() {\n    const { issue } = this.props;\n\n    const hasCheckbox = this.props.onCheck != null;\n\n    const issueClass = classNames('issue', {\n      hotspot: issue.type === 'SECURITY_HOTSPOT',\n      'issue-with-checkbox': hasCheckbox,\n      selected: this.props.selected\n    });\n\n    return (\n      <div\n        className={issueClass}\n        data-issue={issue.key}\n        onClick={this.handleClick}\n        role=\"listitem\"\n        tabIndex={0}>\n        <IssueTitleBar\n          branchLike={this.props.branchLike}\n          currentPopup={this.props.currentPopup}\n          displayLocationsCount={this.props.displayLocationsCount}\n          displayLocationsLink={this.props.displayLocationsLink}\n          issue={issue}\n          onFilter={this.props.onFilter}\n          togglePopup={this.props.togglePopup}\n        />\n        <IssueActionsBar\n          currentPopup={this.props.currentPopup}\n          issue={issue}\n          onAssign={this.props.onAssign}\n          onChange={this.props.onChange}\n          togglePopup={this.props.togglePopup}\n        />\n        {issue.comments && issue.comments.length > 0 && (\n          <div className=\"issue-comments\">\n            {issue.comments.map(comment => (\n              <IssueCommentLine\n                comment={comment}\n                key={comment.key}\n                onDelete={this.deleteComment}\n                onEdit={this.editComment}\n              />\n            ))}\n          </div>\n        )}\n        {hasCheckbox && (\n          <>\n            <Checkbox\n              checked={this.props.checked || false}\n              className=\"issue-checkbox-container\"\n              onCheck={this.handleCheck}\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction isClickable(node: HTMLElement | undefined | null): boolean {\n  if (!node) {\n    return false;\n  }\n  const clickableTags = ['A', 'BUTTON', 'INPUT', 'TEXTAREA'];\n  const tagName = (node.tagName || '').toUpperCase();\n  return clickableTags.includes(tagName) || isClickable(node.parentElement);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport * as React from 'react';\nimport { setIssueAssignee } from '../../api/issues';\nimport { BranchLike } from '../../types/branch-like';\nimport { updateIssue } from './actions';\nimport './Issue.css';\nimport IssueView from './IssueView';\n\ninterface Props {\n  branchLike?: BranchLike;\n  checked?: boolean;\n  displayLocationsCount?: boolean;\n  displayLocationsLink?: boolean;\n  issue: T.Issue;\n  onChange: (issue: T.Issue) => void;\n  onCheck?: (issue: string) => void;\n  onClick: (issueKey: string) => void;\n  onFilter?: (property: string, issue: T.Issue) => void;\n  onPopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  openPopup?: string;\n  selected: boolean;\n}\n\nexport default class Issue extends React.PureComponent<Props> {\n  static defaultProps = {\n    selected: false\n  };\n\n  componentDidMount() {\n    if (this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUpdate(nextProps: Props) {\n    if (!nextProps.selected && this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.selected && this.props.selected) {\n      this.bindShortcuts();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.props.selected) {\n      this.unbindShortcuts();\n    }\n  }\n\n  bindShortcuts() {\n    key('f', 'issues', () => {\n      this.togglePopup('transition');\n      return false;\n    });\n    key('a', 'issues', () => {\n      this.togglePopup('assign');\n      return false;\n    });\n    key('m', 'issues', () => {\n      if (this.props.issue.actions.includes('assign')) {\n        this.handleAssignement('_me');\n      }\n      return false;\n    });\n    key('i', 'issues', () => {\n      this.togglePopup('set-severity');\n      return false;\n    });\n    key('c', 'issues', () => {\n      this.togglePopup('comment');\n      return false;\n    });\n    key('t', 'issues', () => {\n      this.togglePopup('edit-tags');\n      return false;\n    });\n    key('space', 'issues', () => {\n      if (this.props.onCheck) {\n        this.props.onCheck(this.props.issue.key);\n        return false;\n      }\n      return undefined;\n    });\n  }\n\n  unbindShortcuts() {\n    key.unbind('f', 'issues');\n    key.unbind('a', 'issues');\n    key.unbind('m', 'issues');\n    key.unbind('i', 'issues');\n    key.unbind('c', 'issues');\n    key.unbind('space', 'issues');\n    key.unbind('t', 'issues');\n  }\n\n  togglePopup = (popupName: string, open?: boolean) => {\n    this.props.onPopupToggle(this.props.issue.key, popupName, open);\n  };\n\n  handleAssignement = (login: string) => {\n    const { issue } = this.props;\n    if (issue.assignee !== login) {\n      updateIssue(this.props.onChange, setIssueAssignee({ issue: issue.key, assignee: login }));\n    }\n    this.togglePopup('assign', false);\n  };\n\n  render() {\n    return (\n      <IssueView\n        branchLike={this.props.branchLike}\n        checked={this.props.checked}\n        currentPopup={this.props.openPopup}\n        displayLocationsCount={this.props.displayLocationsCount}\n        displayLocationsLink={this.props.displayLocationsLink}\n        issue={this.props.issue}\n        onAssign={this.handleAssignement}\n        onChange={this.props.onChange}\n        onCheck={this.props.onCheck}\n        onClick={this.props.onClick}\n        onFilter={this.props.onFilter}\n        selected={this.props.selected}\n        togglePopup={this.togglePopup}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { areThereCustomOrganizations, getOrganizationByKey, Store } from '../../store/rootReducer';\nimport OrganizationLink from '../ui/OrganizationLink';\n\ninterface OwnProps {\n  organizationKey: string;\n}\n\ninterface Props {\n  link?: boolean;\n  linkClassName?: string;\n  organization: { key: string; name: string } | null;\n  shouldBeDisplayed?: boolean;\n}\n\nfunction Organization(props: Props) {\n  const { link = true, organization, shouldBeDisplayed } = props;\n\n  if (!shouldBeDisplayed || !organization) {\n    return null;\n  }\n\n  return (\n    <span>\n      {link ? (\n        <OrganizationLink className={props.linkClassName} organization={organization}>\n          {organization.name}\n        </OrganizationLink>\n      ) : (\n        organization.name\n      )}\n      <span className=\"slash-separator\" />\n    </span>\n  );\n}\n\nconst mapStateToProps = (state: Store, ownProps: OwnProps) => ({\n  organization: getOrganizationByKey(state, ownProps.organizationKey),\n  shouldBeDisplayed: areThereCustomOrganizations(state)\n});\n\nexport default connect(mapStateToProps)(Organization);\n\nexport const UnconnectedOrganization = Organization;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport {\n  getStandards,\n  renderCWECategory,\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderSonarSourceSecurityCategory\n} from '../../../helpers/security-standard';\nimport { Facet, formatFacetStat, Query, STANDARDS } from '../utils';\n\ninterface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: T.Dict<number> | undefined;\n  fetchingCwe: boolean;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingSonarSourceSecurity: boolean;\n  loadSearchResultCount?: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: T.Dict<number> | undefined;\n  query: Partial<Query>;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: T.Dict<number> | undefined;\n  sonarsourceSecurity: string[];\n  sonarsourceSecurityOpen: boolean;\n  sonarsourceSecurityStats: T.Dict<number> | undefined;\n}\n\ninterface State {\n  cweQuery: string;\n  standards: T.Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats' | 'sonarsourceSecurityStats';\ntype ValuesProp = T.StandardType;\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    cweQuery: '',\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {}, sonarsourceSecurity: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0 ||\n      this.props.sonarsourceSecurity.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    getStandards().then(\n      ({ owaspTop10, sansTop25, cwe, sonarsourceSecurity }: T.Standards) => {\n        if (this.mounted) {\n          this.setState({ standards: { owaspTop10, sansTop25, cwe, sonarsourceSecurity } });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.sonarsourceSecurity.map(item =>\n        renderSonarSourceSecurityCategory(this.state.standards, item, true)\n      ),\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleSonarSourceSecurityHeaderClick = () => {\n    this.props.onToggle('sonarsourceSecurity');\n  };\n\n  handleClear = () => {\n    this.props.onChange({\n      [this.property]: [],\n      owaspTop10: [],\n      sansTop25: [],\n      cwe: [],\n      sonarsourceSecurity: []\n    });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('owaspTop10', itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sansTop25', itemValue, multiple);\n  };\n\n  handleSonarSourceSecurityItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sonarsourceSecurity', itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    const { loadSearchResultCount } = this.props;\n    return loadSearchResultCount\n      ? loadSearchResultCount('cwe', { cwe: categories })\n      : Promise.resolve({});\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: T.Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: T.Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: T.Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      'owaspTop10',\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', 'owaspTop10');\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      'sansTop25',\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', 'sansTop25');\n  }\n\n  renderSonarSourceSecurityList() {\n    return this.renderList(\n      'sonarsourceSecurityStats',\n      'sonarsourceSecurity',\n      renderSonarSourceSecurityCategory,\n      this.handleSonarSourceSecurityItemClick\n    );\n  }\n\n  renderSonarSourceSecurityHint() {\n    return this.renderHint('sonarsourceSecurityStats', 'sonarsourceSecurity');\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property=\"sonarsourceSecurity\">\n          <FacetHeader\n            fetching={this.props.fetchingSonarSourceSecurity}\n            name={translate('issues.facet.sonarsourceSecurity')}\n            onClick={this.handleSonarSourceSecurityHeaderClick}\n            open={this.props.sonarsourceSecurityOpen}\n            values={this.props.sonarsourceSecurity.map(item =>\n              renderSonarSourceSecurityCategory(this.state.standards, item)\n            )}\n          />\n          {this.props.sonarsourceSecurityOpen && (\n            <>\n              {this.renderSonarSourceSecurityList()}\n              {this.renderSonarSourceSecurityHint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"owaspTop10\">\n          <FacetHeader\n            fetching={this.props.fetchingOwaspTop10}\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"sansTop25\">\n          <FacetHeader\n            fetching={this.props.fetchingSansTop25}\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property=\"cwe\"\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","\nvar content = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BarChart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BarChart.css\", function() {\n\t\tvar newContent = require(\"!!../../../css-loader/dist/cjs.js??ref--6-1!../../../postcss-loader/src/index.js??postcss!./BarChart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".bar-chart-bar{fill:#4b9fd5}.bar-chart-tick{fill:#777;font-size:12px;text-anchor:middle}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './EmptySearch.css';\n\nexport default function EmptySearch() {\n  return (\n    <div className=\"empty-search\">\n      <h3>{translate('no_results_search')}</h3>\n      <p className=\"big-spacer-top\">{translate('no_results_search.2')}</p>\n    </div>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".empty-search{padding:60px 0;border:1px solid #e6e6e6;border-radius:2px;color:#777;text-align:center}\", \"\"]);\n\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    identity = require('./identity');\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nmodule.exports = max;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lodash_1 = require(\"lodash\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar Select_1 = require(\"./Select\");\nvar SearchSelect = (function (_super) {\n    __extends(SearchSelect, _super);\n    function SearchSelect(props) {\n        var _this = _super.call(this, props) || this;\n        _this.mounted = false;\n        _this.handleSearch = function (query) {\n            var currentQuery = query;\n            _this.props.onSearch(currentQuery).then(function (options) {\n                if (_this.mounted) {\n                    _this.setState(function (state) { return ({\n                        loading: false,\n                        options: state.query === currentQuery ? options : state.options\n                    }); });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.handleChange = function (option) {\n            if (Array.isArray(option)) {\n                if (_this.props.onMultiSelect) {\n                    _this.props.onMultiSelect(option);\n                }\n            }\n            else if (_this.props.onSelect) {\n                _this.props.onSelect(option);\n            }\n        };\n        _this.handleInputChange = function (query) {\n            if (query.length >= _this.minimumQueryLength) {\n                _this.setState({ loading: true, query: query });\n                _this.handleSearch(query);\n            }\n            else {\n                var options = (query.length === 0 && _this.props.defaultOptions) || [];\n                _this.setState({ options: options, query: query });\n            }\n        };\n        _this.handleFilterOption = function () { return true; };\n        _this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n        _this.handleSearch = lodash_1.debounce(_this.handleSearch, 250);\n        return _this;\n    }\n    SearchSelect.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SearchSelect.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Object.defineProperty(SearchSelect.prototype, \"autofocus\", {\n        get: function () {\n            return this.props.autofocus !== undefined ? this.props.autofocus : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"minimumQueryLength\", {\n        get: function () {\n            return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SearchSelect.prototype, \"resetOnBlur\", {\n        get: function () {\n            return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SearchSelect.prototype.render = function () {\n        var Component = this.props.canCreate ? Select_1.Creatable : Select_1.default;\n        return (React.createElement(Component, { autoFocus: this.autofocus, className: this.props.className, clearable: this.props.clearable, escapeClearsValue: false, filterOption: this.handleFilterOption, isLoading: this.state.loading, multi: this.props.multi, noResultsText: this.state.query.length < this.minimumQueryLength\n                ? l10n_1.translateWithParameters('select2.tooShort', this.minimumQueryLength)\n                : l10n_1.translate('select2.noMatches'), onBlurResetsInput: this.resetOnBlur, onChange: this.handleChange, onInputChange: this.handleInputChange, optionRenderer: this.props.renderOption, options: this.state.options, placeholder: l10n_1.translate('search_verb'), promptTextCreator: this.props.promptTextCreator, searchable: true, value: this.props.value, valueRenderer: this.props.renderOption }));\n    };\n    return SearchSelect;\n}(React.PureComponent));\nexports.default = SearchSelect;\n//# sourceMappingURL=SearchSelect.js.map"],"sourceRoot":""}