(window.webpackJsonp=window.webpackJsonp||[]).push([[365],{1798:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a(327),c=a(316),r=a(28),s=a(5),i=a(318),l=a(691),m=a(324),d=a.n(m),u=a(659),p=a(693);function g(e){let t=e.organization;const a=t.actions,o=void 0===a?{}:a;return n.createElement("div",{className:"account-project-card clearfix"},n.createElement("aside",{className:"account-project-side note"},n.createElement("strong",null,Object(s.translate)("organization.key"),":")," ",t.key),n.createElement("h3",{className:"account-project-name"},n.createElement(u.a,{organization:t}),n.createElement(p.a,{className:"spacer-left text-middle",organization:t},t.name),o.admin&&n.createElement("span",{className:"badge spacer-left"},Object(s.translate)("admin"))),!!t.description&&n.createElement("div",{className:"markdown spacer-top"},t.description),!!t.url&&n.createElement("div",{className:"markdown spacer-top"},n.createElement("a",{href:t.url,rel:"nofollow",title:t.url},t.url)))}function E(e){let t=e.organizations;return 0===t.length?n.createElement("div",null,Object(s.translate)("my_account.organizations.no_results")):n.createElement("ul",{className:"account-projects-list"},d()(t,e=>e.name.toLocaleLowerCase()).map(e=>n.createElement("li",{key:e.key},n.createElement(g,{organization:e}))))}const h={fetchIfAnyoneCanCreateOrganizations:l.a};t.default=Object(c.connect)(e=>{const t=Object(i.getGlobalSettingValue)(e,"sonar.organizations.anyoneCanCreate");return{anyoneCanCreate:Boolean(t&&"true"===t.value),canAdmin:Object(i.getAppState)(e).canAdmin,organizations:Object(i.getMyOrganizations)(e)}},h)(class extends n.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!0},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})}}componentDidMount(){this.mounted=!0,this.props.fetchIfAnyoneCanCreateOrganizations().then(this.stopLoading,this.stopLoading)}componentWillUnmount(){this.mounted=!1}render(){const e=this.props.anyoneCanCreate,t=!this.state.loading&&(e||this.props.canAdmin);return n.createElement("div",{className:"account-body account-container"},n.createElement(o.a,{title:Object(s.translate)("my_account.organizations")}),n.createElement("div",{className:"boxed-group"},t&&n.createElement("div",{className:"clearfix"},n.createElement("div",{className:"boxed-group-actions"},n.createElement(r.Link,{className:"button",to:"/create-organization"},Object(s.translate)("create")))),n.createElement("div",{className:"boxed-group-inner"},this.state.loading?n.createElement("i",{className:"spinner"}):n.createElement(E,{organizations:this.props.organizations}))))}})}}]);
//# sourceMappingURL=365.m.eab2623e.chunk.js.map