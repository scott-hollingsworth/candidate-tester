{"version":3,"sources":["webpack:///./src/main/js/components/SourceViewer/helpers/highlight.ts","webpack:///./node_modules/sonar-ui-common/components/icons/ExpandSnippetIcon.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeaderSlim.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/lines.ts","webpack:///./src/main/js/components/SourceViewer/components/LineIssuesList.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineCode.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineCoverage.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineDuplicationBlock.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineDuplications.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineIssuesIndicator.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineOptionsPopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineNumber.tsx","webpack:///./src/main/js/components/SourceViewer/components/SCMPopup.tsx","webpack:///./src/main/js/components/SourceViewer/components/LineSCM.tsx","webpack:///./src/main/js/components/SourceViewer/components/Line.tsx","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeaderSlim.css?14cf","webpack:///./src/main/js/components/SourceViewer/SourceViewerHeaderSlim.css","webpack:///./node_modules/lodash/times.js","webpack:///./src/main/js/components/SourceViewer/components/Line.css?c4c1","webpack:///./src/main/js/components/SourceViewer/components/Line.css","webpack:///./src/main/js/components/SourceViewer/components/DuplicationPopup.tsx","webpack:///./src/main/js/components/SourceViewer/helpers/duplications.ts","webpack:///./src/main/js/types/component.ts","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/sonar-ui-common/components/icons/FavoriteIcon.js","webpack:///./src/main/js/api/favorites.ts","webpack:///./src/main/js/components/controls/Favorite.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/FavoriteButton.js","webpack:///./src/main/js/components/SourceViewer/helpers/indexing.ts","webpack:///./src/main/js/components/SourceViewer/helpers/issueLocations.ts","webpack:///./src/main/js/components/SourceViewer/SourceViewerContext.tsx","webpack:///./node_modules/lodash/intersection.js"],"names":["ISSUE_LOCATION_CLASS","splitByTokens","code","rootClassName","container","document","createElement","tokens","innerHTML","forEach","call","childNodes","node","nodeType","fullClassName","className","innerTokens","concat","nodeValue","push","markers","text","highlightSymbol","symbol","symbolRegExp","RegExp","map","token","test","__assign","part","str","from","to","acc","substr","highlightIssueLocations","issueLocations","location","nextTokens","markerAdded","line","startLine","s1","e1","s2","e2","x","length","Math","max","min","p1","p2","p3","newClassName","indexOf","index","lodash_uniq__WEBPACK_IMPORTED_MODULE_0___default","__spreadArrays","slice","Object","defineProperty","exports","value","React","__webpack_require__","Icon_1","default","_a","_b","fill","size","fillRule","d","stroke","strokeWidth","transform","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","nativeMin","module","arrays","iteratee","comparator","includes","othLength","othIndex","caches","Array","maxLength","Infinity","result","array","undefined","seen","outer","computed","cache","isArrayLikeObject","SourceViewerHeaderSlim","branchLike","expandable","linkToProject","loading","onExpand","sourceViewerFile","key","measures","path","project","projectName","q","subProject","subProjectName","projectNameLabel","react__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_QualifierIcon__WEBPACK_IMPORTED_MODULE_6___default","a","qualifier","_types_component__WEBPACK_IMPORTED_MODULE_13__","Project","href","sonar_ui_common_helpers_urls__WEBPACK_IMPORTED_MODULE_10__","_helpers_urls__WEBPACK_IMPORTED_MODULE_12__","SubProject","sonar_ui_common_helpers_path__WEBPACK_IMPORTED_MODULE_9__","sonar_ui_common_components_controls_clipboard__WEBPACK_IMPORTED_MODULE_4__","copyValue","canMarkAsFavorite","_helpers_branch_like__WEBPACK_IMPORTED_MODULE_11__","_controls_Favorite__WEBPACK_IMPORTED_MODULE_14__","component","favorite","fav","issues","classnames__WEBPACK_IMPORTED_MODULE_0__","little-spacer-right","react_router__WEBPACK_IMPORTED_MODULE_2__","fileUuids","uuid","resolved","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_8__","sonar_ui_common_components_ui_DeferredSpinner__WEBPACK_IMPORTED_MODULE_7___default","sonar_ui_common_components_controls_buttons__WEBPACK_IMPORTED_MODULE_3__","onClick","sonar_ui_common_components_icons_ExpandSnippetIcon__WEBPACK_IMPORTED_MODULE_5___default","optimizeHighlightedSymbols","symbolsForLine","highlightedSymbols","symbols","lodash_intersection__WEBPACK_IMPORTED_MODULE_0___default","optimizeLocationMessage","highlightedLocationMessage","optimizedSecondaryIssueLocations","some","optimizeSelectedIssue","selectedIssue","issuesForLine","find","issue","LineIssuesList","props","issuePopup","index_js_exposed","Issue","displayLocationsCount","displayIssueLocationsCount","displayLocationsLink","displayIssueLocationsLink","onChange","onIssueChange","onIssueClick","onPopupToggle","onIssuePopupToggle","openPopup","name","selected","_super","LineCode","_this","this","handleSymbolClick","event","preventDefault","keys","currentTarget","match","onSymbolClick","state","highlight","__extends","prototype","componentDidMount","attachEvents","activeMarkerNode","scroll","componentWillReceiveProps","nextProps","setState","componentWillUpdate","detachEvents","componentDidUpdate","prevProps","componentWillUnmount","codeNode","querySelectorAll","i","addEventListener","renderMarker","message","leading","onLocationSelect","ref","LocationIndex","LocationMessage","render","onIssueSelect","padding","secondaryIssueLocations","showIssues","classnames","has-issues","renderedTokens","leadingMarker","displayLocationMarkers","marker","loc","trim","style","paddingBottom","filteredSelectedIssues","filter","data-line-number","LineCoverage","coverageStatus","Tooltip_default","overlay","getStatusTooltip","placement","conditions","l10n","coveredConditions","LineDuplicationBlock","apply","arguments","handleClick","stopPropagation","blur","handleTogglePopup","open","closePopup","LineDuplicationBlock_extends","duplicated","popupOpen","source-line-duplicated","data-index","Toggler_default","onRequestClose","renderDuplicationPopup","role","tabIndex","LineDuplications","LineDuplications_extends","cell","LineIssuesIndicator","LineIssuesIndicator_extends","hasIssues","source-line-with-issues","mostImportantIssue","helpers_issues","IssueIcon_default","type","LineOptionsPopup","SourceViewerContext","Consumer","file","Dropdown","popups","RightTop","es","rel","target","urls","LineNumber","LineNumber_extends","lineNumber","SCMPopup","hasAuthor","scmAuthor","scmDate","spacer-top","DateFormatter","date","scmRevision","LineSCM","LineSCM_extends","previousLine","hasPopup","s","p","changed","isSCMChanged","data-author","Line_Line","Line","isPopupOpen","linePopup","handleIssuesIndicatorClick","openIssues","onIssuesClose","onIssueUnselect","onIssuesOpen","Line_extends","displayCoverage","displaySCM","duplications","duplicationsCount","source-line-highlighted","highlighted","source-line-filtered","isNew","source-line-filtered-dark","source-line-last","last","bottomPadding","verticalBuffer","components_LineNumber","onLinePopupToggle","components_LineSCM","displayIssues","displayAllIssues","components_LineIssuesIndicator","displayDuplications","components_LineDuplications","loadDuplications","times_default","components_LineDuplicationBlock","components_LineCode","content","options","hmr","insertInto","locals","n","DuplicationPopup","isDifferentComponent","b","Boolean","handleFileClick","dataset","shouldLink","openComponent","Number","onClose","_helpers_branch_like__WEBPACK_IMPORTED_MODULE_10__","renderDuplication","children","react__WEBPACK_IMPORTED_MODULE_2__","data-key","data-line","title","duplicatedFiles","groupedBlocks","lodash_groupBy__WEBPACK_IMPORTED_MODULE_1___default","blocks","fileRef","lodash_sortBy__WEBPACK_IMPORTED_MODULE_0___default","sonar_ui_common_components_controls_Dropdown__WEBPACK_IMPORTED_MODULE_4__","sonar_ui_common_components_ui_popups__WEBPACK_IMPORTED_MODULE_7__","inRemovedComponent","sonar_ui_common_components_ui_Alert__WEBPACK_IMPORTED_MODULE_6__","variant","duplication","sonar_ui_common_components_icons_QualifierIcon__WEBPACK_IMPORTED_MODULE_5___default","react_router__WEBPACK_IMPORTED_MODULE_3__","_helpers_urls__WEBPACK_IMPORTED_MODULE_11__","block","filterDuplicationBlocksByLine","foundOne","outOfBounds","shouldDisplay","_ref","isOk","getDuplicationBlocksForIndex","isDuplicationBlockInRemovedComponent","__webpack_exports__","ComponentQualifier","baseAssignValue","createAggregator","hasOwnProperty","groupBy","classNames","theme_1","ThemeConsumer","theme","is-filled","color","colors","orange","addFavorite","request","removeFavorite","Favorite_Favorite","Favorite","mounted","toggleFavorite","newFavorite","then","handleFavorite","_prevProps","prevState","FavoriteButton_default","extendStatics","setPrototypeOf","__proto__","__","constructor","create","l10n_1","FavoriteIcon_1","buttons_1","Tooltip_1","FavoriteButton","tooltip","translate","ariaLabel","ButtonLink","aria-label","PureComponent","issuesByLine","textRange","endLine","issuesByComponentAndLine","reduce","mapping","locationsByLine","_issueLocations__WEBPACK_IMPORTED_MODULE_2__","duplicationsByLine","duplicationIndex","symbolsByLine","sources","_highlight__WEBPACK_IMPORTED_MODULE_1__","lodash_flatten__WEBPACK_IMPORTED_MODULE_0___default","getLinearLocations","locations","startOffset","endOffset","getSecondaryIssueLocationsForLine","highlightedLocations","linearLocations","l","msg","react__WEBPACK_IMPORTED_MODULE_0__","baseIntersection","baseRest","castArrayLikeObject","intersection","mapped"],"mappings":"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","file":"js/12.1582644816097.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\n\nexport interface Token {\n  className: string;\n  markers: number[];\n  text: string;\n}\n\nconst ISSUE_LOCATION_CLASS = 'source-line-code-issue';\n\nexport function splitByTokens(code: string, rootClassName = ''): Token[] {\n  const container = document.createElement('div');\n  let tokens: Token[] = [];\n  container.innerHTML = code;\n  [].forEach.call(container.childNodes, (node: Element) => {\n    if (node.nodeType === 1) {\n      // ELEMENT NODE\n      const fullClassName = rootClassName ? rootClassName + ' ' + node.className : node.className;\n      const innerTokens = splitByTokens(node.innerHTML, fullClassName);\n      tokens = tokens.concat(innerTokens);\n    }\n    if (node.nodeType === 3 && node.nodeValue) {\n      // TEXT NODE\n      tokens.push({ className: rootClassName, markers: [], text: node.nodeValue });\n    }\n  });\n  return tokens;\n}\n\nexport function highlightSymbol(tokens: Token[], symbol: string): Token[] {\n  const symbolRegExp = new RegExp(`\\\\b${symbol}\\\\b`);\n  return tokens.map(token =>\n    symbolRegExp.test(token.className)\n      ? { ...token, className: `${token.className} highlighted` }\n      : token\n  );\n}\n\n/**\n * Intersect two ranges\n * @param s1 Start position of the first range\n * @param e1 End position of the first range\n * @param s2 Start position of the second range\n * @param e2 End position of the second range\n */\nfunction intersect(s1: number, e1: number, s2: number, e2: number) {\n  return { from: Math.max(s1, s2), to: Math.min(e1, e2) };\n}\n\n/**\n * Get the substring of a string\n * @param str A string\n * @param from \"From\" offset\n * @param to \"To\" offset\n * @param acc Global offset to eliminate\n */\nfunction part(str: string, from: number, to: number, acc: number): string {\n  // we do not want negative number as the first argument of `substr`\n  return from >= acc ? str.substr(from - acc, to - from) : str.substr(0, to - from);\n}\n\n/**\n * Highlight issue locations in the list of tokens\n */\nexport function highlightIssueLocations(\n  tokens: Token[],\n  issueLocations: T.LinearIssueLocation[],\n  rootClassName: string = ISSUE_LOCATION_CLASS\n): Token[] {\n  issueLocations.forEach(location => {\n    const nextTokens: Token[] = [];\n    let acc = 0;\n    let markerAdded = location.line !== location.startLine;\n    tokens.forEach(token => {\n      const x = intersect(acc, acc + token.text.length, location.from, location.to);\n      const p1 = part(token.text, acc, x.from, acc);\n      const p2 = part(token.text, x.from, x.to, acc);\n      const p3 = part(token.text, x.to, acc + token.text.length, acc);\n      if (p1.length) {\n        nextTokens.push({ ...token, text: p1 });\n      }\n      if (p2.length) {\n        const newClassName =\n          token.className.indexOf(rootClassName) === -1\n            ? `${token.className} ${rootClassName}`\n            : token.className;\n        nextTokens.push({\n          className: newClassName,\n          markers:\n            !markerAdded && location.index != null\n              ? uniq([...token.markers, location.index])\n              : token.markers,\n          text: p2\n        });\n        markerAdded = true;\n      }\n      if (p3.length) {\n        nextTokens.push({ ...token, text: p3 });\n      }\n      acc += token.text.length;\n    });\n    tokens = nextTokens.slice();\n  });\n  return tokens;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Icon_1 = require(\"./Icon\");\nfunction ExpandSnippetIcon(_a) {\n    var className = _a.className, _b = _a.fill, fill = _b === void 0 ? 'currentColor' : _b, size = _a.size;\n    return (React.createElement(Icon_1.default, { className: className, size: size },\n        React.createElement(\"g\", { fill: \"none\", fillRule: \"evenodd\" },\n            React.createElement(\"path\", { d: \"M8 1v4H4\", stroke: fill, strokeWidth: \"2\", transform: \"scale(-.83333 -.84583) rotate(45 7.66 -19.75)\" }),\n            React.createElement(\"path\", { d: \"M3 5.78h10v1.7H3z\", fill: fill }),\n            React.createElement(\"path\", { d: \"M7.17 2.4h1.66v5.07H7.17z\", fill: fill }),\n            React.createElement(\"g\", null,\n                React.createElement(\"path\", { d: \"M8.16 1.81V6.1H3.9\", stroke: fill, strokeWidth: \"2\", transform: \"scale(.83333 .84583) rotate(45 -4.2 13.2)\" }),\n                React.createElement(\"path\", { d: \"M13 10.01H3v-1.7h10z\", fill: fill }),\n                React.createElement(\"path\", { d: \"M8.83 13.4H7.17V9.15h1.66z\", fill: fill })))));\n}\nexports.default = ExpandSnippetIcon;\n//# sourceMappingURL=ExpandSnippetIcon.js.map","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { ButtonIcon } from 'sonar-ui-common/components/controls/buttons';\nimport { ClipboardIconButton } from 'sonar-ui-common/components/controls/clipboard';\nimport ExpandSnippetIcon from 'sonar-ui-common/components/icons/ExpandSnippetIcon';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsedDirFromPath, fileFromPath } from 'sonar-ui-common/helpers/path';\nimport { getPathUrlAsString } from 'sonar-ui-common/helpers/urls';\nimport { getBranchLikeQuery, isMainBranch } from '../../helpers/branch-like';\nimport { getBranchLikeUrl, getComponentIssuesUrl } from '../../helpers/urls';\nimport { BranchLike } from '../../types/branch-like';\nimport { ComponentQualifier } from '../../types/component';\nimport Favorite from '../controls/Favorite';\nimport './SourceViewerHeaderSlim.css';\n\nexport interface Props {\n  branchLike: BranchLike | undefined;\n  expandable?: boolean;\n  linkToProject?: boolean;\n  loading?: boolean;\n  onExpand?: () => void;\n  sourceViewerFile: T.SourceViewerFile;\n}\n\nexport default function SourceViewerHeaderSlim({\n  branchLike,\n  expandable,\n  linkToProject = true,\n  loading,\n  onExpand,\n  sourceViewerFile\n}: Props) {\n  const {\n    key,\n    measures,\n    path,\n    project,\n    projectName,\n    q,\n    subProject,\n    subProjectName\n  } = sourceViewerFile;\n\n  const projectNameLabel = (\n    <>\n      <QualifierIcon qualifier={ComponentQualifier.Project} /> <span>{projectName}</span>\n    </>\n  );\n\n  return (\n    <div className=\"source-viewer-header-slim display-flex-row display-flex-space-between\">\n      <div className=\"display-flex-center flex-1\">\n        <div>\n          {linkToProject ? (\n            <a\n              className=\"link-with-icon\"\n              href={getPathUrlAsString(getBranchLikeUrl(project, branchLike))}>\n              {projectNameLabel}\n            </a>\n          ) : (\n            projectNameLabel\n          )}\n        </div>\n\n        {subProject !== undefined && (\n          <>\n            <QualifierIcon qualifier={ComponentQualifier.SubProject} />{' '}\n            <span>{subProjectName}</span>\n          </>\n        )}\n\n        <div className=\"spacer-left\">\n          <QualifierIcon qualifier={q} /> <span>{collapsedDirFromPath(path)}</span>\n          <span className=\"component-name-file\">{fileFromPath(path)}</span>\n        </div>\n\n        <div className=\"spacer-left\">\n          <ClipboardIconButton className=\"button-link link-no-underline\" copyValue={path} />\n        </div>\n\n        {sourceViewerFile.canMarkAsFavorite && (!branchLike || isMainBranch(branchLike)) && (\n          <div className=\"nudged-up spacer-left\">\n            <Favorite\n              className=\"component-name-favorite\"\n              component={key}\n              favorite={sourceViewerFile.fav || false}\n              qualifier={sourceViewerFile.q}\n            />\n          </div>\n        )}\n      </div>\n\n      {measures.issues !== undefined && (\n        <div\n          className={classNames('flex-0 big-spacer-left', {\n            'little-spacer-right': !expandable || loading\n          })}>\n          <Link\n            to={getComponentIssuesUrl(project, {\n              ...getBranchLikeQuery(branchLike),\n              fileUuids: sourceViewerFile.uuid,\n              resolved: 'false'\n            })}>\n            {translate('source_viewer.view_all_issues')}\n          </Link>\n        </div>\n      )}\n\n      {expandable && (\n        <DeferredSpinner className=\"little-spacer-right\" loading={loading}>\n          <div className=\"flex-0 big-spacer-left\">\n            <ButtonIcon className=\"js-actions\" onClick={onExpand}>\n              <ExpandSnippetIcon />\n            </ButtonIcon>\n          </div>\n        </DeferredSpinner>\n      )}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { intersection } from 'lodash';\n\nexport function optimizeHighlightedSymbols(\n  symbolsForLine: string[] = [],\n  highlightedSymbols: string[] = []\n): string[] | undefined {\n  const symbols = intersection(symbolsForLine, highlightedSymbols);\n\n  return symbols.length ? symbols : undefined;\n}\n\nexport function optimizeLocationMessage(\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined,\n  optimizedSecondaryIssueLocations: T.LinearIssueLocation[]\n) {\n  return highlightedLocationMessage != null &&\n    optimizedSecondaryIssueLocations.some(\n      location => location.index === highlightedLocationMessage.index\n    )\n    ? highlightedLocationMessage\n    : undefined;\n}\n\nexport function optimizeSelectedIssue(selectedIssue: string | undefined, issuesForLine: T.Issue[]) {\n  return selectedIssue !== undefined && issuesForLine.find(issue => issue.key === selectedIssue)\n    ? selectedIssue\n    : undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport Issue from '../../issue/Issue';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  onIssueChange: (issue: T.Issue) => void;\n  onIssueClick: (issueKey: string) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  selectedIssue: string | undefined;\n}\n\nexport default function LineIssuesList(props: Props) {\n  const { issuePopup } = props;\n\n  return (\n    <div className=\"issue-list\">\n      {props.issues.map(issue => (\n        <Issue\n          branchLike={props.branchLike}\n          displayLocationsCount={props.displayIssueLocationsCount}\n          displayLocationsLink={props.displayIssueLocationsLink}\n          issue={issue}\n          key={issue.key}\n          onChange={props.onIssueChange}\n          onClick={props.onIssueClick}\n          onPopupToggle={props.onIssuePopupToggle}\n          openPopup={issuePopup && issuePopup.issue === issue.key ? issuePopup.name : undefined}\n          selected={props.selectedIssue === issue.key}\n        />\n      ))}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport LocationIndex from '../../common/LocationIndex';\nimport LocationMessage from '../../common/LocationMessage';\nimport {\n  highlightIssueLocations,\n  highlightSymbol,\n  splitByTokens,\n  Token\n} from '../helpers/highlight';\nimport LineIssuesList from './LineIssuesList';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayLocationMarkers?: boolean;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[] | undefined;\n  issueLocations: T.LinearIssueLocation[];\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  line: T.SourceLine;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issue: string, popupName: string, open?: boolean) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onLocationSelect: ((index: number) => void) | undefined;\n  onSymbolClick: (symbols: Array<string>) => void;\n  padding?: number;\n  scroll?: (element: HTMLElement) => void;\n  secondaryIssueLocations: T.LinearIssueLocation[];\n  selectedIssue: string | undefined;\n  showIssues?: boolean;\n}\n\ninterface State {\n  tokens: Token[];\n}\n\nexport default class LineCode extends React.PureComponent<Props, State> {\n  activeMarkerNode?: HTMLElement | null;\n  codeNode?: HTMLElement | null;\n  symbols?: NodeListOf<HTMLElement>;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      tokens: splitByTokens(props.line.code || '')\n    };\n  }\n\n  componentDidMount() {\n    this.attachEvents();\n    if (this.props.highlightedLocationMessage && this.activeMarkerNode && this.props.scroll) {\n      this.props.scroll(this.activeMarkerNode);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.line.code !== this.props.line.code) {\n      this.setState({\n        tokens: splitByTokens(nextProps.line.code || '')\n      });\n    }\n  }\n\n  componentWillUpdate() {\n    this.detachEvents();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    this.attachEvents();\n    if (\n      this.props.highlightedLocationMessage &&\n      (!prevProps.highlightedLocationMessage ||\n        prevProps.highlightedLocationMessage.index !==\n          this.props.highlightedLocationMessage.index) &&\n      this.activeMarkerNode &&\n      this.props.scroll\n    ) {\n      this.props.scroll(this.activeMarkerNode);\n    }\n  }\n\n  componentWillUnmount() {\n    this.detachEvents();\n  }\n\n  attachEvents() {\n    if (this.codeNode) {\n      this.symbols = this.codeNode.querySelectorAll('.sym');\n      if (this.symbols) {\n        for (let i = 0; i < this.symbols.length; i++) {\n          const symbol = this.symbols[i];\n          symbol.addEventListener('click', this.handleSymbolClick);\n        }\n      }\n    }\n  }\n\n  detachEvents() {\n    if (this.symbols) {\n      for (let i = 0; i < this.symbols.length; i++) {\n        const symbol = this.symbols[i];\n        symbol.addEventListener('click', this.handleSymbolClick);\n      }\n    }\n  }\n\n  handleSymbolClick = (event: MouseEvent) => {\n    event.preventDefault();\n    const keys = (event.currentTarget as HTMLElement).className.match(/sym-\\d+/g);\n    if (keys && keys.length > 0) {\n      this.props.onSymbolClick(keys);\n    }\n  };\n\n  renderMarker(index: number, message: string | undefined, selected: boolean, leading: boolean) {\n    const { onLocationSelect } = this.props;\n    const onClick = onLocationSelect ? () => onLocationSelect(index) : undefined;\n    const ref = selected ? (node: HTMLElement | null) => (this.activeMarkerNode = node) : undefined;\n    return (\n      <LocationIndex\n        key={`marker-${index}`}\n        leading={leading}\n        onClick={onClick}\n        selected={selected}>\n        <span ref={ref}>{index + 1}</span>\n        {message && <LocationMessage selected={true}>{message}</LocationMessage>}\n      </LocationIndex>\n    );\n  }\n\n  render() {\n    const {\n      highlightedLocationMessage,\n      highlightedSymbols,\n      issues,\n      issueLocations,\n      line,\n      onIssueSelect,\n      padding,\n      secondaryIssueLocations,\n      selectedIssue,\n      showIssues\n    } = this.props;\n\n    let tokens = [...this.state.tokens];\n\n    if (highlightedSymbols) {\n      highlightedSymbols.forEach(symbol => {\n        tokens = highlightSymbol(tokens, symbol);\n      });\n    }\n\n    if (issueLocations.length > 0) {\n      tokens = highlightIssueLocations(tokens, issueLocations);\n    }\n\n    if (secondaryIssueLocations) {\n      tokens = highlightIssueLocations(tokens, secondaryIssueLocations, 'issue-location');\n\n      if (highlightedLocationMessage) {\n        const location = secondaryIssueLocations.find(\n          location => location.index === highlightedLocationMessage.index\n        );\n        if (location) {\n          tokens = highlightIssueLocations(tokens, [location], 'selected');\n        }\n      }\n    }\n\n    const className = classNames('source-line-code', 'code', {\n      'has-issues': issues.length > 0\n    });\n\n    const renderedTokens: React.ReactNode[] = [];\n\n    // track if the first marker is displayed before the source code\n    // set `false` for the first token in a row\n    let leadingMarker = false;\n\n    tokens.forEach((token, index) => {\n      if (this.props.displayLocationMarkers && token.markers.length > 0) {\n        token.markers.forEach(marker => {\n          const selected =\n            highlightedLocationMessage !== undefined && highlightedLocationMessage.index === marker;\n          const loc = secondaryIssueLocations.find(loc => loc.index === marker);\n          const message = loc && loc.text;\n          renderedTokens.push(this.renderMarker(marker, message, selected, leadingMarker));\n        });\n      }\n      renderedTokens.push(\n        <span className={token.className} key={index}>\n          {token.text}\n        </span>\n      );\n\n      // keep leadingMarker truthy if previous token has only whitespaces\n      leadingMarker = (index === 0 ? true : leadingMarker) && !token.text.trim().length;\n    });\n\n    const style = padding ? { paddingBottom: `${padding}px` } : undefined;\n    const filteredSelectedIssues = issues.filter(i => i.key === selectedIssue);\n\n    return (\n      <td className={className} data-line-number={line.line} style={style}>\n        <div className=\"source-line-code-inner\">\n          <pre ref={node => (this.codeNode = node)}>{renderedTokens}</pre>\n        </div>\n        {showIssues && issues.length > 0 && (\n          <LineIssuesList\n            branchLike={this.props.branchLike}\n            displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n            displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n            issuePopup={this.props.issuePopup}\n            issues={issues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueClick={onIssueSelect}\n            onIssuePopupToggle={this.props.onIssuePopupToggle}\n            selectedIssue={selectedIssue}\n          />\n        )}\n        {selectedIssue && !showIssues && (\n          <LineIssuesList\n            branchLike={this.props.branchLike}\n            issuePopup={this.props.issuePopup}\n            issues={filteredSelectedIssues}\n            onIssueChange={this.props.onIssueChange}\n            onIssueClick={onIssueSelect}\n            onIssuePopupToggle={this.props.onIssuePopupToggle}\n            selectedIssue={selectedIssue}\n          />\n        )}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  line: T.SourceLine;\n}\n\nexport default function LineCoverage({ line }: Props) {\n  const className =\n    'source-meta source-line-coverage' +\n    (line.coverageStatus != null ? ` source-line-${line.coverageStatus}` : '');\n  return (\n    <td className={className} data-line-number={line.line}>\n      <Tooltip overlay={getStatusTooltip(line)} placement=\"right\">\n        <div className=\"source-line-bar\" />\n      </Tooltip>\n    </td>\n  );\n}\n\nfunction getStatusTooltip(line: T.SourceLine) {\n  if (line.coverageStatus === 'uncovered') {\n    if (line.conditions) {\n      return translateWithParameters('source_viewer.tooltip.uncovered.conditions', line.conditions);\n    } else {\n      return translate('source_viewer.tooltip.uncovered');\n    }\n  } else if (line.coverageStatus === 'covered') {\n    if (line.conditions) {\n      return translateWithParameters('source_viewer.tooltip.covered.conditions', line.conditions);\n    } else {\n      return translate('source_viewer.tooltip.covered');\n    }\n  } else if (line.coverageStatus === 'partially-covered') {\n    if (line.conditions) {\n      return translateWithParameters(\n        'source_viewer.tooltip.partially-covered.conditions',\n        line.coveredConditions || 0,\n        line.conditions\n      );\n    } else {\n      return translate('source_viewer.tooltip.partially-covered');\n    }\n  }\n  return undefined;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  duplicated: boolean;\n  index: number;\n  line: T.SourceLine;\n  onPopupToggle: (linePopup: T.LinePopup) => void;\n  popupOpen: boolean;\n  renderDuplicationPopup: (index: number, line: number) => React.ReactNode;\n}\n\nexport default class LineDuplicationBlock extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({\n      index: this.props.index,\n      line: this.props.line.line,\n      name: 'duplications'\n    });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({\n      index: this.props.index,\n      line: this.props.line.line,\n      name: 'duplications',\n      open\n    });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { duplicated, index, line, popupOpen } = this.props;\n    const className = classNames('source-meta', 'source-line-duplications-extra', {\n      'source-line-duplicated': duplicated\n    });\n\n    return duplicated ? (\n      <td className={className} data-index={index} data-line-number={line.line}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={this.props.renderDuplicationPopup(index, line.line)}>\n          <Tooltip\n            overlay={popupOpen ? undefined : translate('source_viewer.tooltip.duplicated_block')}\n            placement=\"right\">\n            <div\n              className=\"source-line-bar\"\n              onClick={this.handleClick}\n              role=\"button\"\n              tabIndex={0}\n            />\n          </Tooltip>\n        </Toggler>\n      </td>\n    ) : (\n      <td className={className} data-index={index} data-line-number={line.line}>\n        <div className=\"source-line-bar\" />\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  line: T.SourceLine;\n  onClick: (line: T.SourceLine) => void;\n}\n\nexport default class LineDuplications extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick(this.props.line);\n  };\n\n  render() {\n    const { line } = this.props;\n    const className = classNames('source-meta', 'source-line-duplications', {\n      'source-line-duplicated': line.duplicated\n    });\n\n    const cell = (\n      <td\n        className={className}\n        onClick={line.duplicated ? this.handleClick : undefined}\n        role={line.duplicated ? 'button' : undefined}\n        tabIndex={line.duplicated ? 0 : undefined}>\n        <div className=\"source-line-bar\" />\n      </td>\n    );\n\n    return line.duplicated ? (\n      <Tooltip overlay={translate('source_viewer.tooltip.duplicated_line')} placement=\"right\">\n        {cell}\n      </Tooltip>\n    ) : (\n      cell\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport IssueIcon from 'sonar-ui-common/components/icons/IssueIcon';\nimport { sortByType } from '../../../helpers/issues';\n\ninterface Props {\n  issues: T.Issue[];\n  line: T.SourceLine;\n  onClick: () => void;\n}\n\nexport default class LineIssuesIndicator extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    this.props.onClick();\n  };\n\n  render() {\n    const { issues, line } = this.props;\n    const hasIssues = issues.length > 0;\n    const className = classNames('source-meta', 'source-line-issues', {\n      'source-line-with-issues': hasIssues\n    });\n    const mostImportantIssue = hasIssues ? sortByType(issues)[0] : null;\n\n    return (\n      <td\n        className={className}\n        data-line-number={line.line}\n        onClick={hasIssues ? this.handleClick : undefined}\n        role={hasIssues ? 'button' : undefined}\n        tabIndex={hasIssues ? 0 : undefined}>\n        {mostImportantIssue != null && <IssueIcon type={mostImportantIssue.type} />}\n        {issues.length > 1 && <span className=\"source-line-issues-counter\">{issues.length}</span>}\n      </td>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getCodeUrl } from '../../../helpers/urls';\nimport { SourceViewerContext } from '../SourceViewerContext';\n\ninterface Props {\n  line: T.SourceLine;\n}\n\nexport default function LineOptionsPopup({ line }: Props) {\n  return (\n    <SourceViewerContext.Consumer>\n      {({ branchLike, file }) => (\n        <DropdownOverlay placement={PopupPlacement.RightTop}>\n          <div className=\"source-viewer-bubble-popup nowrap\">\n            <Link\n              className=\"js-get-permalink\"\n              onClick={event => {\n                event.stopPropagation();\n              }}\n              rel=\"noopener noreferrer\"\n              target=\"_blank\"\n              to={getCodeUrl(file.project, branchLike, file.key, line.line)}>\n              {translate('component_viewer.get_permalink')}\n            </Link>\n          </div>\n        </DropdownOverlay>\n      )}\n    </SourceViewerContext.Consumer>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport LineOptionsPopup from './LineOptionsPopup';\n\ninterface Props {\n  line: T.SourceLine;\n  onPopupToggle: (linePopup: T.LinePopup) => void;\n  popupOpen: boolean;\n}\n\nexport default class LineNumber extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'line-number' });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'line-number', open });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { line, popupOpen } = this.props;\n    const { line: lineNumber } = line;\n    const hasLineNumber = !!lineNumber;\n    return hasLineNumber ? (\n      <td\n        className=\"source-meta source-line-number\"\n        data-line-number={lineNumber}\n        onClick={this.handleClick}\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        role=\"button\"\n        tabIndex={0}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={<LineOptionsPopup line={line} />}\n        />\n      </td>\n    ) : (\n      <td className=\"source-meta source-line-number\" />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport DateFormatter from '../../intl/DateFormatter';\n\ninterface Props {\n  line: T.SourceLine;\n}\n\nexport default function SCMPopup({ line }: Props) {\n  const hasAuthor = line.scmAuthor !== '';\n  return (\n    <DropdownOverlay placement={PopupPlacement.RightTop}>\n      <div className=\"source-viewer-bubble-popup abs-width-400\">\n        {hasAuthor && <div>{line.scmAuthor}</div>}\n        {line.scmDate && (\n          <div className={classNames({ 'spacer-top': hasAuthor })}>\n            <DateFormatter date={line.scmDate} />\n          </div>\n        )}\n        {line.scmRevision && <div className=\"spacer-top\">{line.scmRevision}</div>}\n      </div>\n    </DropdownOverlay>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Toggler from 'sonar-ui-common/components/controls/Toggler';\nimport SCMPopup from './SCMPopup';\n\ninterface Props {\n  line: T.SourceLine;\n  onPopupToggle: (linePopup: T.LinePopup) => void;\n  popupOpen: boolean;\n  previousLine: T.SourceLine | undefined;\n}\n\nexport default class LineSCM extends React.PureComponent<Props> {\n  handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'scm' });\n  };\n\n  handleTogglePopup = (open: boolean) => {\n    this.props.onPopupToggle({ line: this.props.line.line, name: 'scm', open });\n  };\n\n  closePopup = () => {\n    this.handleTogglePopup(false);\n  };\n\n  render() {\n    const { line, popupOpen, previousLine } = this.props;\n    const hasPopup = !!line.line;\n    const cell = isSCMChanged(line, previousLine) && (\n      <div className=\"source-line-scm-inner\" data-author={line.scmAuthor || ''} />\n    );\n    return hasPopup ? (\n      <td\n        className=\"source-meta source-line-scm\"\n        data-line-number={line.line}\n        onClick={this.handleClick}\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-element-to-interactive-role\n        role=\"button\"\n        tabIndex={0}>\n        <Toggler\n          onRequestClose={this.closePopup}\n          open={popupOpen}\n          overlay={<SCMPopup line={line} />}>\n          {cell}\n        </Toggler>\n      </td>\n    ) : (\n      <td className=\"source-meta source-line-scm\" data-line-number={line.line}>\n        {cell}\n      </td>\n    );\n  }\n}\n\nfunction isSCMChanged(s: T.SourceLine, p: T.SourceLine | undefined) {\n  let changed = true;\n  if (p != null && s.scmRevision != null && p.scmRevision != null) {\n    changed = s.scmRevision !== p.scmRevision || s.scmDate !== p.scmDate;\n  }\n  return changed;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { times } from 'lodash';\nimport * as React from 'react';\nimport { BranchLike } from '../../../types/branch-like';\nimport './Line.css';\nimport LineCode from './LineCode';\nimport LineCoverage from './LineCoverage';\nimport LineDuplicationBlock from './LineDuplicationBlock';\nimport LineDuplications from './LineDuplications';\nimport LineIssuesIndicator from './LineIssuesIndicator';\nimport LineNumber from './LineNumber';\nimport LineSCM from './LineSCM';\n\ninterface Props {\n  branchLike: BranchLike | undefined;\n  displayAllIssues?: boolean;\n  displayCoverage: boolean;\n  displayDuplications: boolean;\n  displayIssueLocationsCount?: boolean;\n  displayIssueLocationsLink?: boolean;\n  displayIssues: boolean;\n  displayLocationMarkers?: boolean;\n  displaySCM?: boolean;\n  duplications: number[];\n  duplicationsCount: number;\n  highlighted: boolean;\n  highlightedLocationMessage: { index: number; text: string | undefined } | undefined;\n  highlightedSymbols: string[] | undefined;\n  issueLocations: T.LinearIssueLocation[];\n  issuePopup: { issue: string; name: string } | undefined;\n  issues: T.Issue[];\n  last: boolean;\n  line: T.SourceLine;\n  linePopup: T.LinePopup | undefined;\n  loadDuplications: (line: T.SourceLine) => void;\n  onLinePopupToggle: (linePopup: T.LinePopup) => void;\n  onIssueChange: (issue: T.Issue) => void;\n  onIssuePopupToggle: (issueKey: string, popupName: string, open?: boolean) => void;\n  onIssuesClose: (line: T.SourceLine) => void;\n  onIssueSelect: (issueKey: string) => void;\n  onIssuesOpen: (line: T.SourceLine) => void;\n  onIssueUnselect: () => void;\n  onLocationSelect: ((x: number) => void) | undefined;\n  onSymbolClick: (symbols: string[]) => void;\n  openIssues: boolean;\n  previousLine: T.SourceLine | undefined;\n  renderDuplicationPopup: (index: number, line: number) => React.ReactNode;\n  scroll?: (element: HTMLElement) => void;\n  secondaryIssueLocations: T.LinearIssueLocation[];\n  selectedIssue: string | undefined;\n  verticalBuffer?: number;\n}\n\nconst LINE_HEIGHT = 18;\n\nexport default class Line extends React.PureComponent<Props> {\n  isPopupOpen = (name: string, index?: number) => {\n    const { line, linePopup } = this.props;\n    return (\n      linePopup !== undefined &&\n      linePopup.index === index &&\n      linePopup.line === line.line &&\n      linePopup.name === name\n    );\n  };\n\n  handleIssuesIndicatorClick = () => {\n    if (this.props.openIssues) {\n      this.props.onIssuesClose(this.props.line);\n      this.props.onIssueUnselect();\n    } else {\n      this.props.onIssuesOpen(this.props.line);\n\n      const { issues } = this.props;\n      if (issues.length > 0) {\n        this.props.onIssueSelect(issues[0].key);\n      }\n    }\n  };\n\n  render() {\n    const {\n      displayCoverage,\n      displaySCM = true,\n      duplications,\n      duplicationsCount,\n      issuePopup,\n      line\n    } = this.props;\n    const className = classNames('source-line', {\n      'source-line-highlighted': this.props.highlighted,\n      'source-line-filtered': line.isNew,\n      'source-line-filtered-dark':\n        displayCoverage &&\n        (line.coverageStatus === 'uncovered' || line.coverageStatus === 'partially-covered'),\n      'source-line-last': this.props.last === true\n    });\n\n    const bottomPadding = this.props.verticalBuffer\n      ? this.props.verticalBuffer * LINE_HEIGHT\n      : undefined;\n\n    return (\n      <tr className={className} data-line-number={line.line}>\n        <LineNumber\n          line={line}\n          onPopupToggle={this.props.onLinePopupToggle}\n          popupOpen={this.isPopupOpen('line-number')}\n        />\n\n        {displaySCM && (\n          <LineSCM\n            line={line}\n            onPopupToggle={this.props.onLinePopupToggle}\n            popupOpen={this.isPopupOpen('scm')}\n            previousLine={this.props.previousLine}\n          />\n        )}\n        {this.props.displayIssues && !this.props.displayAllIssues ? (\n          <LineIssuesIndicator\n            issues={this.props.issues}\n            line={line}\n            onClick={this.handleIssuesIndicatorClick}\n          />\n        ) : (\n          <td className=\"source-meta source-line-issues\" />\n        )}\n\n        {this.props.displayDuplications && (\n          <LineDuplications line={line} onClick={this.props.loadDuplications} />\n        )}\n\n        {times(duplicationsCount, index => (\n          <LineDuplicationBlock\n            duplicated={duplications.includes(index)}\n            index={index}\n            key={index}\n            line={this.props.line}\n            onPopupToggle={this.props.onLinePopupToggle}\n            popupOpen={this.isPopupOpen('duplications', index)}\n            renderDuplicationPopup={this.props.renderDuplicationPopup}\n          />\n        ))}\n\n        {this.props.displayCoverage && <LineCoverage line={line} />}\n\n        <LineCode\n          branchLike={this.props.branchLike}\n          displayIssueLocationsCount={this.props.displayIssueLocationsCount}\n          displayIssueLocationsLink={this.props.displayIssueLocationsLink}\n          displayLocationMarkers={this.props.displayLocationMarkers}\n          highlightedLocationMessage={this.props.highlightedLocationMessage}\n          highlightedSymbols={this.props.highlightedSymbols}\n          issueLocations={this.props.issueLocations}\n          issuePopup={issuePopup}\n          issues={this.props.issues}\n          line={line}\n          onIssueChange={this.props.onIssueChange}\n          onIssuePopupToggle={this.props.onIssuePopupToggle}\n          onIssueSelect={this.props.onIssueSelect}\n          onLocationSelect={this.props.onLocationSelect}\n          onSymbolClick={this.props.onSymbolClick}\n          padding={bottomPadding}\n          scroll={this.props.scroll}\n          secondaryIssueLocations={this.props.secondaryIssueLocations}\n          selectedIssue={this.props.selectedIssue}\n          showIssues={this.props.openIssues || this.props.displayAllIssues}\n        />\n      </tr>\n    );\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SourceViewerHeaderSlim.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SourceViewerHeaderSlim.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./SourceViewerHeaderSlim.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".source-viewer-header-slim{padding:4px 10px;border-bottom:1px solid #cdcdcd;background-color:#f3f3f3;align-items:center;min-height:25px}\", \"\"]);\n\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Line.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Line.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/postcss-loader/src/index.js??postcss!./Line.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".source-line:hover .source-line-coverage,.source-line:hover .source-line-duplications,.source-line:hover .source-line-duplications-extra,.source-line:hover .source-line-issues,.source-line:hover .source-line-number,.source-line:hover .source-line-scm{border-color:#e9e9e9;background-color:#e9e9e9}.source-line:hover .source-line-code{background-color:#f5f5f5}.source-line-highlighted .source-line-coverage,.source-line-highlighted .source-line-duplications,.source-line-highlighted .source-line-duplications-extra,.source-line-highlighted .source-line-issues,.source-line-highlighted .source-line-number,.source-line-highlighted .source-line-scm,.source-line-highlighted:hover .source-line-coverage,.source-line-highlighted:hover .source-line-duplications,.source-line-highlighted:hover .source-line-duplications-extra,.source-line-highlighted:hover .source-line-issues,.source-line-highlighted:hover .source-line-number,.source-line-highlighted:hover .source-line-scm{border-color:#c4dfec!important;background-color:#c4dfec}.source-line-highlighted .source-line-code,.source-line-highlighted:hover .source-line-code{background-color:#d9edf7}.source-line-filtered .source-line-code{background-color:#fbf3d5!important}.source-line-filtered.source-line-highlighted .source-line-code,.source-line-filtered.source-line-highlighted:hover .source-line-code{background-color:#cdd9c4!important}.source-line-filtered.source-line-filtered-dark .source-line-code{background-color:#f9ebb7!important}.source-line-filtered.source-line-filtered-dark:hover .source-line-code,.source-line-filtered:hover .source-line-code{background-color:#f1e8cb!important}.source-line-last .source-line-code{padding-bottom:160px}.source-viewer pre{height:18px;padding:0}.source-line-number,.source-line-scm,.source-viewer pre{line-height:18px;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.source-line-code{position:relative;padding:0 10px}.source-line-code pre{float:left}.source-line-code .issue-list{margin-left:-10px;margin-right:-10px}.source-line-code-inner{min-height:18px}.source-line-code-inner:after,.source-line-code-inner:before{display:table;content:\\\"\\\";line-height:0}.source-line-code-inner:after{clear:both}.source-line-code-issue{display:inline-block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAGCAYAAAAPDoR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1M0M2Rjk4M0M3QUYxMUUzODkzRUREMUM5OTNDMjY4QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1M0M2Rjk4NEM3QUYxMUUzODkzRUREMUM5OTNDMjY4QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzQzZGOTgxQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzQzZGOTgyQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bcqJtQAAAEhJREFUeNpi+G+swwDGDAwgbAWlwZiJAQFCgfgwEIfDRaC67ID4NRDnQ2kQnwFZwgFqnANMAQOUYY9sF0wBiCGH5CBkrAgQYACuWi4sSGW8yAAAAABJRU5ErkJggg==);background-repeat:repeat-x;background-size:4px;background-position:bottom}.source-meta{position:relative;vertical-align:top;width:1px;background-clip:padding-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.source-meta:focus{outline:none}.source-meta[role=button]{cursor:pointer}.source-line-number{min-width:18px;padding:0 10px;background-color:#f3f3f3;color:#777;text-align:right}.source-line-number:before{content:attr(data-line-number)}.source-line-issues{position:relative;padding:0 2px;background-color:#f3f3f3;white-space:nowrap}.source-line-with-issues svg{padding-right:2px;vertical-align:middle}.source-line-issues-counter{position:absolute;left:17px;line-height:8px;font-size:8px;z-index:900}.source-line-coverage,.source-line-duplications,.source-line-duplications-extra{background-color:#f3f3f3}.source-duplications-expanded .source-line-duplications,.source-line-duplications-extra{display:none}.source-duplications-expanded .source-line-duplications-extra{display:table-cell}.source-line-scm{padding:0 5px;background-color:#f3f3f3}.source-line-scm-inner{max-width:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.source-line-scm-inner:before{content:attr(data-author)}.source-line-bar{width:5px;height:18px}.source-line-bar[role=button]{cursor:pointer}.source-line-bar:focus{outline:none}.source-line-covered{background-color:#b4dd78!important}.source-line-partially-covered,.source-line-uncovered{background-color:#a4030f!important}.source-line-partially-covered{background-image:repeating-linear-gradient(45deg,hsla(0,0%,100%,.5) 4px,transparent 0,transparent 8px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 12px,transparent 0,transparent 16px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 20px)!important}.source-line-duplicated{background-color:#797979!important}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { groupBy, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { DropdownOverlay } from 'sonar-ui-common/components/controls/Dropdown';\nimport QualifierIcon from 'sonar-ui-common/components/icons/QualifierIcon';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { collapsedDirFromPath, fileFromPath } from 'sonar-ui-common/helpers/path';\nimport { isPullRequest } from '../../../helpers/branch-like';\nimport { getProjectUrl } from '../../../helpers/urls';\nimport { BranchLike } from '../../../types/branch-like';\nimport { WorkspaceContextShape } from '../../workspace/context';\n\ninterface Props {\n  blocks: T.DuplicationBlock[];\n  branchLike: BranchLike | undefined;\n  duplicatedFiles?: T.Dict<T.DuplicatedFile>;\n  inRemovedComponent: boolean;\n  onClose: () => void;\n  openComponent: WorkspaceContextShape['openComponent'];\n  sourceViewerFile: T.SourceViewerFile;\n}\n\nexport default class DuplicationPopup extends React.PureComponent<Props> {\n  shouldLink() {\n    const { branchLike } = this.props;\n    return !isPullRequest(branchLike);\n  }\n\n  isDifferentComponent = (\n    a: { project: string; subProject?: string },\n    b: { project: string; subProject?: string }\n  ) => {\n    return Boolean(a && b && (a.project !== b.project || a.subProject !== b.subProject));\n  };\n\n  handleFileClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { key, line } = event.currentTarget.dataset;\n    if (this.shouldLink() && key) {\n      this.props.openComponent({\n        branchLike: this.props.branchLike,\n        key,\n        line: line ? Number(line) : undefined\n      });\n    }\n    this.props.onClose();\n  };\n\n  renderDuplication(file: T.DuplicatedFile, children: React.ReactNode, line?: number) {\n    return this.shouldLink() ? (\n      <a\n        data-key={file.key}\n        data-line={line}\n        href=\"#\"\n        onClick={this.handleFileClick}\n        title={file.name}>\n        {children}\n      </a>\n    ) : (\n      children\n    );\n  }\n\n  render() {\n    const { duplicatedFiles = {}, sourceViewerFile } = this.props;\n\n    const groupedBlocks = groupBy(this.props.blocks, '_ref');\n    let duplications = Object.keys(groupedBlocks).map(fileRef => {\n      return {\n        blocks: groupedBlocks[fileRef],\n        file: duplicatedFiles[fileRef]\n      };\n    });\n\n    // first duplications in the same file\n    // then duplications in the same sub-project\n    // then duplications in the same project\n    // then duplications in other projects\n    duplications = sortBy(\n      duplications,\n      d => d.file.projectName !== sourceViewerFile.projectName,\n      d => d.file.subProjectName !== sourceViewerFile.subProjectName,\n      d => d.file.key !== sourceViewerFile.key\n    );\n\n    return (\n      <DropdownOverlay placement={PopupPlacement.RightTop}>\n        <div className=\"source-viewer-bubble-popup abs-width-400\">\n          {this.props.inRemovedComponent && (\n            <Alert variant=\"warning\">\n              {translate('duplications.dups_found_on_deleted_resource')}\n            </Alert>\n          )}\n          {duplications.length > 0 && (\n            <>\n              <h6 className=\"spacer-bottom\">\n                {translate('component_viewer.transition.duplication')}\n              </h6>\n              {duplications.map(duplication => (\n                <div className=\"spacer-top text-ellipsis\" key={duplication.file.key}>\n                  <div className=\"component-name\">\n                    {this.isDifferentComponent(duplication.file, this.props.sourceViewerFile) && (\n                      <>\n                        <div className=\"component-name-parent\">\n                          <QualifierIcon className=\"little-spacer-right\" qualifier=\"TRK\" />\n                          <Link to={getProjectUrl(duplication.file.project)}>\n                            {duplication.file.projectName}\n                          </Link>\n                        </div>\n                        {duplication.file.subProject && duplication.file.subProjectName && (\n                          <div className=\"component-name-parent\">\n                            <QualifierIcon className=\"little-spacer-right\" qualifier=\"BRC\" />\n                            {duplication.file.subProjectName}\n                          </div>\n                        )}\n                      </>\n                    )}\n\n                    {duplication.file.key !== this.props.sourceViewerFile.key && (\n                      <div className=\"component-name-path\">\n                        {this.renderDuplication(\n                          duplication.file,\n                          <>\n                            <span>{collapsedDirFromPath(duplication.file.name)}</span>\n                            <span className=\"component-name-file\">\n                              {fileFromPath(duplication.file.name)}\n                            </span>\n                          </>\n                        )}\n                      </div>\n                    )}\n\n                    <div className=\"component-name-path\">\n                      {'Lines: '}\n                      {duplication.blocks.map((block, index) => (\n                        <React.Fragment key={index}>\n                          {this.renderDuplication(\n                            duplication.file,\n                            <>\n                              {block.from}\n                              {'  '}\n                              {block.from + block.size - 1}\n                            </>,\n                            block.from\n                          )}\n                          {index < duplication.blocks.length - 1 && ', '}\n                        </React.Fragment>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </>\n          )}\n        </div>\n      </DropdownOverlay>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// TODO Test this function, but I don't get the logic behind it\nexport function filterDuplicationBlocksByLine(blocks: T.DuplicationBlock[], line: number) {\n  /* eslint-disable no-underscore-dangle */\n  let foundOne = false;\n  return blocks.filter(b => {\n    const outOfBounds = b.from > line || b.from + b.size < line;\n    const currentFile = b._ref === '1';\n    const shouldDisplayForCurrentFile = outOfBounds || foundOne;\n    const shouldDisplay = !currentFile || shouldDisplayForCurrentFile;\n    const isOk = b._ref !== undefined && shouldDisplay;\n    if (b._ref === '1' && !outOfBounds) {\n      foundOne = true;\n    }\n    return isOk;\n  });\n  /* eslint-enable no-underscore-dangle */\n}\n\nexport function getDuplicationBlocksForIndex(\n  duplications: T.Duplication[] | undefined,\n  index: number\n) {\n  return (duplications && duplications[index] && duplications[index].blocks) || [];\n}\n\nexport function isDuplicationBlockInRemovedComponent(blocks: T.DuplicationBlock[]) {\n  return blocks.some(b => b._ref === undefined); // eslint-disable-line no-underscore-dangle\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport enum ComponentQualifier {\n  Application = 'APP',\n  Directory = 'DIR',\n  Developper = 'DEV',\n  File = 'FIL',\n  Portfolio = 'VW',\n  Project = 'TRK',\n  SubPortfolio = 'SVW',\n  SubProject = 'BRC',\n  TestFile = 'UTS'\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar theme_1 = require(\"../theme\");\nvar Icon_1 = require(\"./Icon\");\nfunction FavoriteIcon(_a) {\n    var className = _a.className, favorite = _a.favorite, fill = _a.fill, size = _a.size;\n    return (React.createElement(theme_1.ThemeConsumer, null, function (theme) { return (React.createElement(Icon_1.default, { className: classNames('icon-outline', { 'is-filled': favorite }, className), size: size, style: { color: fill || theme.colors.orange } },\n        React.createElement(\"g\", { transform: \"matrix(0.988024,0,0,0.988024,0.0957953,0.717719)\" },\n            React.createElement(\"path\", { d: \"M15.428,5.777C15.428,5.908 15.35,6.051 15.195,6.205L11.954,9.366L12.722,13.83C12.728,13.872 12.731,13.932 12.731,14.009C12.731,14.134 12.7,14.24 12.637,14.326C12.575,14.412 12.484,14.455 12.365,14.455C12.252,14.455 12.133,14.42 12.008,14.348L7.999,12.241L3.99,14.348C3.859,14.42 3.74,14.455 3.633,14.455C3.508,14.455 3.414,14.412 3.352,14.326C3.289,14.24 3.258,14.134 3.258,14.009C3.258,13.973 3.264,13.914 3.276,13.83L4.044,9.366L0.794,6.205C0.645,6.045 0.57,5.902 0.57,5.777C0.57,5.557 0.737,5.42 1.07,5.366L5.552,4.714L7.561,0.652C7.674,0.408 7.82,0.286 7.999,0.286C8.177,0.286 8.323,0.408 8.436,0.652L10.445,4.714L14.927,5.366C15.261,5.42 15.427,5.557 15.427,5.777L15.428,5.777Z\" })))); }));\n}\nexports.default = FavoriteIcon;\n//# sourceMappingURL=FavoriteIcon.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from 'sonar-ui-common/helpers/request';\n\nexport function getFavorites(): Promise<any> {\n  return getJSON('/api/favorites/search');\n}\n\nexport function addFavorite(component: string): Promise<void> {\n  return post('/api/favorites/add', { component });\n}\n\nexport function removeFavorite(component: string): Promise<void> {\n  return post('/api/favorites/remove', { component });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport FavoriteButton from 'sonar-ui-common/components/controls/FavoriteButton';\nimport { addFavorite, removeFavorite } from '../../api/favorites';\n\ninterface Props {\n  className?: string;\n  component: string;\n  favorite: boolean;\n  qualifier: string;\n  handleFavorite?: (component: string, isFavorite: boolean) => void;\n}\n\ninterface State {\n  favorite: boolean;\n}\n\nexport default class Favorite extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      favorite: props.favorite\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(_prevProps: Props, prevState: State) {\n    if (prevState.favorite !== this.props.favorite) {\n      this.setState({ favorite: this.props.favorite });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  toggleFavorite = () => {\n    const newFavorite = !this.state.favorite;\n    const apiMethod = newFavorite ? addFavorite : removeFavorite;\n\n    return apiMethod(this.props.component).then(() => {\n      if (this.mounted) {\n        this.setState({ favorite: newFavorite }, () => {\n          if (this.props.handleFavorite) {\n            this.props.handleFavorite(this.props.component, newFavorite);\n          }\n        });\n      }\n    });\n  };\n\n  render() {\n    const { className, qualifier } = this.props;\n    const { favorite } = this.state;\n\n    return (\n      <FavoriteButton\n        className={className}\n        favorite={favorite}\n        qualifier={qualifier}\n        toggleFavorite={this.toggleFavorite}\n      />\n    );\n  }\n}\n/*  */\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classNames = require(\"classnames\");\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar FavoriteIcon_1 = require(\"../icons/FavoriteIcon\");\nvar buttons_1 = require(\"./buttons\");\nvar Tooltip_1 = require(\"./Tooltip\");\nvar FavoriteButton = (function (_super) {\n    __extends(FavoriteButton, _super);\n    function FavoriteButton() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FavoriteButton.prototype.render = function () {\n        var _a = this.props, className = _a.className, favorite = _a.favorite, qualifier = _a.qualifier, toggleFavorite = _a.toggleFavorite;\n        var tooltip = favorite\n            ? l10n_1.translate('favorite.current', qualifier)\n            : l10n_1.translate('favorite.check', qualifier);\n        var ariaLabel = l10n_1.translate('favorite.action', favorite ? 'remove' : 'add');\n        return (React.createElement(Tooltip_1.default, { overlay: tooltip },\n            React.createElement(buttons_1.ButtonLink, { \"aria-label\": ariaLabel, className: classNames('favorite-link', 'link-no-underline', className), onClick: toggleFavorite },\n                React.createElement(FavoriteIcon_1.default, { favorite: favorite }))));\n    };\n    return FavoriteButton;\n}(React.PureComponent));\nexports.default = FavoriteButton;\n//# sourceMappingURL=FavoriteButton.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { flatten } from 'lodash';\nimport { splitByTokens } from './highlight';\nimport { getLinearLocations } from './issueLocations';\n\nexport function issuesByLine(issues: T.Issue[]) {\n  const index: { [line: number]: T.Issue[] } = {};\n  issues.forEach(issue => {\n    const line = issue.textRange ? issue.textRange.endLine : 0;\n    if (!(line in index)) {\n      index[line] = [];\n    }\n    index[line].push(issue);\n  });\n  return index;\n}\n\nexport function issuesByComponentAndLine(\n  issues: T.Issue[] = []\n): { [component: string]: { [line: number]: T.Issue[] } } {\n  return issues.reduce((mapping: { [component: string]: { [line: number]: T.Issue[] } }, issue) => {\n    mapping[issue.component] = mapping[issue.component] || {};\n    const line = issue.textRange ? issue.textRange.endLine : 0;\n    mapping[issue.component][line] = mapping[issue.component][line] || [];\n    mapping[issue.component][line].push(issue);\n    return mapping;\n  }, {});\n}\n\nexport function locationsByLine(issues: Pick<T.Issue, 'textRange'>[]) {\n  const index: { [line: number]: T.LinearIssueLocation[] } = {};\n  issues.forEach(issue => {\n    getLinearLocations(issue.textRange).forEach(location => {\n      if (!(location.line in index)) {\n        index[location.line] = [];\n      }\n      index[location.line].push(location);\n    });\n  });\n  return index;\n}\n\nexport function duplicationsByLine(duplications: T.Duplication[] | undefined) {\n  if (duplications == null) {\n    return {};\n  }\n\n  const duplicationsByLine: { [line: number]: number[] } = {};\n\n  duplications.forEach(({ blocks }, duplicationIndex) => {\n    blocks.forEach(block => {\n      // eslint-disable-next-line no-underscore-dangle\n      if (block._ref === '1') {\n        for (let line = block.from; line < block.from + block.size; line++) {\n          if (!(line in duplicationsByLine)) {\n            duplicationsByLine[line] = [];\n          }\n          duplicationsByLine[line].push(duplicationIndex);\n        }\n      }\n    });\n  });\n\n  return duplicationsByLine;\n}\n\nexport function symbolsByLine(sources: T.SourceLine[]) {\n  const index: { [line: number]: string[] } = {};\n  sources.forEach(line => {\n    const tokens = splitByTokens(line.code || '');\n    const symbols = flatten(\n      tokens.map(token => {\n        const keys = token.className.match(/sym-\\d+/g);\n        return keys != null ? keys : [];\n      })\n    );\n    index[line.line] = symbols.filter(key => key);\n  });\n  return index;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getLinearLocations(textRange: T.TextRange | undefined): T.LinearIssueLocation[] {\n  if (!textRange) {\n    return [];\n  }\n  const locations = [];\n\n  // go through all lines of the `textRange`\n  for (let line = textRange.startLine; line <= textRange.endLine; line++) {\n    // TODO fix 999999\n    const from = line === textRange.startLine ? textRange.startOffset : 0;\n    const to = line === textRange.endLine ? textRange.endOffset : 999999;\n    locations.push({ line, from, to });\n  }\n  return locations;\n}\n\nexport function getSecondaryIssueLocationsForLine(\n  line: T.SourceLine,\n  highlightedLocations: (T.FlowLocation | undefined)[] | undefined\n): T.LinearIssueLocation[] {\n  if (!highlightedLocations) {\n    return [];\n  }\n  return highlightedLocations.reduce((locations, location) => {\n    const linearLocations: T.LinearIssueLocation[] = location\n      ? getLinearLocations(location.textRange)\n          .filter(l => l.line === line.line)\n          .map(l => ({\n            ...l,\n            startLine: location.textRange.startLine,\n            index: location.index,\n            text: location.msg\n          }))\n      : [];\n    return [...locations, ...linearLocations];\n  }, []);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { BranchLike } from '../../types/branch-like';\n\ninterface SourceViewerContextShape {\n  branchLike?: BranchLike;\n  file: T.SourceViewerFile;\n}\n\nexport const SourceViewerContext = React.createContext<SourceViewerContextShape>({\n  branchLike: {} as BranchLike,\n  file: {} as T.SourceViewerFile\n});\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n"],"sourceRoot":""}