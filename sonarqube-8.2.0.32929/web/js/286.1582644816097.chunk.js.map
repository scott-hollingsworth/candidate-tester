{"version":3,"sources":["webpack:///../sonar-docs/src/tooltips/quality-profiles/built-in-quality-profile.md","webpack:///./src/main/js/apps/coding-rules/components/SimilarRulesFilter.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/apps/coding-rules/styles.css?1250","webpack:///./src/main/js/apps/coding-rules/styles.css","webpack:///./src/main/js/apps/issues/sidebar/StandardFacet.tsx","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css?a58b","webpack:///./src/main/js/components/facet/MultipleSelectionHint.css","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///../sonar-docs/src/tooltips/rules/custom-rules.md","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsTagsPopup.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsMeta.tsx","webpack:///./src/main/js/apps/coding-rules/components/RemoveExtendedDescriptionModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsDescription.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationFormModal.tsx","webpack:///../sonar-docs/src/tooltips/rules/rules-quality-profiles.md","webpack:///../sonar-docs/src/tooltips/rules/rule-templates.md","webpack:///../sonar-docs/src/tooltips/rules/custom-rule-removal.md","webpack:///./src/main/js/apps/coding-rules/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/BulkChange.tsx","webpack:///./src/main/js/apps/coding-rules/components/Facet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/AvailableSinceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/DefaultSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/InheritanceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/LanguageFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ProfileFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/RepositoryFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/StatusFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TagFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TemplateFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TypeFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/FacetsList.tsx","webpack:///./src/main/js/apps/coding-rules/components/PageActions.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsCustomRules.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsIssues.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsParameters.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleInheritanceIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsProfiles.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetails.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleListItem.tsx","webpack:///./src/main/js/apps/coding-rules/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/components/docs/DocTooltip.tsx","webpack:///./src/main/js/app/components/a11y/A11ySkipTarget.tsx","webpack:///./src/main/js/api/quality-profiles.ts","webpack:///./src/main/js/helpers/markdown.js","webpack:///./src/main/js/components/shared/SeverityHelper.tsx","webpack:///./src/main/js/api/rules.ts","webpack:///./src/main/js/components/tags/TagsList.css?aed4","webpack:///./src/main/js/components/hoc/withAppState.tsx","webpack:///./src/main/js/components/facet/FacetBox.tsx","webpack:///./src/main/js/components/tags/TagsList.tsx","webpack:///./src/main/js/components/common/ScreenPositionHelper.tsx","webpack:///./src/main/js/components/facet/FacetHeader.tsx","webpack:///./src/main/js/components/facet/FacetItem.tsx","webpack:///./src/main/js/components/common/MultiSelectOption.tsx","webpack:///./src/main/js/components/common/MultiSelect.tsx","webpack:///./src/main/js/components/common/MarkdownTips.tsx","webpack:///./src/main/js/components/facet/FacetItemsList.tsx","webpack:///./src/main/js/components/tags/TagsList.css","webpack:///./src/main/js/components/facet/ListStyleFacetFooter.tsx","webpack:///./src/main/js/components/facet/ListStyleFacet.tsx","webpack:///./src/main/js/helpers/organizations.ts","webpack:///./src/main/js/components/tags/TagsSelector.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx","webpack:///./src/main/js/components/controls/DayPicker.css?dc71","webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/styles.css?00e9","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/search-navigator.css?cb81","webpack:///./src/main/js/components/search-navigator.css","webpack:///./src/main/js/components/facet/MultipleSelectionHint.tsx","webpack:///./src/main/js/helpers/security-standard.ts","webpack:///./src/main/js/apps/quality-profiles/components/BuiltInQualityProfileBadge.tsx"],"names":["__webpack_require__","r","__webpack_exports__","SimilarRulesFilter","_super","_this","apply","this","arguments","handleLanguageClick","event","preventDefault","currentTarget","blur","props","rule","lang","onFilterChange","languages","handleTypeClick","types","type","handleSeverityClick","severity","severities","handleTagClick","tag","dataset","tags","__extends","prototype","render","_a","_b","sysTags","allTags","__spreadArrays","react__WEBPACK_IMPORTED_MODULE_0__","sonar_ui_common_components_controls_Dropdown__WEBPACK_IMPORTED_MODULE_1___default","a","className","overlay","Object","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_6__","data-test","href","onClick","langName","sonar_ui_common_components_icons_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_4___default","query","_components_shared_SeverityHelper__WEBPACK_IMPORTED_MODULE_7__","length","map","key","data-tag","sonar_ui_common_components_icons_TagsIcon__WEBPACK_IMPORTED_MODULE_5___default","title","sonar_ui_common_components_icons_FilterIcon__WEBPACK_IMPORTED_MODULE_3___default","sonar_ui_common_components_icons_DropdownIcon__WEBPACK_IMPORTED_MODULE_2___default","d","FiltersHeader","sonar_ui_common_components_controls_buttons__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","displayReset","onReset","id","content","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","StandardFacet","mounted","property","_utils__WEBPACK_IMPORTED_MODULE_13__","state","cweQuery","standards","owaspTop10","sansTop25","cwe","sonarsourceSecurity","loadStandards","_helpers_security_standard__WEBPACK_IMPORTED_MODULE_12__","then","setState","getValues","item","handleHeaderClick","onToggle","handleOwaspTop10HeaderClick","handleSansTop25HeaderClick","handleSonarSourceSecurityHeaderClick","handleClear","onChange","handleItemClick","prop","itemValue","multiple","items","newValue","lodash_sortBy__WEBPACK_IMPORTED_MODULE_1___default","includes","lodash_without__WEBPACK_IMPORTED_MODULE_0___default","handleOwaspTop10ItemClick","handleSansTop25ItemClick","handleSonarSourceSecurityItemClick","handleCWESearch","Promise","resolve","results","keys","filter","toLowerCase","loadCWESearchResultCount","categories","loadSearchResultCount","renderList","statsProp","valuesProp","renderName","stats","values","renderFacetItemsList","renderTooltip","react__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_4__","getStat","category","_components_facet_FacetItemsList__WEBPACK_IMPORTED_MODULE_9__","_components_facet_FacetItem__WEBPACK_IMPORTED_MODULE_8__","active","name","stat","tooltip","value","renderHint","_components_facet_MultipleSelectionHint__WEBPACK_IMPORTED_MODULE_11__","componentDidMount","open","componentDidUpdate","prevProps","componentWillUnmount","renderOwaspTop10List","renderOwaspTop10Hint","renderSansTop25List","renderSansTop25Hint","renderSonarSourceSecurityList","renderSonarSourceSecurityHint","renderSubFacets","_components_facet_FacetBox__WEBPACK_IMPORTED_MODULE_6__","_components_facet_FacetHeader__WEBPACK_IMPORTED_MODULE_7__","fetching","fetchingSonarSourceSecurity","sonarsourceSecurityOpen","fetchingOwaspTop10","owaspTop10Open","fetchingSansTop25","sansTop25Open","_components_facet_ListStyleFacet__WEBPACK_IMPORTED_MODULE_10__","facetHeader","fetchingCwe","getFacetItemText","getSearchResultKey","getSearchResultText","onSearch","cweOpen","lodash_omit__WEBPACK_IMPORTED_MODULE_2___default","renderFacetItem","renderSearchResult","sonar_ui_common_helpers_search__WEBPACK_IMPORTED_MODULE_5__","searchPlaceholder","cweStats","onClear","PageCounter","classnames__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","current","label","total","TypeHelper","sonar_ui_common_components_icons_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1___default","n","LIST_SIZE","RuleDetailsTagsPopup","searchResult","rules","q","ps","Math","min","organization","without_default","onSelect","setTags","uniq_default","onUnselect","availableTags","difference_default","index_js_exposed","TagsSelector","listSize","selectedTags","EXTERNAL_RULE_REPO_PREFIX","RuleDetailsMeta_RuleDetailsMeta","RuleDetailsMeta","renderType","ruleDetails","Tooltip_default","l10n","data-meta","IssueTypeIcon_default","renderSeverity","SeverityHelper","renderStatus","status","renderTags","canWrite","_c","RuleDetailsMeta_spreadArrays","Dropdown_default","closeOnClick","closeOnClickOutside","components_RuleDetailsTagsPopup","onTagsChange","overlayPlacement","popups","BottomLeft","buttons","TagsList","allowUpdate","renderCreationDate","DateFormatter","date","createdAt","renderRepository","referencedRepositories","repository","repo","renderTemplate","isTemplate","renderParentTemplate","templateKey","es","to","urls","DocTooltip","doc","bind","renderRemediation","debtRemFnType","debtRemFnOffset","debtRemFnCoeff","effortToFixDescription","renderScope","scope","RuleScopeIcon_default","renderExternalBadge","engine","replace","RegExp","RuleDetailsMeta_extends","renderKey","displayedKey","startsWith","substr","hasTypeData","isExternal","LinkIcon_default","hideSimilarRulesFilter","RemoveExtendedDescriptionModal","onCancel","onSubmit","header","SimpleModal_default","onClose","onCloseClick","onFormSubmit","submitting","disabled","RuleDetailsDescription_RuleDetailsDescription","RuleDetailsDescription","description","descriptionForm","removeDescriptionModal","handleDescriptionChange","handleCancelClick","handleSaveClick","updateDescription","handleRemoveDescriptionClick","handleCancelRemoving","handleConfirmRemoving","text","markdown_note","handleExtendDescriptionClick","mdNote","renderDescription","htmlNote","dangerouslySetInnerHTML","__html","renderForm","colSpan","autoFocus","rows","MarkdownTips","hasDescription","htmlDesc","ActivationFormModal","call","getParams","activation","params","_i","param","defaultValue","_d","_e","getQualityProfilesWithDepth","profiles","_quality_profiles_utils__WEBPACK_IMPORTED_MODULE_10__","profile","isBuiltIn","actions","edit","language","__assign","depth","handleFormSubmit","data","_api_quality_profiles__WEBPACK_IMPORTED_MODULE_7__","onDone","handleParameterChange","handleProfileChange","handleSeverityChange","renderSeverityOption","_components_shared_SeverityHelper__WEBPACK_IMPORTED_MODULE_8__","profilesWithDepth","isCustomRule","activeInAllProfiles","isUpdateMode","sonar_ui_common_components_controls_Modal__WEBPACK_IMPORTED_MODULE_3___default","contentLabel","modalHeader","onRequestClose","size","modal-container","sonar_ui_common_components_ui_Alert__WEBPACK_IMPORTED_MODULE_5__","variant","sonar_ui_common_components_controls_Select__WEBPACK_IMPORTED_MODULE_4___default","clearable","repeat","optionRenderer","_helpers_constants__WEBPACK_IMPORTED_MODULE_9__","searchable","valueRenderer","placeholder","sonar_ui_common_components_controls_buttons__WEBPACK_IMPORTED_MODULE_2__","BulkChangeModal","handleProfileSelect","selectedProfiles","option","getAvailableQualityProfiles","referencedProfiles","processResponse","response","result_1","failed","succeeded","sendRequests","looper","coding_rules_query","method","action","quality_profiles","targetKey","profiles_1","finished","renderResult","result","profileKey","Alert","renderProfileSelect","languageName","Select_default","multi","availableProfiles","measures","Modal_default","htmlFor","BulkChange","modal","getSelectedProfile","closeModal","handleActivateClick","handleActivateInProfileClick","handleDeactivateClick","handleDeactivateInProfileClick","BulkChange_extends","some","Boolean","canChangeProfile","allowActivateOnProfile","allowDeactivateOnProfile","components_BulkChangeModal","Facet","singleSelection","orderBy_default","Facet_spreadArrays","renderItem","defaultRenderName","renderTextName","FacetItem","halfWidth","Facet_extends","sortBy_default","FacetBox","classnames","search-navigator-facet-box-forbidden","FacetHeader","disabledHelper","children","FacetItemsList","renderFooter","ActivationSeverityFacet","ActivationSeverityFacet_extends","components_Facet","ActivationSeverityFacet_assign","constants","AvailableSinceFacet_AvailableSinceFacet","AvailableSinceFacet","availableSince","handlePeriodChange","intl","formatDate","AvailableSinceFacet_extends","DateInput","components_AvailableSinceFacet","index_es","DefaultSeverityFacet","DefaultSeverityFacet_extends","DefaultSeverityFacet_assign","InheritanceFacet","InheritanceFacet_extends","__rest","InheritanceFacet_assign","LanguageFacet_LanguageFacet","LanguageFacet","getLanguageName","languageKey","installedLanguages","find","l","handleSearch","getAllPossibleOptions","paging","pageIndex","pageSize","uniqBy_default","LanguageFacet_spreadArrays","term","search","LanguageFacet_extends","ListStyleFacet","minSearchLength","components_LanguageFacet","rootReducer","ProfileFacet","selected","compareToProfile","activationSeverities","inheritance","handleActiveClick","stopPropagation","handleInactiveClick","getTextValue","getTooltip","base","renderActivation","isCompare","aria-checked","facet-toggle-active","role","tabIndex","ProfileFacet_extends","RepositoryFacet_RepositoryFacet","RepositoryFacet","referencedLanguages","repositoryKey","RepositoryFacet_extends","facetProps","RepositoryFacet_rest","RepositoryFacet_assign","components_RepositoryFacet","StatusFacet","StatusFacet_extends","StatusFacet_assign","TagFacet","api_rules","handleSelect","TagFacet_spreadArrays","getTagName","renderTag","TagsIcon_default","fill","theme","gray60","TagFacet_extends","TemplateFacet","handleChange","changes","template","Array","isArray","TemplateFacet_assign","TemplateFacet_extends","TemplateFacet_rest","String","TypeFacet","TypeFacet_extends","TypeFacet_assign","FacetsList","languageDisabled","hideProfileFacet","inheritanceDisabled","selectedProfile","isInherited","activationSeverityDisabled","onFacetToggle","openFacets","facets","components_TypeFacet","components_TagFacet","repositories","components_DefaultSeverityFacet","components_StatusFacet","statuses","owaspTop10Stats","sansTop25Stats","sonarsourceSecurityStats","organizationsEnabled","components_TemplateFacet","components_ProfileFacet","components_InheritanceFacet","components_ActivationSeverityFacet","PageActions","Shortcuts","DeferredSpinner_default","loading","ReloadButton_default","onReload","selectedIndex","CustomRuleFormModal","prepareRequest","customRule","templateRule","csv","join","ruleData","markdown_description","CustomRuleFormModal_assign","custom_key","prevent_reactivation","reactivating","template_key","newRuleDetails","handleNameChange","keyModifiedByUser","strings","handleKeyChange","handleTypeChange","handleStatusChange","renderNameField","required","renderKeyField","renderDescriptionField","renderTypeOption","renderTypeField","renderSeverityField","renderStatusField","renderParameterField","mdDesc","CustomRuleFormModal_extends","submit","CustomRuleButton","handleClick","handleModalClose","handleDone","CustomRuleButton_extends","components_CustomRuleFormModal","RuleDetailsCustomRules","fetchRules","f","handleRuleCreate","RuleDetailsCustomRules_spreadArrays","handleRuleDelete","ruleKey","renderRule","data-rule","react_router_es","canChange","ConfirmButton_default","confirmButtonText","confirmData","isDestructive","modalBody","onConfirm","RuleDetailsCustomRules_extends","components_CustomRuleButton","RuleDetailsIssues_RuleDetailsIssues","RuleDetailsIssues","fetchIssues","issues","resolved","facet","components","projects","project","component","val","count","facet_1","renderTotal","path","totalItem","appState","branchesEnabled","renderProject","RuleDetailsIssues_extends","components_RuleDetailsIssues","withAppState","RuleDetailsParameters","renderParameter","RuleDetailsParameters_extends","ActivationButton","handleButtonClick","handleCloseModal","ActivationButton_extends","buttonText","RuleInheritanceIcon","other","RuleInheritanceIcon_rest","red","baseFontColor","RuleInheritanceIcon_assign","height","version","viewBox","width","xmlSpace","xmlnsXlink","style","fillRule","RuleDetailsProfiles","handleActivate","onActivate","handleDeactivate","onDeactivate","handleRevert","reset","renderInheritedProfile","parentName","profilePath","inherit","parentActivation","originalParam","p","originalValue","renderParameters","renderActions","canEdit","hasParent","parentKey","components_ActivationButton","activations","qProfile","x","data-profile","BuiltInQualityProfileBadge","RuleDetailsProfiles_extends","canActivate","InstanceMessage","message","filter_default","RuleDetails","fetchRuleDetails","actives","handleRuleChange","handleTagsChange","oldTags","RuleDetails_assign","catch","handleDelete","onDelete","RuleDetails_extends","allowCustomRules","hideQualityProfiles","isCustom","isEditable","components_RuleDetailsParameters","components_RuleDetailsCustomRules","components_RuleDetailsProfiles","RuleListItem","data_1","handleNameClick","isLeftClickEvent","button","metaKey","altKey","ctrlKey","shiftKey","onOpen","SeverityIcon_default","isLoggedIn","canCopy","copy","renderDeactivateButton","overlayTranslationKey","RuleListItem_extends","RuleListItem_spreadArrays","PAGE_SIZE","LIMIT_BEFORE_LOAD_MORE","App_App","App","attachShortcuts","keymaster","selectPreviousRule","selectNextRule","openSelectedRule","handleBack","detachShortcuts","getOpenRule","location","getFacetsToFetch","getFieldsToFetch","fields","getSearchParameters","App_assign","s","stopLoading","fetchInitialData","all","fetchQualityProfiles","keyBy_default","fetchFirstRules","makeFetchRequest","rawActives","rawFacets","entries","activations_1","parseActives","rawFacets_1","rawFacet","rawValue","parseFacets","openRule","usingPermalink","fetchMoreRules","nextPage","App_spreadArrays","fetchFacet","currentUser","userOrganizations","organizations","getSelectedIndex","index","findIndex","getRulePath","pathname","router","closeRule","scrollToSelectedRule","smooth","element","document","querySelector","scrolling","topOffset","bottomOffset","getRuleActivation","closeFacet","handleRuleOpen","handleReset","handleFilterChange","utils","handleFacetToggle","willOpenProperty","newState","handleReload","pickRuleAround","handleRuleActivate","handleRuleDeactivate","newRule","searchQuery","isFiltered","renderBulkButton","users","system","components_BulkChange","App_extends","pages","componentWillReceiveProps","nextProps","prevState","Suggestions","suggestions","index_module","defer","ScreenPositionHelper","top","A11ySkipTarget","anchor","weight","SearchBox_default","minLength","BackIcon_default","components_RuleDetails","components_RuleListItem","ListFooter_default","loadMore","ready","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","formatterOption","year","month","day","longFormatterOption","long","react_intl__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","DocMarkdownBlock","sonar_ui_common_components_lazyLoad__WEBPACK_IMPORTED_MODULE_2__","e","close","default","addEventListener","removeEventListener","sonar_ui_common_components_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_1___default","childProps","overlayProps","_helpers_markdown__WEBPACK_IMPORTED_MODULE_3__","isTooltip","_A11yContext__WEBPACK_IMPORTED_MODULE_2__","addA11ySkipLink","removeA11ySkipLink","A11ySkipTargetInner","getLink","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_1__","searchQualityProfiles","parameters","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_2__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_3__","getQualityProfile","compareToSonarWay","createQualityProfile","restoreQualityProfile","getProfileProjects","getProfileInheritance","qualityProfile","setDefaultProfile","renameProfile","copyProfile","fromKey","toName","deleteProfile","changeProfileParent","parentProfile","parentQualityProfile","getQualityProfileBackupUrl","encodeURIComponent","getQualityProfileExporterUrl","exporterKey","getImporters","importers","getExporters","exporters","getProfileChangelog","since","page","compareProfiles","leftKey","rightKey","associateProject","dissociateProject","searchUsers","searchGroups","addUser","removeUser","addGroup","removeGroup","bulkActivateRules","bulkDeactivateRules","activateRule","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","sonar_ui_common_helpers_csv__WEBPACK_IMPORTED_MODULE_1__","deactivateRule","getFrontMatterPosition","lines","firstLine","lastLine","trim","parseFrontMatter","tokens","split","cutConditionalContent","beginning","ending","newContent","start","indexOf","end","substring","console","error","Error","getFrontMatter","position","slice","separateFrontMatter","frontmatter","content_1","filterContent","regexBase","isSonarCloud","getInstance","contentWithoutStatic","sonar_ui_common_components_icons_SeverityIcon__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_icons_SeverityIcon__WEBPACK_IMPORTED_MODULE_1___default","getRulesApp","searchRules","takeFacet","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","reject","WrappedComponent","Wrapper","displayName","_utils__WEBPACK_IMPORTED_MODULE_3__","react_redux__WEBPACK_IMPORTED_MODULE_1__","_store_rootReducer__WEBPACK_IMPORTED_MODULE_2__","data-property","sonar_ui_common_components_icons_DropdownIcon__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_icons_TagsIcon__WEBPACK_IMPORTED_MODULE_3__","sonar_ui_common_components_icons_TagsIcon__WEBPACK_IMPORTED_MODULE_3___default","aria-label","aria-hidden","getPosition","containerPos","container","getBoundingClientRect","window","pageYOffset","left","pageXOffset","debouncedOnResize","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","forceUpdate","ref","renderHelper","helper","sonar_ui_common_components_controls_HelpTooltip__WEBPACK_IMPORTED_MODULE_2___default","renderValueIndicator","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_5__","showClearButton","sonar_ui_common_components_icons_OpenCloseIcon__WEBPACK_IMPORTED_MODULE_3___default","sonar_ui_common_components_ui_DeferredSpinner__WEBPACK_IMPORTED_MODULE_4___default","renderValue","search-navigator-facet-half","data-facet","defaultProps","MultiSelectOption","custom","onHover","renderLabel","onFocus","onMouseOver","Checkbox_default","checked","onCheck","onSelectChange","MultiSelect_MultiSelect","MultiSelect","handleSelectChange","onSelectItem","onUnselectItem","handleSearchChange","onSearchQuery","validateSearchInput","handleElementHover","activeIdx","getAllElements","handleKeyboard","evt","keyCode","selectNextElement","selectPreviousElement","toggleSelect","isNewElement","elem","selectedElements","elements","updateSelectedElements","filterSelected","updateUnselectedElements","unselectedElements","setElementActive","idx","allElements","totalElements","searchInput","focus","allowSelection","allowNewElements","footerNode","activeElement","showNewElement","infiniteList","listClasses","menu-vertically-limited","spacer-top","with-top-separator","with-bottom-separator","div","_helpers_urls__WEBPACK_IMPORTED_MODULE_3__","ListStyleFacetFooter","handleShowMoreClick","showMore","handleShowLessClick","showLess","hasMore","allShown","ListStyleFacet_ListStyleFacet","searching","searchResultsCounts","showFullList","onItemClick","stopSearching","loadCountsForSearchResults","maxResults","searchMaxResults","searchResults","searchPaging","searchMore","resultsToLoad","hideFullList","ListStyleFacet_extends","helpers_query","maxInitialItems","sortedItems","getSortedItems","limitedList","selectedBelowLimit","mightHaveMoreResults","maxItems","formatFacetStat","facet_ListStyleFacetFooter","renderSearch","renderSearchResults","loadingResults","showList","MultipleSelectionHint","isPaidOrganization","hasPrivateAccess","isCurrentUserMemberOf","_users__WEBPACK_IMPORTED_MODULE_0__","subscription","admin","org","_common_MultiSelect__WEBPACK_IMPORTED_MODULE_2__","validateTag","DayPicker","sonar_ui_common_components_lazyLoad__WEBPACK_IMPORTED_MODULE_14__","t","input","openCalendar","handleResetClick","closeCalendar","currentMonth","Date","lastHovered","handleDayClick","modifiers","handleDayMouseEnter","handleCurrentMonthChange","date_fns_set_month__WEBPACK_IMPORTED_MODULE_3__","handleCurrentYearChange","date_fns_set_year__WEBPACK_IMPORTED_MODULE_4__","handlePreviousMonthClick","date_fns_sub_months__WEBPACK_IMPORTED_MODULE_5__","handleNextMonthClick","date_fns_add_months__WEBPACK_IMPORTED_MODULE_2__","highlightFrom","highlightTo","minDate","after","maxDate","months","lodash_range__WEBPACK_IMPORTED_MODULE_0___default","years","getFullYear","selectedDays","lastHoveredOrValue","highlighted","from","weekdaysLong","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_15__","weekdaysShort","react__WEBPACK_IMPORTED_MODULE_6__","sonar_ui_common_components_controls_OutsideClickHandler__WEBPACK_IMPORTED_MODULE_9___default","onClickOutside","classnames__WEBPACK_IMPORTED_MODULE_1__","InputWrapper","inputClassName","is-filled","innerRef","node","readOnly","sonar_ui_common_components_icons_CalendarIcon__WEBPACK_IMPORTED_MODULE_11___default","sonar_ui_common_components_controls_buttons__WEBPACK_IMPORTED_MODULE_8__","iconProps","sonar_ui_common_components_icons_ChevronLeftIcon__WEBPACK_IMPORTED_MODULE_12___default","sonar_ui_common_components_controls_Select__WEBPACK_IMPORTED_MODULE_10___default","getMonth","sonar_ui_common_components_icons_ChevronRightIcon__WEBPACK_IMPORTED_MODULE_13___default","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter","react_intl__WEBPACK_IMPORTED_MODULE_7__","formattedValue","navigator","userAgent","getStandards","renderCWECategory","record","renderOwaspTop10Category","withPrefix","addPrefix","toUpperCase","renderSansTop25Category","renderSonarSourceSecurityCategory","prefix","_components_docs_DocTooltip__WEBPACK_IMPORTED_MODULE_3__","badge"],"mappings":"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","file":"js/286.1582644816097.chunk.js","sourcesContent":["export default \"Built-in profiles are provided directly by the language analyzers and may be updated with each new analyzer version. They represent best-practice, minimum rule sets.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport FilterIcon from 'sonar-ui-common/components/icons/FilterIcon';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { Query } from '../query';\n\ninterface Props {\n  onFilterChange: (changes: Partial<Query>) => void;\n  rule: T.Rule;\n}\n\nexport default class SimilarRulesFilter extends React.PureComponent<Props> {\n  handleLanguageClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.lang) {\n      this.props.onFilterChange({ languages: [this.props.rule.lang] });\n    }\n  };\n\n  handleTypeClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onFilterChange({ types: [this.props.rule.type] });\n  };\n\n  handleSeverityClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.rule.severity) {\n      this.props.onFilterChange({ severities: [this.props.rule.severity] });\n    }\n  };\n\n  handleTagClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    const { tag } = event.currentTarget.dataset;\n    if (tag) {\n      this.props.onFilterChange({ tags: [tag] });\n    }\n  };\n\n  render() {\n    const { rule } = this.props;\n    const { tags = [], sysTags = [], severity } = rule;\n    const allTags = [...tags, ...sysTags];\n\n    return (\n      <Dropdown\n        className=\"display-inline-block\"\n        overlay={\n          <>\n            <ul className=\"menu\">\n              <li className=\"menu-header\">{translate('coding_rules.filter_similar_rules')}</li>\n              <li>\n                <a\n                  data-test=\"coding-rules__similar-language\"\n                  href=\"#\"\n                  onClick={this.handleLanguageClick}>\n                  {rule.langName}\n                </a>\n              </li>\n\n              <li>\n                <a\n                  className=\"display-flex-center\"\n                  data-test=\"coding-rules__similar-type\"\n                  href=\"#\"\n                  onClick={this.handleTypeClick}>\n                  <IssueTypeIcon query={rule.type} />\n                  <span className=\"little-spacer-left\">{translate('issue.type', rule.type)}</span>\n                </a>\n              </li>\n\n              {severity && (\n                <li>\n                  <a\n                    data-test=\"coding-rules__similar-severity\"\n                    href=\"#\"\n                    onClick={this.handleSeverityClick}>\n                    <SeverityHelper className=\"display-flex-center\" severity={rule.severity} />\n                  </a>\n                </li>\n              )}\n\n              {allTags.length > 0 && <li className=\"divider\" />}\n              {allTags.map(tag => (\n                <li key={tag}>\n                  <a\n                    data-tag={tag}\n                    data-test=\"coding-rules__similar-tag\"\n                    href=\"#\"\n                    onClick={this.handleTagClick}>\n                    <TagsIcon className=\"icon-half-transparent little-spacer-right text-middle\" />\n                    <span className=\"text-middle\">{tag}</span>\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </>\n        }>\n        <a\n          className=\"js-rule-filter link-no-underline spacer-left dropdown-toggle\"\n          href=\"#\"\n          title={translate('coding_rules.filter_similar_rules')}>\n          <FilterIcon className=\"icon-half-transparent\" />\n          <DropdownIcon className=\"icon-half-transparent\" />\n        </a>\n      </Dropdown>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".coding-rules-extended-view .coding-rules-list{display:none}.coding-rules-extended-view .coding-rules-details{display:block}.coding-rules-detail-title{position:relative;display:inline-block;margin:16px 0;font-size:16px;font-weight:400}.coding-rules-detail-quality-profile-parameter{display:block;height:100%;padding-top:0;padding-right:10px}.coding-rules-detail-quality-profile-parameter .key,.coding-rules-detail-quality-profile-parameter .sep,.coding-rules-detail-quality-profile-parameter .value{display:inline;vertical-align:top}.coding-rules-detail-quality-profile-parameter .value{display:inline-block;vertical-align:top;line-height:23px;max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace}.coding-rules-detail-quality-profile-parameter+.coding-rules-detail-quality-profile-parameter{margin-top:0}.coding-rules-detail-properties{display:flex;flex-wrap:wrap;align-items:center;margin-top:8px}.coding-rules-detail-properties+.coding-rules-detail-properties{margin-top:-10px}.coding-rules-detail-property{display:flex;align-items:center;margin-right:16px;margin-bottom:8px;font-size:12px}.coding-rules-detail-tag+.coding-rules-detail-tag{margin-left:10px}.coding-rules-detail-tags-change{cursor:pointer}.coding-rules-detail-tags-change:hover span{text-decoration:underline}.coding-rules-detail-tag-edit{line-height:1}.coding-rules-details-tag-edit-cancel{vertical-align:middle}.coding-rules-detail-description{margin:20px 0}.coding-rules-detail-description-extra{margin-top:-10px}.coding-rules-detail-extend-description-form{margin:10px 0}.coding-rules-detail-parameters{width:100%;margin:10px 0 20px}.coding-rules-detail-parameter-name{width:1px;vertical-align:top;padding:5px 10px 5px 0;font-weight:700}.coding-rules-detail-parameter-description{vertical-align:top;padding:5px}.coding-rules-detail-parameter-value{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;word-break:break-all}.coding-rules-detail-list,.coding-rules-detail-quality-profiles{width:100%;line-height:22px}.coding-rules-detail-list td,.coding-rules-detail-quality-profiles td{border-top:1px solid #e6e6e6}.coding-rules-detail-list tr:first-child td,.coding-rules-detail-quality-profiles tr:first-child td{border-top:none}.coding-rules-detail-list-name,.coding-rules-detail-quality-profile-name{vertical-align:top;width:1px;padding:8px 5px 8px 0;font-weight:600;white-space:nowrap}.coding-rules-detail-list-severity,.coding-rules-detail-quality-profile-severity{vertical-align:top;width:1px;padding:8px 5px;white-space:nowrap}.coding-rules-detail-quality-profile-severity i{margin-top:2px}.coding-rules-detail-list-parameters,.coding-rules-detail-quality-profile-parameters{vertical-align:top;padding:8px 5px}.coding-rules-detail-list-actions,.coding-rules-detail-quality-profile-actions{vertical-align:top;width:1px;padding:8px 0 8px 5px;text-align:right;white-space:nowrap}.coding-rules-detail-quality-profile-inheritance{font-size:12px;font-weight:400}.coding-rules-detail-quality-profiles-activation{margin-top:-3px;margin-left:10px}.coding-rules-most-violated-projects td{border-top-color:transparent}.coding-rules-most-violated-projects tr:first-child+tr td{border-top-color:#e6e6e6}.coding-rules-most-violated-projects .coding-rules-detail-list-name{font-weight:400}.coding-rule{padding:8px 10px 8px 8px;border:1px solid transparent;background-color:#fff}.coding-rule.selected{border-color:#4b9fd5!important}.coding-rule+.coding-rule{border-top-color:#e6e6e6}.coding-rule.selected+.coding-rule{border-top-color:transparent}.coding-rule-table{width:100%}.coding-rule-table td{vertical-align:top}.coding-rule-table+.coding-rule-table{margin-top:5px}.coding-rule-table-meta-cell{width:1px;white-space:nowrap}@media (max-width:1320px){.coding-rule-table .tags-list span{max-width:100px}}.coding-rule-title{line-height:20px;font-size:13px}.coding-rule-meta{padding:2px 2px 2px 30px;font-size:12px}.coding-rule-activation{width:40px;line-height:19.5px}.coding-rule-activation-actions{padding-left:20px}.coding-rule-section-separator{height:0;margin:10px 0;border-top:1px solid #e6e6e6}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { omit, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport MultipleSelectionHint from '../../../components/facet/MultipleSelectionHint';\nimport {\n  getStandards,\n  renderCWECategory,\n  renderOwaspTop10Category,\n  renderSansTop25Category,\n  renderSonarSourceSecurityCategory\n} from '../../../helpers/security-standard';\nimport { Facet, formatFacetStat, Query, STANDARDS } from '../utils';\n\ninterface Props {\n  cwe: string[];\n  cweOpen: boolean;\n  cweStats: T.Dict<number> | undefined;\n  fetchingCwe: boolean;\n  fetchingOwaspTop10: boolean;\n  fetchingSansTop25: boolean;\n  fetchingSonarSourceSecurity: boolean;\n  loadSearchResultCount?: (property: string, changes: Partial<Query>) => Promise<Facet>;\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: string) => void;\n  open: boolean;\n  owaspTop10: string[];\n  owaspTop10Open: boolean;\n  owaspTop10Stats: T.Dict<number> | undefined;\n  query: Partial<Query>;\n  sansTop25: string[];\n  sansTop25Open: boolean;\n  sansTop25Stats: T.Dict<number> | undefined;\n  sonarsourceSecurity: string[];\n  sonarsourceSecurityOpen: boolean;\n  sonarsourceSecurityStats: T.Dict<number> | undefined;\n}\n\ninterface State {\n  cweQuery: string;\n  standards: T.Standards;\n}\n\ntype StatsProp = 'owaspTop10Stats' | 'cweStats' | 'sansTop25Stats' | 'sonarsourceSecurityStats';\ntype ValuesProp = T.StandardType;\n\nexport default class StandardFacet extends React.PureComponent<Props, State> {\n  mounted = false;\n  property = STANDARDS;\n  state: State = {\n    cweQuery: '',\n    standards: { owaspTop10: {}, sansTop25: {}, cwe: {}, sonarsourceSecurity: {} }\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n\n    // load standards.json only if the facet is open, or there is a selected value\n    if (\n      this.props.open ||\n      this.props.owaspTop10.length > 0 ||\n      this.props.cwe.length > 0 ||\n      this.props.sansTop25.length > 0 ||\n      this.props.sonarsourceSecurity.length > 0\n    ) {\n      this.loadStandards();\n    }\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (!prevProps.open && this.props.open) {\n      this.loadStandards();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStandards = () => {\n    getStandards().then(\n      ({ owaspTop10, sansTop25, cwe, sonarsourceSecurity }: T.Standards) => {\n        if (this.mounted) {\n          this.setState({ standards: { owaspTop10, sansTop25, cwe, sonarsourceSecurity } });\n        }\n      },\n      () => {}\n    );\n  };\n\n  getValues = () => {\n    return [\n      ...this.props.sonarsourceSecurity.map(item =>\n        renderSonarSourceSecurityCategory(this.state.standards, item, true)\n      ),\n      ...this.props.owaspTop10.map(item =>\n        renderOwaspTop10Category(this.state.standards, item, true)\n      ),\n      ...this.props.sansTop25.map(item =>\n        renderSansTop25Category(this.state.standards, item, true)\n      ),\n      ...this.props.cwe.map(item => renderCWECategory(this.state.standards, item))\n    ];\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.property);\n  };\n\n  handleOwaspTop10HeaderClick = () => {\n    this.props.onToggle('owaspTop10');\n  };\n\n  handleSansTop25HeaderClick = () => {\n    this.props.onToggle('sansTop25');\n  };\n\n  handleSonarSourceSecurityHeaderClick = () => {\n    this.props.onToggle('sonarsourceSecurity');\n  };\n\n  handleClear = () => {\n    this.props.onChange({\n      [this.property]: [],\n      owaspTop10: [],\n      sansTop25: [],\n      cwe: [],\n      sonarsourceSecurity: []\n    });\n  };\n\n  handleItemClick = (prop: ValuesProp, itemValue: string, multiple: boolean) => {\n    const items = this.props[prop];\n    if (multiple) {\n      const newValue = sortBy(\n        items.includes(itemValue) ? without(items, itemValue) : [...items, itemValue]\n      );\n      this.props.onChange({ [prop]: newValue });\n    } else {\n      this.props.onChange({\n        [prop]: items.includes(itemValue) && items.length < 2 ? [] : [itemValue]\n      });\n    }\n  };\n\n  handleOwaspTop10ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('owaspTop10', itemValue, multiple);\n  };\n\n  handleSansTop25ItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sansTop25', itemValue, multiple);\n  };\n\n  handleSonarSourceSecurityItemClick = (itemValue: string, multiple: boolean) => {\n    this.handleItemClick('sonarsourceSecurity', itemValue, multiple);\n  };\n\n  handleCWESearch = (query: string) => {\n    return Promise.resolve({\n      results: Object.keys(this.state.standards.cwe).filter(cwe =>\n        renderCWECategory(this.state.standards, cwe)\n          .toLowerCase()\n          .includes(query.toLowerCase())\n      )\n    });\n  };\n\n  loadCWESearchResultCount = (categories: string[]) => {\n    const { loadSearchResultCount } = this.props;\n    return loadSearchResultCount\n      ? loadSearchResultCount('cwe', { cwe: categories })\n      : Promise.resolve({});\n  };\n\n  renderList = (\n    statsProp: StatsProp,\n    valuesProp: ValuesProp,\n    renderName: (standards: T.Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    const stats = this.props[statsProp];\n    const values = this.props[valuesProp];\n    if (!stats) {\n      return null;\n    }\n    const categories = sortBy(Object.keys(stats), key => -stats[key]);\n    return this.renderFacetItemsList(stats, values, categories, renderName, renderName, onClick);\n  };\n\n  // eslint-disable-next-line max-params\n  renderFacetItemsList = (\n    stats: any,\n    values: string[],\n    categories: string[],\n    renderName: (standards: T.Standards, category: string) => React.ReactNode,\n    renderTooltip: (standards: T.Standards, category: string) => string,\n    onClick: (x: string, multiple?: boolean) => void\n  ) => {\n    if (!categories.length) {\n      return (\n        <div className=\"search-navigator-facet-empty little-spacer-top\">\n          {translate('no_results')}\n        </div>\n      );\n    }\n\n    const getStat = (category: string) => {\n      return stats ? stats[category] : undefined;\n    };\n\n    return (\n      <FacetItemsList>\n        {categories.map(category => (\n          <FacetItem\n            active={values.includes(category)}\n            key={category}\n            name={renderName(this.state.standards, category)}\n            onClick={onClick}\n            stat={formatFacetStat(getStat(category))}\n            tooltip={renderTooltip(this.state.standards, category)}\n            value={category}\n          />\n        ))}\n      </FacetItemsList>\n    );\n  };\n\n  renderHint = (statsProp: StatsProp, valuesProp: ValuesProp) => {\n    const stats = this.props[statsProp] || {};\n    const values = this.props[valuesProp];\n    return <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />;\n  };\n\n  renderOwaspTop10List() {\n    return this.renderList(\n      'owaspTop10Stats',\n      'owaspTop10',\n      renderOwaspTop10Category,\n      this.handleOwaspTop10ItemClick\n    );\n  }\n\n  renderOwaspTop10Hint() {\n    return this.renderHint('owaspTop10Stats', 'owaspTop10');\n  }\n\n  renderSansTop25List() {\n    return this.renderList(\n      'sansTop25Stats',\n      'sansTop25',\n      renderSansTop25Category,\n      this.handleSansTop25ItemClick\n    );\n  }\n\n  renderSansTop25Hint() {\n    return this.renderHint('sansTop25Stats', 'sansTop25');\n  }\n\n  renderSonarSourceSecurityList() {\n    return this.renderList(\n      'sonarsourceSecurityStats',\n      'sonarsourceSecurity',\n      renderSonarSourceSecurityCategory,\n      this.handleSonarSourceSecurityItemClick\n    );\n  }\n\n  renderSonarSourceSecurityHint() {\n    return this.renderHint('sonarsourceSecurityStats', 'sonarsourceSecurity');\n  }\n\n  renderSubFacets() {\n    return (\n      <>\n        <FacetBox className=\"is-inner\" property=\"sonarsourceSecurity\">\n          <FacetHeader\n            fetching={this.props.fetchingSonarSourceSecurity}\n            name={translate('issues.facet.sonarsourceSecurity')}\n            onClick={this.handleSonarSourceSecurityHeaderClick}\n            open={this.props.sonarsourceSecurityOpen}\n            values={this.props.sonarsourceSecurity.map(item =>\n              renderSonarSourceSecurityCategory(this.state.standards, item)\n            )}\n          />\n          {this.props.sonarsourceSecurityOpen && (\n            <>\n              {this.renderSonarSourceSecurityList()}\n              {this.renderSonarSourceSecurityHint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"owaspTop10\">\n          <FacetHeader\n            fetching={this.props.fetchingOwaspTop10}\n            name={translate('issues.facet.owaspTop10')}\n            onClick={this.handleOwaspTop10HeaderClick}\n            open={this.props.owaspTop10Open}\n            values={this.props.owaspTop10.map(item =>\n              renderOwaspTop10Category(this.state.standards, item)\n            )}\n          />\n          {this.props.owaspTop10Open && (\n            <>\n              {this.renderOwaspTop10List()}\n              {this.renderOwaspTop10Hint()}\n            </>\n          )}\n        </FacetBox>\n        <FacetBox className=\"is-inner\" property=\"sansTop25\">\n          <FacetHeader\n            fetching={this.props.fetchingSansTop25}\n            name={translate('issues.facet.sansTop25')}\n            onClick={this.handleSansTop25HeaderClick}\n            open={this.props.sansTop25Open}\n            values={this.props.sansTop25.map(item =>\n              renderSansTop25Category(this.state.standards, item)\n            )}\n          />\n          {this.props.sansTop25Open && (\n            <>\n              {this.renderSansTop25List()}\n              {this.renderSansTop25Hint()}\n            </>\n          )}\n        </FacetBox>\n        <ListStyleFacet<string>\n          className=\"is-inner\"\n          facetHeader={translate('issues.facet.cwe')}\n          fetching={this.props.fetchingCwe}\n          getFacetItemText={item => renderCWECategory(this.state.standards, item)}\n          getSearchResultKey={item => item}\n          getSearchResultText={item => renderCWECategory(this.state.standards, item)}\n          loadSearchResultCount={this.loadCWESearchResultCount}\n          onChange={this.props.onChange}\n          onSearch={this.handleCWESearch}\n          onToggle={this.props.onToggle}\n          open={this.props.cweOpen}\n          property=\"cwe\"\n          query={omit(this.props.query, 'cwe')}\n          renderFacetItem={item => renderCWECategory(this.state.standards, item)}\n          renderSearchResult={(item, query) =>\n            highlightTerm(renderCWECategory(this.state.standards, item), query)\n          }\n          searchPlaceholder={translate('search.search_for_cwe')}\n          stats={this.props.cweStats}\n          values={this.props.cwe}\n        />\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <FacetBox property={this.property}>\n        <FacetHeader\n          name={translate('issues.facet', this.property)}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && this.renderSubFacets()}\n      </FacetBox>\n    );\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./MultipleSelectionHint.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".multiple-selection-hint{margin-top:8px;margin-bottom:8px;text-align:center}.multiple-selection-hint-inner{display:inline-block;height:24px;line-height:24px;border-radius:24px;background-color:#e6e6e6;text-align:center;padding:0 8px;font-size:12px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: T.IssueType | T.RuleType;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","export default \"Custom rules are created by administrators from templates, and are the only fully-editable rules.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { difference, uniq, without } from 'lodash';\nimport * as React from 'react';\nimport { getRuleTags } from '../../../api/rules';\nimport TagsSelector from '../../../components/tags/TagsSelector';\n\nexport interface Props {\n  organization: string | undefined;\n  setTags: (tags: string[]) => void;\n  sysTags: string[];\n  tags: string[];\n}\n\ninterface State {\n  searchResult: string[];\n}\n\nconst LIST_SIZE = 10;\n\nexport default class RuleDetailsTagsPopup extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { searchResult: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  onSearch = (query: string) => {\n    return getRuleTags({\n      q: query,\n      ps: Math.min(this.props.tags.length + LIST_SIZE, 100),\n      organization: this.props.organization\n    }).then(\n      tags => {\n        if (this.mounted) {\n          // systems tags can not be unset, don't display them in the results\n          this.setState({ searchResult: without(tags, ...this.props.sysTags) });\n        }\n      },\n      () => {}\n    );\n  };\n\n  onSelect = (tag: string) => {\n    this.props.setTags(uniq([...this.props.tags, tag]));\n  };\n\n  onUnselect = (tag: string) => {\n    this.props.setTags(without(this.props.tags, tag));\n  };\n\n  render() {\n    const availableTags = difference(this.state.searchResult, this.props.tags);\n    return (\n      <TagsSelector\n        listSize={LIST_SIZE}\n        onSearch={this.onSearch}\n        onSelect={this.onSelect}\n        onUnselect={this.onUnselect}\n        selectedTags={this.props.tags}\n        tags={availableTags}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { ButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport LinkIcon from 'sonar-ui-common/components/icons/LinkIcon';\nimport RuleScopeIcon from 'sonar-ui-common/components/icons/RuleScopeIcon';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TagsList from '../../../components/tags/TagsList';\nimport { getRuleUrl } from '../../../helpers/urls';\nimport { Query } from '../query';\nimport RuleDetailsTagsPopup from './RuleDetailsTagsPopup';\nimport SimilarRulesFilter from './SimilarRulesFilter';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  hideSimilarRulesFilter?: boolean;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onTagsChange: (tags: string[]) => void;\n  organization: string | undefined;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  ruleDetails: T.RuleDetails;\n}\n\nconst EXTERNAL_RULE_REPO_PREFIX = 'external_';\n\nexport default class RuleDetailsMeta extends React.PureComponent<Props> {\n  renderType = () => {\n    const { ruleDetails } = this.props;\n    return (\n      <Tooltip overlay={translate('coding_rules.type.tooltip', ruleDetails.type)}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"type\">\n          <IssueTypeIcon className=\"little-spacer-right\" query={ruleDetails.type} />\n          {translate('issue.type', ruleDetails.type)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderSeverity = () => (\n    <Tooltip overlay={translate('default_severity')}>\n      <li className=\"coding-rules-detail-property\" data-meta=\"severity\">\n        <SeverityHelper\n          className=\"display-inline-flex-center\"\n          severity={this.props.ruleDetails.severity}\n        />\n      </li>\n    </Tooltip>\n  );\n\n  renderStatus = () => {\n    const { ruleDetails } = this.props;\n    if (ruleDetails.status === 'READY') {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('status')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"status\">\n          <span className=\"badge badge-error\">{translate('rules.status', ruleDetails.status)}</span>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTags = () => {\n    const { canWrite, ruleDetails } = this.props;\n    const { sysTags = [], tags = [] } = ruleDetails;\n    const allTags = [...sysTags, ...tags];\n\n    return (\n      <li className=\"coding-rules-detail-property\" data-meta=\"tags\">\n        {this.props.canWrite ? (\n          <Dropdown\n            closeOnClick={false}\n            closeOnClickOutside={true}\n            overlay={\n              <RuleDetailsTagsPopup\n                organization={this.props.organization}\n                setTags={this.props.onTagsChange}\n                sysTags={sysTags}\n                tags={tags}\n              />\n            }\n            overlayPlacement={PopupPlacement.BottomLeft}>\n            <ButtonLink>\n              <TagsList\n                allowUpdate={canWrite}\n                tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n              />\n            </ButtonLink>\n          </Dropdown>\n        ) : (\n          <TagsList\n            allowUpdate={canWrite}\n            className=\"display-flex-center\"\n            tags={allTags.length > 0 ? allTags : [translate('coding_rules.no_tags')]}\n          />\n        )}\n      </li>\n    );\n  };\n\n  renderCreationDate = () => (\n    <li className=\"coding-rules-detail-property\" data-meta=\"available-since\">\n      <span className=\"little-spacer-right\">{translate('coding_rules.available_since')}</span>\n      <DateFormatter date={this.props.ruleDetails.createdAt} />\n    </li>\n  );\n\n  renderRepository = () => {\n    const { referencedRepositories, ruleDetails } = this.props;\n    const repository = referencedRepositories[ruleDetails.repo];\n    if (!repository) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.repository_language')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"repository\">\n          {repository.name} ({ruleDetails.langName})\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderTemplate = () => {\n    if (!this.props.ruleDetails.isTemplate) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n        <li className=\"coding-rules-detail-property\">{translate('coding_rules.rule_template')}</li>\n      </Tooltip>\n    );\n  };\n\n  renderParentTemplate = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.templateKey) {\n      return null;\n    }\n    return (\n      <li className=\"coding-rules-detail-property\">\n        {translate('coding_rules.custom_rule')}\n        {' ('}\n        <Link to={getRuleUrl(ruleDetails.templateKey, this.props.organization)}>\n          {translate('coding_rules.show_template')}\n        </Link>\n        {')'}\n        <DocTooltip\n          className=\"little-spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rules.md')}\n        />\n      </li>\n    );\n  };\n\n  renderRemediation = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.debtRemFnType) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translate('coding_rules.remediation_function')}>\n        <li className=\"coding-rules-detail-property\" data-meta=\"remediation-function\">\n          {translate('coding_rules.remediation_function', ruleDetails.debtRemFnType)}\n          {':'}\n          {ruleDetails.debtRemFnOffset !== undefined && ` ${ruleDetails.debtRemFnOffset}`}\n          {ruleDetails.debtRemFnCoeff !== undefined && ` +${ruleDetails.debtRemFnCoeff}`}\n          {ruleDetails.effortToFixDescription !== undefined &&\n            ` ${ruleDetails.effortToFixDescription}`}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderScope = () => {\n    const scope = this.props.ruleDetails.scope || 'MAIN';\n    return (\n      <Tooltip overlay={translate('coding_rules.scope.title')}>\n        <li className=\"coding-rules-detail-property\">\n          <RuleScopeIcon className=\"little-spacer-right\" />\n          {translate('coding_rules.scope', scope)}\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderExternalBadge = () => {\n    const { ruleDetails } = this.props;\n    if (!ruleDetails.repo) {\n      return null;\n    }\n    const engine = ruleDetails.repo.replace(new RegExp(`^${EXTERNAL_RULE_REPO_PREFIX}`), '');\n    if (!engine) {\n      return null;\n    }\n    return (\n      <Tooltip overlay={translateWithParameters('coding_rules.external_rule.engine', engine)}>\n        <li className=\"coding-rules-detail-property\">\n          <div className=\"badge spacer-left text-text-top\">{engine}</div>\n        </li>\n      </Tooltip>\n    );\n  };\n\n  renderKey() {\n    const EXTERNAL_PREFIX = 'external_';\n    const { ruleDetails } = this.props;\n    const displayedKey = ruleDetails.key.startsWith(EXTERNAL_PREFIX)\n      ? ruleDetails.key.substr(EXTERNAL_PREFIX.length)\n      : ruleDetails.key;\n    return <span className=\"note text-middle\">{displayedKey}</span>;\n  }\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasTypeData = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n    return (\n      <div className=\"js-rule-meta\">\n        <header className=\"page-header\">\n          <div className=\"pull-right\">\n            {this.renderKey()}\n            {!ruleDetails.isExternal && (\n              <Link\n                className=\"coding-rules-detail-permalink link-no-underline spacer-left text-middle\"\n                title={translate('permalink')}\n                to={getRuleUrl(ruleDetails.key, this.props.organization)}>\n                <LinkIcon />\n              </Link>\n            )}\n            {!this.props.hideSimilarRulesFilter && (\n              <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={ruleDetails} />\n            )}\n          </div>\n          <h3 className=\"page-title coding-rules-detail-header\">\n            <big>{ruleDetails.name}</big>\n          </h3>\n        </header>\n\n        {hasTypeData && (\n          <ul className=\"coding-rules-detail-properties\">\n            {this.renderType()}\n            {this.renderSeverity()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderStatus()}\n                {this.renderScope()}\n              </>\n            )}\n            {this.renderTags()}\n            {!ruleDetails.isExternal && this.renderCreationDate()}\n            {this.renderRepository()}\n            {!ruleDetails.isExternal && (\n              <>\n                {this.renderTemplate()}\n                {this.renderParentTemplate()}\n                {this.renderRemediation()}\n              </>\n            )}\n            {ruleDetails.isExternal && this.renderExternalBadge()}\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onCancel: () => void;\n  onSubmit: () => void;\n}\n\nexport default function RemoveExtendedDescriptionModal({ onCancel, onSubmit }: Props) {\n  const header = translate('coding_rules.remove_extended_description');\n  return (\n    <SimpleModal header={header} onClose={onCancel} onSubmit={onSubmit}>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <form onSubmit={onFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {translate('coding_rules.remove_extended_description.confirm')}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton className=\"button-red\" disabled={submitting}>\n              {translate('remove')}\n            </SubmitButton>\n            <ResetButtonLink onClick={onCloseClick}>{translate('cancel')}</ResetButtonLink>\n          </footer>\n        </form>\n      )}\n    </SimpleModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button, ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { updateRule } from '../../../api/rules';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport RemoveExtendedDescriptionModal from './RemoveExtendedDescriptionModal';\n\ninterface Props {\n  canWrite: boolean | undefined;\n  onChange: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  descriptionForm: boolean;\n  removeDescriptionModal: boolean;\n  submitting: boolean;\n}\n\nexport default class RuleDetailsDescription extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    description: '',\n    descriptionForm: false,\n    submitting: false,\n    removeDescriptionModal: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleCancelClick = () => {\n    this.setState({ descriptionForm: false });\n  };\n\n  handleSaveClick = () => {\n    this.updateDescription(this.state.description);\n  };\n\n  handleRemoveDescriptionClick = () => {\n    this.setState({ removeDescriptionModal: true });\n  };\n\n  handleCancelRemoving = () => this.setState({ removeDescriptionModal: false });\n\n  handleConfirmRemoving = () => {\n    this.setState({ removeDescriptionModal: false });\n    this.updateDescription('');\n  };\n\n  updateDescription = (text: string) => {\n    this.setState({ submitting: true });\n\n    updateRule({\n      key: this.props.ruleDetails.key,\n      markdown_note: text,\n      organization: this.props.organization\n    }).then(\n      ruleDetails => {\n        this.props.onChange(ruleDetails);\n        if (this.mounted) {\n          this.setState({ submitting: false, descriptionForm: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  handleExtendDescriptionClick = () => {\n    this.setState({\n      // set description` to the current `mdNote` each time the form is open\n      description: this.props.ruleDetails.mdNote || '',\n      descriptionForm: true\n    });\n  };\n\n  renderDescription = () => (\n    <div id=\"coding-rules-detail-description-extra\">\n      {this.props.ruleDetails.htmlNote !== undefined && (\n        <div\n          className=\"rule-desc spacer-bottom markdown\"\n          // Safe: defined by rule creator (instance admin?)\n          dangerouslySetInnerHTML={{ __html: this.props.ruleDetails.htmlNote }}\n        />\n      )}\n      {this.props.canWrite && (\n        <Button\n          id=\"coding-rules-detail-extend-description\"\n          onClick={this.handleExtendDescriptionClick}>\n          {translate('coding_rules.extend_description')}\n        </Button>\n      )}\n    </div>\n  );\n\n  renderForm = () => (\n    <div className=\"coding-rules-detail-extend-description-form\">\n      <table className=\"width-100\">\n        <tbody>\n          <tr>\n            <td colSpan={2}>\n              <textarea\n                autoFocus={true}\n                className=\"width-100 little-spacer-bottom\"\n                id=\"coding-rules-detail-extend-description-text\"\n                onChange={this.handleDescriptionChange}\n                rows={4}\n                value={this.state.description}\n              />\n            </td>\n          </tr>\n          <tr>\n            <td>\n              <Button\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-submit\"\n                onClick={this.handleSaveClick}>\n                {translate('save')}\n              </Button>\n              {this.props.ruleDetails.mdNote !== undefined && (\n                <>\n                  <Button\n                    className=\"button-red spacer-left\"\n                    disabled={this.state.submitting}\n                    id=\"coding-rules-detail-extend-description-remove\"\n                    onClick={this.handleRemoveDescriptionClick}>\n                    {translate('remove')}\n                  </Button>\n                  {this.state.removeDescriptionModal && (\n                    <RemoveExtendedDescriptionModal\n                      onCancel={this.handleCancelRemoving}\n                      onSubmit={this.handleConfirmRemoving}\n                    />\n                  )}\n                </>\n              )}\n              <ResetButtonLink\n                className=\"spacer-left\"\n                disabled={this.state.submitting}\n                id=\"coding-rules-detail-extend-description-cancel\"\n                onClick={this.handleCancelClick}>\n                {translate('cancel')}\n              </ResetButtonLink>\n              {this.state.submitting && <i className=\"spinner spacer-left\" />}\n            </td>\n            <td className=\"text-right\">\n              <MarkdownTips />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n\n  render() {\n    const { ruleDetails } = this.props;\n    const hasDescription = !ruleDetails.isExternal || ruleDetails.type !== 'UNKNOWN';\n\n    return (\n      <div className=\"js-rule-description\">\n        {hasDescription ? (\n          <div\n            className=\"coding-rules-detail-description rule-desc markdown\"\n            // Safe: defined by rule creator (instance admin?)\n            dangerouslySetInnerHTML={{ __html: ruleDetails.htmlDesc || '' }}\n          />\n        ) : (\n          <div className=\"coding-rules-detail-description rule-desc markdown\">\n            {translateWithParameters('issue.external_issue_description', ruleDetails.name)}\n          </div>\n        )}\n\n        {!ruleDetails.templateKey && (\n          <div className=\"coding-rules-detail-description coding-rules-detail-description-extra\">\n            {!this.state.descriptionForm && this.renderDescription()}\n            {this.state.descriptionForm && this.props.canWrite && this.renderForm()}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { activateRule, Profile } from '../../../api/quality-profiles';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { sortProfiles } from '../../quality-profiles/utils';\n\ninterface Props {\n  activation?: T.RuleActivation;\n  modalHeader: string;\n  onClose: () => void;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: Profile[];\n  rule: T.Rule | T.RuleDetails;\n}\n\ninterface State {\n  params: T.Dict<string>;\n  profile: string;\n  severity: string;\n  submitting: boolean;\n}\n\nexport default class ActivationFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const profilesWithDepth = this.getQualityProfilesWithDepth(props);\n    this.state = {\n      params: this.getParams(props),\n      profile: profilesWithDepth.length > 0 ? profilesWithDepth[0].key : '',\n      severity: props.activation ? props.activation.severity : props.rule.severity,\n      submitting: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getParams = ({ activation, rule } = this.props) => {\n    const params: T.Dict<string> = {};\n    if (rule && rule.params) {\n      for (const param of rule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n      if (activation && activation.params) {\n        for (const param of activation.params) {\n          params[param.key] = param.value;\n        }\n      }\n    }\n    return params;\n  };\n\n  // Choose QP which a user can administrate, which are the same language and which are not built-in\n  getQualityProfilesWithDepth = ({ profiles } = this.props) => {\n    return sortProfiles(\n      profiles.filter(\n        profile =>\n          !profile.isBuiltIn &&\n          profile.actions &&\n          profile.actions.edit &&\n          profile.language === this.props.rule.lang\n      )\n    ).map(profile => ({\n      ...profile,\n      // Decrease depth by 1, so the top level starts at 0\n      depth: profile.depth - 1\n    }));\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    const data = {\n      key: this.state.profile,\n      organization: this.props.organization,\n      params: this.state.params,\n      rule: this.props.rule.key,\n      severity: this.state.severity\n    };\n    activateRule(data)\n      .then(() => this.props.onDone(data.severity))\n      .then(\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n            this.props.onClose();\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n  };\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  handleProfileChange = ({ value }: { value: string }) => {\n    this.setState({ profile: value });\n  };\n\n  handleSeverityChange = ({ value }: { value: string }) => {\n    this.setState({ severity: value });\n  };\n\n  renderSeverityOption = ({ value }: { value: string }) => {\n    return <SeverityHelper severity={value} />;\n  };\n\n  render() {\n    const { activation, rule } = this.props;\n    const { profile, severity, submitting } = this.state;\n    const { params = [] } = rule;\n    const profilesWithDepth = this.getQualityProfilesWithDepth();\n    const isCustomRule = !!(rule as T.RuleDetails).templateKey;\n    const activeInAllProfiles = profilesWithDepth.length <= 0;\n    const isUpdateMode = !!activation;\n\n    return (\n      <Modal contentLabel={this.props.modalHeader} onRequestClose={this.props.onClose} size=\"small\">\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{this.props.modalHeader}</h2>\n          </div>\n\n          <div className={classNames('modal-body', { 'modal-container': params.length > 0 })}>\n            {!isUpdateMode && activeInAllProfiles && (\n              <Alert variant=\"info\">{translate('coding_rules.active_in_all_profiles')}</Alert>\n            )}\n\n            <div className=\"modal-field\">\n              <label>{translate('coding_rules.quality_profile')}</label>\n              <Select\n                className=\"js-profile\"\n                clearable={false}\n                disabled={submitting || profilesWithDepth.length === 1}\n                onChange={this.handleProfileChange}\n                options={profilesWithDepth.map(profile => ({\n                  label: '   '.repeat(profile.depth) + profile.name,\n                  value: profile.key\n                }))}\n                value={profile}\n              />\n            </div>\n            <div className=\"modal-field\">\n              <label>{translate('severity')}</label>\n              <Select\n                className=\"js-severity\"\n                clearable={false}\n                disabled={submitting}\n                onChange={this.handleSeverityChange}\n                optionRenderer={this.renderSeverityOption}\n                options={SEVERITIES.map(severity => ({\n                  label: translate('severity', severity),\n                  value: severity\n                }))}\n                searchable={false}\n                value={severity}\n                valueRenderer={this.renderSeverityOption}\n              />\n            </div>\n            {isCustomRule ? (\n              <div className=\"modal-field\">\n                <p className=\"note\">{translate('coding_rules.custom_rule.activation_notice')}</p>\n              </div>\n            ) : (\n              params.map(param => (\n                <div className=\"modal-field\" key={param.key}>\n                  <label title={param.key}>{param.key}</label>\n                  {param.type === 'TEXT' ? (\n                    <textarea\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      rows={3}\n                      value={this.state.params[param.key] || ''}\n                    />\n                  ) : (\n                    <input\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      type=\"text\"\n                      value={this.state.params[param.key] || ''}\n                    />\n                  )}\n                  <div\n                    className=\"note\"\n                    // Safe: defined by rule creator (instance admin?)\n                    dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n                  />\n                </div>\n              ))\n            )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={submitting || activeInAllProfiles}>\n              {isUpdateMode ? translate('save') : translate('coding_rules.activate')}\n            </SubmitButton>\n            <ResetButtonLink disabled={submitting} onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","export default \"Quality Profiles are collections of Rules to apply during an analysis.\\n\\n---\\n\\nSee also: [Quality Profiles](/instance-administration/quality-profiles/)\\n\"","export default \"Rule Templates allow users to easily define their own rules. They are like cookie cutters from which you can stamp out new, \\\"custom rules\\\". The rules created from a template are listed on its rule detail page.\\n\"","export default \"Only custom rules may be deleted. When a custom rule is deleted, it is not removed from the SonarQube instance. Instead its status is set to \\\"REMOVED\\\", allowing relevant issues to continue to be displayed properly.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { bulkActivateRules, bulkDeactivateRules, Profile } from '../../../api/quality-profiles';\nimport { Query, serializeQuery } from '../query';\n\ninterface Props {\n  action: string;\n  languages: T.Languages;\n  onClose: () => void;\n  organization: string | undefined;\n  profile?: Profile;\n  query: Query;\n  referencedProfiles: T.Dict<Profile>;\n  total: number;\n}\n\ninterface ActivationResult {\n  failed: number;\n  profile: string;\n  succeeded: number;\n}\n\ninterface State {\n  finished: boolean;\n  results: ActivationResult[];\n  selectedProfiles: any[];\n  submitting: boolean;\n}\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    // if there is only one possible option for profile, select it immediately\n    const selectedProfiles = [];\n    const availableProfiles = this.getAvailableQualityProfiles(props);\n    if (availableProfiles.length === 1) {\n      selectedProfiles.push(availableProfiles[0].key);\n    }\n\n    this.state = { finished: false, results: [], selectedProfiles, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleProfileSelect = (options: { value: string }[]) => {\n    const selectedProfiles = options.map(option => option.value);\n    this.setState({ selectedProfiles });\n  };\n\n  getAvailableQualityProfiles = ({ query, referencedProfiles } = this.props) => {\n    let profiles = Object.values(referencedProfiles);\n    if (query.languages.length > 0) {\n      profiles = profiles.filter(profile => query.languages.includes(profile.language));\n    }\n    return profiles\n      .filter(profile => profile.actions && profile.actions.edit)\n      .filter(profile => !profile.isBuiltIn);\n  };\n\n  processResponse = (profile: string, response: any) => {\n    if (this.mounted) {\n      const result: ActivationResult = {\n        failed: response.failed || 0,\n        profile,\n        succeeded: response.succeeded || 0\n      };\n      this.setState(state => ({ results: [...state.results, result] }));\n    }\n  };\n\n  sendRequests = () => {\n    let looper = Promise.resolve();\n\n    // serialize the query, but delete the `profile`\n    const data = serializeQuery(this.props.query);\n    delete data.profile;\n\n    const method = this.props.action === 'activate' ? bulkActivateRules : bulkDeactivateRules;\n\n    // if a profile is selected in the facet, pick it\n    // otherwise take all profiles selected in the dropdown\n    const profiles: string[] = this.props.profile\n      ? [this.props.profile.key]\n      : this.state.selectedProfiles;\n\n    for (const profile of profiles) {\n      looper = looper.then(() =>\n        method({\n          ...data,\n          organization: this.props.organization,\n          targetKey: profile\n        }).then(response => this.processResponse(profile, response))\n      );\n    }\n    return looper;\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.sendRequests().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ finished: true, submitting: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  renderResult = (result: ActivationResult) => {\n    const { profile: profileKey } = result;\n    const profile = this.props.referencedProfiles[profileKey];\n    if (!profile) {\n      return null;\n    }\n    const { languages } = this.props;\n    const language = languages[profile.language]\n      ? languages[profile.language].name\n      : profile.language;\n    return (\n      <Alert key={result.profile} variant={result.failed === 0 ? 'success' : 'warning'}>\n        {result.failed\n          ? translateWithParameters(\n              'coding_rules.bulk_change.warning',\n              profile.name,\n              language,\n              result.succeeded,\n              result.failed\n            )\n          : translateWithParameters(\n              'coding_rules.bulk_change.success',\n              profile.name,\n              language,\n              result.succeeded\n            )}\n      </Alert>\n    );\n  };\n\n  renderProfileSelect = () => {\n    const profiles = this.getAvailableQualityProfiles();\n    const options = profiles.map(profile => ({\n      label: `${profile.name} - ${profile.languageName}`,\n      value: profile.key\n    }));\n    return (\n      <Select\n        multi={true}\n        onChange={this.handleProfileSelect}\n        options={options}\n        value={this.state.selectedProfiles}\n      />\n    );\n  };\n\n  render() {\n    const { action, profile, total } = this.props;\n    const header =\n      action === 'activate'\n        ? `${translate('coding_rules.activate_in_quality_profile')} (${formatMeasure(\n            total,\n            'INT'\n          )} ${translate('coding_rules._rules')})`\n        : `${translate('coding_rules.deactivate_in_quality_profile')} (${formatMeasure(\n            total,\n            'INT'\n          )} ${translate('coding_rules._rules')})`;\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {this.state.results.map(this.renderResult)}\n\n            {!this.state.finished && !this.state.submitting && (\n              <div className=\"modal-field\">\n                <h3>\n                  <label htmlFor=\"coding-rules-bulk-change-profile\">\n                    {action === 'activate'\n                      ? translate('coding_rules.activate_in')\n                      : translate('coding_rules.deactivate_in')}\n                  </label>\n                </h3>\n                {profile ? (\n                  <span>\n                    {profile.name}\n                    {' — '}\n                    {translate('are_you_sure')}\n                  </span>\n                ) : (\n                  this.renderProfileSelect()\n                )}\n              </div>\n            )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.submitting && <i className=\"spinner spacer-right\" />}\n            {!this.state.finished && (\n              <SubmitButton disabled={this.state.submitting} id=\"coding-rules-submit-bulk-change\">\n                {translate('apply')}\n              </SubmitButton>\n            )}\n            <ResetButtonLink onClick={this.props.onClose}>\n              {this.state.finished ? translate('close') : translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Dropdown from 'sonar-ui-common/components/controls/Dropdown';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Profile } from '../../../api/quality-profiles';\nimport { Query } from '../query';\nimport BulkChangeModal from './BulkChangeModal';\nimport { PopupPlacement } from 'sonar-ui-common/components/ui/popups';\n\ninterface Props {\n  languages: T.Languages;\n  organization: string | undefined;\n  query: Query;\n  referencedProfiles: T.Dict<Profile>;\n  total: number;\n}\n\ninterface State {\n  action?: string;\n  modal: boolean;\n  profile?: Profile;\n}\n\nexport default class BulkChange extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  getSelectedProfile = () => {\n    const { profile } = this.props.query;\n    return (profile && this.props.referencedProfiles[profile]) || undefined;\n  };\n\n  closeModal = () => this.setState({ action: undefined, modal: false, profile: undefined });\n\n  handleActivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: undefined });\n  };\n\n  handleActivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  handleDeactivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: undefined });\n  };\n\n  handleDeactivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  render() {\n    // show \"Bulk Change\" button only if user has at least one QP which he administrates\n    const canBulkChange = Object.values(this.props.referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit)\n    );\n    if (!canBulkChange) {\n      return (\n        <Tooltip overlay={translate('coding_rules.can_not_bulk_change')}>\n          <Button className=\"js-bulk-change\" disabled={true}>\n            {translate('bulk_change')}\n          </Button>\n        </Tooltip>\n      );\n    }\n\n    const { activation } = this.props.query;\n    const profile = this.getSelectedProfile();\n    const canChangeProfile = Boolean(\n      profile && !profile.isBuiltIn && profile.actions && profile.actions.edit\n    );\n    const allowActivateOnProfile = canChangeProfile && activation === false;\n    const allowDeactivateOnProfile = canChangeProfile && activation === true;\n\n    return (\n      <>\n        <Dropdown\n          className=\"pull-left\"\n          overlayPlacement={PopupPlacement.BottomLeft}\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a href=\"#\" onClick={this.handleActivateClick}>\n                  {translate('coding_rules.activate_in')}…\n                </a>\n              </li>\n              {allowActivateOnProfile && profile && (\n                <li>\n                  <a href=\"#\" onClick={this.handleActivateInProfileClick}>\n                    {translate('coding_rules.activate_in')} <strong>{profile.name}</strong>\n                  </a>\n                </li>\n              )}\n              <li>\n                <a href=\"#\" onClick={this.handleDeactivateClick}>\n                  {translate('coding_rules.deactivate_in')}…\n                </a>\n              </li>\n              {allowDeactivateOnProfile && profile && (\n                <li>\n                  <a href=\"#\" onClick={this.handleDeactivateInProfileClick}>\n                    {translate('coding_rules.deactivate_in')} <strong>{profile.name}</strong>\n                  </a>\n                </li>\n              )}\n            </ul>\n          }>\n          <Button className=\"js-bulk-change\">{translate('bulk_change')}</Button>\n        </Dropdown>\n        {this.state.modal && this.state.action && (\n          <BulkChangeModal\n            action={this.state.action}\n            languages={this.props.languages}\n            onClose={this.closeModal}\n            organization={this.props.organization}\n            profile={this.state.profile}\n            query={this.props.query}\n            referencedProfiles={this.props.referencedProfiles}\n            total={this.props.total}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { orderBy, sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { FacetKey } from '../query';\n\nexport interface BasicProps {\n  onChange: (changes: T.Dict<string | string[] | undefined>) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  stats?: T.Dict<number>;\n  values: string[];\n}\n\ninterface Props extends BasicProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  disabledHelper?: string;\n  halfWidth?: boolean;\n  options?: string[];\n  property: FacetKey;\n  renderFooter?: () => React.ReactNode;\n  renderName?: (value: string) => React.ReactNode;\n  renderTextName?: (value: string) => string;\n  singleSelection?: boolean;\n}\n\nexport default class Facet extends React.PureComponent<Props> {\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { values } = this.props;\n    let newValue;\n    if (this.props.singleSelection) {\n      const value = values.length ? values[0] : undefined;\n      newValue = itemValue === value ? undefined : itemValue;\n    } else if (multiple) {\n      newValue = orderBy(\n        values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n      );\n    } else {\n      newValue = values.includes(itemValue) && values.length < 2 ? [] : [itemValue];\n    }\n    this.props.onChange({ [this.props.property]: newValue });\n  };\n\n  handleHeaderClick = () => this.props.onToggle(this.props.property);\n\n  handleClear = () => this.props.onChange({ [this.props.property]: [] });\n\n  getStat = (value: string) => this.props.stats && this.props.stats[value];\n\n  renderItem = (value: string) => {\n    const active = this.props.values.includes(value);\n    const stat = this.getStat(value);\n    const { renderName = defaultRenderName, renderTextName = defaultRenderName } = this.props;\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={this.props.halfWidth}\n        key={value}\n        name={renderName(value)}\n        onClick={this.handleItemClick}\n        stat={stat && formatMeasure(stat, 'SHORT_INT')}\n        tooltip={renderTextName(value)}\n        value={value}\n      />\n    );\n  };\n\n  render() {\n    const { disabled, renderTextName = defaultRenderName, stats } = this.props;\n    const values = this.props.values.map(renderTextName);\n    const items =\n      this.props.options ||\n      (stats &&\n        sortBy(\n          Object.keys(stats),\n          key => -stats[key],\n          key => renderTextName(key).toLowerCase()\n        ));\n\n    return (\n      <FacetBox\n        className={classNames({ 'search-navigator-facet-box-forbidden': disabled })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{translate('coding_rules.facet', this.props.property)}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}>\n          {this.props.children}\n        </FacetHeader>\n\n        {this.props.open && items !== undefined && (\n          <FacetItemsList>{items.map(this.renderItem)}</FacetItemsList>\n        )}\n\n        {this.props.open && this.props.renderFooter !== undefined && this.props.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n\nfunction defaultRenderName(value: string) {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport Facet, { BasicProps } from './Facet';\n\ninterface Props extends BasicProps {\n  disabled: boolean;\n}\n\nexport default class ActivationSeverityFacet extends React.PureComponent<Props> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.active_severity.inactive')}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"activationSeverities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateInput from '../../../components/controls/DateInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport { Query } from '../query';\n\ninterface Props {\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: keyof Query) => void;\n  open: boolean;\n  value?: Date;\n}\n\nclass AvailableSinceFacet extends React.PureComponent<Props & InjectedIntlProps> {\n  handleHeaderClick = () => {\n    this.props.onToggle('availableSince');\n  };\n\n  handleClear = () => {\n    this.props.onChange({ availableSince: undefined });\n  };\n\n  handlePeriodChange = (date: Date | undefined) => {\n    this.props.onChange({ availableSince: date });\n  };\n\n  getValues = () =>\n    this.props.value\n      ? [this.props.intl.formatDate(this.props.value, longFormatterOption)]\n      : undefined;\n\n  render() {\n    return (\n      <FacetBox property=\"availableSince\">\n        <FacetHeader\n          name={translate('coding_rules.facet.available_since')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <DateInput\n            name=\"available-since\"\n            onChange={this.handlePeriodChange}\n            placeholder={translate('date')}\n            value={this.props.value}\n          />\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nexport default injectIntl(AvailableSinceFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport Facet, { BasicProps } from './Facet';\n\nexport default class DefaultSeverityFacet extends React.PureComponent<BasicProps> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"severities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Facet, { BasicProps } from './Facet';\n\ninterface Props extends T.Omit<BasicProps, 'values'> {\n  disabled: boolean;\n  value: T.RuleInheritance | undefined;\n}\n\nexport default class InheritanceFacet extends React.PureComponent<Props> {\n  renderName = (value: T.RuleInheritance) =>\n    translate('coding_rules.filters.inheritance', value.toLowerCase());\n\n  render() {\n    const { value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.inheritance.inactive')}\n        options={['NONE', 'INHERITED', 'OVERRIDES']}\n        property=\"inheritance\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value ? [value] : []}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniqBy } from 'lodash';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport { BasicProps } from './Facet';\n\ninterface InstalledLanguage {\n  key: string;\n  name: string;\n}\n\ninterface Props extends BasicProps {\n  disabled?: boolean;\n  installedLanguages: InstalledLanguage[];\n}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const language = this.props.installedLanguages.find(l => l.key === languageKey);\n    return language ? language.name : languageKey;\n  };\n\n  handleSearch = (query: string) => {\n    const options = this.getAllPossibleOptions();\n    const results = options.filter(language =>\n      language.name.toLowerCase().includes(query.toLowerCase())\n    );\n    const paging = { pageIndex: 1, pageSize: results.length, total: results.length };\n    return Promise.resolve({ paging, results });\n  };\n\n  getAllPossibleOptions = () => {\n    const { installedLanguages, stats = {} } = this.props;\n\n    // add any language that presents in the facet, but might not be installed\n    // for such language we don't know their display name, so let's just use their key\n    // and make sure we reference each language only once\n    return uniqBy(\n      [...installedLanguages, ...Object.keys(stats).map(key => ({ key, name: key }))],\n      language => language.key\n    );\n  };\n\n  renderSearchResult = ({ name }: InstalledLanguage, term: string) => {\n    return highlightTerm(name, term);\n  };\n\n  render() {\n    return (\n      <ListStyleFacet<InstalledLanguage>\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.language.inactive')}\n        facetHeader={translate('coding_rules.facet.languages')}\n        fetching={false}\n        getFacetItemText={this.getLanguageName}\n        getSearchResultKey={language => language.key}\n        getSearchResultText={language => language.name}\n        minSearchLength={1}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"languages\"\n        renderFacetItem={this.getLanguageName}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_languages')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store) => ({\n  installedLanguages: Object.values(getLanguages(state))\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Profile } from '../../../api/quality-profiles';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { FacetKey, Query } from '../query';\n\ninterface Props {\n  activation: boolean | undefined;\n  compareToProfile: string | undefined;\n  languages: string[];\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  referencedProfiles: T.Dict<Profile>;\n  value: string | undefined;\n}\n\nexport default class ProfileFacet extends React.PureComponent<Props> {\n  handleItemClick = (selected: string) => {\n    const newValue = this.props.value === selected ? '' : selected;\n    this.props.onChange({\n      activation: this.props.activation === undefined ? true : this.props.activation,\n      compareToProfile: undefined,\n      profile: newValue\n    });\n  };\n\n  handleHeaderClick = () => this.props.onToggle('profile');\n\n  handleClear = () =>\n    this.props.onChange({\n      activation: undefined,\n      activationSeverities: [],\n      compareToProfile: undefined,\n      inheritance: undefined,\n      profile: undefined\n    });\n\n  handleActiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: true, compareToProfile: undefined });\n  };\n\n  handleInactiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: false, compareToProfile: undefined });\n  };\n\n  stopPropagation = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n  };\n\n  getTextValue = () => {\n    const { referencedProfiles, value } = this.props;\n    if (value) {\n      const profile = referencedProfiles[value];\n      const name = (profile && `${profile.name} ${profile.languageName}`) || value;\n      return [name];\n    } else {\n      return [];\n    }\n  };\n\n  getTooltip = (profile: Profile) => {\n    const base = `${profile.name} ${profile.languageName}`;\n    return profile.isBuiltIn ? `${base} (${translate('quality_profiles.built_in')})` : base;\n  };\n\n  renderName = (profile: Profile) => (\n    <>\n      {profile.name}\n      <span className=\"note little-spacer-left\">\n        {profile.languageName}\n        {profile.isBuiltIn && ` (${translate('quality_profiles.built_in')})`}\n      </span>\n    </>\n  );\n\n  renderActivation = (profile: Profile) => {\n    const isCompare = profile.key === this.props.compareToProfile;\n    const activation = isCompare ? true : this.props.activation;\n    return (\n      <>\n        <span\n          aria-checked={activation}\n          className={classNames('js-active', 'facet-toggle', 'facet-toggle-green', {\n            'facet-toggle-active': activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleActiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          active\n        </span>\n        <span\n          aria-checked={!activation}\n          className={classNames('js-inactive', 'facet-toggle', 'facet-toggle-red', {\n            'facet-toggle-active': !activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleInactiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          inactive\n        </span>\n      </>\n    );\n  };\n\n  renderItem = (profile: Profile) => {\n    const active = [this.props.value, this.props.compareToProfile].includes(profile.key);\n\n    return (\n      <FacetItem\n        active={active}\n        className={this.props.compareToProfile === profile.key ? 'compare' : undefined}\n        key={profile.key}\n        name={this.renderName(profile)}\n        onClick={this.handleItemClick}\n        stat={this.renderActivation(profile)}\n        tooltip={this.getTooltip(profile)}\n        value={profile.key}\n      />\n    );\n  };\n\n  render() {\n    const { languages, referencedProfiles } = this.props;\n    let profiles = Object.values(referencedProfiles);\n    if (languages.length > 0) {\n      profiles = profiles.filter(profile => languages.includes(profile.language));\n    }\n    profiles = sortBy(\n      profiles,\n      profile => profile.name.toLowerCase(),\n      profile => profile.languageName\n    );\n\n    return (\n      <FacetBox property=\"profile\">\n        <FacetHeader\n          name={translate('coding_rules.facet.qprofile')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getTextValue()}>\n          <DocTooltip\n            className=\"spacer-left\"\n            doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rules-quality-profiles.md')}\n          />\n        </FacetHeader>\n\n        {this.props.open && <FacetItemsList>{profiles.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getLanguages, Store } from '../../../store/rootReducer';\nimport Facet, { BasicProps } from './Facet';\n\ninterface StateProps {\n  referencedLanguages: T.Dict<{ key: string; name: string }>;\n}\n\ninterface Props extends BasicProps, StateProps {\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n}\n\nclass RepositoryFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const { referencedLanguages } = this.props;\n    const language = referencedLanguages[languageKey];\n    return (language && language.name) || languageKey;\n  };\n\n  renderName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return repository ? (\n      <>\n        {repository.name}\n        <span className=\"note little-spacer-left\">{this.getLanguageName(repository.language)}</span>\n      </>\n    ) : (\n      repositoryKey\n    );\n  };\n\n  renderTextName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return (repository && repository.name) || repositoryKey;\n  };\n\n  render() {\n    const { referencedLanguages, referencedRepositories, ...facetProps } = this.props;\n    return (\n      <Facet\n        {...facetProps}\n        property=\"repositories\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: Store): StateProps => ({\n  referencedLanguages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(RepositoryFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { RULE_STATUSES } from '../../../helpers/constants';\nimport Facet, { BasicProps } from './Facet';\n\nexport default class StatusFacet extends React.PureComponent<BasicProps> {\n  renderName = (status: string) => translate('rules.status', status.toLowerCase());\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        options={RULE_STATUSES}\n        property=\"statuses\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { uniq } from 'lodash';\nimport * as React from 'react';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { highlightTerm } from 'sonar-ui-common/helpers/search';\nimport { getRuleTags } from '../../../api/rules';\nimport { colors } from '../../../app/theme';\nimport ListStyleFacet from '../../../components/facet/ListStyleFacet';\nimport { BasicProps } from './Facet';\n\ninterface Props extends BasicProps {\n  organization: string | undefined;\n}\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    return getRuleTags({ organization: this.props.organization, ps: 50, q: query }).then(tags => ({\n      paging: { pageIndex: 1, pageSize: tags.length, total: tags.length },\n      results: tags\n    }));\n  };\n\n  handleSelect = (option: { value: string }) => {\n    this.props.onChange({ tags: uniq([...this.props.values, option.value]) });\n  };\n\n  getTagName = (tag: string) => {\n    return tag;\n  };\n\n  renderTag = (tag: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n      {tag}\n    </>\n  );\n\n  renderSearchResult = (tag: string, term: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={colors.gray60} />\n      {highlightTerm(tag, term)}\n    </>\n  );\n\n  render() {\n    return (\n      <ListStyleFacet<string>\n        facetHeader={translate('coding_rules.facet.tags')}\n        fetching={false}\n        getFacetItemText={this.getTagName}\n        getSearchResultKey={tag => tag}\n        getSearchResultText={tag => tag}\n        onChange={this.props.onChange}\n        onSearch={this.handleSearch}\n        onToggle={this.props.onToggle}\n        open={this.props.open}\n        property=\"tags\"\n        renderFacetItem={this.renderTag}\n        renderSearchResult={this.renderSearchResult}\n        searchPlaceholder={translate('search.search_for_tags')}\n        stats={this.props.stats}\n        values={this.props.values}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport Facet, { BasicProps } from './Facet';\n\ninterface Props extends T.Omit<BasicProps, 'onChange' | 'values'> {\n  onChange: (changes: { template: boolean | undefined }) => void;\n  value: boolean | undefined;\n}\n\nexport default class TemplateFacet extends React.PureComponent<Props> {\n  handleChange = (changes: { template: string | any[] }) => {\n    const template =\n      // empty array is returned when a user cleared the facet\n      // otherwise `\"true\"`, `\"false\"` or `undefined` can be returned\n      Array.isArray(changes.template) || changes.template === undefined\n        ? undefined\n        : changes.template === 'true';\n    this.props.onChange({ ...changes, template });\n  };\n\n  renderName = (template: string) =>\n    template === 'true'\n      ? translate('coding_rules.filters.template.is_template')\n      : translate('coding_rules.filters.template.is_not_template');\n\n  render() {\n    const { onChange, value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        onChange={this.handleChange}\n        options={['true', 'false']}\n        property=\"template\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value !== undefined ? [String(value)] : []}>\n        <DocTooltip\n          className=\"spacer-left\"\n          doc={import(/* webpackMode: \"eager\" */ 'Docs/tooltips/rules/rule-templates.md')}\n        />\n      </Facet>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport Facet, { BasicProps } from './Facet';\n\nexport default class TypeFacet extends React.PureComponent<BasicProps> {\n  renderName = (type: string) => (\n    <>\n      <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n      {translate('issue.type', type)}\n    </>\n  );\n\n  renderTextName = (type: string) => translate('issue.type', type);\n\n  render() {\n    const options = ['BUG', 'VULNERABILITY', 'CODE_SMELL', 'SECURITY_HOTSPOT'];\n\n    return (\n      <Facet\n        {...this.props}\n        options={options}\n        property=\"types\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Profile } from '../../../api/quality-profiles';\nimport StandardFacet from '../../issues/sidebar/StandardFacet';\nimport { Facets, OpenFacets, Query } from '../query';\nimport ActivationSeverityFacet from './ActivationSeverityFacet';\nimport AvailableSinceFacet from './AvailableSinceFacet';\nimport DefaultSeverityFacet from './DefaultSeverityFacet';\nimport InheritanceFacet from './InheritanceFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProfileFacet from './ProfileFacet';\nimport RepositoryFacet from './RepositoryFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TemplateFacet from './TemplateFacet';\nimport TypeFacet from './TypeFacet';\n\ninterface Props {\n  facets?: Facets;\n  hideProfileFacet?: boolean;\n  onFacetToggle: (facet: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: OpenFacets;\n  organization: string | undefined;\n  organizationsEnabled?: boolean;\n  query: Query;\n  referencedProfiles: T.Dict<Profile>;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  selectedProfile?: Profile;\n}\n\nexport default function FacetsList(props: Props) {\n  const languageDisabled = !props.hideProfileFacet && props.query.profile !== undefined;\n\n  const inheritanceDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.selectedProfile.isInherited;\n\n  const activationSeverityDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.query.activation;\n  return (\n    <>\n      <LanguageFacet\n        disabled={languageDisabled}\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.languages}\n        stats={props.facets && props.facets.languages}\n        values={props.query.languages}\n      />\n      <TypeFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.types}\n        stats={props.facets && props.facets.types}\n        values={props.query.types}\n      />\n      <TagFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.tags}\n        organization={props.organization}\n        stats={props.facets && props.facets.tags}\n        values={props.query.tags}\n      />\n      <RepositoryFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.repositories}\n        referencedRepositories={props.referencedRepositories}\n        stats={props.facets && props.facets.repositories}\n        values={props.query.repositories}\n      />\n      <DefaultSeverityFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.severities}\n        stats={props.facets && props.facets.severities}\n        values={props.query.severities}\n      />\n      <StatusFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.statuses}\n        stats={props.facets && props.facets.statuses}\n        values={props.query.statuses}\n      />\n      <StandardFacet\n        cwe={props.query.cwe}\n        cweOpen={!!props.openFacets.cwe}\n        cweStats={props.facets && props.facets.cwe}\n        fetchingCwe={false}\n        fetchingOwaspTop10={false}\n        fetchingSansTop25={false}\n        fetchingSonarSourceSecurity={false}\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.standards}\n        owaspTop10={props.query.owaspTop10}\n        owaspTop10Open={!!props.openFacets.owaspTop10}\n        owaspTop10Stats={props.facets && props.facets.owaspTop10}\n        query={props.query}\n        sansTop25={props.query.sansTop25}\n        sansTop25Open={!!props.openFacets.sansTop25}\n        sansTop25Stats={props.facets && props.facets.sansTop25}\n        sonarsourceSecurity={props.query.sonarsourceSecurity}\n        sonarsourceSecurityOpen={!!props.openFacets.sonarsourceSecurity}\n        sonarsourceSecurityStats={props.facets && props.facets.sonarsourceSecurity}\n      />\n      <AvailableSinceFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.availableSince}\n        value={props.query.availableSince}\n      />\n      {!props.organizationsEnabled && (\n        <TemplateFacet\n          onChange={props.onFilterChange}\n          onToggle={props.onFacetToggle}\n          open={!!props.openFacets.template}\n          value={props.query.template}\n        />\n      )}\n      {!props.hideProfileFacet && (\n        <>\n          <ProfileFacet\n            activation={props.query.activation}\n            compareToProfile={props.query.compareToProfile}\n            languages={props.query.languages}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.profile}\n            referencedProfiles={props.referencedProfiles}\n            value={props.query.profile}\n          />\n          <InheritanceFacet\n            disabled={inheritanceDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.inheritance}\n            value={props.query.inheritance}\n          />\n          <ActivationSeverityFacet\n            disabled={activationSeverityDisabled}\n            onChange={props.onFilterChange}\n            onToggle={props.onFacetToggle}\n            open={!!props.openFacets.activationSeverities}\n            stats={props.facets && props.facets.activationSeverities}\n            values={props.query.activationSeverities}\n          />\n        </>\n      )}\n    </>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ReloadButton from 'sonar-ui-common/components/controls/ReloadButton';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport PageCounter from '../../../components/common/PageCounter';\n\ninterface Props {\n  loading: boolean;\n  onReload: () => void;\n  paging?: T.Paging;\n  selectedIndex?: number;\n}\n\nexport default function PageActions(props: Props) {\n  return (\n    <div className=\"pull-right\">\n      <Shortcuts />\n\n      <DeferredSpinner loading={props.loading}>\n        <ReloadButton onClick={props.onReload} />\n      </DeferredSpinner>\n\n      {props.paging && (\n        <PageCounter\n          className=\"spacer-left\"\n          current={props.selectedIndex}\n          label={translate('coding_rules._rules')}\n          total={props.paging.total}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction Shortcuts() {\n  return (\n    <span className=\"note big-spacer-right\">\n      <span className=\"big-spacer-right\">\n        <span className=\"shortcut-button little-spacer-right\">↑</span>\n        <span className=\"shortcut-button little-spacer-right\">↓</span>\n        {translate('coding_rules.to_select_rules')}\n      </span>\n\n      <span>\n        <span className=\"shortcut-button little-spacer-right\">←</span>\n        <span className=\"shortcut-button little-spacer-right\">→</span>\n        {translate('issues.to_navigate')}\n      </span>\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { csvEscape } from 'sonar-ui-common/helpers/csv';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { latinize } from 'sonar-ui-common/helpers/strings';\nimport { createRule, updateRule } from '../../../api/rules';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport { RULE_STATUSES, RULE_TYPES, SEVERITIES } from '../../../helpers/constants';\n\ninterface Props {\n  customRule?: T.RuleDetails;\n  onClose: () => void;\n  onDone: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: T.RuleDetails;\n}\n\ninterface State {\n  description: string;\n  key: string;\n  keyModifiedByUser: boolean;\n  name: string;\n  params: T.Dict<string>;\n  reactivating: boolean;\n  severity: string;\n  status: string;\n  submitting: boolean;\n  type: string;\n}\n\nexport default class CustomRuleFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const params: T.Dict<string> = {};\n    if (props.customRule && props.customRule.params) {\n      for (const param of props.customRule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n    }\n    this.state = {\n      description: (props.customRule && props.customRule.mdDesc) || '',\n      key: '',\n      keyModifiedByUser: false,\n      name: (props.customRule && props.customRule.name) || '',\n      params,\n      reactivating: false,\n      severity: (props.customRule && props.customRule.severity) || props.templateRule.severity,\n      status: (props.customRule && props.customRule.status) || props.templateRule.status,\n      submitting: false,\n      type: (props.customRule && props.customRule.type) || props.templateRule.type\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  prepareRequest = () => {\n    const { customRule, organization, templateRule } = this.props;\n    const params = Object.keys(this.state.params)\n      .map(key => `${key}=${csvEscape(this.state.params[key])}`)\n      .join(';');\n    const ruleData = {\n      markdown_description: this.state.description,\n      name: this.state.name,\n      organization,\n      params,\n      severity: this.state.severity,\n      status: this.state.status\n    };\n    return customRule\n      ? updateRule({ ...ruleData, key: customRule.key })\n      : createRule({\n          ...ruleData,\n          custom_key: this.state.key,\n          prevent_reactivation: !this.state.reactivating,\n          template_key: templateRule.key,\n          type: this.state.type\n        });\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.prepareRequest().then(\n      newRuleDetails => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n          this.props.onDone(newRuleDetails);\n        }\n      },\n      (response: Response) => {\n        if (this.mounted) {\n          this.setState({ reactivating: response.status === 409, submitting: false });\n        }\n      }\n    );\n  };\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { value: name } = event.currentTarget;\n    this.setState(state => ({\n      name,\n      key: state.keyModifiedByUser ? state.key : latinize(name).replace(/[^A-Za-z0-9]/g, '_')\n    }));\n  };\n\n  handleKeyChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ key: event.currentTarget.value, keyModifiedByUser: true });\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleTypeChange = ({ value }: { value: string }) => this.setState({ type: value });\n\n  handleSeverityChange = ({ value }: { value: string }) => this.setState({ severity: value });\n\n  handleStatusChange = ({ value }: { value: string }) => this.setState({ status: value });\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  renderNameField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-name\">\n        {translate('name')} <em className=\"mandatory\">*</em>\n      </label>\n      <input\n        autoFocus={true}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-creation-name\"\n        onChange={this.handleNameChange}\n        required={true}\n        type=\"text\"\n        value={this.state.name}\n      />\n    </div>\n  );\n\n  renderKeyField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-key\">\n        {translate('key')} {!this.props.customRule && <em className=\"mandatory\">*</em>}\n      </label>\n\n      {this.props.customRule ? (\n        <span className=\"coding-rules-detail-custom-rule-key\" title={this.props.customRule.key}>\n          {this.props.customRule.key}\n        </span>\n      ) : (\n        <input\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-key\"\n          onChange={this.handleKeyChange}\n          required={true}\n          type=\"text\"\n          value={this.state.key}\n        />\n      )}\n    </div>\n  );\n\n  renderDescriptionField = () => (\n    <div className=\"modal-field\">\n      <label htmlFor=\"coding-rules-custom-rule-creation-html-description\">\n        {translate('description')} <em className=\"mandatory\">*</em>\n      </label>\n      <textarea\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-creation-html-description\"\n        onChange={this.handleDescriptionChange}\n        required={true}\n        rows={5}\n        value={this.state.description}\n      />\n      <MarkdownTips className=\"modal-field-descriptor text-right\" />\n    </div>\n  );\n\n  renderTypeOption = ({ value }: { value: T.RuleType }) => {\n    return <TypeHelper type={value} />;\n  };\n\n  renderTypeField = () => (\n    <div className=\"modal-field flex-1 spacer-right\">\n      <label htmlFor=\"coding-rules-custom-rule-type\">{translate('type')}</label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-type\"\n        onChange={this.handleTypeChange}\n        optionRenderer={this.renderTypeOption}\n        options={RULE_TYPES.map(type => ({\n          label: translate('issue.type', type),\n          value: type\n        }))}\n        searchable={false}\n        value={this.state.type}\n        valueRenderer={this.renderTypeOption}\n      />\n    </div>\n  );\n\n  renderSeverityOption = ({ value }: { value: string }) => <SeverityHelper severity={value} />;\n\n  renderSeverityField = () => (\n    <div className=\"modal-field flex-1 spacer-right\">\n      <label htmlFor=\"coding-rules-custom-rule-severity\">{translate('severity')}</label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-severity\"\n        onChange={this.handleSeverityChange}\n        optionRenderer={this.renderSeverityOption}\n        options={SEVERITIES.map(severity => ({\n          label: translate('severity', severity),\n          value: severity\n        }))}\n        searchable={false}\n        value={this.state.severity}\n        valueRenderer={this.renderSeverityOption}\n      />\n    </div>\n  );\n\n  renderStatusField = () => (\n    <div className=\"modal-field flex-1\">\n      <label htmlFor=\"coding-rules-custom-rule-status\">\n        {translate('coding_rules.filters.status')}\n      </label>\n      <Select\n        clearable={false}\n        disabled={this.state.submitting}\n        id=\"coding-rules-custom-rule-status\"\n        onChange={this.handleStatusChange}\n        options={RULE_STATUSES.map(status => ({\n          label: translate('rules.status', status),\n          value: status\n        }))}\n        searchable={false}\n        value={this.state.status}\n      />\n    </div>\n  );\n\n  renderParameterField = (param: T.RuleParameter) => (\n    <div className=\"modal-field\" key={param.key}>\n      <label className=\"capitalize\" htmlFor={param.key}>\n        {param.key}\n      </label>\n\n      {param.type === 'TEXT' ? (\n        <textarea\n          disabled={this.state.submitting}\n          id={param.key}\n          name={param.key}\n          onChange={this.handleParameterChange}\n          placeholder={param.defaultValue}\n          rows={3}\n          value={this.state.params[param.key] || ''}\n        />\n      ) : (\n        <input\n          disabled={this.state.submitting}\n          id={param.key}\n          name={param.key}\n          onChange={this.handleParameterChange}\n          placeholder={param.defaultValue}\n          type=\"text\"\n          value={this.state.params[param.key] || ''}\n        />\n      )}\n      <div\n        className=\"modal-field-description\"\n        // Safe: defined by rule creator (instance admin?)\n        dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n      />\n    </div>\n  );\n\n  render() {\n    const { customRule, templateRule } = this.props;\n    const { reactivating, submitting } = this.state;\n    const { params = [] } = templateRule;\n    const header = customRule\n      ? translate('coding_rules.update_custom_rule')\n      : translate('coding_rules.create_custom_rule');\n    let submit = this.props.customRule ? translate('save') : translate('create');\n    if (this.state.reactivating) {\n      submit = translate('coding_rules.reactivate');\n    }\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <div className=\"modal-body modal-container\">\n            {reactivating && (\n              <Alert variant=\"warning\">{translate('coding_rules.reactivate.help')}</Alert>\n            )}\n\n            {this.renderNameField()}\n            {this.renderKeyField()}\n            <div className=\"display-flex-space-between\">\n              {/* do not allow to change the type of existing rule */}\n              {!customRule && this.renderTypeField()}\n              {this.renderSeverityField()}\n              {this.renderStatusField()}\n            </div>\n            {this.renderDescriptionField()}\n            {params.map(this.renderParameterField)}\n          </div>\n\n          <div className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={this.state.submitting}>{submit}</SubmitButton>\n            <ResetButtonLink\n              disabled={submitting}\n              id=\"coding-rules-custom-rule-creation-cancel\"\n              onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleFormModal from './CustomRuleFormModal';\n\ninterface Props {\n  children: (props: { onClick: () => void }) => React.ReactNode;\n  customRule?: T.RuleDetails;\n  onDone: (newRuleDetails: T.RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: T.RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class CustomRuleButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleModalClose = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  handleDone = (newRuleDetails: T.RuleDetails) => {\n    this.handleModalClose();\n    this.props.onDone(newRuleDetails);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({ onClick: this.handleClick })}\n        {this.state.modal && (\n          <CustomRuleFormModal\n            customRule={this.props.customRule}\n            onClose={this.handleModalClose}\n            onDone={this.handleDone}\n            organization={this.props.organization}\n            templateRule={this.props.templateRule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { deleteRule, searchRules } from '../../../api/rules';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { getRuleUrl } from '../../../helpers/urls';\nimport CustomRuleButton from './CustomRuleButton';\n\ninterface Props {\n  canChange?: boolean;\n  organization: string | undefined;\n  ruleDetails: T.RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n  rules?: T.Rule[];\n}\n\nexport default class RuleDetailsCustomRules extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRules();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchRules();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRules = () => {\n    this.setState({ loading: true });\n    searchRules({\n      f: 'name,severity,params',\n      organization: this.props.organization,\n      template_key: this.props.ruleDetails.key\n    }).then(\n      ({ rules }) => {\n        if (this.mounted) {\n          this.setState({ rules, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleRuleCreate = (newRuleDetails: T.RuleDetails) => {\n    if (this.mounted) {\n      this.setState(({ rules = [] }: State) => ({\n        rules: [...rules, newRuleDetails]\n      }));\n    }\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    return deleteRule({ key: ruleKey, organization: this.props.organization }).then(() => {\n      if (this.mounted) {\n        this.setState(({ rules = [] }) => ({\n          rules: rules.filter(rule => rule.key !== ruleKey)\n        }));\n      }\n    });\n  };\n\n  renderRule = (rule: T.Rule) => (\n    <tr data-rule={rule.key} key={rule.key}>\n      <td className=\"coding-rules-detail-list-name\">\n        <Link to={getRuleUrl(rule.key, this.props.organization)}>{rule.name}</Link>\n      </td>\n\n      <td className=\"coding-rules-detail-list-severity\">\n        <SeverityHelper className=\"display-flex-center\" severity={rule.severity} />\n      </td>\n\n      <td className=\"coding-rules-detail-list-parameters\">\n        {rule.params &&\n          rule.params\n            .filter(param => param.defaultValue)\n            .map(param => (\n              <div className=\"coding-rules-detail-list-parameter\" key={param.key}>\n                <span className=\"key\">{param.key}</span>\n                <span className=\"sep\">:&nbsp;</span>\n                <span className=\"value\" title={param.defaultValue}>\n                  {param.defaultValue}\n                </span>\n              </div>\n            ))}\n      </td>\n\n      {this.props.canChange && (\n        <td className=\"coding-rules-detail-list-actions\">\n          <ConfirmButton\n            confirmButtonText={translate('delete')}\n            confirmData={rule.key}\n            isDestructive={true}\n            modalBody={translateWithParameters('coding_rules.delete.custom.confirm', rule.name)}\n            modalHeader={translate('coding_rules.delete_rule')}\n            onConfirm={this.handleRuleDelete}>\n            {({ onClick }) => (\n              <Button className=\"button-red js-delete-custom-rule\" onClick={onClick}>\n                {translate('delete')}\n              </Button>\n            )}\n          </ConfirmButton>\n        </td>\n      )}\n    </tr>\n  );\n\n  render() {\n    const { loading, rules = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-custom-rules coding-rule-section\">\n        <div className=\"coding-rules-detail-custom-rules-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.custom_rules')}</h3>\n\n          {this.props.canChange && (\n            <CustomRuleButton\n              onDone={this.handleRuleCreate}\n              organization={this.props.organization}\n              templateRule={this.props.ruleDetails}>\n              {({ onClick }) => (\n                <Button className=\"js-create-custom-rule spacer-left\" onClick={onClick}>\n                  {translate('coding_rules.create')}\n                </Button>\n              )}\n            </CustomRuleButton>\n          )}\n\n          <DeferredSpinner className=\"spacer-left\" loading={loading}>\n            {rules.length > 0 && (\n              <table className=\"coding-rules-detail-list\" id=\"coding-rules-detail-custom-rules\">\n                <tbody>{sortBy(rules, rule => rule.name).map(this.renderRule)}</tbody>\n              </table>\n            )}\n          </DeferredSpinner>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { getFacet } from '../../../api/issues';\nimport { withAppState } from '../../../components/hoc/withAppState';\nimport { getIssuesUrl } from '../../../helpers/urls';\n\ninterface Props {\n  appState: Pick<T.AppState, 'branchesEnabled'>;\n  organization: string | undefined;\n  ruleDetails: Pick<T.RuleDetails, 'key' | 'type'>;\n}\n\ninterface Project {\n  count: number;\n  key: string;\n  name: string;\n}\n\ninterface State {\n  loading: boolean;\n  projects?: Project[];\n  total?: number;\n}\n\nexport class RuleDetailsIssues extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIssues();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails !== this.props.ruleDetails) {\n      this.fetchIssues();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIssues = () => {\n    const {\n      ruleDetails: { key },\n      organization\n    } = this.props;\n\n    this.setState({ loading: true });\n    getFacet(\n      {\n        resolved: 'false',\n        rules: key,\n        organization\n      },\n      'projects'\n    ).then(\n      ({ facet, response }) => {\n        if (this.mounted) {\n          const { components = [], paging } = response;\n          const projects = [];\n          for (const item of facet) {\n            const project = components.find(component => component.key === item.val);\n            if (project) {\n              projects.push({ count: item.count, key: project.key, name: project.name });\n            }\n          }\n          this.setState({ projects, loading: false, total: paging.total });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderTotal = () => {\n    const {\n      ruleDetails: { key },\n      organization\n    } = this.props;\n\n    const { total } = this.state;\n    if (total === undefined) {\n      return null;\n    }\n    const path = getIssuesUrl({ resolved: 'false', rules: key }, organization);\n\n    const totalItem = (\n      <span className=\"little-spacer-left\">\n        {'('}\n        <Link to={path}>{total}</Link>\n        {')'}\n      </span>\n    );\n\n    if (!this.props.appState.branchesEnabled) {\n      return totalItem;\n    }\n\n    return (\n      <Tooltip overlay={translate('coding_rules.issues.only_main_branches')}>{totalItem}</Tooltip>\n    );\n  };\n\n  renderProject = (project: Project) => {\n    const {\n      ruleDetails: { key },\n      organization\n    } = this.props;\n\n    const path = getIssuesUrl(\n      { resolved: 'false', rules: key, projects: project.key },\n      organization\n    );\n    return (\n      <tr key={project.key}>\n        <td className=\"coding-rules-detail-list-name\">{project.name}</td>\n        <td className=\"coding-rules-detail-list-parameters\">\n          <Link to={path}>{formatMeasure(project.count, 'INT')}</Link>\n        </td>\n      </tr>\n    );\n  };\n\n  render() {\n    const { loading, projects = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-issues coding-rule-section\">\n        <div className=\"coding-rule-section-separator\" />\n\n        <DeferredSpinner loading={loading}>\n          <h3 className=\"coding-rules-detail-title\">\n            {translate('coding_rules.issues')}\n            {this.renderTotal()}\n          </h3>\n\n          {projects.length > 0 && (\n            <table className=\"coding-rules-detail-list coding-rules-most-violated-projects\">\n              <tbody>\n                <tr>\n                  <td className=\"coding-rules-detail-list-name\" colSpan={2}>\n                    {translate('coding_rules.most_violating_projects')}\n                  </td>\n                </tr>\n                {projects.map(this.renderProject)}\n              </tbody>\n            </table>\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n\nexport default withAppState(RuleDetailsIssues);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  params: T.RuleParameter[];\n}\n\nexport default class RuleDetailsParameters extends React.PureComponent<Props> {\n  renderParameter = (param: T.RuleParameter) => (\n    <tr className=\"coding-rules-detail-parameter\" key={param.key}>\n      <td className=\"coding-rules-detail-parameter-name\">{param.key}</td>\n      <td className=\"coding-rules-detail-parameter-description\">\n        <p // Safe: defined by rule creator (instance admin?)\n          dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n        />\n        {param.defaultValue !== undefined && (\n          <div className=\"note spacer-top\">\n            {translate('coding_rules.parameters.default_value')}\n            <br />\n            <span className=\"coding-rules-detail-parameter-value\">{param.defaultValue}</span>\n          </div>\n        )}\n      </td>\n    </tr>\n  );\n\n  render() {\n    return (\n      <div className=\"js-rule-parameters\">\n        <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.parameters')}</h3>\n        <table className=\"coding-rules-detail-parameters\">\n          <tbody>{this.props.params.map(this.renderParameter)}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { Profile as BaseProfile } from '../../../api/quality-profiles';\nimport ActivationFormModal from './ActivationFormModal';\n\ninterface Props {\n  activation?: T.RuleActivation;\n  buttonText: string;\n  className?: string;\n  modalHeader: string;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: T.Rule | T.RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ActivationButton extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Button\n          className={this.props.className}\n          id=\"coding-rules-quality-profile-activate\"\n          onClick={this.handleButtonClick}>\n          {this.props.buttonText}\n        </Button>\n\n        {this.state.modal && (\n          <ActivationFormModal\n            activation={this.props.activation}\n            modalHeader={this.props.modalHeader}\n            onClose={this.handleCloseModal}\n            onDone={this.props.onDone}\n            organization={this.props.organization}\n            profiles={this.props.profiles}\n            rule={this.props.rule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { colors } from '../../../app/theme';\n\ninterface Props {\n  className?: string;\n  inheritance: T.RuleInheritance;\n}\n\nexport default function RuleInheritanceIcon({ className, inheritance, ...other }: Props) {\n  const fill = inheritance === 'OVERRIDES' ? colors.red : colors.baseFontColor;\n\n  return (\n    <svg\n      className={className}\n      height={16}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={16}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      {...other}>\n      <path\n        d=\"M6.25 12.5a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm0-9a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm5 1a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm.75 0a1.5 1.5 0 0 1-.75 1.297c-.023 2.82-2.023 3.445-3.352 3.867-1.242.39-1.648.578-1.648 1.336v.203A1.5 1.5 0 1 1 4 12.5a1.5 1.5 0 0 1 .75-1.297V4.797A1.5 1.5 0 1 1 7 3.5a1.5 1.5 0 0 1-.75 1.297V8.68c.398-.196.82-.328 1.203-.446 1.453-.46 2.281-.804 2.297-2.437A1.5 1.5 0 1 1 12 4.5z\"\n        style={{ fill, fillRule: 'nonzero' }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { filter } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { activateRule, deactivateRule, Profile } from '../../../api/quality-profiles';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { getQualityProfileUrl } from '../../../helpers/urls';\nimport BuiltInQualityProfileBadge from '../../quality-profiles/components/BuiltInQualityProfileBadge';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\n\ninterface Props {\n  activations: T.RuleActivation[] | undefined;\n  canWrite: boolean | undefined;\n  onActivate: () => Promise<void>;\n  onDeactivate: () => Promise<void>;\n  organization: string | undefined;\n  referencedProfiles: T.Dict<Profile>;\n  ruleDetails: T.RuleDetails;\n}\n\nexport default class RuleDetailsProfiles extends React.PureComponent<Props> {\n  handleActivate = () => this.props.onActivate();\n\n  handleDeactivate = (key?: string) => {\n    if (key) {\n      deactivateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key\n      }).then(this.props.onDeactivate, () => {});\n    }\n  };\n\n  handleRevert = (key?: string) => {\n    if (key) {\n      activateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key,\n        reset: true\n      }).then(this.props.onActivate, () => {});\n    }\n  };\n\n  renderInheritedProfile = (activation: T.RuleActivation, profile: Profile) => {\n    if (!profile.parentName) {\n      return null;\n    }\n    const profilePath = getQualityProfileUrl(\n      profile.parentName,\n      profile.language,\n      this.props.organization\n    );\n    return (\n      <div className=\"coding-rules-detail-quality-profile-inheritance\">\n        {(activation.inherit === 'OVERRIDES' || activation.inherit === 'INHERITED') && (\n          <>\n            <RuleInheritanceIcon className=\"text-middle\" inheritance={activation.inherit} />\n            <Link className=\"link-base-color little-spacer-left text-middle\" to={profilePath}>\n              {profile.parentName}\n            </Link>\n          </>\n        )}\n      </div>\n    );\n  };\n\n  renderSeverity = (activation: T.RuleActivation, parentActivation?: T.RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-severity\">\n      <Tooltip overlay={translate('coding_rules.activation_severity')}>\n        <span>\n          <SeverityHelper className=\"display-inline-flex-center\" severity={activation.severity} />\n        </span>\n      </Tooltip>\n      {parentActivation !== undefined && activation.severity !== parentActivation.severity && (\n        <div className=\"coding-rules-detail-quality-profile-inheritance\">\n          {translate('coding_rules.original')} {translate('severity', parentActivation.severity)}\n        </div>\n      )}\n    </td>\n  );\n\n  renderParameter = (\n    param: { key: string; value: string },\n    parentActivation?: T.RuleActivation\n  ) => {\n    const originalParam =\n      parentActivation && parentActivation.params.find(p => p.key === param.key);\n    const originalValue = originalParam && originalParam.value;\n\n    return (\n      <div className=\"coding-rules-detail-quality-profile-parameter\" key={param.key}>\n        <span className=\"key\">{param.key}</span>\n        <span className=\"sep\">: </span>\n        <span className=\"value\" title={param.value}>\n          {param.value}\n        </span>\n        {parentActivation && param.value !== originalValue && (\n          <div className=\"coding-rules-detail-quality-profile-inheritance\">\n            {translate('coding_rules.original')} <span className=\"value\">{originalValue}</span>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  renderParameters = (activation: T.RuleActivation, parentActivation?: T.RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-parameters\">\n      {activation.params.map(param => this.renderParameter(param, parentActivation))}\n    </td>\n  );\n\n  renderActions = (activation: T.RuleActivation, profile: Profile) => {\n    const canEdit = profile.actions && profile.actions.edit && !profile.isBuiltIn;\n    const { ruleDetails } = this.props;\n    const hasParent = activation.inherit !== 'NONE' && profile.parentKey;\n    return (\n      <td className=\"coding-rules-detail-quality-profile-actions\">\n        {canEdit && (\n          <>\n            {!ruleDetails.isTemplate && (\n              <ActivationButton\n                activation={activation}\n                buttonText={translate('change_verb')}\n                className=\"coding-rules-detail-quality-profile-change\"\n                modalHeader={translate('coding_rules.change_details')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[profile]}\n                rule={ruleDetails}\n              />\n            )}\n            {hasParent ? (\n              activation.inherit === 'OVERRIDES' &&\n              profile.parentName && (\n                <ConfirmButton\n                  confirmButtonText={translate('yes')}\n                  confirmData={profile.key}\n                  modalBody={translateWithParameters(\n                    'coding_rules.revert_to_parent_definition.confirm',\n                    profile.parentName\n                  )}\n                  modalHeader={translate('coding_rules.revert_to_parent_definition')}\n                  onConfirm={this.handleRevert}>\n                  {({ onClick }) => (\n                    <Button\n                      className=\"coding-rules-detail-quality-profile-revert button-red spacer-left\"\n                      onClick={onClick}>\n                      {translate('coding_rules.revert_to_parent_definition')}\n                    </Button>\n                  )}\n                </ConfirmButton>\n              )\n            ) : (\n              <ConfirmButton\n                confirmButtonText={translate('yes')}\n                confirmData={profile.key}\n                modalBody={translate('coding_rules.deactivate.confirm')}\n                modalHeader={translate('coding_rules.deactivate')}\n                onConfirm={this.handleDeactivate}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"coding-rules-detail-quality-profile-deactivate button-red spacer-left\"\n                    onClick={onClick}>\n                    {translate('coding_rules.deactivate')}\n                  </Button>\n                )}\n              </ConfirmButton>\n            )}\n          </>\n        )}\n      </td>\n    );\n  };\n\n  renderActivation = (activation: T.RuleActivation) => {\n    const { activations = [], ruleDetails } = this.props;\n    const profile = this.props.referencedProfiles[activation.qProfile];\n    if (!profile) {\n      return null;\n    }\n\n    const parentActivation = activations.find(x => x.qProfile === profile.parentKey);\n\n    return (\n      <tr data-profile={profile.key} key={profile.key}>\n        <td className=\"coding-rules-detail-quality-profile-name\">\n          <Link to={getQualityProfileUrl(profile.name, profile.language, this.props.organization)}>\n            {profile.name}\n          </Link>\n          {profile.isBuiltIn && <BuiltInQualityProfileBadge className=\"spacer-left\" />}\n          {this.renderInheritedProfile(activation, profile)}\n        </td>\n\n        {this.renderSeverity(activation, parentActivation)}\n        {!ruleDetails.templateKey && this.renderParameters(activation, parentActivation)}\n        {this.renderActions(activation, profile)}\n      </tr>\n    );\n  };\n\n  render() {\n    const { activations = [], referencedProfiles, ruleDetails } = this.props;\n    const canActivate = Object.values(referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit && profile.language === ruleDetails.lang)\n    );\n\n    return (\n      <div className=\"js-rule-profiles coding-rule-section\">\n        <div className=\"coding-rules-detail-quality-profiles-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">\n            <InstanceMessage message={translate('coding_rules.quality_profiles')} />\n          </h3>\n\n          {canActivate && (\n            <ActivationButton\n              buttonText={translate('coding_rules.activate')}\n              className=\"coding-rules-quality-profile-activate spacer-left\"\n              modalHeader={translate('coding_rules.activate_in_quality_profile')}\n              onDone={this.handleActivate}\n              organization={this.props.organization}\n              profiles={filter(\n                this.props.referencedProfiles,\n                profile => !activations.find(activation => activation.qProfile === profile.key)\n              )}\n              rule={ruleDetails}\n            />\n          )}\n\n          {activations.length > 0 && (\n            <table\n              className=\"coding-rules-detail-quality-profiles width-100\"\n              id=\"coding-rules-detail-quality-profiles\">\n              <tbody>{activations.map(this.renderActivation)}</tbody>\n            </table>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { Profile } from '../../../api/quality-profiles';\nimport { deleteRule, getRuleDetails, updateRule } from '../../../api/rules';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { Activation, Query } from '../query';\nimport CustomRuleButton from './CustomRuleButton';\nimport RuleDetailsCustomRules from './RuleDetailsCustomRules';\nimport RuleDetailsDescription from './RuleDetailsDescription';\nimport RuleDetailsIssues from './RuleDetailsIssues';\nimport RuleDetailsMeta from './RuleDetailsMeta';\nimport RuleDetailsParameters from './RuleDetailsParameters';\nimport RuleDetailsProfiles from './RuleDetailsProfiles';\n\ninterface Props {\n  allowCustomRules?: boolean;\n  canWrite?: boolean;\n  hideQualityProfiles?: boolean;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onDelete: (rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  organization: string | undefined;\n  referencedProfiles: T.Dict<Profile>;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  ruleKey: string;\n  selectedProfile?: Profile;\n}\n\ninterface State {\n  actives?: T.RuleActivation[];\n  loading: boolean;\n  ruleDetails?: T.RuleDetails;\n}\n\nexport default class RuleDetails extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ loading: true });\n    this.fetchRuleDetails();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleKey !== this.props.ruleKey) {\n      this.setState({ loading: true });\n      this.fetchRuleDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRuleDetails = () => {\n    return getRuleDetails({\n      actives: true,\n      key: this.props.ruleKey,\n      organization: this.props.organization\n    }).then(\n      ({ actives, rule }) => {\n        if (this.mounted) {\n          this.setState({ actives, loading: false, ruleDetails: rule });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleRuleChange = (ruleDetails: T.RuleDetails) => {\n    if (this.mounted) {\n      this.setState({ ruleDetails });\n    }\n  };\n\n  handleTagsChange = (tags: string[]) => {\n    // optimistic update\n    const oldTags = this.state.ruleDetails && this.state.ruleDetails.tags;\n    this.setState(state =>\n      state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags } } : null\n    );\n    updateRule({\n      key: this.props.ruleKey,\n      organization: this.props.organization,\n      tags: tags.join()\n    }).catch(() => {\n      if (this.mounted) {\n        this.setState(state =>\n          state.ruleDetails ? { ruleDetails: { ...state.ruleDetails, tags: oldTags } } : null\n        );\n      }\n    });\n  };\n\n  handleActivate = () => {\n    return this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        const active = this.state.actives.find(active => active.qProfile === selectedProfile.key);\n        if (active) {\n          this.props.onActivate(selectedProfile.key, ruleKey, active);\n        }\n      }\n    });\n  };\n\n  handleDeactivate = () => {\n    return this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (\n        selectedProfile &&\n        this.state.actives &&\n        !this.state.actives.find(active => active.qProfile === selectedProfile.key)\n      ) {\n        this.props.onDeactivate(selectedProfile.key, ruleKey);\n      }\n    });\n  };\n\n  handleDelete = () => {\n    return deleteRule({ key: this.props.ruleKey, organization: this.props.organization }).then(() =>\n      this.props.onDelete(this.props.ruleKey)\n    );\n  };\n\n  render() {\n    const { ruleDetails } = this.state;\n\n    if (!ruleDetails) {\n      return <div className=\"coding-rule-details\" />;\n    }\n\n    const {\n      allowCustomRules,\n      canWrite,\n      hideQualityProfiles,\n      organization,\n      referencedProfiles\n    } = this.props;\n    const { params = [] } = ruleDetails;\n\n    const isCustom = !!ruleDetails.templateKey;\n    const isEditable = canWrite && !!this.props.allowCustomRules && isCustom;\n\n    return (\n      <div className=\"coding-rule-details\">\n        <DeferredSpinner loading={this.state.loading}>\n          <RuleDetailsMeta\n            canWrite={canWrite}\n            onFilterChange={this.props.onFilterChange}\n            onTagsChange={this.handleTagsChange}\n            organization={organization}\n            referencedRepositories={this.props.referencedRepositories}\n            ruleDetails={ruleDetails}\n          />\n\n          <RuleDetailsDescription\n            canWrite={canWrite}\n            onChange={this.handleRuleChange}\n            organization={organization}\n            ruleDetails={ruleDetails}\n          />\n\n          {params.length > 0 && <RuleDetailsParameters params={params} />}\n\n          {isEditable && (\n            <div className=\"coding-rules-detail-description display-flex-center\">\n              {/* `templateRule` is used to get rule meta data, `customRule` is used to get parameter values */}\n              {/* it's expected to pass the same rule to both parameters */}\n              <CustomRuleButton\n                customRule={ruleDetails}\n                onDone={this.handleRuleChange}\n                organization={organization}\n                templateRule={ruleDetails}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"js-edit-custom\"\n                    id=\"coding-rules-detail-custom-rule-change\"\n                    onClick={onClick}>\n                    {translate('edit')}\n                  </Button>\n                )}\n              </CustomRuleButton>\n              <ConfirmButton\n                confirmButtonText={translate('delete')}\n                isDestructive={true}\n                modalBody={translateWithParameters(\n                  'coding_rules.delete.custom.confirm',\n                  ruleDetails.name\n                )}\n                modalHeader={translate('coding_rules.delete_rule')}\n                onConfirm={this.handleDelete}>\n                {({ onClick }) => (\n                  <>\n                    <Button\n                      className=\"button-red spacer-left js-delete\"\n                      id=\"coding-rules-detail-rule-delete\"\n                      onClick={onClick}>\n                      {translate('delete')}\n                    </Button>\n                    <DocTooltip\n                      className=\"spacer-left\"\n                      doc={import(\n                        /* webpackMode: \"eager\" */ 'Docs/tooltips/rules/custom-rule-removal.md'\n                      )}\n                    />\n                  </>\n                )}\n              </ConfirmButton>\n            </div>\n          )}\n\n          {ruleDetails.isTemplate && (\n            <RuleDetailsCustomRules\n              canChange={allowCustomRules && canWrite}\n              organization={organization}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate && !hideQualityProfiles && (\n            <RuleDetailsProfiles\n              activations={this.state.actives}\n              canWrite={canWrite}\n              onActivate={this.handleActivate}\n              onDeactivate={this.handleDeactivate}\n              organization={organization}\n              referencedProfiles={referencedProfiles}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate && ruleDetails.type !== 'SECURITY_HOTSPOT' && (\n            <RuleDetailsIssues organization={organization} ruleDetails={ruleDetails} />\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport IssueTypeIcon from 'sonar-ui-common/components/icons/IssueTypeIcon';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { deactivateRule, Profile } from '../../../api/quality-profiles';\nimport TagsList from '../../../components/tags/TagsList';\nimport { getRuleUrl } from '../../../helpers/urls';\nimport { Activation, Query } from '../query';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport SimilarRulesFilter from './SimilarRulesFilter';\n\ninterface Props {\n  activation?: Activation;\n  canWrite?: boolean;\n  isLoggedIn: boolean;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  onOpen: (ruleKey: string) => void;\n  organization: string | undefined;\n  rule: T.Rule;\n  selected: boolean;\n  selectedProfile?: Profile;\n}\n\nexport default class RuleListItem extends React.PureComponent<Props> {\n  handleDeactivate = () => {\n    if (this.props.selectedProfile) {\n      const data = {\n        key: this.props.selectedProfile.key,\n        organization: this.props.organization,\n        rule: this.props.rule.key\n      };\n      deactivateRule(data).then(\n        () => this.props.onDeactivate(data.key, data.rule),\n        () => {}\n      );\n    }\n  };\n\n  handleActivate = (severity: string) => {\n    if (this.props.selectedProfile) {\n      this.props.onActivate(this.props.selectedProfile.key, this.props.rule.key, {\n        severity,\n        inherit: 'NONE'\n      });\n    }\n    return Promise.resolve();\n  };\n\n  handleNameClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    // cmd(ctrl) + click should open a rule permalink in a new tab\n    const isLeftClickEvent = event.button === 0;\n    const isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n    if (isModifiedEvent || !isLeftClickEvent) {\n      return;\n    }\n\n    event.preventDefault();\n    this.props.onOpen(this.props.rule.key);\n  };\n\n  renderActivation = () => {\n    const { activation, selectedProfile } = this.props;\n    if (!activation) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation\">\n        <SeverityIcon severity={activation.severity} />\n        {selectedProfile && selectedProfile.parentName && (\n          <>\n            {activation.inherit === 'OVERRIDES' && (\n              <Tooltip\n                overlay={translateWithParameters(\n                  'coding_rules.overrides',\n                  selectedProfile.name,\n                  selectedProfile.parentName\n                )}>\n                <RuleInheritanceIcon\n                  className=\"little-spacer-left\"\n                  inheritance={activation.inherit}\n                />\n              </Tooltip>\n            )}\n            {activation.inherit === 'INHERITED' && (\n              <Tooltip\n                overlay={translateWithParameters(\n                  'coding_rules.inherits',\n                  selectedProfile.name,\n                  selectedProfile.parentName\n                )}>\n                <RuleInheritanceIcon\n                  className=\"little-spacer-left\"\n                  inheritance={activation.inherit}\n                />\n              </Tooltip>\n            )}\n          </>\n        )}\n      </td>\n    );\n  };\n\n  renderActions = () => {\n    const { activation, isLoggedIn, rule, selectedProfile } = this.props;\n    if (!selectedProfile || !isLoggedIn) {\n      return null;\n    }\n\n    const canCopy = selectedProfile.actions && selectedProfile.actions.copy;\n    if (selectedProfile.isBuiltIn && canCopy) {\n      return (\n        <td className=\"coding-rule-table-meta-cell coding-rule-activation-actions\">\n          {this.renderDeactivateButton('', 'coding_rules.need_extend_or_copy')}\n        </td>\n      );\n    }\n\n    const canEdit = selectedProfile.actions && selectedProfile.actions.edit;\n    if (!canEdit) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation-actions\">\n        {activation\n          ? this.renderDeactivateButton(activation.inherit)\n          : !rule.isTemplate && (\n              <ActivationButton\n                buttonText={translate('coding_rules.activate')}\n                className=\"coding-rules-detail-quality-profile-activate\"\n                modalHeader={translate('coding_rules.activate_in_quality_profile')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[selectedProfile]}\n                rule={rule}\n              />\n            )}\n      </td>\n    );\n  };\n\n  renderDeactivateButton = (\n    inherit: string,\n    overlayTranslationKey = 'coding_rules.can_not_deactivate'\n  ) => {\n    return inherit === 'NONE' ? (\n      <ConfirmButton\n        confirmButtonText={translate('yes')}\n        modalBody={translate('coding_rules.deactivate.confirm')}\n        modalHeader={translate('coding_rules.deactivate')}\n        onConfirm={this.handleDeactivate}>\n        {({ onClick }) => (\n          <Button\n            className=\"coding-rules-detail-quality-profile-deactivate button-red\"\n            onClick={onClick}>\n            {translate('coding_rules.deactivate')}\n          </Button>\n        )}\n      </ConfirmButton>\n    ) : (\n      <Tooltip overlay={translate(overlayTranslationKey)}>\n        <Button\n          className=\"coding-rules-detail-quality-profile-deactivate button-red\"\n          disabled={true}>\n          {translate('coding_rules.deactivate')}\n        </Button>\n      </Tooltip>\n    );\n  };\n\n  render() {\n    const { rule, selected } = this.props;\n    const allTags = [...(rule.tags || []), ...(rule.sysTags || [])];\n    return (\n      <div className={classNames('coding-rule', { selected })} data-rule={rule.key}>\n        <table className=\"coding-rule-table\">\n          <tbody>\n            <tr>\n              {this.renderActivation()}\n\n              <td>\n                <div className=\"coding-rule-title\">\n                  <Link\n                    className=\"link-no-underline\"\n                    onClick={this.handleNameClick}\n                    to={getRuleUrl(rule.key, this.props.organization)}>\n                    {rule.name}\n                  </Link>\n                  {rule.isTemplate && (\n                    <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n                      <span className=\"badge spacer-left\">\n                        {translate('coding_rules.rule_template')}\n                      </span>\n                    </Tooltip>\n                  )}\n                </div>\n              </td>\n\n              <td className=\"coding-rule-table-meta-cell\">\n                <div className=\"display-flex-center coding-rule-meta\">\n                  {rule.status !== 'READY' && (\n                    <span className=\"spacer-left badge badge-error\">\n                      {translate('rules.status', rule.status)}\n                    </span>\n                  )}\n                  <span className=\"display-inline-flex-center spacer-left note\">\n                    {rule.langName}\n                  </span>\n                  <Tooltip overlay={translate('coding_rules.type.tooltip', rule.type)}>\n                    <span className=\"display-inline-flex-center spacer-left note\">\n                      <IssueTypeIcon query={rule.type} />\n                      <span className=\"little-spacer-left text-middle\">\n                        {translate('issue.type', rule.type)}\n                      </span>\n                    </span>\n                  </Tooltip>\n                  {allTags.length > 0 && (\n                    <TagsList\n                      allowUpdate={false}\n                      className=\"display-inline-flex-center note spacer-left\"\n                      tags={allTags}\n                    />\n                  )}\n                  <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={rule} />\n                </div>\n              </td>\n\n              {this.renderActions()}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as key from 'keymaster';\nimport { keyBy } from 'lodash';\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport { withRouter, WithRouterProps } from 'react-router';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport BackIcon from 'sonar-ui-common/components/icons/BackIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  addSideBarClass,\n  addWhitePageClass,\n  removeSideBarClass,\n  removeWhitePageClass\n} from 'sonar-ui-common/helpers/pages';\nimport { scrollToElement } from 'sonar-ui-common/helpers/scrolling';\nimport { Profile, searchQualityProfiles } from '../../../api/quality-profiles';\nimport { getRulesApp, searchRules } from '../../../api/rules';\nimport A11ySkipTarget from '../../../app/components/a11y/A11ySkipTarget';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport '../../../components/search-navigator.css';\nimport { hasPrivateAccess } from '../../../helpers/organizations';\nimport { isSonarCloud } from '../../../helpers/system';\nimport { isLoggedIn } from '../../../helpers/users';\nimport {\n  getAppState,\n  getCurrentUser,\n  getLanguages,\n  getMyOrganizations,\n  Store\n} from '../../../store/rootReducer';\nimport {\n  shouldOpenSonarSourceSecurityFacet,\n  shouldOpenStandardsChildFacet,\n  shouldOpenStandardsFacet,\n  STANDARDS\n} from '../../issues/utils';\nimport {\n  Activation,\n  Actives,\n  areQueriesEqual,\n  FacetKey,\n  Facets,\n  getAppFacet,\n  getOpen,\n  getServerFacet,\n  hasRuleKey,\n  OpenFacets,\n  parseQuery,\n  Query,\n  serializeQuery,\n  shouldRequestFacet\n} from '../query';\nimport '../styles.css';\nimport BulkChange from './BulkChange';\nimport FacetsList from './FacetsList';\nimport PageActions from './PageActions';\nimport RuleDetails from './RuleDetails';\nimport RuleListItem from './RuleListItem';\n\nconst PAGE_SIZE = 100;\nconst LIMIT_BEFORE_LOAD_MORE = 5;\n\ninterface StateToProps {\n  appState: T.AppState;\n  currentUser: T.CurrentUser;\n  languages: T.Languages;\n  userOrganizations: T.Organization[];\n}\n\ninterface OwnProps extends WithRouterProps {\n  organization: T.Organization | undefined;\n}\n\ntype Props = OwnProps & StateToProps;\n\ninterface State {\n  actives?: Actives;\n  canWrite?: boolean;\n  facets?: Facets;\n  loading: boolean;\n  openFacets: OpenFacets;\n  openRule?: T.Rule;\n  paging?: T.Paging;\n  query: Query;\n  referencedProfiles: T.Dict<Profile>;\n  referencedRepositories: T.Dict<{ key: string; language: string; name: string }>;\n  rules: T.Rule[];\n  selected?: string;\n  usingPermalink?: boolean;\n}\n\nexport class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const query = parseQuery(props.location.query);\n    this.state = {\n      loading: true,\n      openFacets: {\n        languages: true,\n        owaspTop10: shouldOpenStandardsChildFacet({}, query, 'owaspTop10'),\n        sansTop25: shouldOpenStandardsChildFacet({}, query, 'sansTop25'),\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet({}, query),\n        standards: shouldOpenStandardsFacet({}, query),\n        types: true\n      },\n      query,\n      referencedProfiles: {},\n      referencedRepositories: {},\n      rules: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    addWhitePageClass();\n    addSideBarClass();\n    this.attachShortcuts();\n    this.fetchInitialData();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    this.setState(({ rules, selected }) => {\n      const openRule = this.getOpenRule(nextProps, rules);\n      return {\n        openRule,\n        usingPermalink: hasRuleKey(nextProps.location.query),\n        query: parseQuery(nextProps.location.query),\n        selected: openRule ? openRule.key : selected\n      };\n    });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (!areQueriesEqual(prevProps.location.query, this.props.location.query)) {\n      this.fetchFirstRules();\n    }\n    if (\n      !this.state.openRule &&\n      (prevState.selected !== this.state.selected || prevState.openRule)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedRule();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    removeWhitePageClass();\n    removeSideBarClass();\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    key.setScope('coding-rules');\n    key('up', 'coding-rules', () => {\n      this.selectPreviousRule();\n      return false;\n    });\n    key('down', 'coding-rules', () => {\n      this.selectNextRule();\n      return false;\n    });\n    key('right', 'coding-rules', () => {\n      this.openSelectedRule();\n      return false;\n    });\n    key('left', 'coding-rules', () => {\n      this.handleBack();\n      return false;\n    });\n  };\n\n  detachShortcuts = () => key.deleteScope('coding-rules');\n\n  getOpenRule = (props: Props, rules: T.Rule[]) => {\n    const open = getOpen(props.location.query);\n    return open && rules.find(rule => rule.key === open);\n  };\n\n  getFacetsToFetch = () => {\n    const { openFacets } = this.state;\n    return Object.keys(openFacets)\n      .filter((facet: FacetKey) => openFacets[facet])\n      .filter((facet: FacetKey) => shouldRequestFacet(facet))\n      .map((facet: FacetKey) => getServerFacet(facet));\n  };\n\n  getFieldsToFetch = () => {\n    const fields = [\n      'isTemplate',\n      'name',\n      'lang',\n      'langName',\n      'severity',\n      'status',\n      'sysTags',\n      'tags',\n      'templateKey'\n    ];\n    if (this.state.query.profile) {\n      fields.push('actives', 'params');\n    }\n    return fields;\n  };\n\n  getSearchParameters = () => ({\n    f: this.getFieldsToFetch().join(),\n    facets: this.getFacetsToFetch().join(),\n    organization: this.props.organization && this.props.organization.key,\n    ps: PAGE_SIZE,\n    s: 'name',\n    ...serializeQuery(this.state.query)\n  });\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  fetchInitialData = () => {\n    this.setState({ loading: true });\n    const organization = this.props.organization && this.props.organization.key;\n    Promise.all([getRulesApp({ organization }), this.fetchQualityProfiles()]).then(\n      ([{ canWrite, repositories }, { profiles }]) => {\n        this.setState({\n          canWrite,\n          referencedProfiles: keyBy(profiles, 'key'),\n          referencedRepositories: keyBy(repositories, 'key')\n        });\n        this.fetchFirstRules();\n      },\n      this.stopLoading\n    );\n  };\n\n  makeFetchRequest = (query?: T.RawQuery) =>\n    searchRules({ ...this.getSearchParameters(), ...query }).then(\n      ({ actives: rawActives, facets: rawFacets, p, ps, rules, total }) => {\n        const actives = rawActives && parseActives(rawActives);\n        const facets = rawFacets && parseFacets(rawFacets);\n        const paging = { pageIndex: p, pageSize: ps, total };\n        return { actives, facets, paging, rules };\n      }\n    );\n\n  fetchFirstRules = (query?: T.RawQuery) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest(query).then(({ actives, facets, paging, rules }) => {\n      if (this.mounted) {\n        const openRule = this.getOpenRule(this.props, rules);\n        const usingPermalink = hasRuleKey(this.props.location.query);\n        const selected = rules.length > 0 ? (openRule && openRule.key) || rules[0].key : undefined;\n        this.setState({\n          actives,\n          facets,\n          loading: false,\n          openRule,\n          paging,\n          rules,\n          selected,\n          usingPermalink\n        });\n      }\n    }, this.stopLoading);\n  };\n\n  fetchMoreRules = () => {\n    const { paging } = this.state;\n    if (paging) {\n      this.setState({ loading: true });\n      const nextPage = paging.pageIndex + 1;\n      this.makeFetchRequest({ p: nextPage, facets: undefined }).then(\n        ({ actives, paging, rules }) => {\n          if (this.mounted) {\n            this.setState((state: State) => ({\n              actives: { ...state.actives, ...actives },\n              loading: false,\n              paging,\n              rules: [...state.rules, ...rules]\n            }));\n          }\n        },\n        this.stopLoading\n      );\n    }\n  };\n\n  fetchFacet = (facet: FacetKey) => {\n    this.makeFetchRequest({ ps: 1, facets: getServerFacet(facet) }).then(({ facets }) => {\n      if (this.mounted) {\n        this.setState(state => ({ facets: { ...state.facets, ...facets }, loading: false }));\n      }\n    }, this.stopLoading);\n  };\n\n  fetchQualityProfiles = () => {\n    const { currentUser, organization, userOrganizations } = this.props;\n    if (hasPrivateAccess(currentUser, organization, userOrganizations)) {\n      return searchQualityProfiles({ organization: organization && organization.key });\n    }\n    return { profiles: [] };\n  };\n\n  getSelectedIndex = ({ selected, rules } = this.state) => {\n    const index = rules.findIndex(rule => rule.key === selected);\n    return index !== -1 ? index : undefined;\n  };\n\n  selectNextRule = () => {\n    const { rules, loading, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined) {\n      if (\n        selectedIndex > rules.length - LIMIT_BEFORE_LOAD_MORE &&\n        !loading &&\n        paging &&\n        rules.length < paging.total\n      ) {\n        this.fetchMoreRules();\n      }\n      if (rules && selectedIndex < rules.length - 1) {\n        if (this.state.openRule) {\n          this.openRule(rules[selectedIndex + 1].key);\n        } else {\n          this.setState({ selected: rules[selectedIndex + 1].key });\n        }\n      }\n    }\n  };\n\n  selectPreviousRule = () => {\n    const { rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (rules && selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openRule) {\n        this.openRule(rules[selectedIndex - 1].key);\n      } else {\n        this.setState({ selected: rules[selectedIndex - 1].key });\n      }\n    }\n  };\n\n  getRulePath = (rule: string) => ({\n    pathname: this.props.location.pathname,\n    query: { ...serializeQuery(this.state.query), open: rule }\n  });\n\n  openRule = (rule: string) => {\n    const path = this.getRulePath(rule);\n    if (this.state.openRule) {\n      this.props.router.replace(path);\n    } else {\n      this.props.router.push(path);\n    }\n  };\n\n  openSelectedRule = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openRule(selected);\n    }\n  };\n\n  closeRule = () => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        open: undefined\n      }\n    });\n    this.scrollToSelectedRule(false);\n  };\n\n  scrollToSelectedRule = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-rule=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 150, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  getRuleActivation = (rule: string) => {\n    const { actives, query } = this.state;\n    if (actives && actives[rule] && query.profile) {\n      return actives[rule][query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  getSelectedProfile = () => {\n    const { query, referencedProfiles } = this.state;\n    if (query.profile) {\n      return referencedProfiles[query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  closeFacet = (facet: string) =>\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: false }\n    }));\n\n  handleRuleOpen = (ruleKey: string) => {\n    this.props.router.push(this.getRulePath(ruleKey));\n  };\n\n  handleBack = (event?: React.SyntheticEvent<HTMLAnchorElement>) => {\n    const { usingPermalink } = this.state;\n\n    if (event) {\n      event.preventDefault();\n      event.currentTarget.blur();\n    }\n\n    if (usingPermalink) {\n      this.handleReset();\n    } else {\n      this.closeRule();\n    }\n  };\n\n  handleFilterChange = (changes: Partial<Query>) => {\n    this.props.router.push({\n      pathname: this.props.location.pathname,\n      query: serializeQuery({ ...this.state.query, ...changes })\n    });\n\n    this.setState(({ openFacets }) => ({\n      openFacets: {\n        ...openFacets,\n        sonarsourceSecurity: shouldOpenSonarSourceSecurityFacet(openFacets, changes),\n        standards: shouldOpenStandardsFacet(openFacets, changes)\n      }\n    }));\n  };\n\n  handleFacetToggle = (property: string) => {\n    this.setState(state => {\n      const willOpenProperty = !state.openFacets[property];\n      const newState = {\n        loading: state.loading,\n        openFacets: { ...state.openFacets, [property]: willOpenProperty }\n      };\n\n      // Try to open sonarsource security \"subfacet\" by default if the standard facet is open\n      if (willOpenProperty && property === STANDARDS) {\n        newState.openFacets.sonarsourceSecurity = shouldOpenSonarSourceSecurityFacet(\n          newState.openFacets,\n          state.query\n        );\n        // Force loading of sonarsource security facet data\n        property = newState.openFacets.sonarsourceSecurity ? 'sonarsourceSecurity' : property;\n      }\n\n      if (shouldRequestFacet(property) && (!state.facets || !state.facets[property])) {\n        newState.loading = true;\n        this.fetchFacet(property);\n      }\n\n      return newState;\n    });\n  };\n\n  handleReload = () => this.fetchFirstRules();\n\n  handleReset = () => this.props.router.push({ pathname: this.props.location.pathname });\n\n  /** Tries to take rule by index, or takes the last one  */\n  pickRuleAround = (rules: T.Rule[], selectedIndex: number | undefined) => {\n    if (selectedIndex === undefined || rules.length === 0) {\n      return undefined;\n    }\n    if (selectedIndex >= 0 && selectedIndex < rules.length) {\n      return rules[selectedIndex].key;\n    }\n    return rules[rules.length - 1].key;\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    if (this.state.query.ruleKey === ruleKey) {\n      this.handleReset();\n    } else {\n      this.setState(state => {\n        const rules = state.rules.filter(rule => rule.key !== ruleKey);\n        const selectedIndex = this.getSelectedIndex(state);\n        const selected = this.pickRuleAround(rules, selectedIndex);\n        return { rules, selected };\n      });\n      this.closeRule();\n    }\n  };\n\n  handleRuleActivate = (profile: string, rule: string, activation: Activation) =>\n    this.setState((state: State) => {\n      const { actives = {} } = state;\n      if (!actives[rule]) {\n        return { actives: { ...actives, [rule]: { [profile]: activation } } };\n      }\n\n      return { actives: { ...actives, [rule]: { ...actives[rule], [profile]: activation } } };\n    });\n\n  handleRuleDeactivate = (profile: string, rule: string) =>\n    this.setState(state => {\n      const { actives } = state;\n      if (actives && actives[rule]) {\n        const newRule = { ...actives[rule] };\n        delete newRule[profile];\n        return { actives: { ...actives, [rule]: newRule } };\n      }\n      return null;\n    });\n\n  handleSearch = (searchQuery: string) => this.handleFilterChange({ searchQuery });\n\n  isFiltered = () => Object.keys(serializeQuery(this.state.query)).length > 0;\n\n  renderBulkButton = () => {\n    const { currentUser, languages } = this.props;\n    const { canWrite, paging, query, referencedProfiles } = this.state;\n    const organization = this.props.organization && this.props.organization.key;\n\n    if (!isLoggedIn(currentUser) || (isSonarCloud() && !organization) || !canWrite) {\n      return null;\n    }\n\n    return (\n      paging && (\n        <BulkChange\n          languages={languages}\n          organization={organization}\n          query={query}\n          referencedProfiles={referencedProfiles}\n          total={paging.total}\n        />\n      )\n    );\n  };\n\n  render() {\n    const { paging, rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const organization = this.props.organization && this.props.organization.key;\n    const hideQualityProfiles = !hasPrivateAccess(\n      this.props.currentUser,\n      this.props.organization,\n      this.props.userOrganizations\n    );\n\n    return (\n      <>\n        <Suggestions suggestions=\"coding_rules\" />\n        <Helmet defer={false} title={translate('coding_rules.page')}>\n          <meta content=\"noindex\" name=\"robots\" />\n        </Helmet>\n        <div className=\"layout-page\" id=\"coding-rules-page\">\n          <ScreenPositionHelper className=\"layout-page-side-outer\">\n            {({ top }) => (\n              <div className=\"layout-page-side\" style={{ top }}>\n                <div className=\"layout-page-side-inner\">\n                  <div className=\"layout-page-filters\">\n                    <A11ySkipTarget\n                      anchor=\"rules_filters\"\n                      label={translate('coding_rules.skip_to_filters')}\n                      weight={10}\n                    />\n                    <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n                    <SearchBox\n                      className=\"spacer-bottom\"\n                      id=\"coding-rules-search\"\n                      minLength={2}\n                      onChange={this.handleSearch}\n                      placeholder={translate('search.search_for_rules')}\n                      value={this.state.query.searchQuery || ''}\n                    />\n                    <FacetsList\n                      facets={this.state.facets}\n                      hideProfileFacet={hideQualityProfiles}\n                      onFacetToggle={this.handleFacetToggle}\n                      onFilterChange={this.handleFilterChange}\n                      openFacets={this.state.openFacets}\n                      organization={organization}\n                      organizationsEnabled={this.props.appState.organizationsEnabled}\n                      query={this.state.query}\n                      referencedProfiles={this.state.referencedProfiles}\n                      referencedRepositories={this.state.referencedRepositories}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n          </ScreenPositionHelper>\n\n          <div className=\"layout-page-main\">\n            <div className=\"layout-page-header-panel layout-page-main-header\">\n              <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n                <div className=\"layout-page-main-inner\">\n                  <A11ySkipTarget anchor=\"rules_main\" />\n                  {this.state.openRule ? (\n                    <a\n                      className=\"js-back display-inline-flex-center link-no-underline\"\n                      href=\"#\"\n                      onClick={this.handleBack}>\n                      <BackIcon className=\"spacer-right\" />\n                      {this.state.usingPermalink\n                        ? translate('coding_rules.see_all')\n                        : translate('coding_rules.return_to_list')}\n                    </a>\n                  ) : (\n                    this.renderBulkButton()\n                  )}\n                  {!this.state.usingPermalink && (\n                    <PageActions\n                      loading={this.state.loading}\n                      onReload={this.handleReload}\n                      paging={paging}\n                      selectedIndex={selectedIndex}\n                    />\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"layout-page-main-inner\">\n              {this.state.openRule ? (\n                <RuleDetails\n                  allowCustomRules={!this.props.appState.organizationsEnabled}\n                  canWrite={this.state.canWrite}\n                  hideQualityProfiles={hideQualityProfiles}\n                  onActivate={this.handleRuleActivate}\n                  onDeactivate={this.handleRuleDeactivate}\n                  onDelete={this.handleRuleDelete}\n                  onFilterChange={this.handleFilterChange}\n                  organization={organization}\n                  referencedProfiles={this.state.referencedProfiles}\n                  referencedRepositories={this.state.referencedRepositories}\n                  ruleKey={this.state.openRule.key}\n                  selectedProfile={this.getSelectedProfile()}\n                />\n              ) : (\n                <>\n                  {rules.map(rule => (\n                    <RuleListItem\n                      activation={this.getRuleActivation(rule.key)}\n                      canWrite={this.state.canWrite}\n                      isLoggedIn={isLoggedIn(this.props.currentUser)}\n                      key={rule.key}\n                      onActivate={this.handleRuleActivate}\n                      onDeactivate={this.handleRuleDeactivate}\n                      onFilterChange={this.handleFilterChange}\n                      onOpen={this.handleRuleOpen}\n                      organization={organization}\n                      rule={rule}\n                      selected={rule.key === this.state.selected}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  ))}\n                  {paging !== undefined && (\n                    <ListFooter\n                      count={rules.length}\n                      loadMore={this.fetchMoreRules}\n                      ready={!this.state.loading}\n                      total={paging.total}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nfunction parseActives(rawActives: T.Dict<T.RuleActivation[]>) {\n  const actives: Actives = {};\n  for (const [rule, activations] of Object.entries(rawActives)) {\n    actives[rule] = {};\n    for (const { inherit, qProfile, severity } of activations) {\n      actives[rule][qProfile] = { inherit, severity };\n    }\n  }\n  return actives;\n}\n\nfunction parseFacets(rawFacets: { property: string; values: { count: number; val: string }[] }[]) {\n  const facets: Facets = {};\n  for (const rawFacet of rawFacets) {\n    const values: T.Dict<number> = {};\n    for (const rawValue of rawFacet.values) {\n      values[rawValue.val] = rawValue.count;\n    }\n    facets[getAppFacet(rawFacet.property)] = values;\n  }\n  return facets;\n}\n\nconst mapStateToProps = (state: Store) => ({\n  appState: getAppState(state),\n  currentUser: getCurrentUser(state),\n  languages: getLanguages(state),\n  userOrganizations: getMyOrganizations(state)\n});\n\nexport default withRouter(connect(mapStateToProps)(App));\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport { filterContent } from '../../helpers/markdown';\n\nconst DocMarkdownBlock = lazyLoad(() => import('./DocMarkdownBlock'));\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  // Use as `import(/* webpackMode: \"eager\" */ 'Docs/tooltips/foo/bar.md')`\n  doc: Promise<{ default: string }>;\n  overlayProps?: T.Dict<string>;\n}\n\ninterface State {\n  content?: string;\n  open: boolean;\n}\n\nexport default class DocTooltip extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { open: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.props.doc.then(\n      ({ default: content }) => {\n        if (this.mounted) {\n          this.setState({ content });\n        }\n      },\n      () => {}\n    );\n    document.addEventListener('scroll', this.close, true);\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    document.removeEventListener('scroll', this.close, true);\n  }\n\n  close = () => {\n    if (this.mounted) {\n      this.setState({ open: false });\n    }\n  };\n\n  render() {\n    return this.state.content ? (\n      <HelpTooltip\n        className={this.props.className}\n        overlay={\n          <div className=\"abs-width-300\">\n            <DocMarkdownBlock\n              childProps={this.props.overlayProps}\n              className=\"cut-margins\"\n              content={filterContent(this.state.content)}\n              isTooltip={true}\n            />\n          </div>\n        }>\n        {this.props.children}\n      </HelpTooltip>\n    ) : (\n      this.props.children || null\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { A11yContext } from './A11yContext';\n\ninterface Props {\n  anchor: string;\n  label?: string;\n  weight?: number;\n}\n\nexport default function A11ySkipTarget(props: Props) {\n  return (\n    <A11yContext.Consumer>\n      {({ addA11ySkipLink, removeA11ySkipLink }) => (\n        <A11ySkipTargetInner\n          addA11ySkipLink={addA11ySkipLink}\n          removeA11ySkipLink={removeA11ySkipLink}\n          {...props}\n        />\n      )}\n    </A11yContext.Consumer>\n  );\n}\n\ninterface InnerProps {\n  addA11ySkipLink: (link: T.A11ySkipLink) => void;\n  removeA11ySkipLink: (link: T.A11ySkipLink) => void;\n}\n\nexport class A11ySkipTargetInner extends React.PureComponent<Props & InnerProps> {\n  componentDidMount() {\n    this.props.addA11ySkipLink(this.getLink());\n  }\n\n  componentWillUnmount() {\n    this.props.removeA11ySkipLink(this.getLink());\n  }\n\n  getLink = (): T.A11ySkipLink => {\n    const { anchor: key, label = translate('skip_to_content'), weight } = this.props;\n    return { key, label, weight };\n  };\n\n  render() {\n    const { anchor } = this.props;\n    return <span id={`a11y_target__${anchor}`} />;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport { csvEscape } from 'sonar-ui-common/helpers/csv';\nimport { getJSON, post, postJSON, RequestData } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { Exporter, ProfileChangelogEvent } from '../apps/quality-profiles/types';\n\nexport interface ProfileActions {\n  associateProjects?: boolean;\n  copy?: boolean;\n  delete?: boolean;\n  edit?: boolean;\n  setAsDefault?: boolean;\n}\n\nexport interface Actions {\n  create?: boolean;\n}\n\nexport interface Profile {\n  actions?: ProfileActions;\n  key: string;\n  name: string;\n  language: string;\n  languageName: string;\n  isInherited?: boolean;\n  parentKey?: string;\n  parentName?: string;\n  isDefault?: boolean;\n  activeRuleCount: number;\n  activeDeprecatedRuleCount: number;\n  rulesUpdatedAt?: string;\n  lastUsed?: string;\n  userUpdatedAt?: string;\n  organization: string;\n  isBuiltIn?: boolean;\n  projectCount?: number;\n}\n\nexport interface SearchQualityProfilesParameters {\n  defaults?: boolean;\n  language?: string;\n  organization?: string;\n  project?: string;\n  qualityProfile?: string;\n}\n\nexport interface SearchQualityProfilesResponse {\n  actions?: Actions;\n  profiles: Profile[];\n}\n\nexport function searchQualityProfiles(\n  parameters: SearchQualityProfilesParameters\n): Promise<SearchQualityProfilesResponse> {\n  return getJSON('/api/qualityprofiles/search', parameters).catch(throwGlobalError);\n}\n\nexport function getQualityProfile({\n  compareToSonarWay,\n  profile: { key }\n}: {\n  compareToSonarWay?: boolean;\n  profile: Profile;\n}): Promise<any> {\n  return getJSON('/api/qualityprofiles/show', { compareToSonarWay, key });\n}\n\nexport function createQualityProfile(data: RequestData): Promise<any> {\n  return postJSON('/api/qualityprofiles/create', data).catch(throwGlobalError);\n}\n\nexport function restoreQualityProfile(data: RequestData): Promise<any> {\n  return postJSON('/api/qualityprofiles/restore', data).catch(throwGlobalError);\n}\n\nexport interface ProfileProject {\n  id: number;\n  key: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getProfileProjects(\n  data: RequestData\n): Promise<{ more: boolean; paging: T.Paging; results: ProfileProject[] }> {\n  return getJSON('/api/qualityprofiles/projects', data).catch(throwGlobalError);\n}\n\nexport function getProfileInheritance({\n  language,\n  name: qualityProfile,\n  organization\n}: Profile): Promise<{\n  ancestors: T.ProfileInheritanceDetails[];\n  children: T.ProfileInheritanceDetails[];\n  profile: T.ProfileInheritanceDetails;\n}> {\n  return getJSON('/api/qualityprofiles/inheritance', {\n    language,\n    qualityProfile,\n    organization\n  }).catch(throwGlobalError);\n}\n\nexport function setDefaultProfile({ language, name: qualityProfile, organization }: Profile) {\n  return post('/api/qualityprofiles/set_default', {\n    language,\n    qualityProfile,\n    organization\n  });\n}\n\nexport function renameProfile(key: string, name: string) {\n  return post('/api/qualityprofiles/rename', { key, name }).catch(throwGlobalError);\n}\n\nexport function copyProfile(fromKey: string, toName: string): Promise<any> {\n  return postJSON('/api/qualityprofiles/copy', { fromKey, toName }).catch(throwGlobalError);\n}\n\nexport function deleteProfile({ language, name: qualityProfile, organization }: Profile) {\n  return post('/api/qualityprofiles/delete', { language, qualityProfile, organization }).catch(\n    throwGlobalError\n  );\n}\n\nexport function changeProfileParent(\n  { language, name: qualityProfile, organization }: Profile,\n  parentProfile?: Profile\n) {\n  return post('/api/qualityprofiles/change_parent', {\n    language,\n    qualityProfile,\n    organization,\n    parentQualityProfile: parentProfile ? parentProfile.name : undefined\n  }).catch(throwGlobalError);\n}\n\nexport function getQualityProfileBackupUrl({\n  language,\n  name: qualityProfile,\n  organization\n}: Profile) {\n  const queryParams = Object.entries({ language, qualityProfile, organization })\n    .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)\n    .join('&');\n  return `/api/qualityprofiles/backup?${queryParams}`;\n}\n\nexport function getQualityProfileExporterUrl(\n  { key: exporterKey }: Exporter,\n  { language, name: qualityProfile, organization }: Profile\n) {\n  const queryParams = Object.entries({ exporterKey, language, qualityProfile, organization })\n    .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)\n    .join('&');\n  return `/api/qualityprofiles/export?${queryParams}`;\n}\n\nexport function getImporters(): Promise<\n  Array<{ key: string; languages: Array<string>; name: string }>\n> {\n  return getJSON('/api/qualityprofiles/importers').then(r => r.importers, throwGlobalError);\n}\n\nexport function getExporters(): Promise<any> {\n  return getJSON('/api/qualityprofiles/exporters').then(r => r.exporters);\n}\n\nexport function getProfileChangelog(\n  since: any,\n  to: any,\n  { language, name: qualityProfile, organization }: Profile,\n  page?: number\n): Promise<{\n  events: ProfileChangelogEvent[];\n  p: number;\n  ps: number;\n  total: number;\n}> {\n  return getJSON('/api/qualityprofiles/changelog', {\n    since,\n    to,\n    language,\n    qualityProfile,\n    organization,\n    p: page\n  });\n}\n\nexport interface CompareResponse {\n  left: { name: string };\n  right: { name: string };\n  inLeft: Array<{ key: string; name: string; severity: string }>;\n  inRight: Array<{ key: string; name: string; severity: string }>;\n  modified: Array<{\n    key: string;\n    name: string;\n    left: { params: T.Dict<string>; severity: string };\n    right: { params: T.Dict<string>; severity: string };\n  }>;\n}\n\nexport function compareProfiles(leftKey: string, rightKey: string): Promise<CompareResponse> {\n  return getJSON('/api/qualityprofiles/compare', { leftKey, rightKey });\n}\n\nexport function associateProject(\n  { language, name: qualityProfile, organization }: Profile,\n  project: string\n) {\n  return post('/api/qualityprofiles/add_project', {\n    language,\n    qualityProfile,\n    organization,\n    project\n  }).catch(throwGlobalError);\n}\n\nexport function dissociateProject(\n  { language, name: qualityProfile, organization }: Profile,\n  project: string\n) {\n  return post('/api/qualityprofiles/remove_project', {\n    language,\n    qualityProfile,\n    organization,\n    project\n  }).catch(throwGlobalError);\n}\n\nexport interface SearchUsersGroupsParameters {\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n  q?: string;\n  selected?: 'all' | 'selected' | 'deselected';\n}\n\ninterface SearchUsersResponse {\n  users: T.UserSelected[];\n  paging: T.Paging;\n}\n\nexport function searchUsers(parameters: SearchUsersGroupsParameters): Promise<SearchUsersResponse> {\n  return getJSON('/api/qualityprofiles/search_users', parameters).catch(throwGlobalError);\n}\n\nexport interface SearchGroupsResponse {\n  groups: Array<{ name: string }>;\n  paging: T.Paging;\n}\n\nexport function searchGroups(\n  parameters: SearchUsersGroupsParameters\n): Promise<SearchGroupsResponse> {\n  return getJSON('/api/qualityprofiles/search_groups', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveUserParameters {\n  language: string;\n  login: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_user', parameters).catch(throwGlobalError);\n}\n\nexport function removeUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_user', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveGroupParameters {\n  group: string;\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_group', parameters).catch(throwGlobalError);\n}\n\nexport function removeGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_group', parameters).catch(throwGlobalError);\n}\n\nexport interface BulkActivateParameters {\n  activation?: boolean;\n  active_severities?: string;\n  asc?: boolean;\n  available_since?: string;\n  compareToProfile?: string;\n  inheritance?: string;\n  is_template?: string;\n  languages?: string;\n  organization: string | undefined;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  severities?: string;\n  statuses?: string;\n  tags?: string;\n  targetKey: string;\n  targetSeverity?: string;\n  template_key?: string;\n  types?: string;\n}\n\nexport function bulkActivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/activate_rules', data);\n}\n\nexport function bulkDeactivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/deactivate_rules', data);\n}\n\nexport function activateRule(data: {\n  key: string;\n  organization: string | undefined;\n  params?: T.Dict<string>;\n  reset?: boolean;\n  rule: string;\n  severity?: string;\n}) {\n  const params =\n    data.params && map(data.params, (value, key) => `${key}=${csvEscape(value)}`).join(';');\n  return post('/api/qualityprofiles/activate_rule', { ...data, params }).catch(throwGlobalError);\n}\n\nexport function deactivateRule(data: {\n  key: string;\n  organization: string | undefined;\n  rule: string;\n}) {\n  return post('/api/qualityprofiles/deactivate_rule', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// keep this file in JavaScript, because it is used by a webpack loader\nmodule.exports = { getFrontMatter, separateFrontMatter, filterContent };\n\nfunction getFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  return position ? parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine)) : {};\n}\n\nfunction separateFrontMatter(content) {\n  const lines = content.split('\\n');\n  const position = getFrontMatterPosition(lines);\n  if (position) {\n    const frontmatter = parseFrontMatter(lines.slice(position.firstLine + 1, position.lastLine));\n    const content = lines.slice(position.lastLine + 1).join('\\n');\n    return { frontmatter, content };\n  } else {\n    return { frontmatter: {}, content };\n  }\n}\n\nfunction getFrontMatterPosition(lines) {\n  let firstLine;\n  let lastLine;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    if (line.trim() === '---') {\n      if (firstLine === undefined) {\n        firstLine = i;\n      } else {\n        lastLine = i;\n        break;\n      }\n    }\n  }\n  return lastLine !== undefined ? { firstLine, lastLine } : undefined;\n}\n\nfunction parseFrontMatter(lines) {\n  const data = {};\n  for (let i = 0; i < lines.length; i++) {\n    const tokens = lines[i].split(':').map(x => x.trim());\n    if (tokens.length === 2) {\n      data[tokens[0]] = tokens[1];\n    }\n  }\n  return data;\n}\n\n/**\n * @param {string} content\n * @returns {string}\n */\nfunction filterContent(content) {\n  const regexBase = '<!-- \\\\/?(sonarqube|sonarcloud|static) -->';\n  const { isSonarCloud, getInstance } = require('./system');\n  const contentWithInstance = content.replace(/{instance}/gi, getInstance());\n  const contentWithoutStatic = cutConditionalContent(contentWithInstance, 'static');\n  const filteredContent = isSonarCloud()\n    ? cutConditionalContent(contentWithoutStatic, 'sonarqube')\n    : cutConditionalContent(contentWithoutStatic, 'sonarcloud');\n  return filteredContent\n    .replace(new RegExp(`^${regexBase}(\\n|\\r|\\r\\n|$)`, 'gm'), '') // First, remove single-line ones, including ending carriage-returns.\n    .replace(new RegExp(`${regexBase}`, 'g'), ''); // Now remove all remaining ones.\n}\n\n/**\n * @param {string} content\n * @param {string} tag\n * @returns {string}\n */\nfunction cutConditionalContent(content, tag) {\n  const beginning = `<!-- ${tag} -->`;\n  const ending = `<!-- /${tag} -->`;\n\n  let newContent = content;\n  let start = newContent.indexOf(beginning);\n  let end = newContent.indexOf(ending);\n  while (start !== -1 && end !== -1) {\n    if (start < end) {\n      newContent = newContent.substring(0, start) + newContent.substring(end + ending.length);\n    } else {\n      // When conditional tags are incorrectly used we log an error, strip them out and pass to the next pair of tags\n      // eslint-disable-next-line no-console\n      console.error(\n        new Error(\n          `Documentation - incorrect usage of conditional formatting tags here: \"${newContent.substring(\n            end,\n            start + beginning.length\n          )}\"`\n        )\n      );\n      newContent =\n        newContent.substring(0, end) +\n        newContent.substring(end + ending.length, start) +\n        newContent.substring(start + beginning.length);\n    }\n    start = newContent.indexOf(beginning);\n    end = newContent.indexOf(ending);\n  }\n\n  return newContent;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SeverityIcon from 'sonar-ui-common/components/icons/SeverityIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  className?: string;\n  severity: string;\n}\n\nexport default function SeverityHelper({ className, severity }: Props) {\n  if (!severity) {\n    return null;\n  }\n  return (\n    <span className={className}>\n      <SeverityIcon className=\"little-spacer-right\" severity={severity} />\n      {translate('severity', severity)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: T.Dict<T.RuleActivation[]>;\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    response => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (response && response.status === 409) {\n        return Promise.reject(response);\n      } else {\n        return throwGlobalError(response);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./TagsList.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { getAppState, Store } from '../../store/rootReducer';\nimport { getWrappedDisplayName } from './utils';\n\nexport function withAppState<P>(\n  WrappedComponent: React.ComponentType<P & { appState: Partial<T.AppState> }>\n) {\n  class Wrapper extends React.Component<P & { appState: T.AppState }> {\n    static displayName = getWrappedDisplayName(WrappedComponent, 'withAppState');\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  function mapStateToProps(state: Store) {\n    return { appState: getAppState(state) };\n  }\n\n  return connect(mapStateToProps)(Wrapper);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: React.ReactNode;\n  property: string;\n}\n\nexport default function FacetBox(props: Props) {\n  return (\n    <div\n      className={classNames('search-navigator-facet-box', props.className)}\n      data-property={props.property}>\n      {props.children}\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport DropdownIcon from 'sonar-ui-common/components/icons/DropdownIcon';\nimport TagsIcon from 'sonar-ui-common/components/icons/TagsIcon';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport './TagsList.css';\n\ninterface Props {\n  allowUpdate?: boolean;\n  className?: string;\n  tags: string[];\n}\n\nexport default function TagsList({ allowUpdate = false, className, tags }: Props) {\n  return (\n    <span\n      aria-label={translateWithParameters('tags_list_x', tags.join(', '))}\n      className={classNames('tags-list', className)}>\n      <TagsIcon className=\"text-middle\" />\n      <span aria-hidden={true} className=\"text-ellipsis text-middle\" title={tags.join(', ')}>\n        {tags.join(', ')}\n      </span>\n      {allowUpdate && <DropdownIcon className=\"text-middle\" />}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { debounce } from 'lodash';\nimport * as React from 'react';\n\ninterface Props {\n  className?: string;\n  children: (position: { top: number; left: number }) => React.ReactElement<any>;\n}\n\nexport default class ScreenPositionHelper extends React.PureComponent<Props> {\n  container?: HTMLDivElement;\n  debouncedOnResize: () => void;\n\n  constructor(props: Props) {\n    super(props);\n    this.debouncedOnResize = debounce(() => this.forceUpdate(), 250);\n  }\n\n  componentDidMount() {\n    this.forceUpdate();\n    window.addEventListener('resize', this.debouncedOnResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.debouncedOnResize);\n  }\n\n  getPosition = () => {\n    const containerPos = this.container && this.container.getBoundingClientRect();\n    if (!containerPos) {\n      return { top: 0, left: 0 };\n    }\n    return {\n      top: window.pageYOffset + containerPos.top,\n      left: window.pageXOffset + containerPos.left\n    };\n  };\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={container => (this.container = container as HTMLDivElement)}>\n        {this.props.children(this.getPosition())}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport HelpTooltip from 'sonar-ui-common/components/controls/HelpTooltip';\nimport OpenCloseIcon from 'sonar-ui-common/components/icons/OpenCloseIcon';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  fetching?: boolean;\n  helper?: string;\n  name: React.ReactNode;\n  onClear?: () => void;\n  onClick?: () => void;\n  open: boolean;\n  values?: string[];\n}\n\nexport default class FacetHeader extends React.PureComponent<Props> {\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.onClick) {\n      this.props.onClick();\n    }\n  };\n\n  renderHelper() {\n    if (!this.props.helper) {\n      return null;\n    }\n    return <HelpTooltip className=\"spacer-left\" overlay={this.props.helper} />;\n  }\n\n  renderValueIndicator() {\n    const { values } = this.props;\n    if (!values || !values.length) {\n      return null;\n    }\n    const value =\n      values.length === 1 ? values[0] : translateWithParameters('x_selected', values.length);\n    return (\n      <span className=\"badge text-ellipsis\" title={value}>\n        {value}\n      </span>\n    );\n  }\n\n  render() {\n    const showClearButton =\n      this.props.values != null && this.props.values.length > 0 && this.props.onClear != null;\n\n    return (\n      <div className=\"search-navigator-facet-header-wrapper display-flex-center\">\n        {this.props.onClick ? (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            <a href=\"#\" onClick={this.handleClick}>\n              <OpenCloseIcon className=\"little-spacer-right\" open={this.props.open} />\n              {this.props.name}\n            </a>\n            {this.renderHelper()}\n          </span>\n        ) : (\n          <span className=\"search-navigator-facet-header display-flex-center\">\n            {this.props.name}\n            {this.renderHelper()}\n          </span>\n        )}\n\n        {this.props.children}\n\n        <span className=\"search-navigator-facet-header-value spacer-left spacer-right \">\n          {this.renderValueIndicator()}\n        </span>\n\n        {this.props.fetching && (\n          <span className=\"little-spacer-right\">\n            <DeferredSpinner />\n          </span>\n        )}\n\n        {showClearButton && (\n          <Button\n            className=\"search-navigator-facet-header-button button-small button-red\"\n            onClick={this.props.onClear}>\n            {translate('clear')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\n\nexport interface Props {\n  active?: boolean;\n  className?: string;\n  disabled?: boolean;\n  halfWidth?: boolean;\n  name: React.ReactNode;\n  onClick: (x: string, multiple?: boolean) => void;\n  stat?: React.ReactNode;\n  /** Textual version of `name` */\n  tooltip?: string;\n  value: string;\n}\n\nexport default class FacetItem extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false,\n    halfWidth: false,\n    loading: false\n  };\n\n  handleClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClick(this.props.value, event.ctrlKey || event.metaKey);\n  };\n\n  renderValue() {\n    if (this.props.stat == null) {\n      return null;\n    }\n\n    return <span className=\"facet-stat\">{this.props.stat}</span>;\n  }\n\n  render() {\n    const { name } = this.props;\n    const className = classNames('search-navigator-facet', this.props.className, {\n      active: this.props.active,\n      'search-navigator-facet-half': this.props.halfWidth\n    });\n\n    return this.props.disabled ? (\n      <span className={className} data-facet={this.props.value} title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </span>\n    ) : (\n      <a\n        className={className}\n        data-facet={this.props.value}\n        href=\"#\"\n        onClick={this.handleClick}\n        title={this.props.tooltip}>\n        <span className=\"facet-name\">{name}</span>\n        {this.renderValue()}\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Checkbox from 'sonar-ui-common/components/controls/Checkbox';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\nexport interface MultiSelectOptionProps {\n  active?: boolean;\n  custom?: boolean;\n  disabled?: boolean;\n  element: string;\n  onHover: (element: string) => void;\n  onSelectChange: (selected: boolean, element: string) => void;\n  renderLabel: (element: string) => React.ReactNode;\n  selected?: boolean;\n}\n\nexport default function MultiSelectOption(props: MultiSelectOptionProps) {\n  const { active, custom, disabled, element, selected } = props;\n  const onHover = () => props.onHover(element);\n  const className = classNames({ active, disabled });\n  const label = props.renderLabel(element);\n\n  return (\n    <li onFocus={onHover} onMouseOver={onHover}>\n      <Checkbox\n        checked={Boolean(selected)}\n        className={className}\n        disabled={disabled}\n        id={element}\n        onCheck={props.onSelectChange}>\n        {custom ? (\n          <span\n            aria-label={`${translate('create_new_element')}: ${label}`}\n            className=\"little-spacer-left\">\n            <span aria-hidden={true} className=\"little-spacer-right\">\n              +\n            </span>\n            {label}\n          </span>\n        ) : (\n          <span className=\"little-spacer-left\">{label}</span>\n        )}\n      </Checkbox>\n    </li>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { difference } from 'lodash';\nimport * as React from 'react';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelectOption from './MultiSelectOption';\n\ninterface Props {\n  allowNewElements?: boolean;\n  allowSelection?: boolean;\n  elements: string[];\n  filterSelected?: (query: string, selectedElements: string[]) => string[];\n  footerNode?: React.ReactNode;\n  listSize?: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  placeholder: string;\n  renderLabel?: (element: string) => React.ReactNode;\n  selectedElements: string[];\n  validateSearchInput?: (value: string) => string;\n}\n\ninterface State {\n  activeIdx: number;\n  loading: boolean;\n  query: string;\n  selectedElements: string[];\n  unselectedElements: string[];\n}\n\ninterface DefaultProps {\n  filterSelected: (query: string, selectedElements: string[]) => string[];\n  listSize: number;\n  renderLabel: (element: string) => React.ReactNode;\n  validateSearchInput: (value: string) => string;\n}\n\ntype PropsWithDefault = Props & DefaultProps;\n\nexport default class MultiSelect extends React.PureComponent<Props, State> {\n  container?: HTMLDivElement | null;\n  searchInput?: HTMLInputElement | null;\n  mounted = false;\n\n  static defaultProps: DefaultProps = {\n    filterSelected: (query: string, selectedElements: string[]) =>\n      selectedElements.filter(elem => elem.includes(query)),\n    listSize: 0,\n    renderLabel: (element: string) => element,\n    validateSearchInput: (value: string) => value\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      activeIdx: 0,\n      loading: true,\n      query: '',\n      selectedElements: [],\n      unselectedElements: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.onSearchQuery('');\n    this.updateSelectedElements(this.props as PropsWithDefault);\n    this.updateUnselectedElements(this.props as PropsWithDefault);\n    if (this.container) {\n      this.container.addEventListener('keydown', this.handleKeyboard, true);\n    }\n  }\n\n  componentWillReceiveProps(nextProps: PropsWithDefault) {\n    if (\n      this.props.elements !== nextProps.elements ||\n      this.props.selectedElements !== nextProps.selectedElements\n    ) {\n      this.updateSelectedElements(nextProps);\n      this.updateUnselectedElements(nextProps);\n\n      const totalElements = this.getAllElements(nextProps, this.state).length;\n      if (this.state.activeIdx >= totalElements) {\n        this.setState({ activeIdx: totalElements - 1 });\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.searchInput) {\n      this.searchInput.focus();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if (this.container) {\n      this.container.removeEventListener('keydown', this.handleKeyboard);\n    }\n  }\n\n  handleSelectChange = (selected: boolean, item: string) => {\n    if (selected) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  handleSearchChange = (value: string) => {\n    this.onSearchQuery((this.props as PropsWithDefault).validateSearchInput(value));\n  };\n\n  handleElementHover = (element: string) => {\n    this.setState((prevState, props) => {\n      return { activeIdx: this.getAllElements(props, prevState).indexOf(element) };\n    });\n  };\n\n  handleKeyboard = (evt: KeyboardEvent) => {\n    switch (evt.keyCode) {\n      case 40: // down\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectNextElement);\n        break;\n      case 38: // up\n        evt.stopPropagation();\n        evt.preventDefault();\n        this.setState(this.selectPreviousElement);\n        break;\n      case 37: // left\n      case 39: // right\n        evt.stopPropagation();\n        break;\n      case 13: // enter\n        if (this.state.activeIdx >= 0) {\n          this.toggleSelect(this.getAllElements(this.props, this.state)[this.state.activeIdx]);\n        }\n        break;\n    }\n  };\n\n  onSearchQuery = (query: string) => {\n    this.setState({ activeIdx: 0, loading: true, query });\n    this.props.onSearch(query).then(this.stopLoading, this.stopLoading);\n  };\n\n  onSelectItem = (item: string) => {\n    if (this.isNewElement(item, this.props)) {\n      this.onSearchQuery('');\n    }\n    this.props.onSelect(item);\n  };\n\n  onUnselectItem = (item: string) => this.props.onUnselect(item);\n\n  isNewElement = (elem: string, { selectedElements, elements }: Props) =>\n    elem.length > 0 && selectedElements.indexOf(elem) === -1 && elements.indexOf(elem) === -1;\n\n  updateSelectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (state.query) {\n        return {\n          selectedElements: props.filterSelected(state.query, props.selectedElements)\n        };\n      } else {\n        return { selectedElements: [...props.selectedElements] };\n      }\n    });\n  };\n\n  updateUnselectedElements = (props: PropsWithDefault) => {\n    this.setState((state: State) => {\n      if (props.listSize === 0) {\n        return { unselectedElements: difference(props.elements, props.selectedElements) };\n      } else if (props.listSize < state.selectedElements.length) {\n        return { unselectedElements: [] };\n      } else {\n        return {\n          unselectedElements: difference(props.elements, props.selectedElements).slice(\n            0,\n            props.listSize - state.selectedElements.length\n          )\n        };\n      }\n    });\n  };\n\n  getAllElements = (props: Props, state: State) => {\n    if (this.isNewElement(state.query, props)) {\n      return [...state.selectedElements, ...state.unselectedElements, state.query];\n    } else {\n      return [...state.selectedElements, ...state.unselectedElements];\n    }\n  };\n\n  setElementActive = (idx: number) => this.setState({ activeIdx: idx });\n\n  selectNextElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx < 0 || activeIdx >= allElements.length - 1) {\n      return { activeIdx: 0 };\n    } else {\n      return { activeIdx: activeIdx + 1 };\n    }\n  };\n\n  selectPreviousElement = (state: State, props: Props) => {\n    const { activeIdx } = state;\n    const allElements = this.getAllElements(props, state);\n    if (activeIdx <= 0) {\n      const lastIdx = allElements.length - 1;\n      return { activeIdx: lastIdx };\n    } else {\n      return { activeIdx: activeIdx - 1 };\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  toggleSelect = (item: string) => {\n    if (this.props.selectedElements.indexOf(item) === -1) {\n      this.onSelectItem(item);\n    } else {\n      this.onUnselectItem(item);\n    }\n  };\n\n  render() {\n    const { allowSelection = true, allowNewElements = true, footerNode = '' } = this.props;\n    const { renderLabel } = this.props as PropsWithDefault;\n    const { query, activeIdx, selectedElements, unselectedElements } = this.state;\n    const activeElement = this.getAllElements(this.props, this.state)[activeIdx];\n    const showNewElement = allowNewElements && this.isNewElement(query, this.props);\n    const infiniteList = this.props.listSize === 0;\n    const listClasses = classNames('menu', {\n      'menu-vertically-limited': infiniteList,\n      'spacer-top': infiniteList,\n      'with-top-separator': infiniteList,\n      'with-bottom-separator': Boolean(footerNode)\n    });\n\n    return (\n      <div className=\"multi-select\" ref={div => (this.container = div)}>\n        <div className=\"menu-search\">\n          <SearchBox\n            autoFocus={true}\n            className=\"little-spacer-top\"\n            loading={this.state.loading}\n            onChange={this.handleSearchChange}\n            placeholder={this.props.placeholder}\n            value={query}\n          />\n        </div>\n        <ul className={listClasses}>\n          {selectedElements.length > 0 &&\n            selectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n                selected={true}\n              />\n            ))}\n          {unselectedElements.length > 0 &&\n            unselectedElements.map(element => (\n              <MultiSelectOption\n                active={activeElement === element}\n                disabled={!allowSelection}\n                element={element}\n                key={element}\n                onHover={this.handleElementHover}\n                onSelectChange={this.handleSelectChange}\n                renderLabel={renderLabel}\n              />\n            ))}\n          {showNewElement && (\n            <MultiSelectOption\n              active={activeElement === query}\n              custom={true}\n              element={query}\n              key={query}\n              onHover={this.handleElementHover}\n              onSelectChange={this.handleSelectChange}\n              renderLabel={renderLabel}\n            />\n          )}\n          {!showNewElement && selectedElements.length < 1 && unselectedElements.length < 1 && (\n            <li className=\"spacer-left\">{translateWithParameters('no_results_for_x', query)}</li>\n          )}\n        </ul>\n        {footerNode}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getMarkdownHelpUrl } from '../../helpers/urls';\n\ninterface Props {\n  className?: string;\n}\n\nexport default class MarkdownTips extends React.PureComponent<Props> {\n  handleClick(evt: React.SyntheticEvent<HTMLAnchorElement>) {\n    evt.preventDefault();\n    window.open(getMarkdownHelpUrl(), 'Markdown', 'height=300,width=600,scrollbars=1,resizable=1');\n  }\n\n  render() {\n    return (\n      <div className={classNames('markdown-tips', this.props.className)}>\n        <a className=\"little-spacer-right\" href=\"#\" onClick={this.handleClick}>\n          {translate('markdown.helplink')}\n        </a>\n        {':'}\n        <span className=\"spacer-left\">*{translate('bold')}*</span>\n        <span className=\"spacer-left\">\n          ``\n          {translate('code')}\n          ``\n        </span>\n        <span className=\"spacer-left\">* {translate('bulleted_point')}</span>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children?: React.ReactNode;\n  title?: string;\n}\n\nexport default function FacetItemsList({ children, title }: Props) {\n  return (\n    <div className=\"search-navigator-facet-list\">\n      {title && <div className=\"search-navigator-facet-list-title\">{title}</div>}\n      {children}\n    </div>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\n\ninterface Props {\n  className?: string;\n  count: number;\n  showMore: () => void;\n  showLess: (() => void) | undefined;\n  total: number;\n}\n\nexport default class ListStyleFacetFooter extends React.PureComponent<Props> {\n  handleShowMoreClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.showMore();\n  };\n\n  handleShowLessClick = (event: React.MouseEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    if (this.props.showLess) {\n      this.props.showLess();\n    }\n  };\n\n  render() {\n    const { count, total } = this.props;\n    const hasMore = total > count;\n    const allShown = Boolean(total && total === count);\n\n    return (\n      <footer className=\"note spacer-top spacer-bottom text-center\">\n        {translateWithParameters('x_show', formatMeasure(count, 'INT', null))}\n\n        {hasMore && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowMoreClick}>\n            {translate('show_more')}\n          </a>\n        )}\n\n        {this.props.showLess && allShown && (\n          <a className=\"spacer-left text-muted\" href=\"#\" onClick={this.handleShowLessClick}>\n            {translate('show_less')}\n          </a>\n        )}\n      </footer>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport { sortBy, without } from 'lodash';\nimport * as React from 'react';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport SearchBox from 'sonar-ui-common/components/controls/SearchBox';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { queriesEqual } from 'sonar-ui-common/helpers/query';\nimport FacetBox from './FacetBox';\nimport FacetHeader from './FacetHeader';\nimport FacetItem from './FacetItem';\nimport FacetItemsList from './FacetItemsList';\nimport ListStyleFacetFooter from './ListStyleFacetFooter';\nimport MultipleSelectionHint from './MultipleSelectionHint';\n\ninterface SearchResponse<S> {\n  maxResults?: boolean;\n  results: S[];\n  paging?: T.Paging;\n}\n\nexport interface Props<S> {\n  className?: string;\n  disabled?: boolean;\n  disabledHelper?: string;\n  facetHeader: string;\n  fetching: boolean;\n  getFacetItemText: (item: string) => string;\n  getSearchResultKey: (result: S) => string;\n  getSearchResultText: (result: S) => string;\n  loadSearchResultCount?: (result: S[]) => Promise<T.Dict<number>>;\n  maxInitialItems: number;\n  maxItems: number;\n  minSearchLength: number;\n  onChange: (changes: T.Dict<string | string[]>) => void;\n  onClear?: () => void;\n  onItemClick?: (itemValue: string, multiple: boolean) => void;\n  onSearch: (query: string, page?: number) => Promise<SearchResponse<S>>;\n  onToggle: (property: string) => void;\n  open: boolean;\n  property: string;\n  query?: T.RawQuery;\n  renderFacetItem: (item: string) => React.ReactNode;\n  renderSearchResult: (result: S, query: string) => React.ReactNode;\n  searchPlaceholder: string;\n  getSortedItems?: () => string[];\n  stats: T.Dict<number> | undefined;\n  values: string[];\n}\n\ninterface State<S> {\n  autoFocus: boolean;\n  query: string;\n  searching: boolean;\n  searchMaxResults?: boolean;\n  searchPaging?: T.Paging;\n  searchResults?: S[];\n  searchResultsCounts: T.Dict<number>;\n  showFullList: boolean;\n}\n\nexport default class ListStyleFacet<S> extends React.Component<Props<S>, State<S>> {\n  mounted = false;\n\n  static defaultProps = {\n    maxInitialItems: 15,\n    maxItems: 100,\n    minSearchLength: 2\n  };\n\n  state: State<S> = {\n    autoFocus: false,\n    query: '',\n    searching: false,\n    searchResultsCounts: {},\n    showFullList: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentDidUpdate(prevProps: Props<S>) {\n    if (!prevProps.open && this.props.open) {\n      // focus search field *only* if it was manually open\n      this.setState({ autoFocus: true });\n    } else if (\n      (prevProps.open && !this.props.open) ||\n      !queriesEqual(prevProps.query || {}, this.props.query || {})\n    ) {\n      // reset state when closing the facet, or when query changes\n      this.setState({\n        query: '',\n        searchMaxResults: undefined,\n        searchResults: undefined,\n        searching: false,\n        searchResultsCounts: {},\n        showFullList: false\n      });\n    } else if (\n      prevProps.stats !== this.props.stats &&\n      Object.keys(this.props.stats || {}).length < this.props.maxInitialItems\n    ) {\n      // show limited list if `stats` changed and there are less than 15 items\n      this.setState({ showFullList: false });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    if (this.props.onItemClick) {\n      this.props.onItemClick(itemValue, multiple);\n    } else {\n      const { values } = this.props;\n      if (multiple) {\n        const newValue = sortBy(\n          values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n        );\n        this.props.onChange({ [this.props.property]: newValue });\n      } else {\n        this.props.onChange({\n          [this.props.property]: values.includes(itemValue) && values.length < 2 ? [] : [itemValue]\n        });\n      }\n    }\n  };\n\n  handleHeaderClick = () => {\n    this.props.onToggle(this.props.property);\n  };\n\n  handleClear = () => {\n    if (this.props.onClear) {\n      this.props.onClear();\n    } else {\n      this.props.onChange({ [this.props.property]: [] });\n    }\n  };\n\n  stopSearching = () => {\n    if (this.mounted) {\n      this.setState({ searching: false });\n    }\n  };\n\n  search = (query: string) => {\n    if (query.length >= this.props.minSearchLength) {\n      this.setState({ query, searching: true });\n      this.props\n        .onSearch(query)\n        .then(this.loadCountsForSearchResults)\n        .then(({ maxResults, paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchMaxResults: maxResults,\n              searchResults: results,\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    } else {\n      this.setState({ query, searching: false, searchResults: [] });\n    }\n  };\n\n  searchMore = () => {\n    const { query, searchPaging, searchResults } = this.state;\n    if (query && searchResults && searchPaging) {\n      this.setState({ searching: true });\n      this.props\n        .onSearch(query, searchPaging.pageIndex + 1)\n        .then(this.loadCountsForSearchResults)\n        .then(({ paging, results, stats }) => {\n          if (this.mounted) {\n            this.setState(state => ({\n              searching: false,\n              searchResults: [...searchResults, ...results],\n              searchPaging: paging,\n              searchResultsCounts: { ...state.searchResultsCounts, ...stats }\n            }));\n          }\n        })\n        .catch(this.stopSearching);\n    }\n  };\n\n  loadCountsForSearchResults = (response: SearchResponse<S>) => {\n    const { loadSearchResultCount = () => Promise.resolve({}) } = this.props;\n    const resultsToLoad = response.results.filter(result => {\n      const key = this.props.getSearchResultKey(result);\n      return this.getStat(key) === undefined && this.state.searchResultsCounts[key] === undefined;\n    });\n    if (resultsToLoad.length > 0) {\n      return loadSearchResultCount(resultsToLoad).then(stats => ({ ...response, stats }));\n    } else {\n      return { ...response, stats: {} };\n    }\n  };\n\n  getStat(item: string) {\n    const { stats } = this.props;\n    return stats && stats[item] !== undefined ? stats && stats[item] : undefined;\n  }\n\n  showFullList = () => {\n    this.setState({ showFullList: true });\n  };\n\n  hideFullList = () => {\n    this.setState({ showFullList: false });\n  };\n\n  renderList() {\n    const { stats } = this.props;\n\n    if (!stats) {\n      return null;\n    }\n\n    const sortedItems = this.props.getSortedItems\n      ? this.props.getSortedItems()\n      : sortBy(\n          Object.keys(stats),\n          key => -stats[key],\n          key => this.props.getFacetItemText(key)\n        );\n\n    const limitedList = this.state.showFullList\n      ? sortedItems\n      : sortedItems.slice(0, this.props.maxInitialItems);\n\n    // make sure all selected items are displayed\n    const selectedBelowLimit = this.state.showFullList\n      ? []\n      : sortedItems\n          .slice(this.props.maxInitialItems)\n          .filter(item => this.props.values.includes(item));\n\n    const mightHaveMoreResults = sortedItems.length >= this.props.maxItems;\n\n    return (\n      <>\n        <FacetItemsList>\n          {limitedList.map(item => (\n            <FacetItem\n              active={this.props.values.includes(item)}\n              key={item}\n              name={this.props.renderFacetItem(item)}\n              onClick={this.handleItemClick}\n              stat={formatFacetStat(this.getStat(item))}\n              tooltip={this.props.getFacetItemText(item)}\n              value={item}\n            />\n          ))}\n        </FacetItemsList>\n        {selectedBelowLimit.length > 0 && (\n          <>\n            <div className=\"note spacer-bottom text-center\">⋯</div>\n            <FacetItemsList>\n              {selectedBelowLimit.map(item => (\n                <FacetItem\n                  active={true}\n                  key={item}\n                  name={this.props.renderFacetItem(item)}\n                  onClick={this.handleItemClick}\n                  stat={formatFacetStat(this.getStat(item))}\n                  tooltip={this.props.getFacetItemText(item)}\n                  value={item}\n                />\n              ))}\n            </FacetItemsList>\n          </>\n        )}\n        <ListStyleFacetFooter\n          count={limitedList.length + selectedBelowLimit.length}\n          showLess={this.state.showFullList ? this.hideFullList : undefined}\n          showMore={this.showFullList}\n          total={sortedItems.length}\n        />\n        {mightHaveMoreResults && this.state.showFullList && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n      </>\n    );\n  }\n\n  renderSearch() {\n    if (!this.props.stats || !Object.keys(this.props.stats).length) {\n      return null;\n    }\n\n    return (\n      <SearchBox\n        autoFocus={this.state.autoFocus}\n        className=\"little-spacer-top spacer-bottom\"\n        loading={this.state.searching}\n        minLength={this.props.minSearchLength}\n        onChange={this.search}\n        placeholder={this.props.searchPlaceholder}\n        value={this.state.query}\n      />\n    );\n  }\n\n  renderSearchResults() {\n    const { searching, searchMaxResults, searchResults, searchPaging } = this.state;\n\n    if (!searching && (!searchResults || !searchResults.length)) {\n      return <div className=\"note spacer-bottom\">{translate('no_results')}</div>;\n    }\n\n    if (!searchResults) {\n      // initial search\n      return null;\n    }\n\n    return (\n      <>\n        <FacetItemsList>\n          {searchResults.map(result => this.renderSearchResult(result))}\n        </FacetItemsList>\n        {searchMaxResults && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('facet_might_have_more_results')}\n          </Alert>\n        )}\n        {searchPaging && (\n          <ListFooter\n            className=\"spacer-bottom\"\n            count={searchResults.length}\n            loadMore={this.searchMore}\n            ready={!searching}\n            total={searchPaging.total}\n          />\n        )}\n      </>\n    );\n  }\n\n  renderSearchResult(result: S) {\n    const key = this.props.getSearchResultKey(result);\n    const active = this.props.values.includes(key);\n    const stat = this.getStat(key) || this.state.searchResultsCounts[key];\n    const disabled = !active && stat === 0;\n    return (\n      <FacetItem\n        active={active}\n        disabled={disabled}\n        key={key}\n        name={this.props.renderSearchResult(result, this.state.query)}\n        onClick={this.handleItemClick}\n        stat={formatFacetStat(stat)}\n        tooltip={this.props.getSearchResultText(result)}\n        value={key}\n      />\n    );\n  }\n\n  render() {\n    const { disabled, stats = {} } = this.props;\n    const { query, searching, searchResults } = this.state;\n    const values = this.props.values.map(item => this.props.getFacetItemText(item));\n    const loadingResults =\n      query !== '' && searching && (searchResults === undefined || searchResults.length === 0);\n    const showList = !query || loadingResults;\n    return (\n      <FacetBox\n        className={classNames(this.props.className, {\n          'search-navigator-facet-box-forbidden': disabled\n        })}\n        property={this.props.property}>\n        <FacetHeader\n          fetching={this.props.fetching}\n          name={\n            <Tooltip overlay={disabled ? this.props.disabledHelper : undefined}>\n              <span>{this.props.facetHeader}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !disabled}\n          values={values}\n        />\n\n        {this.props.open && !disabled && (\n          <>\n            {this.renderSearch()}\n            {showList ? this.renderList() : this.renderSearchResults()}\n            <MultipleSelectionHint options={Object.keys(stats).length} values={values.length} />\n          </>\n        )}\n      </FacetBox>\n    );\n  }\n}\n\nfunction formatFacetStat(stat: number | undefined) {\n  return stat && formatMeasure(stat, 'SHORT_INT');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { isLoggedIn } from './users';\n\nexport function isPaidOrganization(organization: T.Organization | undefined): boolean {\n  return Boolean(organization && organization.subscription === 'PAID');\n}\n\nexport function hasPrivateAccess(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return (\n    !isPaidOrganization(organization) ||\n    isCurrentUserMemberOf(currentUser, organization, userOrganizations)\n  );\n}\n\nexport function isCurrentUserMemberOf(\n  currentUser: T.CurrentUser,\n  organization: T.Organization | undefined,\n  userOrganizations: T.Organization[]\n): boolean {\n  return Boolean(\n    organization &&\n      isLoggedIn(currentUser) &&\n      ((organization.actions && organization.actions.admin) ||\n        userOrganizations.some(org => org.key === organization.key))\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport MultiSelect from '../common/MultiSelect';\nimport './TagsList.css';\n\ninterface Props {\n  listSize: number;\n  onSearch: (query: string) => Promise<void>;\n  onSelect: (item: string) => void;\n  onUnselect: (item: string) => void;\n  selectedTags: string[];\n  tags: string[];\n}\n\nexport default function TagsSelector(props: Props) {\n  return (\n    <MultiSelect\n      elements={props.tags}\n      listSize={props.listSize}\n      onSearch={props.onSearch}\n      onSelect={props.onSelect}\n      onUnselect={props.onUnselect}\n      placeholder={translate('search.search_for_tags')}\n      selectedElements={props.selectedTags}\n      validateSearchInput={validateTag}\n    />\n  );\n}\n\nexport function validateTag(value: string) {\n  // Allow only a-z, 0-9, '+', '-', '#', '.'\n  return value.toLowerCase().replace(/[^-a-z0-9+#.]/gi, '');\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport { range } from 'lodash';\nimport * as React from 'react';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { InjectedIntlProps, injectIntl } from 'react-intl';\nimport { ButtonIcon, ClearButton } from 'sonar-ui-common/components/controls/buttons';\nimport OutsideClickHandler from 'sonar-ui-common/components/controls/OutsideClickHandler';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport CalendarIcon from 'sonar-ui-common/components/icons/CalendarIcon';\nimport ChevronLeftIcon from 'sonar-ui-common/components/icons/ChevronLeftIcon';\nimport ChevronRightIcon from 'sonar-ui-common/components/icons/ChevronRightIcon';\nimport { lazyLoad } from 'sonar-ui-common/components/lazyLoad';\nimport {\n  getShortMonthName,\n  getShortWeekDayName,\n  getWeekDayName\n} from 'sonar-ui-common/helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoad(() => import('react-day-picker'));\n\ninterface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  input?: HTMLInputElement | null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { lastHovered } = this.state;\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <InputWrapper\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            innerRef={node => (this.input = node)}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            type=\"text\"\n            value={value}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ClearButton\n              className=\"button-tiny date-input-control-reset\"\n              iconProps={{ size: 12 }}\n              onClick={this.handleResetClick}\n            />\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n\ntype InputWrapperProps = T.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'value'> &\n  InjectedIntlProps & {\n    innerRef: React.Ref<HTMLInputElement>;\n    value: Date | undefined;\n  };\n\nconst InputWrapper = injectIntl(({ innerRef, intl, value, ...other }: InputWrapperProps) => {\n  const formattedValue =\n    value && intl.formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n  return <input {...other} ref={innerRef} value={formattedValue || ''} />;\n});\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./DayPicker.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:8px 8px 0}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??postcss!./search-navigator.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".search-navigator.sticky .search-navigator-workspace-header{position:fixed;z-index:50;top:0;left:300px;right:0}.search-navigator.sticky .search-navigator-workspace-details,.search-navigator.sticky .search-navigator-workspace-list{padding-top:43px}.search-navigator-facet-box{background-color:#f3f3f3;font-size:13px}.search-navigator-facet-box.leak-facet-box{background-color:#fbf3d5;border:1px solid #f1e8cb}.search-navigator-facet-box.is-inner{margin-left:8px;padding-left:12px;border-left:1px solid #e6e6e6}.search-navigator-facet-box.is-inner .search-navigator-facet-header{padding-top:6px;padding-bottom:6px}.leak-facet-box:not(.hidden)+.leak-facet-box{border-top:none}.search-navigator-facet-box-forbidden{background-color:transparent;opacity:.5}.search-navigator-facet-box-forbidden .search-navigator-facet-container,.search-navigator-facet-box-forbidden .search-navigator-facet-empty,.search-navigator-facet-box-forbidden .search-navigator-facet-list{display:none}.search-navigator-facet-box-forbidden .search-navigator-facet-header{color:#777}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#4b9fd5}.search-navigator-facet-box-forbidden .search-navigator-facet-header{cursor:default}.search-navigator-facet-box-forbidden .search-navigator-facet-header:hover{color:#777}.search-navigator-facet{position:relative;display:inline-flex;justify-content:space-between;align-items:center;width:100%;height:24px;margin:0 0 1px;padding:0 6px;border:1px solid transparent;border-radius:2px;box-sizing:border-box;white-space:normal;opacity:.3;cursor:not-allowed;transition:none}a.search-navigator-facet{opacity:1;cursor:pointer}a.search-navigator-facet .facet-name{color:#444}.search-navigator-facet.active,a.search-navigator-facet:focus,a.search-navigator-facet:hover{border-color:#4b9fd5}.search-navigator-facet.facet-category{opacity:1;cursor:default}.search-navigator-facet.facet-category .facet-name{color:#777}.search-navigator-facet .facet-name{flex:1 1 auto;min-width:0;line-height:16px;padding:1px 0;color:#777;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.search-navigator-facet .facet-stat{display:flex;align-items:center;margin-left:8px;color:#777;font-size:12px}.search-navigator-facet .facet-toggle{display:none;float:left;height:16px;line-height:16px;margin-top:-1px;padding:0 5px;border-radius:2px;font-size:11px;text-transform:lowercase}.search-navigator-facet .facet-toggle:hover{color:#444}.search-navigator-facet .facet-toggle-active.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet .facet-toggle-active.facet-toggle-red{background-color:#d4333f;color:#fff}.leak-facet-box .search-navigator-facet .facet-name,.leak-facet-box .search-navigator-facet .facet-stat{background-color:#fbf3d5}.leak-facet-box .search-navigator-facet .facet-stat:before{background-image:linear-gradient(90deg,rgba(251,243,213,0),#fbf3d5 75%)}.search-navigator-facet.active{background-color:#cae3f2;text-decoration:none}.search-navigator-facet.active .facet-toggle{display:inline}.search-navigator-facet.compare .facet-toggle{cursor:not-allowed;opacity:.5}.search-navigator-facet.compare .facet-toggle.facet-toggle-green{background-color:#0a0;color:#fff}.search-navigator-facet.compare .facet-toggle.facet-toggle-red{background-color:transparent;color:#777}.search-navigator-facet-half{width:45%}.search-navigator-facet-half:nth-child(odd){margin-right:10%}.search-navigator-facet-highlight-under-container{margin-bottom:1px}.search-navigator-facet-highlight-under-container .search-navigator-facet{margin-bottom:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover{border-bottom:none;padding-bottom:1px;border-radius:2px 2px 0 0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet{border-top:none;border-bottom:none;border-left-color:#4b9fd5;border-right-color:#4b9fd5;border-radius:0}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:0 0 2px 2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active:last-of-type,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover:last-of-type{border-bottom:1px solid #4b9fd5;border-radius:2px}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet{background-color:#cae3f2;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet:hover~.search-navigator-facet.active{border-top:1px solid #4b9fd5}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet{background-color:#a1cde8;text-decoration:none}.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover .facet-toggle,.search-navigator-facet-highlight-under-container .search-navigator-facet.active~.search-navigator-facet:hover~.search-navigator-facet .facet-toggle{display:inline}.search-navigator-facet-header{display:block;flex-shrink:0;padding:8px 0;color:#444;font-weight:600;overflow:hidden;white-space:nowrap}.search-navigator-facet-header>a{border-bottom:none;color:#444}.search-navigator-facet-header>a:focus,.search-navigator-facet-header>a:hover{color:#4b9fd5}.search-navigator-facet-header>.note{font-weight:400}.search-navigator-facet-header-value{display:block;overflow:hidden}.search-navigator-facet-header-value>.badge{display:block}.search-navigator-facet-header-button{flex-shrink:0;margin-left:auto}.search-navigator-facet-header-wrapper{display:flex;align-items:center}.search-navigator-facet-list{padding-bottom:8px;font-size:0}.search-navigator-facet-list-title{margin:0 8px 4px;font-size:12px;font-weight:700}.search-navigator-facet-list+.search-navigator-facet-list>.search-navigator-facet-list-title{border-top:1px solid #e6e6e6;padding-top:8px}.search-navigator-facet-empty{margin:0;padding:0 10px 10px;color:#444;font-size:12px;white-space:nowrap}.search-navigator-facet-footer{display:block;padding-bottom:8px;border-bottom:none}.search-navigator-facet-container{margin-top:6px;padding:0 10px 16px}.search-navigator-date-facet-selection{position:relative;padding-left:8px;font-size:12px}.search-navigator-date-facet-selection:after,.search-navigator-date-facet-selection:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-date-facet-selection:after{clear:both}.search-navigator-date-facet-selection .date-input-control-input{width:115px!important}.search-navigator-date-facet-selection-dropdown-left{float:left;border-bottom:none}.search-navigator-date-facet-selection-dropdown-right{float:right;border-bottom:none}.search-navigator-date-facet-selection-input-left{position:absolute;left:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection-input-right{position:absolute;right:0;width:100px;visibility:hidden}.search-navigator-date-facet-selection .date-input-control:not(:first-of-type) .date-input-calendar{left:auto;right:0}.search-navigator-filters{position:relative;padding:5px 10px;background-color:#f3f3f3}.search-navigator-filters:after,.search-navigator-filters:before{display:table;content:\\\"\\\";line-height:0}.search-navigator-filters:after{clear:both}.search-navigator-filters-header{margin-bottom:12px;padding-bottom:11px;border-bottom:1px solid #e6e6e6}.search-navigator-intro{width:500px;margin:0 auto;padding-top:100px}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport './MultipleSelectionHint.css';\n\ninterface Props {\n  options: number;\n  values: number;\n}\n\nexport default function MultipleSelectionHint({ options, values }: Props) {\n  // do not render if nothing is selected or there are less than 2 possible options\n  if (values === 0 || options < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"multiple-selection-hint\">\n      <div className=\"multiple-selection-hint-inner\">\n        {translate(\n          isOnMac()\n            ? 'shortcuts.section.global.facets.multiselection.mac'\n            : 'shortcuts.section.global.facets.multiselection'\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction isOnMac() {\n  return navigator.userAgent.indexOf('Mac OS X') !== -1;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getStandards(): Promise<T.Standards> {\n  return import('./standards.json').then(x => x.default);\n}\n\nexport function renderCWECategory(standards: T.Standards, category: string): string {\n  const record = standards.cwe[category];\n  if (!record) {\n    return `CWE-${category}`;\n  } else if (category === 'unknown') {\n    return record.title;\n  } else {\n    return `CWE-${category} - ${record.title}`;\n  }\n}\n\nexport function renderOwaspTop10Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.owaspTop10[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'OWASP', withPrefix);\n  } else {\n    return addPrefix(`${category.toUpperCase()} - ${record.title}`, 'OWASP', withPrefix);\n  }\n}\n\nexport function renderSansTop25Category(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sansTop25[category];\n  return addPrefix(record ? record.title : category, 'SANS', withPrefix);\n}\n\nexport function renderSonarSourceSecurityCategory(\n  standards: T.Standards,\n  category: string,\n  withPrefix = false\n): string {\n  const record = standards.sonarsourceSecurity[category];\n  if (!record) {\n    return addPrefix(category.toUpperCase(), 'SONAR', withPrefix);\n  } else if (category === 'others') {\n    return record.title;\n  } else {\n    return addPrefix(record.title, 'SONAR', withPrefix);\n  }\n}\n\nfunction addPrefix(title: string, prefix: string, withPrefix: boolean) {\n  return withPrefix ? `${prefix} ${title}` : title;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../components/docs/DocTooltip';\n\ninterface Props {\n  className?: string;\n  tooltip?: boolean;\n}\n\nexport default function BuiltInQualityProfileBadge({ className, tooltip = true }: Props) {\n  const badge = (\n    <div className={classNames('badge badge-info', className)}>\n      {translate('quality_profiles.built_in')}\n    </div>\n  );\n\n  if (tooltip) {\n    return (\n      <DocTooltip\n        doc={import(\n          /* webpackMode: \"eager\" */ 'Docs/tooltips/quality-profiles/built-in-quality-profile.md'\n        )}>\n        {badge}\n      </DocTooltip>\n    );\n  }\n  return badge;\n}\n"],"sourceRoot":""}