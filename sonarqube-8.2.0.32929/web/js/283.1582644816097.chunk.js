(window.webpackJsonp=window.webpackJsonp||[]).push([[283],{1038:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return p});var o=n(751),r=n.n(o),s=function(){return(s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o},i="source-line-code-issue";function c(e,t){void 0===t&&(t="");var n=document.createElement("div"),o=[];return n.innerHTML=e,[].forEach.call(n.childNodes,function(e){if(1===e.nodeType){var n=t?t+" "+e.className:e.className,r=c(e.innerHTML,n);o=o.concat(r)}3===e.nodeType&&e.nodeValue&&o.push({className:t,markers:[],text:e.nodeValue})}),o}function l(e,t){var n=new RegExp("\\b"+t+"\\b");return e.map(function(e){return n.test(e.className)?s(s({},e),{className:e.className+" highlighted"}):e})}function u(e,t,n,o){return t>=o?e.substr(t-o,n-t):e.substr(0,n-t)}function p(e,t,n){return void 0===n&&(n=i),t.forEach(function(t){var o=[],i=0,c=t.line!==t.startLine;e.forEach(function(e){var l,p,m,d,h=(l=i,p=i+e.text.length,m=t.from,d=t.to,{from:Math.max(l,m),to:Math.min(p,d)}),f=u(e.text,i,h.from,i),g=u(e.text,h.from,h.to,i),v=u(e.text,h.to,i+e.text.length,i);if(f.length&&o.push(s(s({},e),{text:f})),g.length){var y=-1===e.className.indexOf(n)?e.className+" "+n:e.className;o.push({className:y,markers:c||null==t.index?e.markers:r()(a(e.markers,[t.index])),text:g}),c=!0}v.length&&o.push(s(s({},e),{text:v})),i+=e.text.length}),e=o.slice()}),e}},1040:function(e,t,n){var o=n(1041);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1041:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,".location-index{position:relative;display:inline-block;vertical-align:top;line-height:16px;padding-left:6px;padding-right:6px;border-radius:2px;background-color:#d18582;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;transition:background-color .3s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.location-index.selected{background-color:#a4030f}.location-index.muted{background-color:#cdcdcd}.location-index.is-leading:first-child{margin-left:0}.location-index.is-leading:not(:first-child){margin-left:-22px}.location-index[tabindex]{cursor:pointer}.location-index[tabindex]:hover,a:hover>.location-index{background-color:#a4030f}.location-index[tabindex]:focus{outline:none}.source-line-code-inner .location-index{line-height:16px;margin:1px 4px}.source-line-code-inner .location-index+.location-index{margin-left:0}",""])},1042:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(639),r=n(12);n(1043);function s(e){return r.createElement("div",{className:o("location-message",{selected:e.selected})},e.children)}},1043:function(e,t,n){var o=n(1044);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1044:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,'.location-message{display:inline-block;vertical-align:top;line-height:16px;padding:0 6px;border-radius:2px;background-color:#9e9e9e;color:#fff;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;text-overflow:ellipsis;overflow:hidden;transition:background-color .3s ease}.location-message.selected{background-color:#475760}.location-index+.location-message{margin-left:4px}.location-index>.location-message{display:none;position:absolute;bottom:calc(100% + 4px);left:0}.location-index:hover>.location-message{display:block}.location-index>.location-message:after{position:absolute;bottom:-5px;left:4px;width:0;height:0;border-top:5px solid #475760;border-left:5px solid transparent;border-right:5px solid transparent;content:""}.source-line-code .location-message{padding-top:2px;padding-bottom:2px}',""])},1045:function(e,t,n){var o=n(1046);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1046:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,'.issue{position:relative;padding-top:8px;padding-bottom:8px;background-color:#f2dede;transition:all .3s ease,border 0s ease}.issue.hotspot{background-color:#eeeff4}.issue.selected{box-shadow:none;outline:none;border:2px solid #4b9fd5!important}.issue+.issue,.issue-container+.issue-container{margin-top:5px}.issue.selected+.issue{border-top-color:transparent}.issue-row{display:flex;margin-bottom:5px}.issue-row-meta{flex-grow:0;padding-right:5px;white-space:nowrap}.issue-message{flex-grow:1;padding-left:8px;padding-right:8px;line-height:18px;font-size:13px;font-weight:600;text-overflow:ellipsis}.issue-actions{justify-content:space-between;flex-wrap:wrap;padding-left:8px}.issue-actions,.issue-meta-list{display:flex;align-items:center}.issue-meta{line-height:16px;font-size:12px}.issue-meta+.issue-meta{margin-left:8px}.issue-meta-label{display:inline-block;vertical-align:top;max-width:180px;line-height:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.issue-see-rule{border-bottom:none;font-size:12px}.issue-changelog{width:450px;max-height:320px;overflow:auto;white-space:normal}.issue-comments{margin-top:5px;padding-left:8px;font-size:12px}.issue-comment{display:flex}.issue-comment+.issue-comment{margin-top:4px}.issue-comment-author{max-width:130px;font-weight:600;overflow:hidden;text-overflow:ellipsis}.issue-comment-age,.issue-comment-author{flex-shrink:0;line-height:18px;color:#777;white-space:nowrap}.issue-comment-text{flex:1;min-width:0;margin-left:5px;margin-right:5px;line-height:18px;line-height:1.5;overflow:hidden;outline:none;word-break:break-all}.issue-comment-text.markdown pre{float:none;height:auto;margin:0;padding:8px;background-color:#e6e6e6;border:none;border-radius:3px}.issue-comment-text.markdown br~pre{margin-top:8px}.issue-comment-actions{flex-shrink:0;padding-left:5px;line-height:18px;white-space:nowrap}.issue-comment-bubble-popup{width:440px;font-size:12px}.issue-comment-form-text textarea{width:100%;max-width:100%}.issue-comment-form-footer{margin-top:5px;line-height:22px}.issue-comment-form-footer:after,.issue-comment-form-footer:before{display:table;content:"";line-height:0}.issue-comment-form-footer:after{clear:both}.issue-comment-form-actions{float:right}.issue-comment-form-tips{float:left}.issue-with-checkbox{padding-left:24px}.issue-with-checkbox .issue-checkbox-container{display:flex;justify-content:center;align-items:center}.issue-checkbox-container{display:none;position:absolute;width:28px;top:0;bottom:0;left:0;border:none}.issue-checkbox-container:hover{background-color:rgba(0,0,0,.05)}.issue:not(.selected) .location-index{background-color:#999}.issue .menu:not(.issues-similar-issues-menu):not(.issue-changelog){max-height:120px;overflow:auto}',""])},1049:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return m}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return h}),n.d(t,"e",function(){return f}),n.d(t,"g",function(){return g});var o=function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o},s=5,a=5,i=11,c=9,l=50;function u(e,t){var n=e[0],o=e[1],r=t[0];return!(n>t[1]+i||o<r-i)}function p(e){return{component:e.component,textRange:e.textRange||{endLine:0,endOffset:0,startLine:0,startOffset:0}}}function m(e){var t=e.locations,n=e.issue;return(e.addIssueLocation?r([p(n)],t):t).reduce(function(e,t,o){var r,i=Math.max(1,t.textRange.startLine-s),l=function(e){var t=e.issue,n=e.locationEnd,o=t.textRange&&t.textRange.endLine||0;return o&&o!==n?n+a:n+c}({issue:n,locationEnd:t.textRange.endLine});return e=e.filter(function(e){if(u([e.start,e.end],[i,l])){var t=!1;return r||(r=e,t=!0),r.start=Math.min(i,e.start,r.start),r.end=Math.max(l,e.end,r.end),t}return!0}),void 0===r&&e.push({start:i,end:l,index:o}),e},[])}function d(e,t){return e.map(function(e){for(var n=[],o=e.start;o<=e.end;o++)t[o]&&n.push(t[o]);return n}).filter(function(e){return e.length>0})}function h(e,t){var n,r="",s=[];return e.forEach(function(e,a){e.component!==r&&(n=o(o({},t[e.component]||{component:{key:e.component,measures:{},path:"",project:"",projectName:"",q:"FIL",uuid:""},sources:[]}),{locations:[]}),s.push(n),r=e.component),e.index=a,n.locations.push(e)}),s}function f(e){var t=e.direction,n=e.snippetIndex,o=e.snippets,r=o.find(function(e){return e.index===n});if(!r)throw new Error("Snippet "+n+" not found");return r.start=Math.max(0,r.start-("up"===t?l:0)),r.end+="down"===t?l:0,o.map(function(e){return e.index===n?r:(u([e.start,e.end],[r.start,r.end])&&(r.start=Math.min(e.start,r.start),r.end=Math.max(e.end,r.end),e.toDelete=!0),e)})}function g(e,t){return e>=t[0].line&&e<=t[t.length-1].line}},1111:function(e,t,n){"use strict";var o,r=n(805),s=n(12),a=n(679),i=n(927),c=function(e,t,n,o){var r=void 0!==n&&void 0!==o;r&&e(o),t.then(function(t){if(!r){var n=Object(i.a)(t.issue,t.components,t.users,t.rules);e(n)}},function(){r&&e(n)})},l=(n(1045),n(639)),u=n.n(l),p=n(670),m=n.n(p),d=n(34),h=n(640),f=n(675),g=n.n(f),v=n(659),y=n.n(v),b=n(702),E=n(681),O=n.n(E),x=n(652),k=n(682),_=n.n(k),C=n(803),j=n(761),P=n(118),w=n(662),S=n(1117),N=n.n(S),A=n(644),L=n.n(A),I=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelect=function(e){e.preventDefault(),t.props.onSelect&&t.props.onSelect(t.props.item)},t.handleHover=function(){t.props.onHover&&t.props.onHover(t.props.item)},t}return I(t,e),t.prototype.renderLink=function(){var e=this.props.children||this.props.item;return s.createElement("li",null,s.createElement("a",{className:u()({active:this.props.active===this.props.item},this.props.className),href:"#",onClick:this.handleSelect,onFocus:this.handleHover,onMouseOver:this.handleHover},e))},t.prototype.render=function(){return s.createElement(L.a,{overlay:this.props.title||void 0,placement:"right"},this.renderLink())},t}(s.PureComponent),R=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),D=function(e){function t(t){var n=e.call(this,t)||this;return n.attachShortcuts=function(){n.previousKeyScope=r.getScope(),n.previousFilter=r.filter,n.currentKeyScope=N()("key-scope"),r.setScope(n.currentKeyScope),r.filter=function(e){var t=(e.target||e.srcElement).tagName,n="INPUT"===t||"SELECT"===t||"TEXTAREA"===t;return[13,38,40].includes(e.keyCode)||!n},r("down",n.currentKeyScope,function(){return n.setState(n.selectNextElement),!1}),r("up",n.currentKeyScope,function(){return n.setState(n.selectPreviousElement),!1}),r("return",n.currentKeyScope,function(){return null!=n.state.active&&n.handleSelect(n.state.active),!1})},n.detachShortcuts=function(){n.previousKeyScope&&r.setScope(n.previousKeyScope),n.currentKeyScope&&r.deleteScope(n.currentKeyScope),r.filter=n.previousFilter},n.handleSelect=function(e){n.props.onSelect(e)},n.handleHover=function(e){n.setState({active:e})},n.selectNextElement=function(e,t){var n=t.items.indexOf(e.active);return n<0?{active:t.items[0]}:{active:t.items[(n+1)%t.items.length]}},n.selectPreviousElement=function(e,t){var n=t.items.indexOf(e.active);return n<=0?{active:t.items[t.items.length-1]}:{active:t.items[n-1]}},n.renderChild=function(e){return null==e?null:e.type!==T?e:s.cloneElement(e,{active:n.state.active,onHover:n.handleHover,onSelect:n.handleSelect})},n.state={active:t.currentItem},n}return R(t,e),t.prototype.componentDidMount=function(){this.attachShortcuts()},t.prototype.componentDidUpdate=function(e){e.currentItem===this.props.currentItem||this.props.items.includes(this.state.active)||this.setState({active:this.props.currentItem})},t.prototype.componentWillUnmount=function(){this.detachShortcuts()},t.prototype.render=function(){var e=this,t=this.props.children,n=s.Children.count(t)>0;return s.createElement("ul",{className:u()("menu",this.props.className)},n&&s.Children.map(t,this.renderChild),!n&&this.props.items.map(function(t){return s.createElement(T,{active:e.state.active,item:t,key:t,onHover:e.handleHover,onSelect:e.handleSelect})}))},t}(s.PureComponent),M=n(736),U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o},H=10,W=function(e){function t(t){var n=e.call(this,t)||this;return n.searchMembers=function(e){Object(C.h)({organization:n.props.issue.projectOrganization,q:e,ps:H}).then(n.handleSearchResult,function(){})},n.searchUsers=function(e){Object(j.f)({q:e,ps:H}).then(n.handleSearchResult,function(){})},n.handleSearchResult=function(e){var t=e.users.filter(w.c);n.setState({users:t,currentUser:t.length>0?t[0].login:""})},n.handleSearchChange=function(e){0===e.length?n.setState({query:e,users:n.defaultUsersArray,currentUser:n.defaultUsersArray[0].login}):(n.setState({query:e}),Object(P.isSonarCloud)()?n.searchMembers(e):n.searchUsers(e))},n.defaultUsersArray=[{login:"",name:Object(d.translate)("unassigned")}],Object(w.b)(t.currentUser)&&(n.defaultUsersArray=F([t.currentUser],n.defaultUsersArray)),n.state={query:"",users:n.defaultUsersArray,currentUser:n.defaultUsersArray.length>0?n.defaultUsersArray[0].login:""},n}return U(t,e),t.prototype.render=function(){return s.createElement(x.DropdownOverlay,{noPadding:!0},s.createElement("div",{className:"multi-select"},s.createElement("div",{className:"menu-search"},s.createElement(_.a,{autoFocus:!0,className:"little-spacer-top",minLength:2,onChange:this.handleSearchChange,placeholder:Object(d.translate)("search.search_for_users"),value:this.state.query})),s.createElement(D,{currentItem:this.state.currentUser,items:O()(this.state.users,"login"),onSelect:this.props.onSelect},this.state.users.map(function(e){return s.createElement(T,{item:e.login,key:e.login},!!e.login&&s.createElement(b.a,{className:"spacer-right",hash:e.avatar,name:e.name,size:16}),s.createElement("span",{className:"text-middle",style:{marginLeft:e.login?24:void 0}},e.name))}))))},t}(s.PureComponent),B=Object(M.a)(W),V=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleAssign=function(e){t.props.togglePopup("assign",e)},t.handleClose=function(){t.toggleAssign(!1)},t}return V(t,e),t.prototype.renderAssignee=function(){var e=this.props.issue,t=e.assigneeName||e.assignee;return t?s.createElement(s.Fragment,null,s.createElement("span",{className:"text-top"},s.createElement(b.a,{className:"little-spacer-right",hash:e.assigneeAvatar,name:e.assigneeName||e.assignee,size:16})),s.createElement("span",{className:"issue-meta-label"},!1===e.assigneeActive?Object(d.translateWithParameters)("user.x_deleted",t):t)):s.createElement("span",{className:"issue-meta-label"},Object(d.translate)("unassigned"))},t.prototype.render=function(){return this.props.canAssign?s.createElement("div",{className:"dropdown"},s.createElement(g.a,{closeOnEscape:!0,onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.canAssign,overlay:s.createElement(B,{issue:this.props.issue,onSelect:this.props.onAssign})},s.createElement(h.ButtonLink,{className:"issue-action issue-action-with-options js-issue-assign",onClick:this.toggleAssign},this.renderAssignee(),s.createElement(y.a,{className:"little-spacer-left"})))):this.renderAssignee()},t}(s.PureComponent),q=n(790),K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),G=function(e){function t(t){var n=e.call(this,t)||this;return n.handleCommentChange=function(e){n.setState({textComment:e.target.value})},n.handleCommentClick=function(){n.state.textComment.trim().length>0&&n.props.onComment(n.state.textComment)},n.handleCancelClick=function(){n.props.toggleComment(!1)},n.handleKeyboard=function(e){13===e.keyCode&&(e.metaKey||e.ctrlKey)?n.handleCommentClick():[37,38,39,40].includes(e.keyCode)&&e.stopPropagation()},n.state={textComment:t.comment?t.comment.markdown:""},n}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.comment,n=e.autoTriggered;return s.createElement(x.DropdownOverlay,{placement:this.props.placement},s.createElement("div",{className:"issue-comment-bubble-popup"},s.createElement("div",{className:"issue-comment-form-text"},s.createElement("textarea",{autoFocus:!0,onChange:this.handleCommentChange,onKeyDown:this.handleKeyboard,placeholder:this.props.placeholder,rows:2,value:this.state.textComment})),s.createElement("div",{className:"issue-comment-form-footer"},s.createElement("div",{className:"issue-comment-form-actions"},s.createElement(h.Button,{className:"js-issue-comment-submit little-spacer-right",disabled:this.state.textComment.trim().length<1,onClick:this.handleCommentClick},t&&Object(d.translate)("save"),!t&&Object(d.translate)("issue.comment.submit")),s.createElement(h.ResetButtonLink,{className:"js-issue-comment-cancel",onClick:this.handleCancelClick},n?Object(d.translate)("skip"):Object(d.translate)("cancel"))),s.createElement("div",{className:"issue-comment-form-tips"},s.createElement(q.a,null)))))},t}(s.PureComponent),Y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.addComment=function(e){c(t.props.onChange,Object(a.a)({issue:t.props.issueKey,text:e})),t.props.toggleComment(!1)},t.handleCommentClick=function(){t.props.toggleComment()},t.handleClose=function(){t.props.toggleComment(!1)},t}return Y(t,e),t.prototype.render=function(){return s.createElement("li",{className:"issue-meta dropdown"},s.createElement(g.a,{closeOnClickOutside:!1,onRequestClose:this.handleClose,open:"comment"===this.props.currentPopup,overlay:s.createElement(G,{autoTriggered:this.props.commentAutoTriggered,onComment:this.addComment,placeholder:this.props.commentPlaceholder,toggleComment:this.props.toggleComment})},s.createElement(h.ButtonLink,{className:"issue-action js-issue-comment",onClick:this.handleCommentClick},s.createElement("span",{className:"issue-meta-label"},Object(d.translate)("issue.comment.formlink")))))},t}(s.PureComponent),J=n(703),Z=n(772),Q=n.n(Z),$=["BLOCKER","CRITICAL","MAJOR","MINOR","INFO"];function ee(e){var t=e.issue,n=e.onSelect;return s.createElement(x.DropdownOverlay,null,s.createElement(D,{currentItem:t.severity,items:$,onSelect:n},$.map(function(e){return s.createElement(T,{className:"display-flex-center",item:e,key:e},s.createElement(Q.a,{className:"little-spacer-right",severity:e}),Object(d.translate)("severity",e))})))}var te=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleSetSeverity=function(e){t.props.togglePopup("set-severity",e)},t.setSeverity=function(e){t.props.setIssueProperty("severity","set-severity",a.m,e)},t.handleClose=function(){t.toggleSetSeverity(!1)},t}return te(t,e),t.prototype.render=function(){var e=this.props.issue;return this.props.canSetSeverity?s.createElement("div",{className:"dropdown"},s.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.canSetSeverity,overlay:s.createElement(ee,{issue:e,onSelect:this.setSeverity})},s.createElement(h.ButtonLink,{className:"issue-action issue-action-with-options js-issue-set-severity",onClick:this.toggleSetSeverity},s.createElement(J.a,{className:"issue-meta-label",severity:e.severity}),s.createElement(y.a,{className:"little-spacer-left"})))):s.createElement(J.a,{className:"issue-meta-label",severity:e.severity})},t}(s.PureComponent),oe=n(770),re=n(690),se=n.n(re),ae=n(715),ie=n.n(ae),ce=n(691),le=n(842),ue=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pe=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o},me=10,de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={searchResult:[]},t.onSearch=function(e){return Object(a.j)({q:e,ps:Math.min(t.props.selectedTags.length-1+me,100),organization:t.props.organization}).then(function(e){t.mounted&&t.setState({searchResult:e})},function(){})},t.onSelect=function(e){t.props.setTags(pe(t.props.selectedTags,[e]))},t.onUnselect=function(e){t.props.setTags(se()(t.props.selectedTags,e))},t}return ue(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=ie()(this.state.searchResult,this.props.selectedTags);return s.createElement(x.DropdownOverlay,{placement:ce.PopupPlacement.BottomRight},s.createElement(le.a,{listSize:me,onSearch:this.onSearch,onSelect:this.onSelect,onUnselect:this.onUnselect,selectedTags:this.props.selectedTags,tags:e}))},t}(s.PureComponent),he=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleSetTags=function(e){t.props.togglePopup("edit-tags",e)},t.setTags=function(e){var n=t.props.issue,o=fe(fe({},n),{tags:e});c(t.props.onChange,Object(a.n)({issue:n.key,tags:e.join(",")}),n,o)},t.handleClose=function(){t.toggleSetTags(!1)},t}return he(t,e),t.prototype.render=function(){var e=this.props.issue,t=e.tags,n=void 0===t?[]:t;return this.props.canSetTags?s.createElement("div",{className:"dropdown"},s.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:s.createElement(de,{organization:e.projectOrganization,selectedTags:n,setTags:this.setTags})},s.createElement(h.ButtonLink,{className:"issue-action issue-action-with-options js-issue-edit-tags",onClick:this.toggleSetTags},s.createElement(oe.a,{allowUpdate:this.props.canSetTags,tags:e.tags&&e.tags.length>0?e.tags:[Object(d.translate)("issue.no_tag")]})))):s.createElement(oe.a,{allowUpdate:this.props.canSetTags,className:"note",tags:e.tags&&e.tags.length>0?e.tags:[Object(d.translate)("issue.no_tag")]})},t}(s.PureComponent),ve=n(882);function ye(e){var t=e.fromHotspot,n=e.onSelect,o=e.transitions,r=e.type,a=t&&"VULNERABILITY"===r;return s.createElement(x.DropdownOverlay,null,s.createElement(D,{currentItem:o[0],items:o,onSelect:n},o.map(function(e){var t=function(e,t){return t&&Object(d.hasMessage)("vulnerability.transition",e)?[Object(d.translate)("vulnerability.transition",e),Object(d.translate)("vulnerability.transition",e,"description")]:[Object(d.translate)("issue.transition",e),Object(d.translate)("issue.transition",e,"description")]}(e,a),n=t[0],o=t[1];return s.createElement(T,{item:e,key:e,title:o},n)})))}var be=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setTransition=function(e){c(t.props.onChange,Object(a.o)({issue:t.props.issue.key,transition:e})),t.toggleSetTransition()},t.toggleSetTransition=function(e){t.props.togglePopup("transition",e)},t.handleClose=function(){t.toggleSetTransition(!1)},t}return be(t,e),t.prototype.render=function(){var e=this.props.issue;return this.props.hasTransitions?s.createElement("div",{className:"dropdown"},s.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.hasTransitions,overlay:s.createElement(ye,{fromHotspot:e.fromHotspot,onSelect:this.setTransition,transitions:e.transitions,type:e.type})},s.createElement(h.ButtonLink,{className:"issue-action issue-action-with-options js-issue-transition",onClick:this.toggleSetTransition},s.createElement(ve.a,{className:"issue-meta-label",resolution:e.resolution,status:e.status}),s.createElement(y.a,{className:"little-spacer-left"})))):s.createElement(ve.a,{className:"issue-meta-label",resolution:e.resolution,status:e.status})},t}(s.PureComponent),Oe=n(694),xe=n.n(Oe),ke=n(661),_e=["BUG","VULNERABILITY","CODE_SMELL"];function Ce(e){var t=e.issue,n=e.onSelect;return s.createElement(x.DropdownOverlay,null,s.createElement(D,{currentItem:t.type,items:_e,onSelect:n},_e.map(function(e){return s.createElement(T,{className:"display-flex-center",item:e,key:e},s.createElement(xe.a,{className:"little-spacer-right",query:e}),Object(d.translate)("issue.type",e))})))}var je=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleSetType=function(e){t.props.togglePopup("set-type",e)},t.setType=function(e){t.props.setIssueProperty("type","set-type",a.p,e)},t.handleClose=function(){t.toggleSetType(!1)},t}return je(t,e),t.prototype.render=function(){var e=this.props.issue;return this.props.canSetType?s.createElement("div",{className:"dropdown"},s.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen&&this.props.canSetType,overlay:s.createElement(Ce,{issue:e,onSelect:this.setType})},s.createElement(h.ButtonLink,{className:"issue-action issue-action-with-options js-issue-set-type",onClick:this.toggleSetType},s.createElement(xe.a,{className:"little-spacer-right",fill:ke.colors.baseFontColor,query:e.type}),Object(d.translate)("issue.type",e.type),s.createElement(y.a,{className:"little-spacer-left"})))):s.createElement("span",null,s.createElement(xe.a,{className:"little-spacer-right",query:e.type}),Object(d.translate)("issue.type",e.type))},t}(s.PureComponent),we=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Se=function(){return(Se=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={commentAutoTriggered:!1,commentPlaceholder:""},t.setIssueProperty=function(e,n,o,r){var s,a,i=t.props.issue;if(i[e]!==r){var l=Se(Se({},i),((s={})[e]=r,s));c(t.props.onChange,o(((a={issue:i.key})[e]=r,a)),i,l)}t.props.togglePopup(n,!1)},t.toggleComment=function(e,n,o){void 0===n&&(n=""),void 0===o&&(o=!1),t.setState({commentPlaceholder:n,commentAutoTriggered:o}),t.props.togglePopup("comment",e)},t.handleTransition=function(e){t.props.onChange(e),("FALSE-POSITIVE"===e.resolution||"WONTFIX"===e.resolution&&"SECURITY_HOTSPOT"!==e.type)&&t.toggleComment(!0,Object(d.translate)("issue.comment.explain_why"),!0)},t}return we(t,e),t.prototype.render=function(){var e=this.props.issue,t=e.actions.includes("assign"),n=e.actions.includes("comment"),o=e.actions.includes("set_severity"),r=e.actions.includes("set_type"),a=e.actions.includes("set_tags"),i=e.transitions&&e.transitions.length>0,c="SECURITY_HOTSPOT"===e.type;return s.createElement("div",{className:"issue-actions"},s.createElement("ul",{className:"issue-meta-list"},s.createElement("li",{className:"issue-meta"},s.createElement(Pe,{canSetType:r,isOpen:"set-type"===this.props.currentPopup&&r,issue:e,setIssueProperty:this.setIssueProperty,togglePopup:this.props.togglePopup})),!c&&s.createElement("li",{className:"issue-meta"},s.createElement(ne,{canSetSeverity:o,isOpen:"set-severity"===this.props.currentPopup&&o,issue:e,setIssueProperty:this.setIssueProperty,togglePopup:this.props.togglePopup})),s.createElement("li",{className:"issue-meta"},s.createElement(Ee,{hasTransitions:i,isOpen:"transition"===this.props.currentPopup&&i,issue:e,onChange:this.handleTransition,togglePopup:this.props.togglePopup})),s.createElement("li",{className:"issue-meta"},s.createElement(z,{canAssign:t,isOpen:"assign"===this.props.currentPopup&&t,issue:e,onAssign:this.props.onAssign,togglePopup:this.props.togglePopup})),!c&&e.effort&&s.createElement("li",{className:"issue-meta"},s.createElement("span",{className:"issue-meta-label"},Object(d.translateWithParameters)("issue.x_effort",e.effort))),n&&s.createElement(X,{commentAutoTriggered:this.state.commentAutoTriggered,commentPlaceholder:this.state.commentPlaceholder,currentPopup:this.props.currentPopup,issueKey:e.key,onChange:this.props.onChange,toggleComment:this.toggleComment})),s.createElement("ul",{className:"list-inline"},s.createElement("li",{className:"issue-meta js-issue-tags"},s.createElement(ge,{canSetTags:a,isOpen:"edit-tags"===this.props.currentPopup&&a,issue:e,onChange:this.props.onChange,togglePopup:this.props.togglePopup}))))},t}(s.PureComponent),Ae=n(982),Le=n(689);function Ie(e){var t=e.onDelete;return s.createElement(x.DropdownOverlay,{placement:ce.PopupPlacement.BottomRight},s.createElement("div",{className:"menu is-container"},s.createElement("div",{className:"spacer-bottom"},Object(d.translate)("issue.comment.delete_confirm_message")),s.createElement(h.Button,{className:"button-red",onClick:t},Object(d.translate)("delete"))))}var Te=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={openPopup:""},t.handleEdit=function(e){t.props.onEdit(t.props.comment.key,e),t.toggleEditPopup(!1)},t.handleDelete=function(){t.props.onDelete(t.props.comment.key),t.toggleDeletePopup(!1)},t.togglePopup=function(e,n){t.setState(function(t){return t.openPopup!==e&&!1!==n?{openPopup:e}:t.openPopup===e&&!0!==n?{openPopup:""}:t})},t.toggleDeletePopup=function(e){t.togglePopup("delete",e)},t.toggleEditPopup=function(e){t.togglePopup("edit",e)},t.closePopups=function(){t.setState({openPopup:""})},t}return Te(t,e),t.prototype.render=function(){var e=this.props.comment,t=e.authorName||e.author,n=!1===e.authorActive&&t?Object(d.translateWithParameters)("user.x_deleted",t):t;return s.createElement("div",{className:"issue-comment"},s.createElement("div",{className:"issue-comment-author",title:n},s.createElement(b.a,{className:"little-spacer-right",hash:e.authorAvatar,name:t,size:16}),n),s.createElement("div",{className:"issue-comment-text markdown",dangerouslySetInnerHTML:{__html:Object(Ae.sanitize)(e.htmlText)}}),s.createElement("div",{className:"issue-comment-age"},s.createElement(Le.a,{date:e.createdAt})),s.createElement("div",{className:"issue-comment-actions"},e.updatable&&s.createElement("div",{className:"dropdown"},s.createElement(g.a,{closeOnClickOutside:!1,onRequestClose:this.closePopups,open:"edit"===this.state.openPopup,overlay:s.createElement(G,{comment:e,onComment:this.handleEdit,placeholder:"",placement:ce.PopupPlacement.BottomRight,toggleComment:this.toggleEditPopup})},s.createElement(h.EditButton,{className:"js-issue-comment-edit button-small",onClick:this.toggleEditPopup}))),e.updatable&&s.createElement("div",{className:"dropdown"},s.createElement(g.a,{onRequestClose:this.closePopups,open:"delete"===this.state.openPopup,overlay:s.createElement(Ie,{onDelete:this.handleDelete})},s.createElement(h.DeleteButton,{className:"js-issue-comment-delete button-small",onClick:this.toggleDeletePopup})))))},t}(s.PureComponent),De=n(159),Me=n(830),Ue=n.n(Me),Fe=n(647),He=n(658),We=n(649),Be=n(881),Ve=n(929),ze=n(673),qe=n(988),Ke=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={changelog:[]},t}return Ke(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.loadChangelog()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.loadChangelog=function(){var e=this;Object(a.g)(this.props.issue.key).then(function(t){var n=t.changelog;e.mounted&&e.setState({changelog:n})},function(){})},t.prototype.render=function(){var e=this.props.issue,t=e.author;return s.createElement(x.DropdownOverlay,{placement:ce.PopupPlacement.BottomRight},s.createElement("div",{className:"menu is-container issue-changelog"},s.createElement("table",{className:"spaced"},s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",{className:"thin text-left text-top nowrap"},s.createElement(ze.a,{date:e.creationDate})),s.createElement("td",{className:"text-left text-top"},t?Object(d.translate)("created_by")+" "+t:Object(d.translate)("created"))),this.state.changelog.map(function(e,t){var n=e.userName||e.user;return s.createElement("tr",{key:t},s.createElement("td",{className:"thin text-left text-top nowrap"},s.createElement(ze.a,{date:e.creationDate})),s.createElement("td",{className:"text-left text-top"},n&&s.createElement("p",null,s.createElement(b.a,{className:"little-spacer-right",hash:e.avatar,name:n,size:16}),e.isUserActive?n:Object(d.translateWithParameters)("user.x_deleted",n)),e.diffs.map(function(e){return s.createElement(qe.a,{diff:e,key:e.key})})))})))))},t}(s.PureComponent),Ye=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleChangelog=function(e){t.props.togglePopup("changelog",e)},t.handleClick=function(){t.toggleChangelog()},t.handleClose=function(){t.toggleChangelog(!1)},t}return Ye(t,e),t.prototype.render=function(){return s.createElement("div",{className:"dropdown"},s.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:s.createElement(Ge,{issue:this.props.issue})},s.createElement(L.a,{mouseEnterDelay:.5,overlay:s.createElement(ze.a,{date:this.props.creationDate})},s.createElement(h.ButtonLink,{className:"issue-action issue-action-with-options js-issue-show-changelog",onClick:this.handleClick},s.createElement("span",{className:"issue-meta-label"},s.createElement(Le.a,{date:this.props.creationDate})),s.createElement(y.a,{className:"little-spacer-left"})))))},t}(s.PureComponent);function Je(e){var t=e.engine,n=e.manualVulnerability,o=e.message,r=e.organization,a=e.ruleKey;return s.createElement("div",{className:"issue-message"},s.createElement("span",{className:"spacer-right"},o),s.createElement(h.ButtonLink,{"aria-label":Object(d.translate)("issue.why_this_issue.long"),className:"issue-see-rule spacer-right",onClick:function(){return e.onOpenRule({key:a,organization:r})}},Object(d.translate)("issue.why_this_issue")),t&&s.createElement(L.a,{overlay:Object(d.translateWithParameters)("issue.from_external_rule_engine",t)},s.createElement("div",{className:"badge spacer-right text-top"},t)),n&&s.createElement(L.a,{overlay:Object(d.translate)("issue.manual_vulnerability.description")},s.createElement("div",{className:"badge spacer-right text-top"},Object(d.translate)("issue.manual_vulnerability"))))}var Ze=n(991),Qe=n.n(Ze),$e=n(677),et=n.n($e),tt=n(730),nt=n.n(tt),ot=n(722),rt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),st=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o},at=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSelect=function(e){t.props.onFilter(e,t.props.issue)},t}return rt(t,e),t.prototype.render=function(){var e=this.props.issue,t=st(["type","severity","status","resolution","assignee","rule"],(e.tags||[]).map(function(e){return"tag###"+e}),["project",e.subProject?"module":void 0,"file"]).filter(function(e){return e}),n=e.assigneeName||e.assignee;return s.createElement(x.DropdownOverlay,{noPadding:!0},s.createElement("header",{className:"menu-search"},s.createElement("h6",null,Object(d.translate)("issue.filter_similar_issues"))),s.createElement(D,{className:"issues-similar-issues-menu",currentItem:t[0],items:t,onSelect:this.handleSelect},s.createElement(T,{className:"display-flex-center",item:"type"},s.createElement(xe.a,{className:"little-spacer-right",query:e.type}),Object(d.translate)("issue.type",e.type)),s.createElement(T,{item:"severity"},s.createElement(J.a,{className:"display-flex-center",severity:e.severity})),s.createElement(T,{item:"status"},s.createElement(ve.a,{className:"display-flex-center",resolution:void 0,status:e.status})),s.createElement(T,{item:"resolution"},null!=e.resolution?Object(d.translate)("issue.resolution",e.resolution):Object(d.translate)("unresolved")),s.createElement(T,{item:"assignee"},n?s.createElement("span",null,Object(d.translate)("assigned_to"),s.createElement(b.a,{className:"little-spacer-left little-spacer-right",hash:e.assigneeAvatar,name:n,size:16}),!1===e.assigneeActive?Object(d.translateWithParameters)("user.x_deleted",n):n):Object(d.translate)("unassigned")),s.createElement("li",{className:"divider"}),s.createElement(T,{item:"rule"},Object(ot.limitComponentName)(e.ruleName)),null!=e.tags&&e.tags.map(function(e){return s.createElement(T,{item:"tag###"+e,key:"tag###"+e},s.createElement(nt.a,{className:"icon-half-transparent little-spacer-right text-middle"}),s.createElement("span",{className:"text-middle"},e))}),s.createElement("li",{className:"divider"}),s.createElement(T,{item:"project"},s.createElement(et.a,{className:"little-spacer-right",qualifier:"TRK"}),e.projectName),null!=e.subProject&&s.createElement(T,{item:"module"},s.createElement(et.a,{className:"little-spacer-right",qualifier:"BRC"}),e.subProjectName),s.createElement(T,{item:"file"},s.createElement(et.a,{className:"little-spacer-right",qualifier:e.componentQualifier}),Object(ot.fileFromPath)(e.componentLongName))))},t}(s.PureComponent),it=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleFilter=function(e,n){t.togglePopup(!1),t.props.onFilter&&t.props.onFilter(e,n)},t.togglePopup=function(e){t.props.togglePopup("similarIssues",e)},t.handleClose=function(){t.togglePopup(!1)},t}return it(t,e),t.prototype.render=function(){return s.createElement("div",{className:"dropdown"},s.createElement(g.a,{onRequestClose:this.handleClose,open:this.props.isOpen,overlay:s.createElement(at,{issue:this.props.issue,onFilter:this.handleFilter})},s.createElement(h.ButtonLink,{"aria-label":Object(d.translate)("issue.filter_similar_issues"),className:"issue-action issue-action-with-options js-issue-filter",onClick:this.togglePopup,title:Object(d.translate)("issue.filter_similar_issues")},s.createElement(Qe.a,{className:"icon-half-transparent"}),s.createElement(y.a,{className:"icon-half-transparent"}))))},t}(s.PureComponent),lt=function(){return(lt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function ut(e){var t=e.issue,n=null!=e.onFilter,o=t.secondaryLocations.length+t.flows.reduce(function(e,t){return e+t.length},0),r=s.createElement(L.a,{overlay:Object(d.translateWithParameters)("issue.this_issue_involves_x_code_locations",Object(Fe.formatMeasure)(o,"INT"))},s.createElement(Be.a,null,o)),a=e.displayLocationsCount&&o>0,i=Object(We.h)(t.project,lt(lt({},Object(He.d)(e.branchLike)),{issues:t.key,open:t.key,types:"SECURITY_HOTSPOT"===t.type?t.type:void 0}));return s.createElement("div",{className:"issue-row"},s.createElement(Ve.a.Consumer,null,function(e){var n=e.openRule;return s.createElement(Je,{engine:t.externalRuleEngine,manualVulnerability:t.fromHotspot&&"VULNERABILITY"===t.type,message:t.message,onOpenRule:n,organization:t.organization,ruleKey:t.rule})}),s.createElement("div",{className:"issue-row-meta"},s.createElement("ul",{className:"issue-meta-list"},s.createElement("li",{className:"issue-meta"},s.createElement(Xe,{creationDate:t.creationDate,isOpen:"changelog"===e.currentPopup,issue:t,togglePopup:e.togglePopup})),null!=t.textRange&&s.createElement("li",{className:"issue-meta"},s.createElement("span",{className:"issue-meta-label",title:Object(d.translate)("line_number")},"L",t.textRange.endLine)),a&&s.createElement("li",{className:"issue-meta"},e.displayLocationsLink?s.createElement(De.Link,{target:"_blank",to:i},r):r),s.createElement("li",{className:"issue-meta"},s.createElement(De.Link,{className:"js-issue-permalink link-no-underline",target:"_blank",title:Object(d.translate)("permalink"),to:i},s.createElement(Ue.a,null))),n&&s.createElement("li",{className:"issue-meta"},s.createElement(ct,{isOpen:"similarIssues"===e.currentPopup,issue:t,onFilter:e.onFilter,togglePopup:e.togglePopup})))))}var pt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCheck=function(){t.props.onCheck&&t.props.onCheck(t.props.issue.key)},t.handleClick=function(e){!function e(t){if(!t)return!1;var n=(t.tagName||"").toUpperCase();return["A","BUTTON","INPUT","TEXTAREA"].includes(n)||e(t.parentElement)}(e.target)&&t.props.onClick&&(e.preventDefault(),t.props.onClick(t.props.issue.key))},t.editComment=function(e,n){c(t.props.onChange,Object(a.d)({comment:e,text:n}))},t.deleteComment=function(e){c(t.props.onChange,Object(a.c)({comment:e}))},t}return pt(t,e),t.prototype.render=function(){var e=this,t=this.props.issue,n=null!=this.props.onCheck,o=u()("issue",{hotspot:"SECURITY_HOTSPOT"===t.type,"issue-with-checkbox":n,selected:this.props.selected});return s.createElement("div",{className:o,"data-issue":t.key,onClick:this.handleClick,role:"listitem",tabIndex:0},s.createElement(ut,{branchLike:this.props.branchLike,currentPopup:this.props.currentPopup,displayLocationsCount:this.props.displayLocationsCount,displayLocationsLink:this.props.displayLocationsLink,issue:t,onFilter:this.props.onFilter,togglePopup:this.props.togglePopup}),s.createElement(Ne,{currentPopup:this.props.currentPopup,issue:t,onAssign:this.props.onAssign,onChange:this.props.onChange,togglePopup:this.props.togglePopup}),t.comments&&t.comments.length>0&&s.createElement("div",{className:"issue-comments"},t.comments.map(function(t){return s.createElement(Re,{comment:t,key:t.key,onDelete:e.deleteComment,onEdit:e.editComment})})),n&&s.createElement(s.Fragment,null,s.createElement(m.a,{checked:this.props.checked||!1,className:"issue-checkbox-container",onCheck:this.handleCheck})))},t}(s.PureComponent);var dt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ht=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.togglePopup=function(e,n){t.props.onPopupToggle(t.props.issue.key,e,n)},t.handleAssignement=function(e){var n=t.props.issue;n.assignee!==e&&c(t.props.onChange,Object(a.l)({issue:n.key,assignee:e})),t.togglePopup("assign",!1)},t}return dt(t,e),t.prototype.componentDidMount=function(){this.props.selected&&this.bindShortcuts()},t.prototype.componentWillUpdate=function(e){!e.selected&&this.props.selected&&this.unbindShortcuts()},t.prototype.componentDidUpdate=function(e){!e.selected&&this.props.selected&&this.bindShortcuts()},t.prototype.componentWillUnmount=function(){this.props.selected&&this.unbindShortcuts()},t.prototype.bindShortcuts=function(){var e=this;r("f","issues",function(){return e.togglePopup("transition"),!1}),r("a","issues",function(){return e.togglePopup("assign"),!1}),r("m","issues",function(){return e.props.issue.actions.includes("assign")&&e.handleAssignement("_me"),!1}),r("i","issues",function(){return e.togglePopup("set-severity"),!1}),r("c","issues",function(){return e.togglePopup("comment"),!1}),r("t","issues",function(){return e.togglePopup("edit-tags"),!1}),r("space","issues",function(){if(e.props.onCheck)return e.props.onCheck(e.props.issue.key),!1})},t.prototype.unbindShortcuts=function(){r.unbind("f","issues"),r.unbind("a","issues"),r.unbind("m","issues"),r.unbind("i","issues"),r.unbind("c","issues"),r.unbind("space","issues"),r.unbind("t","issues")},t.prototype.render=function(){return s.createElement(mt,{branchLike:this.props.branchLike,checked:this.props.checked,currentPopup:this.props.openPopup,displayLocationsCount:this.props.displayLocationsCount,displayLocationsLink:this.props.displayLocationsLink,issue:this.props.issue,onAssign:this.handleAssignement,onChange:this.props.onChange,onCheck:this.props.onCheck,onClick:this.props.onClick,onFilter:this.props.onFilter,selected:this.props.selected,togglePopup:this.togglePopup})},t.defaultProps={selected:!1},t}(s.PureComponent);t.a=ht},1129:function(e,t,n){"use strict";n.d(t,"a",function(){return x});var o=n(639),r=n(12),s=n(159),a=n(640),i=n(707),c=n(1039),l=n.n(c),u=n(677),p=n.n(u),m=n(645),d=n.n(m),h=n(34),f=n(722),g=n(665),v=n(658),y=n(649),b=n(706),E=n(859),O=(n(1189),function(){return(O=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)});function x(e){var t=e.branchLike,n=e.expandable,c=e.linkToProject,u=void 0===c||c,m=e.loading,x=e.onExpand,k=e.sourceViewerFile,_=k.key,C=k.measures,j=k.path,P=k.project,w=k.projectName,S=k.q,N=k.subProject,A=k.subProjectName,L=r.createElement(r.Fragment,null,r.createElement(p.a,{qualifier:b.a.Project})," ",r.createElement("span",null,w));return r.createElement("div",{className:"source-viewer-header-slim display-flex-row display-flex-space-between"},r.createElement("div",{className:"display-flex-center flex-1"},r.createElement("div",null,u?r.createElement("a",{className:"link-with-icon",href:Object(g.getPathUrlAsString)(Object(y.b)(P,t))},L):L),void 0!==N&&r.createElement(r.Fragment,null,r.createElement(p.a,{qualifier:b.a.SubProject})," ",r.createElement("span",null,A)),r.createElement("div",{className:"spacer-left"},r.createElement(p.a,{qualifier:S})," ",r.createElement("span",null,Object(f.collapsedDirFromPath)(j)),r.createElement("span",{className:"component-name-file"},Object(f.fileFromPath)(j))),r.createElement("div",{className:"spacer-left"},r.createElement(i.ClipboardIconButton,{className:"button-link link-no-underline",copyValue:j})),k.canMarkAsFavorite&&(!t||Object(v.g)(t))&&r.createElement("div",{className:"nudged-up spacer-left"},r.createElement(E.a,{className:"component-name-favorite",component:_,favorite:k.fav||!1,qualifier:k.q}))),void 0!==C.issues&&r.createElement("div",{className:o("flex-0 big-spacer-left",{"little-spacer-right":!n||m})},r.createElement(s.Link,{to:Object(y.h)(P,O(O({},Object(v.d)(t)),{fileUuids:k.uuid,resolved:"false"}))},Object(h.translate)("source_viewer.view_all_issues"))),n&&r.createElement(d.a,{className:"little-spacer-right",loading:m},r.createElement("div",{className:"flex-0 big-spacer-left"},r.createElement(a.ButtonIcon,{className:"js-actions",onClick:x},r.createElement(l.a,null)))))}},1130:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i});var o=n(992),r=n.n(o);function s(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]);var n=r()(e,t);return n.length?n:void 0}function a(e,t){return null!=e&&t.some(function(t){return t.index===e.index})?e:void 0}function i(e,t){return void 0!==e&&t.find(function(t){return t.key===e})?e:void 0}},1158:function(e,t,n){"use strict";var o=n(1192),r=n.n(o),s=n(639),a=n(12),i=(n(1193),n(881)),c=n(1042),l=n(1038),u=n(1111);function p(e){var t=e.issuePopup;return a.createElement("div",{className:"issue-list"},e.issues.map(function(n){return a.createElement(u.a,{branchLike:e.branchLike,displayLocationsCount:e.displayIssueLocationsCount,displayLocationsLink:e.displayIssueLocationsLink,issue:n,key:n.key,onChange:e.onIssueChange,onClick:e.onIssueClick,onPopupToggle:e.onIssuePopupToggle,openPopup:t&&t.issue===n.key?t.name:void 0,selected:e.selectedIssue===n.key})}))}var m,d=(m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o},f=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSymbolClick=function(e){e.preventDefault();var t=e.currentTarget.className.match(/sym-\d+/g);t&&t.length>0&&n.props.onSymbolClick(t)},n.state={tokens:Object(l.c)(t.line.code||"")},n}return d(t,e),t.prototype.componentDidMount=function(){this.attachEvents(),this.props.highlightedLocationMessage&&this.activeMarkerNode&&this.props.scroll&&this.props.scroll(this.activeMarkerNode)},t.prototype.componentWillReceiveProps=function(e){e.line.code!==this.props.line.code&&this.setState({tokens:Object(l.c)(e.line.code||"")})},t.prototype.componentWillUpdate=function(){this.detachEvents()},t.prototype.componentDidUpdate=function(e){this.attachEvents(),this.props.highlightedLocationMessage&&(!e.highlightedLocationMessage||e.highlightedLocationMessage.index!==this.props.highlightedLocationMessage.index)&&this.activeMarkerNode&&this.props.scroll&&this.props.scroll(this.activeMarkerNode)},t.prototype.componentWillUnmount=function(){this.detachEvents()},t.prototype.attachEvents=function(){if(this.codeNode&&(this.symbols=this.codeNode.querySelectorAll(".sym"),this.symbols))for(var e=0;e<this.symbols.length;e++){this.symbols[e].addEventListener("click",this.handleSymbolClick)}},t.prototype.detachEvents=function(){if(this.symbols)for(var e=0;e<this.symbols.length;e++){this.symbols[e].addEventListener("click",this.handleSymbolClick)}},t.prototype.renderMarker=function(e,t,n,o){var r=this,s=this.props.onLocationSelect,l=s?function(){return s(e)}:void 0,u=n?function(e){return r.activeMarkerNode=e}:void 0;return a.createElement(i.a,{key:"marker-"+e,leading:o,onClick:l,selected:n},a.createElement("span",{ref:u},e+1),t&&a.createElement(c.a,{selected:!0},t))},t.prototype.render=function(){var e=this,t=this.props,n=t.highlightedLocationMessage,o=t.highlightedSymbols,r=t.issues,i=t.issueLocations,c=t.line,u=t.onIssueSelect,m=t.padding,d=t.secondaryIssueLocations,f=t.selectedIssue,g=t.showIssues,v=h(this.state.tokens);if(o&&o.forEach(function(e){v=Object(l.b)(v,e)}),i.length>0&&(v=Object(l.a)(v,i)),d&&(v=Object(l.a)(v,d,"issue-location"),n)){var y=d.find(function(e){return e.index===n.index});y&&(v=Object(l.a)(v,[y],"selected"))}var b=s("source-line-code","code",{"has-issues":r.length>0}),E=[],O=!1;v.forEach(function(t,o){e.props.displayLocationMarkers&&t.markers.length>0&&t.markers.forEach(function(t){var o=void 0!==n&&n.index===t,r=d.find(function(e){return e.index===t}),s=r&&r.text;E.push(e.renderMarker(t,s,o,O))}),E.push(a.createElement("span",{className:t.className,key:o},t.text)),O=(0===o||O)&&!t.text.trim().length});var x=m?{paddingBottom:m+"px"}:void 0,k=r.filter(function(e){return e.key===f});return a.createElement("td",{className:b,"data-line-number":c.line,style:x},a.createElement("div",{className:"source-line-code-inner"},a.createElement("pre",{ref:function(t){return e.codeNode=t}},E)),g&&r.length>0&&a.createElement(p,{branchLike:this.props.branchLike,displayIssueLocationsCount:this.props.displayIssueLocationsCount,displayIssueLocationsLink:this.props.displayIssueLocationsLink,issuePopup:this.props.issuePopup,issues:r,onIssueChange:this.props.onIssueChange,onIssueClick:u,onIssuePopupToggle:this.props.onIssuePopupToggle,selectedIssue:f}),f&&!g&&a.createElement(p,{branchLike:this.props.branchLike,issuePopup:this.props.issuePopup,issues:k,onIssueChange:this.props.onIssueChange,onIssueClick:u,onIssuePopupToggle:this.props.onIssuePopupToggle,selectedIssue:f}))},t}(a.PureComponent),g=n(644),v=n.n(g),y=n(34);function b(e){var t=e.line,n="source-meta source-line-coverage"+(null!=t.coverageStatus?" source-line-"+t.coverageStatus:"");return a.createElement("td",{className:n,"data-line-number":t.line},a.createElement(v.a,{overlay:E(t),placement:"right"},a.createElement("div",{className:"source-line-bar"})))}function E(e){return"uncovered"===e.coverageStatus?e.conditions?Object(y.translateWithParameters)("source_viewer.tooltip.uncovered.conditions",e.conditions):Object(y.translate)("source_viewer.tooltip.uncovered"):"covered"===e.coverageStatus?e.conditions?Object(y.translateWithParameters)("source_viewer.tooltip.covered.conditions",e.conditions):Object(y.translate)("source_viewer.tooltip.covered"):"partially-covered"===e.coverageStatus?e.conditions?Object(y.translateWithParameters)("source_viewer.tooltip.partially-covered.conditions",e.coveredConditions||0,e.conditions):Object(y.translate)("source_viewer.tooltip.partially-covered"):void 0}var O=n(675),x=n.n(O),k=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.blur(),t.props.onPopupToggle({index:t.props.index,line:t.props.line.line,name:"duplications"})},t.handleTogglePopup=function(e){t.props.onPopupToggle({index:t.props.index,line:t.props.line.line,name:"duplications",open:e})},t.closePopup=function(){t.handleTogglePopup(!1)},t}return k(t,e),t.prototype.render=function(){var e=this.props,t=e.duplicated,n=e.index,o=e.line,r=e.popupOpen,i=s("source-meta","source-line-duplications-extra",{"source-line-duplicated":t});return t?a.createElement("td",{className:i,"data-index":n,"data-line-number":o.line},a.createElement(x.a,{onRequestClose:this.closePopup,open:r,overlay:this.props.renderDuplicationPopup(n,o.line)},a.createElement(v.a,{overlay:r?void 0:Object(y.translate)("source_viewer.tooltip.duplicated_block"),placement:"right"},a.createElement("div",{className:"source-line-bar",onClick:this.handleClick,role:"button",tabIndex:0})))):a.createElement("td",{className:i,"data-index":n,"data-line-number":o.line},a.createElement("div",{className:"source-line-bar"}))},t}(a.PureComponent),C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.onClick(t.props.line)},t}return C(t,e),t.prototype.render=function(){var e=this.props.line,t=s("source-meta","source-line-duplications",{"source-line-duplicated":e.duplicated}),n=a.createElement("td",{className:t,onClick:e.duplicated?this.handleClick:void 0,role:e.duplicated?"button":void 0,tabIndex:e.duplicated?0:void 0},a.createElement("div",{className:"source-line-bar"}));return e.duplicated?a.createElement(v.a,{overlay:Object(y.translate)("source_viewer.tooltip.duplicated_line"),placement:"right"},n):n},t}(a.PureComponent),P=n(846),w=n.n(P),S=n(927),N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),t.props.onClick()},t}return N(t,e),t.prototype.render=function(){var e=this.props,t=e.issues,n=e.line,o=t.length>0,r=s("source-meta","source-line-issues",{"source-line-with-issues":o}),i=o?Object(S.b)(t)[0]:null;return a.createElement("td",{className:r,"data-line-number":n.line,onClick:o?this.handleClick:void 0,role:o?"button":void 0,tabIndex:o?0:void 0},null!=i&&a.createElement(w.a,{type:i.type}),t.length>1&&a.createElement("span",{className:"source-line-issues-counter"},t.length))},t}(a.PureComponent),L=n(159),I=n(652),T=n(691),R=n(649),D=n(990);function M(e){var t=e.line;return a.createElement(D.a.Consumer,null,function(e){var n=e.branchLike,o=e.file;return a.createElement(I.DropdownOverlay,{placement:T.PopupPlacement.RightTop},a.createElement("div",{className:"source-viewer-bubble-popup nowrap"},a.createElement(L.Link,{className:"js-get-permalink",onClick:function(e){e.stopPropagation()},rel:"noopener noreferrer",target:"_blank",to:Object(R.d)(o.project,n,o.key,t.line)},Object(y.translate)("component_viewer.get_permalink"))))})}var U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.blur(),t.props.onPopupToggle({line:t.props.line.line,name:"line-number"})},t.handleTogglePopup=function(e){t.props.onPopupToggle({line:t.props.line.line,name:"line-number",open:e})},t.closePopup=function(){t.handleTogglePopup(!1)},t}return U(t,e),t.prototype.render=function(){var e=this.props,t=e.line,n=e.popupOpen,o=t.line;return!!o?a.createElement("td",{className:"source-meta source-line-number","data-line-number":o,onClick:this.handleClick,role:"button",tabIndex:0},a.createElement(x.a,{onRequestClose:this.closePopup,open:n,overlay:a.createElement(M,{line:t})})):a.createElement("td",{className:"source-meta source-line-number"})},t}(a.PureComponent),H=n(674);function W(e){var t=e.line,n=""!==t.scmAuthor;return a.createElement(I.DropdownOverlay,{placement:T.PopupPlacement.RightTop},a.createElement("div",{className:"source-viewer-bubble-popup abs-width-400"},n&&a.createElement("div",null,t.scmAuthor),t.scmDate&&a.createElement("div",{className:s({"spacer-top":n})},a.createElement(H.a,{date:t.scmDate})),t.scmRevision&&a.createElement("div",{className:"spacer-top"},t.scmRevision)))}var B=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.blur(),t.props.onPopupToggle({line:t.props.line.line,name:"scm"})},t.handleTogglePopup=function(e){t.props.onPopupToggle({line:t.props.line.line,name:"scm",open:e})},t.closePopup=function(){t.handleTogglePopup(!1)},t}return B(t,e),t.prototype.render=function(){var e=this.props,t=e.line,n=e.popupOpen,o=e.previousLine,r=!!t.line,s=function(e,t){var n=!0;null!=t&&null!=e.scmRevision&&null!=t.scmRevision&&(n=e.scmRevision!==t.scmRevision||e.scmDate!==t.scmDate);return n}(t,o)&&a.createElement("div",{className:"source-line-scm-inner","data-author":t.scmAuthor||"…"});return r?a.createElement("td",{className:"source-meta source-line-scm","data-line-number":t.line,onClick:this.handleClick,role:"button",tabIndex:0},a.createElement(x.a,{onRequestClose:this.closePopup,open:n,overlay:a.createElement(W,{line:t})},s)):a.createElement("td",{className:"source-meta source-line-scm","data-line-number":t.line},s)},t}(a.PureComponent);var z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isPopupOpen=function(e,n){var o=t.props,r=o.line,s=o.linePopup;return void 0!==s&&s.index===n&&s.line===r.line&&s.name===e},t.handleIssuesIndicatorClick=function(){if(t.props.openIssues)t.props.onIssuesClose(t.props.line),t.props.onIssueUnselect();else{t.props.onIssuesOpen(t.props.line);var e=t.props.issues;e.length>0&&t.props.onIssueSelect(e[0].key)}},t}return z(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.displayCoverage,o=t.displaySCM,i=void 0===o||o,c=t.duplications,l=t.duplicationsCount,u=t.issuePopup,p=t.line,m=s("source-line",{"source-line-highlighted":this.props.highlighted,"source-line-filtered":p.isNew,"source-line-filtered-dark":n&&("uncovered"===p.coverageStatus||"partially-covered"===p.coverageStatus),"source-line-last":!0===this.props.last}),d=this.props.verticalBuffer?18*this.props.verticalBuffer:void 0;return a.createElement("tr",{className:m,"data-line-number":p.line},a.createElement(F,{line:p,onPopupToggle:this.props.onLinePopupToggle,popupOpen:this.isPopupOpen("line-number")}),i&&a.createElement(V,{line:p,onPopupToggle:this.props.onLinePopupToggle,popupOpen:this.isPopupOpen("scm"),previousLine:this.props.previousLine}),this.props.displayIssues&&!this.props.displayAllIssues?a.createElement(A,{issues:this.props.issues,line:p,onClick:this.handleIssuesIndicatorClick}):a.createElement("td",{className:"source-meta source-line-issues"}),this.props.displayDuplications&&a.createElement(j,{line:p,onClick:this.props.loadDuplications}),r()(l,function(t){return a.createElement(_,{duplicated:c.includes(t),index:t,key:t,line:e.props.line,onPopupToggle:e.props.onLinePopupToggle,popupOpen:e.isPopupOpen("duplications",t),renderDuplicationPopup:e.props.renderDuplicationPopup})}),this.props.displayCoverage&&a.createElement(b,{line:p}),a.createElement(f,{branchLike:this.props.branchLike,displayIssueLocationsCount:this.props.displayIssueLocationsCount,displayIssueLocationsLink:this.props.displayIssueLocationsLink,displayLocationMarkers:this.props.displayLocationMarkers,highlightedLocationMessage:this.props.highlightedLocationMessage,highlightedSymbols:this.props.highlightedSymbols,issueLocations:this.props.issueLocations,issuePopup:u,issues:this.props.issues,line:p,onIssueChange:this.props.onIssueChange,onIssuePopupToggle:this.props.onIssuePopupToggle,onIssueSelect:this.props.onIssueSelect,onLocationSelect:this.props.onLocationSelect,onSymbolClick:this.props.onSymbolClick,padding:d,scroll:this.props.scroll,secondaryIssueLocations:this.props.secondaryIssueLocations,selectedIssue:this.props.selectedIssue,showIssues:this.props.openIssues||this.props.displayAllIssues}))},t}(a.PureComponent);t.a=q},1189:function(e,t,n){var o=n(1190);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1190:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,".source-viewer-header-slim{padding:4px 10px;border-bottom:1px solid #cdcdcd;background-color:#f3f3f3;align-items:center;min-height:25px}",""])},1191:function(e,t,n){"use strict";var o,r=n(639),s=n.n(r),a=n(12),i=n(1039),c=n.n(i),l=n(34),u=n(762),p=n(1158),m=n(936),d=n(989),h=n(1130),f=(n(1196),n(1049)),g=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=32,y=function(e){function t(t){var n=e.call(this,t)||this;return n.doScroll=function(e){n.props.scroll&&n.props.scroll(e);var t=n.snippetNodeRef.current;t&&Object(u.scrollHorizontally)(e,{leftOffset:v,rightOffset:t.getBoundingClientRect().width-v,parent:t})},n.scrollToLastExpandedRow=function(){if(n.props.scroll){var e=n.snippetNodeRef.current;if(!e)return;var t=e.querySelectorAll("tr"),o=t[t.length-1];n.props.scroll(o,100)}},n.expandBlock=function(e){return function(){return n.props.expandBlock(n.props.index,e).then(function(){"down"===e&&n.scrollToLastExpandedRow()})}},n.snippetNodeRef=a.createRef(),n}return g(t,e),t.prototype.renderLine=function(e){var t=this,n=e.displayDuplications,o=e.displaySCM,r=e.index,s=e.issuesForLine,i=e.issueLocations,c=e.line,l=e.snippet,u=e.symbols,m=e.verticalBuffer,f=Object(d.b)(c,this.props.locations),g=this.props,v=g.duplications,y=g.duplicationsByLine,b=v?v.length:0,E=b&&y&&y[c.line]||[],O=s.some(function(e){return e.key===t.props.issue.key});return a.createElement(p.a,{branchLike:this.props.branchLike,displayAllIssues:!1,displayCoverage:!0,displayDuplications:n,displayIssues:!O||s.length>1,displayLocationMarkers:!0,displaySCM:o,duplications:E,duplicationsCount:b,highlighted:!1,highlightedLocationMessage:Object(h.b)(this.props.highlightedLocationMessage,f),highlightedSymbols:Object(h.a)(u,this.props.highlightedSymbols),issueLocations:i,issuePopup:this.props.issuePopup,issues:s,key:c.line,last:!1,line:c,linePopup:this.props.linePopup,loadDuplications:this.props.loadDuplications,onIssueChange:this.props.onIssueChange,onIssuePopupToggle:this.props.onIssuePopupToggle,onIssueSelect:function(){},onIssueUnselect:function(){},onIssuesClose:this.props.handleCloseIssues,onIssuesOpen:this.props.handleOpenIssues,onLinePopupToggle:this.props.handleLinePopupToggle,onLocationSelect:this.props.onLocationSelect,onSymbolClick:this.props.handleSymbolClick,openIssues:this.props.openIssuesByLine[c.line],previousLine:r>0?l[r-1]:void 0,renderDuplicationPopup:this.props.renderDuplicationPopup,scroll:this.doScroll,secondaryIssueLocations:f,selectedIssue:Object(h.c)(this.props.issue.key,s),verticalBuffer:m})},t.prototype.render=function(){var e=this,t=this.props,n=t.component,o=t.displaySCM,r=t.issue,i=t.issuesByLine,u=void 0===i?{}:i,p=t.last,d=t.locationsByLine,h=t.openIssuesByLine,g=t.snippet,v=n.measures&&n.measures.lines&&parseInt(n.measures.lines,10),y=Object(m.e)(g),b=g[g.length-1].line,E=r.textRange?r.textRange.endLine:r.line,O=Math.max.apply(Math,Object.keys(u).map(function(e){return parseInt(e,10)}).filter(function(e){return Object(f.g)(e,g)&&(e===E||h[e])})),x=p?Math.max(0,f.b-(b-O)):0,k=g.some(function(e){return!!e.duplicated});return a.createElement("div",{className:"source-viewer-code snippet",ref:this.snippetNodeRef},a.createElement("div",null,g[0].line>1&&a.createElement("div",{className:"expand-block expand-block-above"},a.createElement("button",{"aria-label":Object(l.translate)("source_viewer.expand_above"),onClick:this.expandBlock("up"),type:"button"},a.createElement(c.a,null))),a.createElement("table",{className:s()("source-table",{"expand-up":g[0].line>1,"expand-down":!v||g[g.length-1].line<v})},a.createElement("tbody",null,g.map(function(t,n){return e.renderLine({displayDuplications:k,displaySCM:o,index:n,issuesForLine:u[t.line]||[],issueLocations:d[t.line]||[],line:t,snippet:g,symbols:y[t.line],verticalBuffer:n===g.length-1?x:0})}))),(!v||g[g.length-1].line<v)&&a.createElement("div",{className:"expand-block expand-block-below"},a.createElement("button",{"aria-label":Object(l.translate)("source_viewer.expand_below"),onClick:this.expandBlock("down"),type:"button"},a.createElement(c.a,null)))))},t}(a.PureComponent);t.a=y},1193:function(e,t,n){var o=n(1194);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1194:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,'.source-line:hover .source-line-coverage,.source-line:hover .source-line-duplications,.source-line:hover .source-line-duplications-extra,.source-line:hover .source-line-issues,.source-line:hover .source-line-number,.source-line:hover .source-line-scm{border-color:#e9e9e9;background-color:#e9e9e9}.source-line:hover .source-line-code{background-color:#f5f5f5}.source-line-highlighted .source-line-coverage,.source-line-highlighted .source-line-duplications,.source-line-highlighted .source-line-duplications-extra,.source-line-highlighted .source-line-issues,.source-line-highlighted .source-line-number,.source-line-highlighted .source-line-scm,.source-line-highlighted:hover .source-line-coverage,.source-line-highlighted:hover .source-line-duplications,.source-line-highlighted:hover .source-line-duplications-extra,.source-line-highlighted:hover .source-line-issues,.source-line-highlighted:hover .source-line-number,.source-line-highlighted:hover .source-line-scm{border-color:#c4dfec!important;background-color:#c4dfec}.source-line-highlighted .source-line-code,.source-line-highlighted:hover .source-line-code{background-color:#d9edf7}.source-line-filtered .source-line-code{background-color:#fbf3d5!important}.source-line-filtered.source-line-highlighted .source-line-code,.source-line-filtered.source-line-highlighted:hover .source-line-code{background-color:#cdd9c4!important}.source-line-filtered.source-line-filtered-dark .source-line-code{background-color:#f9ebb7!important}.source-line-filtered.source-line-filtered-dark:hover .source-line-code,.source-line-filtered:hover .source-line-code{background-color:#f1e8cb!important}.source-line-last .source-line-code{padding-bottom:160px}.source-viewer pre{height:18px;padding:0}.source-line-number,.source-line-scm,.source-viewer pre{line-height:18px;font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.source-line-code{position:relative;padding:0 10px}.source-line-code pre{float:left}.source-line-code .issue-list{margin-left:-10px;margin-right:-10px}.source-line-code-inner{min-height:18px}.source-line-code-inner:after,.source-line-code-inner:before{display:table;content:"";line-height:0}.source-line-code-inner:after{clear:both}.source-line-code-issue{display:inline-block;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAGCAYAAAAPDoR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1M0M2Rjk4M0M3QUYxMUUzODkzRUREMUM5OTNDMjY4QSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1M0M2Rjk4NEM3QUYxMUUzODkzRUREMUM5OTNDMjY4QSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjUzQzZGOTgxQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjUzQzZGOTgyQzdBRjExRTM4OTNFREQxQzk5M0MyNjhBIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bcqJtQAAAEhJREFUeNpi+G+swwDGDAwgbAWlwZiJAQFCgfgwEIfDRaC67ID4NRDnQ2kQnwFZwgFqnANMAQOUYY9sF0wBiCGH5CBkrAgQYACuWi4sSGW8yAAAAABJRU5ErkJggg==);background-repeat:repeat-x;background-size:4px;background-position:bottom}.source-meta{position:relative;vertical-align:top;width:1px;background-clip:padding-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.source-meta:focus{outline:none}.source-meta[role=button]{cursor:pointer}.source-line-number{min-width:18px;padding:0 10px;background-color:#f3f3f3;color:#777;text-align:right}.source-line-number:before{content:attr(data-line-number)}.source-line-issues{position:relative;padding:0 2px;background-color:#f3f3f3;white-space:nowrap}.source-line-with-issues svg{padding-right:2px;vertical-align:middle}.source-line-issues-counter{position:absolute;left:17px;line-height:8px;font-size:8px;z-index:900}.source-line-coverage,.source-line-duplications,.source-line-duplications-extra{background-color:#f3f3f3}.source-duplications-expanded .source-line-duplications,.source-line-duplications-extra{display:none}.source-duplications-expanded .source-line-duplications-extra{display:table-cell}.source-line-scm{padding:0 5px;background-color:#f3f3f3}.source-line-scm-inner{max-width:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.source-line-scm-inner:before{content:attr(data-author)}.source-line-bar{width:5px;height:18px}.source-line-bar[role=button]{cursor:pointer}.source-line-bar:focus{outline:none}.source-line-covered{background-color:#b4dd78!important}.source-line-partially-covered,.source-line-uncovered{background-color:#a4030f!important}.source-line-partially-covered{background-image:repeating-linear-gradient(45deg,hsla(0,0%,100%,.5) 4px,transparent 0,transparent 8px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 12px,transparent 0,transparent 16px,hsla(0,0%,100%,.5) 0,hsla(0,0%,100%,.5) 20px)!important}.source-line-duplicated{background-color:#797979!important}',""])},1196:function(e,t,n){var o=n(1197);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1197:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,'.snippet{margin:8px;border:1px solid #cdcdcd;overflow-x:auto;overflow-y:hidden;transition:max-height .2s}.snippet>div{display:table;width:100%;position:relative;transition:margin-top .2s}.snippet table{width:100%}.expand-block{position:absolute;z-index:2;width:100%}.expand-block>button{background:transparent;box-sizing:border-box;color:#777;height:20px;width:100%;padding:2px;border:0;text-align:left;cursor:pointer}.expand-block>button:active,.expand-block>button:focus,.expand-block>button:hover{color:#236a97;outline:none}.expand-block-above{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAAXNSR0IArs4c6QAAADdJREFUCB1dzMEKADAIAlBd1v9/bcc2YgRjHh8qq2qTxCQzsX4wM6y30RARF3sy0Es1SIK7Y64OpCES1W69JS4AAAAASUVORK5CYII=");top:0}.expand-block-below{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wQQBjQEQVd5jwAAADhJREFUCNddyTEKADEMA8GVA/7/Z+PGwUp1cGTaYe/tv5lxrLWoKj6SiMzkjZDEG7JtANt0N+ccLrB/KZxXTt7fAAAAAElFTkSuQmCC");bottom:0}.source-table.expand-up{margin-top:20px}.source-table.expand-down{margin-bottom:20px}',""])},1454:function(e,t,n){var o=n(1682);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1674:function(e,t,n){var o=n(1675);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1675:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,".hotspot-list-header{padding:16px 8px}.hotspot-risk-header{padding:8px}.hotspot-category{background-color:#fff;border:1px solid #e6e6e6}.hotspot-category .hotspot-category-header{padding:16px 8px;color:#444;border-bottom:none;border-left:4px solid}.hotspot-category .hotspot-category-header.contains-selected-hotspot,.hotspot-category .hotspot-category-header:hover{color:#4b9fd5}.hotspot-category.HIGH .hotspot-category-header{border-left-color:#d4333f}.hotspot-category.MEDIUM .hotspot-category-header{border-left-color:#ed7d20}.hotspot-category.LOW .hotspot-category-header{border-left-color:#eabe06}.hotspot-item{color:#444;display:block;padding:8px 16px;border:1px solid transparent;border-top-color:#e6e6e6;transition:padding 0s,border 0s}.hotspot-item:hover{background-color:#f2faff;border:1px dashed #4b9fd5;color:#444}.hotspot-item.highlight{background-color:#f2faff;color:#444;border:1px solid #4b9fd5;cursor:unset}.hotspot-risk-badge{color:#fff;text-transform:uppercase;display:inline-block;text-align:center;min-width:48px;padding:0 8px;font-weight:700;border-radius:2px}.hotspot-risk-badge.HIGH{background-color:#d4333f}.hotspot-risk-badge.MEDIUM{background-color:#ed7d20}.hotspot-risk-badge.LOW{background-color:#eabe06}",""])},1676:function(e,t,n){var o=n(1677);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1677:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,".hotspot-assignee-search-results{min-width:300px}.hotspot-assignee-search-results li{cursor:pointer}.hotspot-assignee-search-results li.active,.hotspot-assignee-search-results li:hover{background-color:#f3f3f3}",""])},1678:function(e,t,n){var o=n(1679);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1679:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,".hotspot-information{flex-basis:320px}.hotspot-information>div>span{flex-basis:100px}",""])},1680:function(e,t,n){var o=n(1681);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},1681:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,"#status-trigger,#status-trigger+.popup{width:400px;box-sizing:border-box}#status-trigger{height:80px;border-radius:4px;outline:none}#status-trigger.readonly{cursor:not-allowed}#status-trigger:not(.readonly){cursor:pointer;background-color:#236a97}#status-trigger:not(.readonly) *{color:#fff}",""])},1682:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,"#security_hotspots .wrapper{position:fixed;bottom:0;width:100%}#security_hotspots .layout-page{margin:0 auto;min-width:1080px;max-width:1280px;height:100%}#security_hotspots .filter-bar{max-width:1280px;box-sizing:border-box;margin:0 auto;padding:16px 8px;border-bottom:1px solid #e6e6e6}#security_hotspots .sidebar{flex:0 0 300px;border-right:1px solid #e6e6e6;height:100%;overflow-y:auto}#security_hotspots .main{flex:1 1 auto;background-color:#fff;overflow-x:auto}#security_hotspots .main .hotspot-content{overflow-y:auto;height:100%;box-sizing:border-box}.invisible{visibility:hidden}",""])},2090:function(e,t,n){"use strict";n.r(t);var o=n(808),r=n.n(o),s=n(844),a=n.n(s),i=n(12),c=n(740),l=n(864),u=n(48),p=n(650),m=function(){return(m=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},d=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};var h,f,g,v,y,b,E=n(736),O=n(718),x=n(658),k=n(935),_=n(662);!function(e){e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(h||(h={})),function(e){e.TO_REVIEW="TO_REVIEW",e.REVIEWED="REVIEWED"}(f||(f={})),function(e){e.FIXED="FIXED",e.SAFE="SAFE"}(g||(g={})),function(e){e.FIXED="FIXED",e.SAFE="SAFE",e.TO_REVIEW="TO_REVIEW"}(v||(v={})),function(e){e.FIXED="FIXED",e.SAFE="SAFE",e.TO_REVIEW="TO_REVIEW"}(y||(y={})),function(e){e[e.Creation=0]="Creation",e[e.Diff=1]="Diff",e[e.Comment=2]="Comment"}(b||(b={}));var C=n(657),j=n(645),P=n.n(j),w=n(34),S=n(678),N=n(660),A=n(771),L=n(159),I=n(665);function T(e){var t,n=e.filtered,o=e.isStaticListOfHotspots;return t=o?"no_hotspots_for_keys":n?"no_hotspots_for_filters":"no_hotspots",i.createElement("div",{className:"display-flex-column display-flex-center huge-spacer-top"},i.createElement("img",{alt:Object(w.translate)("hotspots.page"),className:"huge-spacer-top",height:100,src:Object(I.getBaseUrl)()+"/images/"+(n?"filter-large":"hotspot-large")+".svg"}),i.createElement("h1",{className:"huge-spacer-top"},Object(w.translate)("hotspots."+t+".title")),i.createElement("div",{className:"abs-width-400 text-center big-spacer-top"},Object(w.translate)("hotspots."+t+".description")),!(n||o)&&i.createElement(L.Link,{className:"big-spacer-top",target:"_blank",to:{pathname:"/documentation/user-guide/security-hotspots/"}},Object(w.translate)("hotspots.learn_more")))}var R,D=n(651),M=n.n(D),U=n(811),F=n.n(U),H=n(668),W=n.n(H),B=n(727),V=n(845),z=n(706),q=[{value:v.TO_REVIEW,label:Object(w.translate)("hotspot.filters.status.to_review")},{value:v.FIXED,label:Object(w.translate)("hotspot.filters.status.fixed")},{value:v.SAFE,label:Object(w.translate)("hotspot.filters.status.safe")}],K=[{value:!0,label:Object(w.translate)("hotspot.filters.period.since_leak_period")},{value:!1,label:Object(w.translate)("hotspot.filters.period.overall")}];!function(e){e.ALL="all",e.ME="me"}(R||(R={}));var G=[{value:R.ME,label:Object(w.translate)("hotspot.filters.assignee.assigned_to_me")},{value:R.ALL,label:Object(w.translate)("hotspot.filters.assignee.all")}];var Y,X,J=Object(E.a)(function(e){var t=e.currentUser,n=e.component,o=e.filters,r=e.hotspotsReviewedMeasure,s=e.isStaticListOfHotspots,a=e.loadingMeasure,c=e.onBranch,l=n.qualifier===z.a.Project;return i.createElement("div",{className:"filter-bar display-flex-center"},s?i.createElement("a",{id:"show_all_hotspot",onClick:function(){return e.onShowAllHotspots()},role:"link",tabIndex:0},Object(w.translate)("hotspot.filters.show_all")):i.createElement("div",{className:"display-flex-space-between width-100"},i.createElement("div",{className:"display-flex-center"},i.createElement("h3",{className:"huge-spacer-right"},Object(w.translate)("hotspot.filters.title")),Object(_.b)(t)&&i.createElement(F.a,{className:"huge-spacer-right",name:"assignee-filter",onCheck:function(t){return e.onChangeFilters({assignedToMe:t===R.ME})},options:G,value:o.assignedToMe?R.ME:R.ALL}),i.createElement("span",{className:"spacer-right"},Object(w.translate)("status")),i.createElement(W.a,{className:"input-medium big-spacer-right",clearable:!1,onChange:function(t){return e.onChangeFilters({status:t.value})},options:q,searchable:!1,value:o.status}),c&&i.createElement(W.a,{className:"input-medium big-spacer-right",clearable:!1,onChange:function(t){return e.onChangeFilters({sinceLeakPeriod:t.value})},options:K,searchable:!1,value:o.sinceLeakPeriod})),l&&i.createElement("div",{className:"display-flex-center"},i.createElement("span",{className:"little-spacer-right"},Object(w.translate)("metric.security_hotspots_reviewed.name")),i.createElement(M.a,{className:"big-spacer-right",overlay:Object(w.translate)("hotspots.reviewed.tooltip")}),i.createElement(P.a,{loading:a},r&&i.createElement(V.a,{value:r}),i.createElement(B.a,{className:"spacer-left huge",metricKey:c&&!o.sinceLeakPeriod?"security_hotspots_reviewed":"new_security_hotspots_reviewed",metricType:"PERCENT",value:r})))))}),Z=n(711),Q=n.n(Z),$=n(639),ee=n(685),te=n.n(ee),ne=n(755),oe=n.n(ne),re=n(655),se=n.n(re),ae=function(){return(ae=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ie=[h.HIGH,h.MEDIUM,h.LOW];function ce(e,t){void 0===e&&(e=[]);var n=Q()(e,function(e){return e.securityCategory});return Object.keys(n).map(function(e){return{key:e,title:le(e,t),hotspots:n[e]}})}function le(e,t){return t[e]?t[e].title:e}var ue=((Y={})[f.TO_REVIEW]=y.TO_REVIEW,Y[f.REVIEWED]=y.FIXED,Y[g.FIXED]=y.FIXED,Y[g.SAFE]=y.SAFE,Y);function pe(e,t){return ue[null!=t?t:e]}var me=((X={})[y.TO_REVIEW]={status:f.TO_REVIEW,resolution:void 0},X[y.FIXED]={status:f.REVIEWED,resolution:g.FIXED},X[y.SAFE]={status:f.REVIEWED,resolution:g.SAFE},X);var de=n(732),he=n.n(de),fe=n(1673),ge=n.n(fe);function ve(e){var t=e.hotspot,n=e.selected;return i.createElement("a",{className:$("hotspot-item",{highlight:n}),href:"#",onClick:function(){return!n&&e.onClick(t)}},i.createElement("div",{className:"little-spacer-left"},t.message),i.createElement("div",{className:"badge spacer-top"},Object(w.translate)("hotspots.status_option",pe(t.status,t.resolution))))}function ye(e){var t=e.categoryKey,n=e.expanded,o=e.hotspots,r=e.selectedHotspot,s=e.title;if(o.length<1)return null;var a=o[0].vulnerabilityProbability;return i.createElement("div",{className:$("hotspot-category",a)},i.createElement("a",{className:$("hotspot-category-header display-flex-space-between display-flex-center",{"contains-selected-hotspot":r.securityCategory===t}),href:"#",onClick:function(){return e.onToggleExpand(t,!n)}},i.createElement("strong",{className:"flex-1"},s),i.createElement("span",null,i.createElement("span",{className:"counter-badge"},o.length),n?i.createElement(ge.a,{className:"big-spacer-left"}):i.createElement(he.a,{className:"big-spacer-left"}))),n&&i.createElement("ul",null,o.map(function(t){return i.createElement("li",{key:t.key},i.createElement(ve,{hotspot:t,onClick:e.onHotspotClick,selected:t.key===r.key}))})))}n(1674);var be,Ee=(be=function(e,t){return(be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}be(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Oe=function(){return(Oe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},xe=function(e){function t(t){var n,o=e.call(this,t)||this;return o.groupHotspots=function(e,t){var n=Q()(e,function(e){return e.vulnerabilityProbability});return ie.map(function(e){return{risk:e,categories:ce(n[e],t)}}).filter(function(e){return e.categories.length>0})},o.handleToggleCategory=function(e,t){o.setState(function(n){var o,r=n.expandedCategories;return{expandedCategories:Oe(Oe({},r),(o={},o[e]=t,o))}})},o.state={expandedCategories:(n={},n[t.selectedHotspot.securityCategory]=!0,n),groupedHotspots:o.groupHotspots(t.hotspots,t.securityCategories)},o}return Ee(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.selectedHotspot.securityCategory!==e.selectedHotspot.securityCategory&&this.handleToggleCategory(this.props.selectedHotspot.securityCategory,!0),this.props.hotspots!==e.hotspots||this.props.securityCategories!==e.securityCategories){var t=this.groupHotspots(this.props.hotspots,this.props.securityCategories);this.setState({groupedHotspots:t})}},t.prototype.render=function(){var e=this,t=this.props,n=t.hotspots,o=t.hotspotsTotal,r=t.isStaticListOfHotspots,s=t.loadingMore,a=t.selectedHotspot,c=t.statusFilter,l=this.state,u=l.expandedCategories,p=l.groupedHotspots;return i.createElement("div",{className:"huge-spacer-bottom"},i.createElement("h1",{className:"hotspot-list-header bordered-bottom"},i.createElement(oe.a,{className:"spacer-right"}),Object(w.translateWithParameters)(r?"hotspots.list_title":"hotspots.list_title."+c,n.length)),i.createElement("ul",{className:"big-spacer-bottom"},p.map(function(t){return i.createElement("li",{className:"big-spacer-bottom",key:t.risk},i.createElement("div",{className:"hotspot-risk-header little-spacer-left"},i.createElement("span",null,Object(w.translate)("hotspots.risk_exposure"),":"),i.createElement("div",{className:$("hotspot-risk-badge","spacer-left",t.risk)},Object(w.translate)("risk_exposure",t.risk))),i.createElement("ul",null,t.categories.map(function(t){return i.createElement("li",{className:"spacer-bottom",key:t.key},i.createElement(ye,{categoryKey:t.key,expanded:u[t.key],hotspots:t.hotspots,onHotspotClick:e.props.onHotspotClick,onToggleExpand:e.handleToggleCategory,selectedHotspot:a,title:t.title}))})))})),i.createElement(te.a,{count:n.length,loadMore:s?void 0:this.props.onLoadMore,loading:s,total:o}))},t}(i.Component),ke=n(762),_e=n(640),Ce=n(707),je=n(830),Pe=n.n(je),we=n(649),Se=n(746),Ne=n(1177),Ae=n.n(Ne),Le=n(865),Ie=n.n(Le),Te=n(696),Re=n.n(Te),De=n(1178),Me=n(761),Ue=n(652),Fe=n.n(Ue),He=n(682),We=n.n(He),Be=n(691),Ve=n(702);n(1676);function ze(e){var t=e.highlighted,n=e.loading,o=e.open,r=e.query,s=e.suggestedUsers;return i.createElement(i.Fragment,null,i.createElement("div",{className:"display-flex-center"},i.createElement(We.a,{autoFocus:!0,onChange:e.onSearch,onKeyDown:e.onKeyDown,placeholder:Object(w.translate)("hotspots.assignee.select_user"),value:r}),n&&i.createElement(P.a,{className:"spacer-left"})),!n&&o&&i.createElement("div",{className:"position-relative"},i.createElement(Ue.DropdownOverlay,{noPadding:!0,placement:Be.PopupPlacement.BottomLeft},s&&s.length>0?i.createElement("ul",{className:"hotspot-assignee-search-results"},s.map(function(n){return i.createElement("li",{className:$("padded",{active:t&&t.login===n.login}),key:n.login,onClick:function(){return e.onSelect(n)}},i.createElement(Ve.a,{className:"spacer-right",hash:n.avatar,name:n.name,size:16}),n.name)})):i.createElement("div",{className:"padded"},Object(w.translate)("no_results")))))}var qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleSearch=function(e){n.mounted&&(e.length<2?n.handleNoSearch(e):n.handleActualSearch(e))},n.handleNoSearch=function(e){var t=n.props,o=t.allowCurrentUserSelection,r=t.loggedInUser;n.setState({loading:!1,open:o,query:e,suggestedUsers:o?[r]:[]})},n.handleActualSearch=function(e){n.setState({loading:!0,query:e}),Object(Me.f)({q:e}).then(function(t){n.mounted&&n.setState({loading:!1,query:e,open:!0,suggestedUsers:t.users.filter(_.c)})}).catch(function(){n.mounted&&n.setState({loading:!1})})},n.handleKeyDown=function(e){switch(e.keyCode){case De.KeyCodes.Enter:e.preventDefault(),n.selectHighlighted();break;case De.KeyCodes.UpArrow:e.preventDefault(),n.highlightPrevious();break;case De.KeyCodes.DownArrow:e.preventDefault(),n.highlightNext()}},n.getCurrentIndex=function(){var e=n.state,t=e.highlighted,o=e.suggestedUsers;return t?o.findIndex(function(e){return e.login===t.login}):-1},n.highlightIndex=function(e){var t=n.state.suggestedUsers;t.length>0&&(e<0?e=t.length-1:e>=t.length&&(e=0),n.setState({highlighted:t[e]}))},n.highlightPrevious=function(){n.highlightIndex(n.getCurrentIndex()-1)},n.highlightNext=function(){n.highlightIndex(n.getCurrentIndex()+1)},n.selectHighlighted=function(){var e=n.state.highlighted;void 0!==e&&n.props.onSelect(e)},n.state={loading:!1,open:t.allowCurrentUserSelection,suggestedUsers:t.allowCurrentUserSelection?[t.loggedInUser]:[]},n.handleSearch=Re()(n.handleSearch,250),n}return qe(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.highlighted,n=e.loading,o=e.open,r=e.query,s=e.suggestedUsers;return i.createElement(ze,{highlighted:t,loading:n,onKeyDown:this.handleKeyDown,onSearch:this.handleSearch,onSelect:this.props.onSelect,open:o,query:r,suggestedUsers:s})},t}(i.PureComponent);function Ge(e){var t,n,o,r=e.assignee,s=e.canEdit,a=e.loggedInUser,c=e.editing,l=e.loading;return i.createElement(P.a,{loading:l},!c&&i.createElement("div",{className:"display-flex-center"},i.createElement("strong",{className:"nowrap"},r&&(r.active?null!=(t=r.name)?t:r.login:Object(w.translateWithParameters)("user.x_deleted",null!=(n=r.name)?n:r.login)),!r&&Object(w.translate)("unassigned")),a&&s&&i.createElement(_e.EditButton,{className:"spacer-left",onClick:e.onEnterEditionMode})),a&&c&&i.createElement(Ae.a,{onKeydown:e.onExitEditionMode},i.createElement(Ie.a,{onClickOutside:e.onExitEditionMode},i.createElement(Ke,{allowCurrentUserSelection:a.login!==(null===(o=r)||void 0===o?void 0:o.login),loggedInUser:a,onSelect:e.onAssign}))))}var Ye=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={editing:!1,loading:!1},t.handleEnterEditionMode=function(){t.setState({editing:!0})},t.handleExitEditionMode=function(){t.setState({editing:!1})},t.handleAssign=function(e){var n,o;e&&e.login&&(t.setState({loading:!0}),(n=t.props.hotspot.key,o={assignee:e.login},Object(u.post)("/api/hotspots/assign",m({hotspot:n},o)).catch(p.a)).then(function(){t.mounted&&(t.setState({editing:!1,loading:!1}),t.props.onAssigneeChange())}).then(function(){return Object(Se.a)(Object(w.translateWithParameters)("hotspots.assign.success",e.name))}).catch(function(){return t.setState({loading:!1})}))},t}return Ye(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.hotspot,o=n.assigneeUser,r=n.status,s=this.state,a=s.editing,c=s.loading,l=r===f.TO_REVIEW;return i.createElement(Ge,{assignee:o,canEdit:l,editing:a,loading:c,loggedInUser:Object(_.b)(t)?t:void 0,onAssign:this.handleAssign,onEnterEditionMode:this.handleEnterEditionMode,onExitEditionMode:this.handleExitEditionMode})},t}(i.PureComponent),Je=Object(E.a)(Xe),Ze=n(790),Qe=n(982),$e=n(675),et=n.n($e),tt=n(673),nt=n(988);function ot(e){var t=i.useState(e.markdownComment),n=t[0],o=t[1];return i.createElement("div",{className:"issue-comment-bubble-popup"},i.createElement("div",{className:"issue-comment-form-text"},i.createElement("textarea",{autoFocus:!0,onChange:function(e){return o(e.target.value)},rows:2,value:n})),i.createElement("div",{className:"spacer-top display-flex-space-between"},i.createElement("div",{className:"issue-comment-form-tips"},i.createElement(Ze.a,null)),i.createElement("div",{className:""},i.createElement(_e.Button,{className:"little-spacer-right",onClick:function(){return e.onCommentEditSubmit(n)}},Object(w.translate)("save")),i.createElement(_e.ResetButtonLink,{onClick:function(){o(""),e.onCancelEdit()}},Object(w.translate)("cancel")))))}function rt(e){var t=function(e){var t=[];return e.creationDate&&t.push({type:b.Creation,date:e.creationDate,user:ae(ae({},e.authorUser),{name:e.authorUser.name||e.authorUser.login})}),e.changelog&&e.changelog.length>0&&t.push.apply(t,e.changelog.map(function(e){return{type:b.Diff,date:e.creationDate,user:{active:e.isUserActive,avatar:e.avatar,name:e.userName||e.user},diffs:e.diffs}})),e.comment&&e.comment.length>0&&t.push.apply(t,e.comment.map(function(e){return{type:b.Comment,date:e.createdAt,updatable:e.updatable,user:ae(ae({},e.user),{name:e.user.name||e.user.login}),html:e.htmlText,key:e.key,markdown:e.markdown}})),se()(t,function(e){return e.date})}(e.hotspot),n=i.useState(""),o=n[0],r=n[1];return i.createElement(i.Fragment,null,t.map(function(t,n){var s=t.user,a=t.type,c=t.diffs,l=t.date,u=t.html,p=t.key,m=t.updatable,d=t.markdown;return i.createElement("div",{className:$("padded",{"bordered-top":n>0}),key:n},i.createElement("div",{className:"display-flex-center"},s.name&&i.createElement(i.Fragment,null,i.createElement(Ve.a,{className:"little-spacer-right",hash:s.avatar,name:s.name,size:20}),i.createElement("strong",null,s.active?s.name:Object(w.translateWithParameters)("user.x_deleted",s.name)),a===b.Creation&&i.createElement("span",{className:"little-spacer-left"},Object(w.translate)("hotspots.review_history.created")),a===b.Comment&&i.createElement("span",{className:"little-spacer-left"},Object(w.translate)("hotspots.review_history.comment_added")),i.createElement("span",{className:"little-spacer-left little-spacer-right"},"-")),i.createElement(tt.a,{date:l})),a===b.Diff&&c&&i.createElement("div",{className:"spacer-top"},c.map(function(e,t){return i.createElement(nt.a,{diff:e,key:t})})),a===b.Comment&&p&&u&&d&&i.createElement("div",{className:"spacer-top display-flex-space-between"},i.createElement("div",{className:"markdown",dangerouslySetInnerHTML:{__html:Object(Qe.sanitize)(u)}}),m&&i.createElement("div",null,i.createElement("div",{className:"dropdown"},i.createElement(et.a,{onRequestClose:function(){r("")},open:p===o,overlay:i.createElement(Ue.DropdownOverlay,{placement:Be.PopupPlacement.BottomRight},i.createElement(ot,{markdownComment:d,onCancelEdit:function(){return r("")},onCommentEditSubmit:function(t){r(""),e.onEditComment(p,t)}}))},i.createElement(_e.EditButton,{className:"it__hotspots-comment-edit button-small",onClick:function(){return r(p)}}))),i.createElement(Fe.a,{onOpen:function(){return r("")},overlay:i.createElement("div",{className:"padded abs-width-150"},i.createElement("p",null,Object(w.translate)("issue.comment.delete_confirm_message")),i.createElement(_e.Button,{className:"button-red big-spacer-top pull-right",onClick:function(){return e.onDeleteComment(p)}},Object(w.translate)("delete"))),overlayPlacement:Be.PopupPlacement.BottomRight},i.createElement(_e.DeleteButton,{className:"it__hotspots-comment-delete button-small"})))))}))}var st=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),at=function(e){function t(t){var n=e.call(this,t)||this;return n.handleCommentChange=function(e){n.setState({comment:e.target.value})},n.handleCloseComment=function(){n.setState({comment:""}),n.props.onCloseComment()},n.handleSubmitComment=function(){return(e=n.props.hotspot.key,t=n.state.comment,Object(u.post)("/api/hotspots/add_comment",{hotspot:e,comment:t}).catch(p.a)).then(function(){n.setState({comment:""}),n.props.onCloseComment(),n.props.onCommentUpdate()});var e,t},n.handleDeleteComment=function(e){return(t=e,Object(u.post)("/api/hotspots/delete_comment",{comment:t}).catch(p.a)).then(function(){n.props.onCommentUpdate()});var t},n.handleEditComment=function(e,t){return function(e,t){return Object(u.post)("/api/hotspots/edit_comment",{comment:e,text:t}).catch(p.a)}(e,t).then(function(){n.props.onCommentUpdate()})},n.state={comment:""},n}return st(t,e),t.prototype.componentDidUpdate=function(e){e.hotspot!==this.props.hotspot&&this.setState({comment:""})},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.hotspot,o=e.commentTextRef,r=e.commentVisible,s=this.state.comment;return i.createElement(i.Fragment,null,i.createElement("h1",null,Object(w.translate)("hotspot.section.activity")),i.createElement("div",{className:"padded"},i.createElement(rt,{hotspot:n,onDeleteComment:this.handleDeleteComment,onEditComment:this.handleEditComment}),Object(_.b)(t)&&i.createElement(i.Fragment,null,i.createElement("hr",null),i.createElement("div",{className:"big-spacer-top"},i.createElement(_e.Button,{className:$({invisible:r}),id:"hotspot-comment-box-display",onClick:this.props.onOpenComment},Object(w.translate)("hotspots.comment.open")),i.createElement("div",{className:$({invisible:!r})},i.createElement("div",{className:"little-spacer-bottom"},Object(w.translate)("hotspots.comment.field")),i.createElement("textarea",{className:"form-field fixed-width width-100 spacer-bottom",onChange:this.handleCommentChange,ref:o,rows:2,value:s}),i.createElement("div",{className:"display-flex-space-between display-flex-center "},i.createElement(Ze.a,{className:"huge-spacer-bottom"}),i.createElement("div",null,i.createElement(_e.Button,{className:"huge-spacer-bottom",id:"hotspot-comment-box-submit",onClick:this.handleSubmitComment},Object(w.translate)("hotspots.comment.submit")),i.createElement(_e.ResetButtonLink,{className:"spacer-left huge-spacer-bottom",id:"hotspot-comment-box-cancel",onClick:this.handleCloseComment},Object(w.translate)("cancel")))))))))},t}(i.PureComponent),it=n(687),ct=n(936),lt=n(990),ut=n(1129),pt=n(1191),mt=function(){};function dt(e){var t=e.branchLike,n=e.highlightedSymbols,o=e.hotspot,r=e.linePopup,s=e.loading,a=e.locations,c=e.sourceLines,l=e.sourceViewerFile;return i.createElement("div",{className:"bordered big-spacer-bottom"},i.createElement(ut.a,{branchLike:t,expandable:!1,linkToProject:!1,loading:s,onExpand:mt,sourceViewerFile:l}),i.createElement(P.a,{loading:s},c.length>0&&i.createElement(lt.a.Provider,{value:{branchLike:t,file:l}},i.createElement(pt.a,{branchLike:t,component:l,displaySCM:!1,expandBlock:function(t,n){return e.onExpandBlock(n)},handleCloseIssues:mt,handleLinePopupToggle:e.onLinePopupToggle,handleOpenIssues:mt,handleSymbolClick:e.onSymbolClick,highlightedLocationMessage:void 0,highlightedSymbols:n,index:0,issue:o,issuesByLine:{},last:!1,linePopup:r,loadDuplications:mt,locations:[],locationsByLine:a,onIssueChange:mt,onIssuePopupToggle:mt,onLocationSelect:mt,openIssuesByLine:{},renderDuplicationPopup:mt,snippet:c}))))}var ht,ft=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),gt=function(){return(gt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vt=50,yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={highlightedSymbols:[],loading:!0,sourceLines:[]},t.handleExpansion=function(e){var n=t.props,o=n.branchLike,r=n.hotspot,s=t.state.sourceLines,a="up"===e?{from:Math.max(1,s[0].line-vt),to:s[0].line-1}:{from:s[s.length-1].line+1,to:s[s.length-1].line+vt+1};return Object(it.u)(gt(gt({key:r.component.key},a),Object(x.d)(o))).then(function(n){var o,r="down"===e?t.checkLastLine(n,a.to):void 0;o="up"===e?n.concat(s):s.concat(r?n:n.slice(0,-1)),t.setState({lastLine:r,sourceLines:o})})},t.handleLinePopupToggle=function(e){var n=e.component,o=e.index,r=e.line,s=e.name,a=e.open;t.setState(function(t){var i=void 0!==t.linePopup&&t.linePopup.line===r&&t.linePopup.name===s&&t.linePopup.component===n&&t.linePopup.index===o;return!1===a||i?!0!==a&&i?{linePopup:void 0}:null:{linePopup:e}})},t.handleSymbolClick=function(e){t.setState({highlightedSymbols:e})},t}return ft(t,e),t.prototype.componentWillMount=function(){this.mounted=!0,this.fetchSources()},t.prototype.componentDidUpdate=function(e){e.hotspot.key!==this.props.hotspot.key&&this.fetchSources()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.checkLastLine=function(e,t){if(!(e.length<1)){var n=e[e.length-1].line;return n<t?n:void 0}},t.prototype.fetchSources=function(){var e=this,t=this.props,n=t.branchLike,o=t.hotspot,r=o.component,s=o.textRange,a=Math.max(1,s.startLine-5),i=s.endLine+5+1;return this.setState({loading:!0}),Object(it.u)(gt({key:r.key,from:a,to:i},Object(x.d)(n))).then(function(t){if(e.mounted){var n=e.checkLastLine(t,i);t=n?t:t.slice(0,-1),e.setState({lastLine:n,loading:!1,sourceLines:t})}}).catch(function(){return e.mounted&&e.setState({loading:!1})})},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.hotspot,o=this.state,r=o.highlightedSymbols,s=o.lastLine,a=o.linePopup,c=o.loading,l=o.sourceLines,u=Object(ct.d)([n]),p=function(e,t){var n=e.component,o=e.project;return{key:n.key,measures:{lines:t?t.toString():void 0},path:n.path||"",project:o.key,projectName:o.name,q:n.qualifier,uuid:""}}(n,s);return i.createElement(dt,{branchLike:t,highlightedSymbols:r,hotspot:n,lastLine:s,linePopup:a,loading:c,locations:u,onExpandBlock:this.handleExpansion,onLinePopupToggle:this.handleLinePopupToggle,onSymbolClick:this.handleSymbolClick,sourceLines:l,sourceViewerFile:p})},t}(i.Component),bt=(n(1678),n(937)),Et=n.n(bt),Ot=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();!function(e){e.RiskDescription="risk",e.VulnerabilityDescription="vulnerability",e.FixRecommendation="fix"}(ht||(ht={}));var xt=function(e){function t(t){var n=e.call(this,t)||this;n.handleSelectTabs=function(e){var t=n.state.tabs.find(function(t){return t.key===e});n.setState({currentTab:t})};var o=n.computeTabs();return n.state={currentTab:o[0],tabs:o},n}return Ot(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.hotspot.key!==e.hotspot.key){var t=this.computeTabs();this.setState({currentTab:t[0],tabs:t})}},t.prototype.computeTabs=function(){var e=this.props.hotspot;return[{key:ht.RiskDescription,label:Object(w.translate)("hotspots.tabs.risk_description"),content:e.rule.riskDescription||""},{key:ht.VulnerabilityDescription,label:Object(w.translate)("hotspots.tabs.vulnerability_description"),content:e.rule.vulnerabilityDescription||""},{key:ht.FixRecommendation,label:Object(w.translate)("hotspots.tabs.fix_recommendations"),content:e.rule.fixRecommendations||""}].filter(function(e){return Boolean(e.content)})},t.prototype.render=function(){var e=this.state,t=e.tabs,n=e.currentTab;return 0===t.length?null:i.createElement(i.Fragment,null,i.createElement(Et.a,{onSelect:this.handleSelectTabs,selected:n.key,tabs:t}),i.createElement("div",{className:"bordered huge-spacer-bottom"},i.createElement("div",{className:"markdown big-padded",dangerouslySetInnerHTML:{__html:Object(Qe.sanitize)(n.content)}})))},t}(i.PureComponent),kt=n(644),_t=n.n(kt);n(1680);function Ct(e){var t=e.statusOption,n=e.showTitle;return i.createElement("div",null,i.createElement("h3",null,n&&Object(w.translate)("status")+": ",Object(w.translate)("hotspots.status_option",t)),i.createElement("span",null,Object(w.translate)("hotspots.status_option",t,"description")))}var jt=n(883),Pt=n.n(jt);function wt(e){var t=e.comment,n=e.loading,o=e.selectedStatus,r=e.submitDisabled,s=function(t){return i.createElement(Pt.a,{checked:o===t,className:"big-spacer-bottom",onCheck:e.onStatusChange,value:t},i.createElement(Ct,{statusOption:t}))};return i.createElement(i.Fragment,null,i.createElement("div",{className:"big-padded"},s(y.TO_REVIEW),s(y.FIXED),s(y.SAFE)),i.createElement("hr",null),i.createElement("div",{className:"big-padded display-flex-column"},i.createElement("label",{className:"text-bold",htmlFor:"comment-textarea"},Object(w.translate)("hotspots.status.add_comment")),i.createElement("textarea",{className:"spacer-top form-field fixed-width spacer-bottom",id:"comment-textarea",onChange:function(t){return e.onCommentChange(t.currentTarget.value)},rows:4,value:t}),i.createElement(Ze.a,null),i.createElement("div",{className:"big-spacer-top display-flex-justify-end display-flex-center"},i.createElement(_e.SubmitButton,{disabled:r||n,onClick:e.onSubmit},Object(w.translate)("hotspots.status.change_status")),n&&i.createElement("i",{className:"spacer-left spinner"}))))}var St=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nt=function(){return(Nt=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},At=function(e){function t(t){var n=e.call(this,t)||this;n.mounted=!1,n.handleStatusChange=function(e){n.setState({selectedStatus:e})},n.handleCommentChange=function(e){n.setState({comment:e})},n.handleSubmit=function(){var e,t,o,r=n.props.hotspot,s=n.state,a=s.comment,i=s.initialStatus,c=s.selectedStatus;c&&c!==i&&(n.setState({loading:!0}),(e=r.key,t=Nt(Nt({},(o=c,me[o])),{comment:a||void 0}),Object(u.post)("/api/hotspots/change_status",m({hotspot:e},t)).catch(p.a)).then(function(){n.setState({loading:!1}),n.props.onStatusOptionChange(c)}).then(function(){return Object(Se.a)(Object(w.translateWithParameters)("hotspots.update.success",Object(w.translate)("hotspots.status_option",c)))}).catch(function(){return n.setState({loading:!1})}))};var o=pe(t.hotspot.status,t.hotspot.resolution);return n.state={loading:!1,initialStatus:o,selectedStatus:o},n}return St(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.state,t=e.comment,n=e.initialStatus,o=e.loading,r=e.selectedStatus,s=r===n;return i.createElement(wt,{comment:t,loading:o,onCommentChange:this.handleCommentChange,onStatusChange:this.handleStatusChange,onSubmit:this.handleSubmit,selectedStatus:r,submitDisabled:s})},t}(i.PureComponent);var Lt=Object(E.a)(function(e){var t=e.currentUser,n=e.hotspot,o=i.useState(!1),r=o[0],s=o[1],a=pe(n.status,n.resolution),c=!n.canChangeStatus||!Object(_.b)(t),l=i.createElement("div",{"aria-expanded":r,"aria-haspopup":!0,className:$("padded bordered display-flex-column display-flex-justify-center",{readonly:c}),id:"status-trigger",onClick:function(){return!c&&s(!0)},role:"button",tabIndex:0},i.createElement("div",{className:"display-flex-center display-flex-space-between"},r?i.createElement("span",{className:"h3"},Object(w.translate)("hotspots.status.select_status")):i.createElement(Ct,{showTitle:!0,statusOption:a}),!c&&i.createElement(he.a,{className:"big-spacer-left"}))),u=i.createElement(et.a,{closeOnClickOutside:!0,closeOnEscape:!0,onRequestClose:function(){return s(!1)},open:r,overlay:i.createElement(Ue.DropdownOverlay,{noPadding:!0,placement:Be.PopupPlacement.Bottom},i.createElement(At,{hotspot:n,onStatusOptionChange:function(){s(!1),e.onStatusChange()}}))},l);return i.createElement("div",{className:"dropdown"},c?i.createElement(_t.a,{overlay:Object(w.translate)("hotspots.status.cannot_change_status"),placement:"bottom"},u):u)}),It=function(){return(It=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var Tt=Object(E.a)(function(e){var t,n=e.branchLike,o=e.component,r=e.currentUser,s=e.hotspot,a=e.loading,c=e.securityCategories,l=e.commentTextRef,u=e.commentVisible,p=e.parentScrollRef,m=Object(I.getPathUrlAsString)(Object(we.j)(o.key,It(It({},Object(x.d)(n)),{hotspots:null===(t=s)||void 0===t?void 0:t.key})),!1);return i.createElement(P.a,{loading:a},s&&i.createElement("div",{className:"big-padded hotspot-content",ref:p},i.createElement("div",{className:"huge-spacer-bottom display-flex-space-between"},i.createElement("strong",{className:"big big-spacer-right"},s.message),i.createElement("div",{className:"display-flex-row flex-0"},Object(_.b)(r)&&i.createElement("div",{className:"dropdown spacer-right flex-1-0-auto"},i.createElement(_e.Button,{onClick:e.onOpenComment},Object(w.translate)("hotspots.comment.open"))),i.createElement(Ce.ClipboardButton,{className:"flex-1-0-auto",copyValue:m},i.createElement(Pe.a,{className:"spacer-right"}),i.createElement("span",null,Object(w.translate)("hotspots.get_permalink"))))),i.createElement("div",{className:"huge-spacer-bottom display-flex-row"},i.createElement("div",{className:"hotspot-information display-flex-column display-flex-space-between"},i.createElement("div",{className:"display-flex-center"},i.createElement("span",{className:"big-spacer-right"},Object(w.translate)("category")),i.createElement("strong",{className:"nowrap"},c[s.rule.securityCategory].title)),i.createElement("div",{className:"display-flex-center"},i.createElement("span",{className:"big-spacer-right"},Object(w.translate)("hotspots.risk_exposure")),i.createElement("div",{className:$("hotspot-risk-badge",s.rule.vulnerabilityProbability)},Object(w.translate)("risk_exposure",s.rule.vulnerabilityProbability))),i.createElement("div",{className:"display-flex-center"},i.createElement("span",{className:"big-spacer-right"},Object(w.translate)("assignee")),i.createElement("div",null,i.createElement(Je,{hotspot:s,onAssigneeChange:e.onUpdateHotspot})))),i.createElement("div",{className:"huge-spacer-left"},i.createElement(Lt,{hotspot:s,onStatusChange:e.onUpdateHotspot}))),i.createElement(yt,{branchLike:n,hotspot:s}),i.createElement(xt,{hotspot:s}),i.createElement(at,{commentTextRef:l,commentVisible:u,currentUser:r,hotspot:s,onCloseComment:e.onCloseComment,onCommentUpdate:e.onUpdateHotspot,onOpenComment:e.onOpenComment})))}),Rt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dt=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.fetchHotspot=function(){return n.setState({loading:!0}),(e=n.props.hotspotKey,Object(u.getJSON)("/api/hotspots/show",{hotspot:e}).then(function(e){var t=e.users,n=d(e,["users"]);return t&&(n.assignee&&(n.assigneeUser=t.find(function(e){return e.login===n.assignee})||{active:!0,login:n.assignee}),n.authorUser=t.find(function(e){return e.login===n.author})||{active:!0,login:n.author},n.comment.forEach(function(e){e.user=t.find(function(t){return t.login===e.login})||{active:!0,login:e.login}})),n}).catch(p.a)).then(function(e){return n.mounted&&n.setState({hotspot:e,loading:!1}),e}).catch(function(){return n.mounted&&n.setState({loading:!1})});var e},n.handleHotspotUpdate=function(){return n.fetchHotspot().then(function(e){if(e)return n.props.onUpdateHotspot(e.key)})},n.handleOpenComment=function(){n.setState({commentVisible:!0}),n.commentTextRef.current&&n.commentTextRef.current.focus({preventScroll:!0}),n.commentTextRef.current&&n.parentScrollRef.current&&Object(ke.scrollToElement)(n.commentTextRef.current,{parent:n.parentScrollRef.current,bottomOffset:100})},n.handleCloseComment=function(){n.setState({commentVisible:!1})},n.commentTextRef=i.createRef(),n.parentScrollRef=i.createRef(),n.state={loading:!1,commentVisible:!1},n}return Rt(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.fetchHotspot()},t.prototype.componentDidUpdate=function(e,t){e.hotspotKey!==this.props.hotspotKey&&this.fetchHotspot(),this.commentTextRef.current&&!t.commentVisible&&this.state.commentVisible&&this.commentTextRef.current.focus({preventScroll:!0})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.component,o=e.securityCategories,r=this.state,s=r.hotspot,a=r.loading,c=r.commentVisible;return i.createElement(Tt,{branchLike:t,component:n,commentTextRef:this.commentTextRef,commentVisible:c,hotspot:s,loading:a,onCloseComment:this.handleCloseComment,onOpenComment:this.handleOpenComment,onUpdateHotspot:this.handleHotspotUpdate,parentScrollRef:this.parentScrollRef,securityCategories:o})},t}(i.PureComponent);n(1454);function Mt(e){var t=e.branchLike,n=e.component,o=e.hotspots,r=e.hotspotsReviewedMeasure,s=e.hotspotsTotal,a=e.isStaticListOfHotspots,c=e.loading,l=e.loadingMeasure,u=e.loadingMore,p=e.securityCategories,m=e.selectedHotspot,d=e.filters;return i.createElement("div",{id:"security_hotspots"},i.createElement(J,{component:n,filters:d,hotspotsReviewedMeasure:r,isStaticListOfHotspots:a,loadingMeasure:l,onBranch:Object(x.f)(t),onChangeFilters:e.onChangeFilters,onShowAllHotspots:e.onShowAllHotspots}),i.createElement(A.a,null,function(r){var l=r.top;return i.createElement("div",{className:"wrapper",style:{top:l}},i.createElement(N.a,{suggestions:"security_hotspots"}),i.createElement(C.a,{title:Object(w.translate)("hotspots.page")}),i.createElement(S.a,{anchor:"security_hotspots_main"}),c?i.createElement(P.a,{className:"huge-spacer-left big-spacer-top"}):i.createElement(i.Fragment,null,0!==o.length&&m?i.createElement("div",{className:"layout-page"},i.createElement("div",{className:"sidebar"},i.createElement(xe,{hotspots:o,hotspotsTotal:s,isStaticListOfHotspots:a,loadingMore:u,onHotspotClick:e.onHotspotClick,onLoadMore:e.onLoadMore,securityCategories:p,selectedHotspot:m,statusFilter:d.status})),i.createElement("div",{className:"main"},i.createElement(Dt,{branchLike:t,component:n,hotspotKey:m.key,onUpdateHotspot:e.onUpdateHotspot,securityCategories:p}))):i.createElement(T,{filtered:d.assignedToMe||Object(x.f)(t)&&d.sinceLeakPeriod||d.status!==v.TO_REVIEW,isStaticListOfHotspots:a})))}))}n.d(t,"SecurityHotspotsApp",function(){return Wt});var Ut=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ft=function(){return(Ft=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ht=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o},Wt=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleCallFailure=function(){n.mounted&&n.setState({loading:!1,loadingMore:!1})},n.fetchSecurityHotspotsReviewed=function(){var e=n.props,t=e.branchLike,o=e.component,r=n.state.filters,s=r.sinceLeakPeriod?"new_security_hotspots_reviewed":"security_hotspots_reviewed";return n.setState({loadingMeasure:!0}),Object(l.d)(Ft({component:o.key,metricKeys:s},Object(x.d)(t))).then(function(e){var t;if(n.mounted){var o=e&&e.length>0?e[0]:void 0,s=r.sinceLeakPeriod?Object(O.b)(o):null===(t=o)||void 0===t?void 0:t.value;n.setState({hotspotsReviewedMeasure:s,loadingMeasure:!1})}}).catch(function(){n.mounted&&n.setState({loadingMeasure:!1})})},n.reloadSecurityHotspotList=function(){return n.setState({loading:!0}),n.fetchSecurityHotspots().then(function(e){var t=e.hotspots,o=e.paging;n.mounted&&n.setState({hotspots:t,hotspotsPageIndex:1,hotspotsTotal:o.total,loading:!1,selectedHotspot:t.length>0?t[0]:void 0})}).catch(n.handleCallFailure)},n.handleChangeFilters=function(e){n.setState(function(t){var n=t.filters;return{filters:Ft(Ft({},n),e)}},function(){n.reloadSecurityHotspotList(),void 0!==e.sinceLeakPeriod&&n.fetchSecurityHotspotsReviewed()})},n.handleHotspotClick=function(e){return n.setState({selectedHotspot:e})},n.handleHotspotUpdate=function(e){var t=n.state,o=t.hotspots,s=t.hotspotsPageIndex,i=o.findIndex(function(t){return t.key===e});return Promise.all(r()(s).map(function(e){return n.fetchSecurityHotspots(e+1)})).then(function(e){var t=a()(e,"hotspots"),o=e[e.length-1].paging,r=t[Math.min(i,t.length-1)];n.setState({hotspots:t,hotspotsPageIndex:o.pageIndex,hotspotsTotal:o.total,selectedHotspot:r})}).then(n.fetchSecurityHotspotsReviewed)},n.handleShowAllHotspots=function(){n.props.router.push(Ft(Ft({},n.props.location),{query:Ft(Ft({},n.props.location.query),{hotspots:void 0})}))},n.handleLoadMore=function(){var e=n.state,t=e.hotspots,o=e.hotspotsPageIndex;return n.setState({loadingMore:!0}),n.fetchSecurityHotspots(o+1).then(function(e){var r=e.hotspots;n.mounted&&n.setState({hotspots:Ht(t,r),hotspotsPageIndex:o+1,loadingMore:!1})}).catch(n.handleCallFailure)},n.state={loading:!0,loadingMeasure:!1,loadingMore:!1,hotspots:[],hotspotsPageIndex:1,securityCategories:{},selectedHotspot:void 0,filters:Ft(Ft({},n.constructFiltersFromProps(t)),{status:v.TO_REVIEW})},n}return Ut(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,Object(c.addNoFooterPageClass)(),this.fetchInitialData()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.component.key===e.component.key&&this.props.location.query.hotspots===e.location.query.hotspots||this.fetchInitialData(),Object(x.i)(this.props.branchLike,e.branchLike)&&Object(_.b)(this.props.currentUser)===Object(_.b)(e.currentUser)&&this.props.location.query.assignedToMe===e.location.query.assignedToMe&&this.props.location.query.sinceLeakPeriod===e.location.query.sinceLeakPeriod||this.setState(function(e){var n=e.filters;return{filters:Ft(Ft({},t.constructFiltersFromProps),n)}})},t.prototype.componentWillUnmount=function(){Object(c.removeNoFooterPageClass)(),this.mounted=!1},t.prototype.constructFiltersFromProps=function(e){return{assignedToMe:"true"===e.location.query.assignedToMe&&Object(_.b)(e.currentUser),sinceLeakPeriod:Object(x.h)(e.branchLike)||"true"===e.location.query.sinceLeakPeriod}},t.prototype.fetchInitialData=function(){var e=this;return Promise.all([Object(k.a)(),this.fetchSecurityHotspots(),this.fetchSecurityHotspotsReviewed()]).then(function(t){var n=t[0].sonarsourceSecurity,o=t[1],r=o.hotspots,s=o.paging;e.mounted&&e.setState({hotspots:r,hotspotsTotal:s.total,loading:!1,securityCategories:n,selectedHotspot:r.length>0?r[0]:void 0})}).catch(this.handleCallFailure)},t.prototype.fetchSecurityHotspots=function(e){void 0===e&&(e=1);var t=this.props,n=t.branchLike,o=t.component,r=t.location,s=this.state.filters,a=r.query.hotspots?r.query.hotspots.split(","):void 0;if(this.setState({hotspotKeys:a}),a&&a.length>0)return function(e,t){return Object(u.getJSON)("/api/hotspots/search",m(m({},t),{hotspots:e.join()})).catch(p.a)}(a,Ft({projectKey:o.key},Object(x.d)(n)));var i,c=s.status===v.TO_REVIEW?f.TO_REVIEW:f.REVIEWED,l=s.status===v.TO_REVIEW?void 0:g[s.status];return i=Ft({projectKey:o.key,p:e,ps:500,status:c,resolution:l,onlyMine:s.assignedToMe,sinceLeakPeriod:s.sinceLeakPeriod},Object(x.d)(n)),Object(u.getJSON)("/api/hotspots/search",i).catch(p.a)},t.prototype.render=function(){var e=this.props,t=e.branchLike,n=e.component,o=this.state,r=o.hotspotKeys,s=o.hotspots,a=o.hotspotsReviewedMeasure,c=o.hotspotsTotal,l=o.loading,u=o.loadingMeasure,p=o.loadingMore,m=o.securityCategories,d=o.selectedHotspot,h=o.filters;return i.createElement(Mt,{branchLike:t,component:n,filters:h,hotspots:s,hotspotsReviewedMeasure:a,hotspotsTotal:c,isStaticListOfHotspots:Boolean(r&&r.length>0),loading:l,loadingMeasure:u,loadingMore:p,onChangeFilters:this.handleChangeFilters,onHotspotClick:this.handleHotspotClick,onLoadMore:this.handleLoadMore,onShowAllHotspots:this.handleShowAllHotspots,onUpdateHotspot:this.handleHotspotUpdate,securityCategories:m,selectedHotspot:d})},t}(i.PureComponent);t.default=Object(E.a)(Wt)},660:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o,r=n(12),s=n(684),a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function i(e){var t=e.suggestions;return r.createElement(s.a.Consumer,null,function(e){var n=e.addSuggestions,o=e.removeSuggestions;return r.createElement(c,{addSuggestions:n,removeSuggestions:o,suggestions:t})})}var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidMount=function(){this.props.addSuggestions(this.props.suggestions)},t.prototype.componentDidUpdate=function(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))},t.prototype.componentWillUnmount=function(){this.props.removeSuggestions(this.props.suggestions)},t.prototype.render=function(){return null},t}(r.PureComponent)},673:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var o=n(12),r=n(634),s=n(160),a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};function c(e){var t=e.children,n=e.date;return o.createElement(r.FormattedDate,a({value:Object(s.parseDate)(n)},i),t)}},674:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l});var o=n(12),r=n(634),s=n(160),a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i={year:"numeric",month:"short",day:"2-digit"},c={year:"numeric",month:"long",day:"numeric"};function l(e){var t=e.children,n=e.date,l=e.long;return o.createElement(r.FormattedDate,a({value:Object(s.parseDate)(n)},l?c:i),t)}},678:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o,r=n(12),s=n(34),a=n(728),i=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(){return(c=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function l(e){return r.createElement(a.a.Consumer,null,function(t){var n=t.addA11ySkipLink,o=t.removeA11ySkipLink;return r.createElement(u,c({addA11ySkipLink:n,removeA11ySkipLink:o},e))})}var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getLink=function(){var e=t.props,n=e.anchor,o=e.label;return{key:n,label:void 0===o?Object(s.translate)("skip_to_content"):o,weight:e.weight}},t}return i(t,e),t.prototype.componentDidMount=function(){this.props.addA11ySkipLink(this.getLink())},t.prototype.componentWillUnmount=function(){this.props.removeA11ySkipLink(this.getLink())},t.prototype.render=function(){var e=this.props.anchor;return r.createElement("span",{id:"a11y_target__"+e})},t}(r.PureComponent)},689:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(12),r=n(634),s=n(160);function a(e){var t=e.children,n=e.date;return o.createElement(r.FormattedRelative,{value:Object(s.parseDate)(n)},t)}},703:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(12),r=n(772),s=n.n(r),a=n(34);function i(e){var t=e.className,n=e.severity;return n?o.createElement("span",{className:t},o.createElement(s.a,{className:"little-spacer-right",severity:n}),Object(a.translate)("severity",n)):null}},706:function(e,t,n){"use strict";var o;n.d(t,"a",function(){return o}),function(e){e.Application="APP",e.Directory="DIR",e.Developper="DEV",e.File="FIL",e.Portfolio="VW",e.Project="TRK",e.SubPortfolio="SVW",e.SubProject="BRC",e.TestFile="UTS"}(o||(o={}))},718:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var o=n(672),r=n(745),s=function(){return(s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=["sqale_rating","maintainability_rating","reliability_rating","security_rating"];function i(e,t){return s(s({},e),{metric:t[e.metric],leak:c(e)})}function c(e){if(e&&e.periods){var t=Object(r.a)(e.periods);return t&&t.value}}function l(e,t){var n=Object(o.isDiffMetric)(e)?e.substr(4):e;if(a.includes(n))return Object(o.getRatingTooltip)(n,t)}},727:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var o=n(12),r=n(644),s=n.n(r),a=n(698),i=n.n(a),c=n(716),l=n.n(c),u=n(647),p=n(718);function m(e){var t=e.className,n=e.decimals,r=e.metricKey,a=e.metricType,c=e.small,m=e.value;if(void 0===m)return o.createElement("span",{className:t},"–");if("LEVEL"===a)return o.createElement(i.a,{className:t,level:m,small:c});if("RATING"!==a){var d=Object(u.formatMeasure)(m,a,{decimals:n});return o.createElement("span",{className:t},null!=d?d:"–")}var h=Object(p.c)(r,Number(m)),f=o.createElement(l.a,{small:c,value:m});return h?o.createElement(s.a,{overlay:h},o.createElement("span",{className:t},f)):f}},739:function(e,t,n){var o=n(807);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(642)(o,r);o.locals&&(e.exports=o.locals)},745:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return c});var o=n(160),r=n(34);function s(e){return function(e,t){if(Array.isArray(e))return e.find(function(e){return e.index===t})}(e,1)}function a(e,t){if(e){var n=e.modeParam||e.parameter||"";switch(e.mode){case"SPECIFIC_ANALYSIS":n=t(e.date);break;case"PREVIOUS_VERSION":n=n||t(e.date);break;case"previous_version":if(!n)return Object(r.translate)("overview.period.previous_version_only_date");break;case"date":n=n&&t(n);break;case"manual_baseline":n=n||t(e.date)}return Object(r.translateWithParameters)("overview.period."+e.mode.toLowerCase(),n)}}function i(e){return e&&e.date?Object(o.parseDate)(e.date):void 0}function c(e){return void 0!==e.project}},746:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var o=n(714),r=n(713);function s(e){Object(r.default)().dispatch(o.b(e))}},770:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n(639),r=n(12),s=n(659),a=n.n(s),i=n(730),c=n.n(i),l=n(34);n(739);function u(e){var t=e.allowUpdate,n=void 0!==t&&t,s=e.className,i=e.tags;return r.createElement("span",{"aria-label":Object(l.translateWithParameters)("tags_list_x",i.join(", ")),className:o("tags-list",s)},r.createElement(c.a,{className:"text-middle"}),r.createElement("span",{"aria-hidden":!0,className:"text-ellipsis text-middle",title:i.join(", ")},i.join(", ")),n&&r.createElement(a.a,{className:"text-middle"}))}},771:function(e,t,n){"use strict";var o,r=n(696),s=n.n(r),a=n(12),i=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e){function t(t){var n=e.call(this,t)||this;return n.getPosition=function(){var e=n.container&&n.container.getBoundingClientRect();return e?{top:window.pageYOffset+e.top,left:window.pageXOffset+e.left}:{top:0,left:0}},n.debouncedOnResize=s()(function(){return n.forceUpdate()},250),n}return i(t,e),t.prototype.componentDidMount=function(){this.forceUpdate(),window.addEventListener("resize",this.debouncedOnResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.debouncedOnResize)},t.prototype.render=function(){var e=this;return a.createElement("div",{className:this.props.className,ref:function(t){return e.container=t}},this.props.children(this.getPosition()))},t}(a.PureComponent);t.a=c},785:function(e,t,n){"use strict";var o=n(715),r=n.n(o),s=n(639),a=n(12),i=n(682),c=n.n(i),l=n(34),u=n(670),p=n.n(u);function m(e){var t=e.active,n=e.custom,o=e.disabled,r=e.element,i=e.selected,c=function(){return e.onHover(r)},u=s({active:t,disabled:o}),m=e.renderLabel(r);return a.createElement("li",{onFocus:c,onMouseOver:c},a.createElement(p.a,{checked:Boolean(i),className:u,disabled:o,id:r,onCheck:e.onSelectChange},n?a.createElement("span",{"aria-label":Object(l.translate)("create_new_element")+": "+m,className:"little-spacer-left"},a.createElement("span",{"aria-hidden":!0,className:"little-spacer-right"},"+"),m):a.createElement("span",{className:"little-spacer-left"},m)))}var d,h=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o},g=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleSelectChange=function(e,t){e?n.onSelectItem(t):n.onUnselectItem(t)},n.handleSearchChange=function(e){n.onSearchQuery(n.props.validateSearchInput(e))},n.handleElementHover=function(e){n.setState(function(t,o){return{activeIdx:n.getAllElements(o,t).indexOf(e)}})},n.handleKeyboard=function(e){switch(e.keyCode){case 40:e.stopPropagation(),e.preventDefault(),n.setState(n.selectNextElement);break;case 38:e.stopPropagation(),e.preventDefault(),n.setState(n.selectPreviousElement);break;case 37:case 39:e.stopPropagation();break;case 13:n.state.activeIdx>=0&&n.toggleSelect(n.getAllElements(n.props,n.state)[n.state.activeIdx])}},n.onSearchQuery=function(e){n.setState({activeIdx:0,loading:!0,query:e}),n.props.onSearch(e).then(n.stopLoading,n.stopLoading)},n.onSelectItem=function(e){n.isNewElement(e,n.props)&&n.onSearchQuery(""),n.props.onSelect(e)},n.onUnselectItem=function(e){return n.props.onUnselect(e)},n.isNewElement=function(e,t){var n=t.selectedElements,o=t.elements;return e.length>0&&-1===n.indexOf(e)&&-1===o.indexOf(e)},n.updateSelectedElements=function(e){n.setState(function(t){return t.query?{selectedElements:e.filterSelected(t.query,e.selectedElements)}:{selectedElements:f(e.selectedElements)}})},n.updateUnselectedElements=function(e){n.setState(function(t){return 0===e.listSize?{unselectedElements:r()(e.elements,e.selectedElements)}:e.listSize<t.selectedElements.length?{unselectedElements:[]}:{unselectedElements:r()(e.elements,e.selectedElements).slice(0,e.listSize-t.selectedElements.length)}})},n.getAllElements=function(e,t){return n.isNewElement(t.query,e)?f(t.selectedElements,t.unselectedElements,[t.query]):f(t.selectedElements,t.unselectedElements)},n.setElementActive=function(e){return n.setState({activeIdx:e})},n.selectNextElement=function(e,t){var o=e.activeIdx,r=n.getAllElements(t,e);return o<0||o>=r.length-1?{activeIdx:0}:{activeIdx:o+1}},n.selectPreviousElement=function(e,t){var o=e.activeIdx,r=n.getAllElements(t,e);return o<=0?{activeIdx:r.length-1}:{activeIdx:o-1}},n.stopLoading=function(){n.mounted&&n.setState({loading:!1})},n.toggleSelect=function(e){-1===n.props.selectedElements.indexOf(e)?n.onSelectItem(e):n.onUnselectItem(e)},n.state={activeIdx:0,loading:!0,query:"",selectedElements:[],unselectedElements:[]},n}return h(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.onSearchQuery(""),this.updateSelectedElements(this.props),this.updateUnselectedElements(this.props),this.container&&this.container.addEventListener("keydown",this.handleKeyboard,!0)},t.prototype.componentWillReceiveProps=function(e){if(this.props.elements!==e.elements||this.props.selectedElements!==e.selectedElements){this.updateSelectedElements(e),this.updateUnselectedElements(e);var t=this.getAllElements(e,this.state).length;this.state.activeIdx>=t&&this.setState({activeIdx:t-1})}},t.prototype.componentDidUpdate=function(){this.searchInput&&this.searchInput.focus()},t.prototype.componentWillUnmount=function(){this.mounted=!1,this.container&&this.container.removeEventListener("keydown",this.handleKeyboard)},t.prototype.render=function(){var e=this,t=this.props,n=t.allowSelection,o=void 0===n||n,r=t.allowNewElements,i=void 0===r||r,u=t.footerNode,p=void 0===u?"":u,d=this.props.renderLabel,h=this.state,f=h.query,g=h.activeIdx,v=h.selectedElements,y=h.unselectedElements,b=this.getAllElements(this.props,this.state)[g],E=i&&this.isNewElement(f,this.props),O=0===this.props.listSize,x=s("menu",{"menu-vertically-limited":O,"spacer-top":O,"with-top-separator":O,"with-bottom-separator":Boolean(p)});return a.createElement("div",{className:"multi-select",ref:function(t){return e.container=t}},a.createElement("div",{className:"menu-search"},a.createElement(c.a,{autoFocus:!0,className:"little-spacer-top",loading:this.state.loading,onChange:this.handleSearchChange,placeholder:this.props.placeholder,value:f})),a.createElement("ul",{className:x},v.length>0&&v.map(function(t){return a.createElement(m,{active:b===t,element:t,key:t,onHover:e.handleElementHover,onSelectChange:e.handleSelectChange,renderLabel:d,selected:!0})}),y.length>0&&y.map(function(t){return a.createElement(m,{active:b===t,disabled:!o,element:t,key:t,onHover:e.handleElementHover,onSelectChange:e.handleSelectChange,renderLabel:d})}),E&&a.createElement(m,{active:b===f,custom:!0,element:f,key:f,onHover:this.handleElementHover,onSelectChange:this.handleSelectChange,renderLabel:d}),!E&&v.length<1&&y.length<1&&a.createElement("li",{className:"spacer-left"},Object(l.translateWithParameters)("no_results_for_x",f))),p)},t.defaultProps={filterSelected:function(e,t){return t.filter(function(t){return t.includes(e)})},listSize:0,renderLabel:function(e){return e},validateSearchInput:function(e){return e}},t}(a.PureComponent);t.a=g},790:function(e,t,n){"use strict";var o,r=n(639),s=n(12),a=n(34),i=n(649),c=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.handleClick=function(e){e.preventDefault(),window.open(Object(i.n)(),"Markdown","height=300,width=600,scrollbars=1,resizable=1")},t.prototype.render=function(){return s.createElement("div",{className:r("markdown-tips",this.props.className)},s.createElement("a",{className:"little-spacer-right",href:"#",onClick:this.handleClick},Object(a.translate)("markdown.helplink")),":",s.createElement("span",{className:"spacer-left"},"*",Object(a.translate)("bold"),"*"),s.createElement("span",{className:"spacer-left"},"``",Object(a.translate)("code"),"``"),s.createElement("span",{className:"spacer-left"},"* ",Object(a.translate)("bulleted_point")))},t}(s.PureComponent);t.a=l},807:function(e,t,n){(e.exports=n(641)(!1)).push([e.i,".tags-list{white-space:nowrap;line-height:16px}.tags-list i:before{font-size:12px}.tags-list span{display:inline-block;vertical-align:middle;text-align:left;max-width:220px;padding-left:4px;padding-right:4px}",""])},842:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(12),r=n(34),s=n(785);n(739);function a(e){return o.createElement(s.a,{elements:e.tags,listSize:e.listSize,onSearch:e.onSearch,onSelect:e.onSelect,onUnselect:e.onUnselect,placeholder:Object(r.translate)("search.search_for_tags"),selectedElements:e.selectedTags,validateSearchInput:i})}function i(e){return e.toLowerCase().replace(/[^-a-z0-9+#.]/gi,"")}},845:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var o=n(12),r=n(925),s=n(661),a=Object(r.lazyLoadComponent)(function(){return Promise.all([n.e(26),n.e(377)]).then(n.t.bind(null,1109,7))},"DonutChart"),i={small:16,normal:24,big:40,huge:60},c={small:2,normal:3,big:3,huge:4};function l(e){var t=e.muted,n=void 0!==t&&t,r=e.size,l=void 0===r?"normal":r,u=e.value,p=[{value:100,fill:"#ccc "}],m=0;if(null!=u){var d=Number(u);p=[{value:d,fill:n?s.colors.gray71:s.colors.green},{value:100-d,fill:n?s.colors.barBackgroundColor:s.colors.lineCoverageRed}],0!==d&&d<100&&(m=.1)}var h=i[l],f=c[l];return o.createElement(a,{data:p,height:h,padAngle:m,thickness:f,width:h})}},859:function(e,t,n){"use strict";var o=n(12),r=n(878),s=n.n(r),a=n(48);function i(e){return Object(a.post)("/api/favorites/add",{component:e})}function c(e){return Object(a.post)("/api/favorites/remove",{component:e})}var l,u=(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.toggleFavorite=function(){var e=!n.state.favorite;return(e?i:c)(n.props.component).then(function(){n.mounted&&n.setState({favorite:e},function(){n.props.handleFavorite&&n.props.handleFavorite(n.props.component,e)})})},n.state={favorite:t.favorite},n}return u(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentDidUpdate=function(e,t){t.favorite!==this.props.favorite&&this.setState({favorite:this.props.favorite})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.className,n=e.qualifier,r=this.state.favorite;return o.createElement(s.a,{className:t,favorite:r,qualifier:n,toggleFavorite:this.toggleFavorite})},t}(o.PureComponent);t.a=p},881:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(639),r=n(12),s=(n(1040),function(){return(s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function i(e){var t=e.children,n=e.leading,i=e.onClick,c=e.selected,l=a(e,["children","leading","onClick","selected"]),u=i?{onClick:i,role:"button",tabIndex:0}:{};return r.createElement("div",s({className:o("location-index",{"is-leading":n,selected:c})},u,l),t)}},882:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(12),r=n(1195),s=n.n(r),a=n(34);function i(e){var t=e.resolution&&" ("+Object(a.translate)("issue.resolution",e.resolution)+")";return o.createElement("span",{className:e.className},o.createElement(s.a,{className:"little-spacer-right",status:e.status}),Object(a.translate)("issue.status",e.status),t)}},935:function(e,t,n){"use strict";function o(){return n.e(378).then(n.t.bind(null,1153,3)).then(function(e){return e.default})}function r(e,t){var n=e.cwe[t];return n?"unknown"===t?n.title:"CWE-"+t+" - "+n.title:"CWE-"+t}function s(e,t,n){void 0===n&&(n=!1);var o=e.owaspTop10[t];return c(o?t.toUpperCase()+" - "+o.title:t.toUpperCase(),"OWASP",n)}function a(e,t,n){void 0===n&&(n=!1);var o=e.sansTop25[t];return c(o?o.title:t,"SANS",n)}function i(e,t,n){void 0===n&&(n=!1);var o=e.sonarsourceSecurity[t];return o?"others"===t?o.title:c(o.title,"SONAR",n):c(t.toUpperCase(),"SONAR",n)}function c(e,t,n){return n?t+" "+e:e}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return i})},936:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return p});var o=n(1013),r=n.n(o),s=n(1038),a=n(989);function i(e){var t={};return e.forEach(function(e){var n=e.textRange?e.textRange.endLine:0;n in t||(t[n]=[]),t[n].push(e)}),t}function c(e){return void 0===e&&(e=[]),e.reduce(function(e,t){e[t.component]=e[t.component]||{};var n=t.textRange?t.textRange.endLine:0;return e[t.component][n]=e[t.component][n]||[],e[t.component][n].push(t),e},{})}function l(e){var t={};return e.forEach(function(e){Object(a.a)(e.textRange).forEach(function(e){e.line in t||(t[e.line]=[]),t[e.line].push(e)})}),t}function u(e){if(null==e)return{};var t={};return e.forEach(function(e,n){e.blocks.forEach(function(e){if("1"===e._ref)for(var o=e.from;o<e.from+e.size;o++)o in t||(t[o]=[]),t[o].push(n)})}),t}function p(e){var t={};return e.forEach(function(e){var n=Object(s.c)(e.code||""),o=r()(n.map(function(e){var t=e.className.match(/sym-\d+/g);return null!=t?t:[]}));t[e.line]=o.filter(function(e){return e})}),t}},988:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n(12),r=n(34),s=n(647);function a(e){var t,n=e.diff;if("file"===n.key)return o.createElement("p",null,Object(r.translateWithParameters)("issue.change.file_move",n.oldValue||"",n.newValue||""));if(["from_long_branch","from_branch"].includes(n.key))return o.createElement("p",null,Object(r.translateWithParameters)("issue.change.from_branch",n.oldValue||"",n.newValue||""));if("from_short_branch"===n.key)return o.createElement("p",null,Object(r.translateWithParameters)("issue.change.from_non_branch",n.oldValue||"",n.newValue||""));if("line"===n.key)return o.createElement("p",null,Object(r.translateWithParameters)("issue.changelog.line_removed_X",n.oldValue||""));if(null!=n.newValue){var a=n.newValue;"effort"===n.key&&(a=Object(s.formatMeasure)(n.newValue,"WORK_DUR")),t=Object(r.translateWithParameters)("issue.changelog.changed_to",Object(r.translate)("issue.changelog.field",n.key),a)}else t=Object(r.translateWithParameters)("issue.changelog.removed",Object(r.translate)("issue.changelog.field",n.key));if(null!=n.oldValue){var i=n.oldValue;"effort"===n.key&&(i=Object(s.formatMeasure)(n.oldValue,"WORK_DUR")),t+=" ("+Object(r.translateWithParameters)("issue.changelog.was",i)+")"}return o.createElement("p",null,t)}},989:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return a});var o=function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var s=arguments[t],a=0,i=s.length;a<i;a++,r++)o[r]=s[a];return o};function s(e){if(!e)return[];for(var t=[],n=e.startLine;n<=e.endLine;n++){var o=n===e.startLine?e.startOffset:0,r=n===e.endLine?e.endOffset:999999;t.push({line:n,from:o,to:r})}return t}function a(e,t){return t?t.reduce(function(t,n){var a=n?s(n.textRange).filter(function(t){return t.line===e.line}).map(function(e){return o(o({},e),{startLine:n.textRange.startLine,index:n.index,text:n.msg})}):[];return r(t,a)},[]):[]}},990:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(12),r=o.createContext({branchLike:{},file:{}})}}]);
//# sourceMappingURL=283.1582644816097.chunk.js.map