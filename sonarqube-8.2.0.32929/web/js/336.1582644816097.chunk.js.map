{"version":3,"sources":["webpack:///./src/main/js/components/common/CodeSnippet.css?2955","webpack:///./src/main/js/components/common/CodeSnippet.css","webpack:///./src/main/js/api/webhooks.ts","webpack:///./src/main/js/apps/webhooks/components/CreateWebhookForm.tsx","webpack:///./src/main/js/apps/webhooks/components/PageActions.tsx","webpack:///./src/main/js/apps/webhooks/components/PageHeader.tsx","webpack:///./src/main/js/apps/webhooks/components/DeleteWebhookForm.tsx","webpack:///./src/main/js/apps/webhooks/components/DeliveryItem.tsx","webpack:///./src/main/js/apps/webhooks/components/DeliveryAccordion.tsx","webpack:///./src/main/js/apps/webhooks/components/DeliveriesForm.tsx","webpack:///./src/main/js/apps/webhooks/components/WebhookActions.tsx","webpack:///./src/main/js/apps/webhooks/components/LatestDeliveryForm.tsx","webpack:///./src/main/js/apps/webhooks/components/WebhookItemLatestDelivery.tsx","webpack:///./src/main/js/apps/webhooks/components/WebhookItem.tsx","webpack:///./src/main/js/apps/webhooks/components/WebhooksList.tsx","webpack:///./src/main/js/apps/webhooks/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/common/CodeSnippet.tsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","searchDeliveries","data","Object","request","catch","throwGlobalError","getDelivery","_super","CreateWebhookForm","_this","apply","this","arguments","handleCancelClick","event","preventDefault","currentTarget","blur","props","onClose","handleValidate","name","secret","url","errors","trim","l10n","startsWith","valid_url","length","__extends","prototype","render","webhook","isUpdate","modalHeader","confirmButtonText","index_js_exposed","ValidationModal_default","a","header","initialValues","isInitialValid","onSubmit","onDone","size","validate","_a","dirty","handleBlur","handleChange","isSubmitting","touched","values","InputValidationField_default","autoFocus","disabled","error","id","label","htmlFor","className","onBlur","onChange","type","value","description","WEBHOOKS_LIMIT","PageActions","mounted","state","openCreate","handleCreateClose","setState","handleCreateOpen","renderCreate","webhooksCount","Tooltip_default","overlay","buttons","onClick","components_CreateWebhookForm","onCreate","PageActions_extends","componentDidMount","componentWillUnmount","loading","PageHeader","children","index_es","defaultMessage","es","to","DeleteWebhookForm","SimpleModal_default","onCloseClick","onFormSubmit","submitting","DeferredSpinner_default","DeliveryItem","delivery","payload","httpStatus","measures","durationMs","CodeSnippet","noCopy","snippet","formatPayload","JSON","stringify","parse","DeliveryAccordion","open","fetchPayload","deliveryId","then","handleClick","DeliveryAccordion_extends","BoxedGroupAccordion_default","renderHeader","success","AlertSuccessIcon_default","AlertErrorIcon_default","title","DateTimeFormatter","date","at","PAGE_SIZE","DeliveriesForm","deliveries","fetchDeliveries","key","ps","paging","stopLoading","fetchMoreDeliveries","p","pageIndex","__spreadArrays","DeliveriesForm_extends","Modal_default","contentLabel","onRequestClose","map","components_DeliveryAccordion","ListFooter_default","count","loadMore","ready","total","WebhookActions","deleting","updating","handleDelete","onDelete","handleDeleteClick","handleDeletingStop","handleDeliveriesClick","handleDeliveriesStop","handleUpdate","onUpdate","__assign","handleUpdateClick","handleUpdatingStop","WebhookActions_extends","ActionsDropdown_default","ActionsDropdown","latestDelivery","destructive","components_DeliveriesForm","LatestDeliveryForm","LatestDeliveryForm_extends","_b","WebhookItemLatestDelivery","modal","handleModalClose","WebhookItemLatestDelivery_extends","BulletListIcon_default","components_LatestDeliveryForm","WebhookItem","components_WebhookItemLatestDelivery","components_WebhookActions","WebhooksList","WebhooksList_extends","webhooks","sortBy_default","toLowerCase","App_App","App","fetchWebhooks","getScopeParams","organization","component","organizationKey","project","handleCreate","createWebhook","App_assign","App_spreadArrays","filter","item","updateWebhook","App_extends","Suggestions","suggestions","index_module","defer","components_PageActions","components_WebhooksList","react__WEBPACK_IMPORTED_MODULE_0__","_SuggestionsContext__WEBPACK_IMPORTED_MODULE_1__","Consumer","addSuggestions","removeSuggestions","SuggestionsInner","componentDidUpdate","prevProps","formatterOption","year","month","day","hour","minute","react_intl__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","d","__webpack_exports__","classnames__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_clipboard__WEBPACK_IMPORTED_MODULE_2__","s","isOneLine","wrap","snippetArray","Array","isArray","line","finalSnippet","join","code-snippet-oneline","code-snippet-wrap","copyValue"],"mappings":"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","file":"js/336.1582644816097.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./CodeSnippet.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./CodeSnippet.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/postcss-loader/src/index.js??postcss!./CodeSnippet.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".code-snippet{position:relative;margin:8px 0;background:#404040;color:#f0f0f0;border-radius:3px}.code-snippet pre{padding:16px;overflow:auto}.code-snippet>button{position:absolute;top:16px;right:16px;line-height:18px;border:1px solid #fff;color:#fff;font-size:11px;font-weight:400;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.code-snippet>button:active,.code-snippet>button:focus,.code-snippet>button:hover{background-color:#fff;color:#404040}.code-snippet-oneline pre{padding-bottom:40px}.code-snippet-oneline>button{top:auto;bottom:16px}.code-snippet-wrap pre{white-space:pre-wrap;word-break:break-all}.code-snippet .highlight{font-weight:700;color:#f4b1b0}.code-snippet .button-icon{color:#fff!important}.code-snippet .button-icon:active svg,.code-snippet .button-icon:focus svg,.code-snippet .button-icon:hover svg{background-color:#fff;color:#404040}\", \"\"]);\n\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function createWebhook(data: {\n  name: string;\n  organization: string | undefined;\n  project?: string;\n  secret?: string;\n  url: string;\n}): Promise<{ webhook: T.Webhook }> {\n  return postJSON('/api/webhooks/create', data).catch(throwGlobalError);\n}\n\nexport function deleteWebhook(data: { webhook: string }): Promise<void | Response> {\n  return post('/api/webhooks/delete', data).catch(throwGlobalError);\n}\n\nexport function searchWebhooks(data: {\n  organization: string | undefined;\n  project?: string;\n}): Promise<{ webhooks: T.Webhook[] }> {\n  return getJSON('/api/webhooks/list', data).catch(throwGlobalError);\n}\n\nexport function updateWebhook(data: {\n  webhook: string;\n  name: string;\n  secret?: string;\n  url: string;\n}): Promise<void | Response> {\n  return post('/api/webhooks/update', data).catch(throwGlobalError);\n}\n\nexport function searchDeliveries(data: {\n  ceTaskId?: string;\n  componentKey?: string;\n  webhook?: string;\n  p?: number;\n  ps?: number;\n}): Promise<{\n  deliveries: T.WebhookDelivery[];\n  paging: T.Paging;\n}> {\n  return getJSON('/api/webhooks/deliveries', data).catch(throwGlobalError);\n}\n\nexport function getDelivery(data: {\n  deliveryId: string;\n}): Promise<{ delivery: T.WebhookDelivery & { payload: string } }> {\n  return getJSON('/api/webhooks/delivery', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport InputValidationField from 'sonar-ui-common/components/controls/InputValidationField';\nimport ValidationModal from 'sonar-ui-common/components/controls/ValidationModal';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { isWebUri } from 'valid-url';\n\ninterface Props {\n  onClose: () => void;\n  onDone: (data: Values) => Promise<void>;\n  webhook?: T.Webhook;\n}\n\ninterface Values {\n  name: string;\n  secret: string;\n  url: string;\n}\n\nexport default class CreateWebhookForm extends React.PureComponent<Props> {\n  handleCancelClick = (event: React.SyntheticEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onClose();\n  };\n\n  handleValidate = (data: Values) => {\n    const { name, secret, url } = data;\n    const errors: { name?: string; secret?: string; url?: string } = {};\n    if (!name.trim()) {\n      errors.name = translate('webhooks.name.required');\n    }\n    if (!url.trim()) {\n      errors.url = translate('webhooks.url.required');\n    } else if (!url.startsWith('http://') && !url.startsWith('https://')) {\n      errors.url = translate('webhooks.url.bad_protocol');\n    } else if (!isWebUri(url)) {\n      errors.url = translate('webhooks.url.bad_format');\n    }\n    if (secret && secret.length > 200) {\n      errors.secret = translate('webhooks.secret.bad_format');\n    }\n    return errors;\n  };\n\n  render() {\n    const { webhook } = this.props;\n    const isUpdate = !!webhook;\n    const modalHeader = isUpdate ? translate('webhooks.update') : translate('webhooks.create');\n    const confirmButtonText = isUpdate ? translate('update_verb') : translate('create');\n    return (\n      <ValidationModal\n        confirmButtonText={confirmButtonText}\n        header={modalHeader}\n        initialValues={{\n          name: (webhook && webhook.name) || '',\n          secret: (webhook && webhook.secret) || '',\n          url: (webhook && webhook.url) || ''\n        }}\n        isInitialValid={isUpdate}\n        onClose={this.props.onClose}\n        onSubmit={this.props.onDone}\n        size=\"small\"\n        validate={this.handleValidate}>\n        {({ dirty, errors, handleBlur, handleChange, isSubmitting, touched, values }) => (\n          <>\n            <InputValidationField\n              autoFocus={true}\n              dirty={dirty}\n              disabled={isSubmitting}\n              error={errors.name}\n              id=\"webhook-name\"\n              label={\n                <label htmlFor=\"webhook-name\">\n                  {translate('webhooks.name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n              }\n              name=\"name\"\n              onBlur={handleBlur}\n              onChange={handleChange}\n              touched={touched.name}\n              type=\"text\"\n              value={values.name}\n            />\n            <InputValidationField\n              description={translate('webhooks.url.description')}\n              dirty={dirty}\n              disabled={isSubmitting}\n              error={errors.url}\n              id=\"webhook-url\"\n              label={\n                <label htmlFor=\"webhook-url\">\n                  {translate('webhooks.url')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n              }\n              name=\"url\"\n              onBlur={handleBlur}\n              onChange={handleChange}\n              touched={touched.url}\n              type=\"text\"\n              value={values.url}\n            />\n            <InputValidationField\n              description={translate('webhooks.secret.description')}\n              dirty={dirty}\n              disabled={isSubmitting}\n              error={errors.secret}\n              id=\"webhook-secret\"\n              label={<label htmlFor=\"webhook-secret\">{translate('webhooks.secret')}</label>}\n              name=\"secret\"\n              onBlur={handleBlur}\n              onChange={handleChange}\n              touched={touched.secret}\n              type=\"password\"\n              value={values.secret}\n            />\n          </>\n        )}\n      </ValidationModal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport CreateWebhookForm from './CreateWebhookForm';\n\ninterface Props {\n  loading: boolean;\n  onCreate: (data: { name: string; secret?: string; url: string }) => Promise<void>;\n  webhooksCount: number;\n}\n\ninterface State {\n  openCreate: boolean;\n}\n\nconst WEBHOOKS_LIMIT = 10;\n\nexport default class PageActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { openCreate: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleCreateClose = () => {\n    if (this.mounted) {\n      this.setState({ openCreate: false });\n    }\n  };\n\n  handleCreateOpen = () => {\n    this.setState({ openCreate: true });\n  };\n\n  renderCreate = () => {\n    if (this.props.webhooksCount >= WEBHOOKS_LIMIT) {\n      return (\n        <Tooltip overlay={translateWithParameters('webhooks.maximum_reached', WEBHOOKS_LIMIT)}>\n          <Button className=\"js-webhook-create disabled\">{translate('create')}</Button>\n        </Tooltip>\n      );\n    }\n\n    return (\n      <>\n        <Button className=\"js-webhook-create\" onClick={this.handleCreateOpen}>\n          {translate('create')}\n        </Button>\n        {this.state.openCreate && (\n          <CreateWebhookForm onClose={this.handleCreateClose} onDone={this.props.onCreate} />\n        )}\n      </>\n    );\n  };\n\n  render() {\n    if (this.props.loading) {\n      return null;\n    }\n\n    return <div className=\"page-actions\">{this.renderCreate()}</div>;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  children?: React.ReactNode;\n  loading: boolean;\n}\n\nexport default function PageHeader({ children, loading }: Props) {\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-title\">{translate('webhooks.page')}</h1>\n      {loading && <i className=\"spinner\" />}\n\n      {children}\n\n      <p className=\"page-description\">\n        <FormattedMessage\n          defaultMessage={translate('webhooks.description')}\n          id=\"webhooks.description\"\n          values={{\n            url: (\n              <Link to=\"/documentation/project-administration/webhooks/\">\n                {translate('webhooks.documentation_link')}\n              </Link>\n            )\n          }}\n        />\n      </p>\n    </header>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport SimpleModal from 'sonar-ui-common/components/controls/SimpleModal';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  onClose: () => void;\n  onSubmit: () => Promise<void>;\n  webhook: T.Webhook;\n}\n\nexport default function DeleteWebhookForm({ onClose, onSubmit, webhook }: Props) {\n  const header = translate('webhooks.delete');\n\n  return (\n    <SimpleModal header={header} onClose={onClose} onSubmit={onSubmit}>\n      {({ onCloseClick, onFormSubmit, submitting }) => (\n        <form onSubmit={onFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {translateWithParameters('webhooks.delete.confirm', webhook.name)}\n          </div>\n\n          <footer className=\"modal-foot\">\n            <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n            <SubmitButton className=\"button-red\" disabled={submitting}>\n              {translate('delete')}\n            </SubmitButton>\n            <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      )}\n    </SimpleModal>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport CodeSnippet from '../../../components/common/CodeSnippet';\n\ninterface Props {\n  className?: string;\n  delivery: T.WebhookDelivery;\n  loading: boolean;\n  payload: string | undefined;\n}\n\nexport default function DeliveryItem({ className, delivery, loading, payload }: Props) {\n  return (\n    <div className={className}>\n      <p className=\"spacer-bottom\">\n        {translateWithParameters(\n          'webhooks.delivery.response_x',\n          delivery.httpStatus || translate('webhooks.delivery.server_unreachable')\n        )}\n      </p>\n      <p className=\"spacer-bottom\">\n        {translateWithParameters(\n          'webhooks.delivery.duration_x',\n          formatMeasure(delivery.durationMs, 'MILLISEC')\n        )}\n      </p>\n      <p className=\"spacer-bottom\">{translate('webhooks.delivery.payload')}</p>\n      <DeferredSpinner className=\"spacer-left spacer-top\" loading={loading}>\n        {payload && <CodeSnippet noCopy={true} snippet={formatPayload(payload)} />}\n      </DeferredSpinner>\n    </div>\n  );\n}\n\nfunction formatPayload(payload: string) {\n  try {\n    return JSON.stringify(JSON.parse(payload), undefined, 2);\n  } catch (error) {\n    return payload;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BoxedGroupAccordion from 'sonar-ui-common/components/controls/BoxedGroupAccordion';\nimport AlertErrorIcon from 'sonar-ui-common/components/icons/AlertErrorIcon';\nimport AlertSuccessIcon from 'sonar-ui-common/components/icons/AlertSuccessIcon';\nimport { getDelivery } from '../../../api/webhooks';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport DeliveryItem from './DeliveryItem';\n\ninterface Props {\n  delivery: T.WebhookDelivery;\n}\n\ninterface State {\n  loading: boolean;\n  open: boolean;\n  payload?: string;\n}\n\nexport default class DeliveryAccordion extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false, open: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPayload = ({ delivery } = this.props) => {\n    this.setState({ loading: true });\n    return getDelivery({ deliveryId: delivery.id }).then(\n      ({ delivery }) => {\n        if (this.mounted) {\n          this.setState({ payload: delivery.payload, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  formatPayload = (payload: string) => {\n    try {\n      return JSON.stringify(JSON.parse(payload), undefined, 2);\n    } catch (error) {\n      return payload;\n    }\n  };\n\n  handleClick = () => {\n    if (!this.state.payload) {\n      this.fetchPayload();\n    }\n    this.setState(({ open }) => ({ open: !open }));\n  };\n\n  render() {\n    const { delivery } = this.props;\n    const { loading, open, payload } = this.state;\n\n    return (\n      <BoxedGroupAccordion\n        onClick={this.handleClick}\n        open={open}\n        renderHeader={() =>\n          delivery.success ? (\n            <AlertSuccessIcon className=\"pull-right js-success\" />\n          ) : (\n            <AlertErrorIcon className=\"pull-right js-error\" />\n          )\n        }\n        title={<DateTimeFormatter date={delivery.at} />}>\n        <DeliveryItem\n          className=\"big-spacer-left\"\n          delivery={delivery}\n          loading={loading}\n          payload={payload}\n        />\n      </BoxedGroupAccordion>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport ListFooter from 'sonar-ui-common/components/controls/ListFooter';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { searchDeliveries } from '../../../api/webhooks';\nimport DeliveryAccordion from './DeliveryAccordion';\n\ninterface Props {\n  onClose: () => void;\n  webhook: T.Webhook;\n}\n\ninterface State {\n  deliveries: T.WebhookDelivery[];\n  loading: boolean;\n  paging?: T.Paging;\n}\n\nconst PAGE_SIZE = 10;\n\nexport default class DeliveriesForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { deliveries: [], loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchDeliveries();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchDeliveries = ({ webhook } = this.props) => {\n    searchDeliveries({ webhook: webhook.key, ps: PAGE_SIZE }).then(({ deliveries, paging }) => {\n      if (this.mounted) {\n        this.setState({ deliveries, loading: false, paging });\n      }\n    }, this.stopLoading);\n  };\n\n  fetchMoreDeliveries = ({ webhook } = this.props) => {\n    const { paging } = this.state;\n    if (paging) {\n      this.setState({ loading: true });\n      searchDeliveries({ webhook: webhook.key, p: paging.pageIndex + 1, ps: PAGE_SIZE }).then(\n        ({ deliveries, paging }) => {\n          if (this.mounted) {\n            this.setState((state: State) => ({\n              deliveries: [...state.deliveries, ...deliveries],\n              loading: false,\n              paging\n            }));\n          }\n        },\n        this.stopLoading\n      );\n    }\n  };\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  render() {\n    const { webhook } = this.props;\n    const { deliveries, loading, paging } = this.state;\n    const header = translateWithParameters('webhooks.deliveries_for_x', webhook.name);\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n        <div className=\"modal-body modal-container\">\n          {deliveries.map(delivery => (\n            <DeliveryAccordion delivery={delivery} key={delivery.id} />\n          ))}\n          <div className=\"text-center\">\n            <DeferredSpinner loading={loading} />\n          </div>\n          {paging !== undefined && (\n            <ListFooter\n              className=\"little-spacer-bottom\"\n              count={deliveries.length}\n              loadMore={this.fetchMoreDeliveries}\n              ready={!loading}\n              total={paging.total}\n            />\n          )}\n        </div>\n        <footer className=\"modal-foot\">\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('close')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActionsDropdown, {\n  ActionsDropdownDivider,\n  ActionsDropdownItem\n} from 'sonar-ui-common/components/controls/ActionsDropdown';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport CreateWebhookForm from './CreateWebhookForm';\nimport DeleteWebhookForm from './DeleteWebhookForm';\nimport DeliveriesForm from './DeliveriesForm';\n\ninterface Props {\n  onDelete: (webhook: string) => Promise<void>;\n  onUpdate: (data: { webhook: string; name: string; url: string }) => Promise<void>;\n  webhook: T.Webhook;\n}\n\ninterface State {\n  deleting: boolean;\n  deliveries: boolean;\n  updating: boolean;\n}\n\nexport default class WebhookActions extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { deleting: false, deliveries: false, updating: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleDelete = () => {\n    return this.props.onDelete(this.props.webhook.key);\n  };\n\n  handleDeleteClick = () => {\n    this.setState({ deleting: true });\n  };\n\n  handleDeletingStop = () => {\n    if (this.mounted) {\n      this.setState({ deleting: false });\n    }\n  };\n\n  handleDeliveriesClick = () => {\n    this.setState({ deliveries: true });\n  };\n\n  handleDeliveriesStop = () => {\n    this.setState({ deliveries: false });\n  };\n\n  handleUpdate = (data: { name: string; url: string }) => {\n    return this.props.onUpdate({ ...data, webhook: this.props.webhook.key });\n  };\n\n  handleUpdateClick = () => {\n    this.setState({ updating: true });\n  };\n\n  handleUpdatingStop = () => {\n    this.setState({ updating: false });\n  };\n\n  render() {\n    const { webhook } = this.props;\n    return (\n      <>\n        <ActionsDropdown className=\"big-spacer-left\">\n          <ActionsDropdownItem className=\"js-webhook-update\" onClick={this.handleUpdateClick}>\n            {translate('update_verb')}\n          </ActionsDropdownItem>\n          {webhook.latestDelivery && (\n            <ActionsDropdownItem\n              className=\"js-webhook-deliveries\"\n              onClick={this.handleDeliveriesClick}>\n              {translate('webhooks.deliveries.show')}\n            </ActionsDropdownItem>\n          )}\n          <ActionsDropdownDivider />\n          <ActionsDropdownItem\n            className=\"js-webhook-delete\"\n            destructive={true}\n            onClick={this.handleDeleteClick}>\n            {translate('delete')}\n          </ActionsDropdownItem>\n        </ActionsDropdown>\n\n        {this.state.deliveries && (\n          <DeliveriesForm onClose={this.handleDeliveriesStop} webhook={webhook} />\n        )}\n\n        {this.state.updating && (\n          <CreateWebhookForm\n            onClose={this.handleUpdatingStop}\n            onDone={this.handleUpdate}\n            webhook={webhook}\n          />\n        )}\n\n        {this.state.deleting && (\n          <DeleteWebhookForm\n            onClose={this.handleDeletingStop}\n            onSubmit={this.handleDelete}\n            webhook={webhook}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getDelivery } from '../../../api/webhooks';\nimport DeliveryItem from './DeliveryItem';\n\ninterface Props {\n  delivery: T.WebhookDelivery;\n  onClose: () => void;\n  webhook: T.Webhook;\n}\n\ninterface State {\n  loading: boolean;\n  payload?: string;\n}\n\nexport default class LatestDeliveryForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchPayload();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchPayload = ({ delivery } = this.props) => {\n    return getDelivery({ deliveryId: delivery.id }).then(\n      ({ delivery }) => {\n        if (this.mounted) {\n          this.setState({ payload: delivery.payload, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  formatPayload = (payload: string) => {\n    try {\n      return JSON.stringify(JSON.parse(payload), undefined, 2);\n    } catch (error) {\n      return payload;\n    }\n  };\n\n  render() {\n    const { delivery, webhook } = this.props;\n    const { loading, payload } = this.state;\n    const header = translateWithParameters('webhooks.latest_delivery_for_x', webhook.name);\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n        <DeliveryItem\n          className=\"modal-body modal-container\"\n          delivery={delivery}\n          loading={loading}\n          payload={payload}\n        />\n        <footer className=\"modal-foot\">\n          <ResetButtonLink className=\"js-modal-close\" onClick={this.props.onClose}>\n            {translate('close')}\n          </ResetButtonLink>\n        </footer>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ButtonIcon } from 'sonar-ui-common/components/controls/buttons';\nimport AlertErrorIcon from 'sonar-ui-common/components/icons/AlertErrorIcon';\nimport AlertSuccessIcon from 'sonar-ui-common/components/icons/AlertSuccessIcon';\nimport BulletListIcon from 'sonar-ui-common/components/icons/BulletListIcon';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateTimeFormatter from '../../../components/intl/DateTimeFormatter';\nimport LatestDeliveryForm from './LatestDeliveryForm';\n\ninterface Props {\n  webhook: T.Webhook;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class WebhookItemLatestDelivery extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleModalClose = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  render() {\n    const { webhook } = this.props;\n    if (!webhook.latestDelivery) {\n      return <span>{translate('webhooks.last_execution.none')}</span>;\n    }\n\n    const { modal } = this.state;\n    return (\n      <>\n        {webhook.latestDelivery.success ? (\n          <AlertSuccessIcon className=\"text-text-top\" />\n        ) : (\n          <AlertErrorIcon className=\"text-text-top\" />\n        )}\n        <span className=\"spacer-left display-inline-flex-center\">\n          <DateTimeFormatter date={webhook.latestDelivery.at} />\n          <ButtonIcon className=\"button-small little-spacer-left\" onClick={this.handleClick}>\n            <BulletListIcon />\n          </ButtonIcon>\n        </span>\n\n        {modal && (\n          <LatestDeliveryForm\n            delivery={webhook.latestDelivery}\n            onClose={this.handleModalClose}\n            webhook={webhook}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport WebhookActions from './WebhookActions';\nimport WebhookItemLatestDelivery from './WebhookItemLatestDelivery';\n\ninterface Props {\n  onDelete: (webhook: string) => Promise<void>;\n  onUpdate: (data: { webhook: string; name: string; url: string }) => Promise<void>;\n  webhook: T.Webhook;\n}\n\nexport default function WebhookItem({ onDelete, onUpdate, webhook }: Props) {\n  return (\n    <tr>\n      <td>{webhook.name}</td>\n      <td>{webhook.url}</td>\n      <td>{webhook.secret ? translate('yes') : translate('no')}</td>\n      <td>\n        <WebhookItemLatestDelivery webhook={webhook} />\n      </td>\n      <td className=\"thin nowrap text-right\">\n        <WebhookActions onDelete={onDelete} onUpdate={onUpdate} webhook={webhook} />\n      </td>\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport WebhookItem from './WebhookItem';\n\ninterface Props {\n  onDelete: (webhook: string) => Promise<void>;\n  onUpdate: (data: { webhook: string; name: string; url: string }) => Promise<void>;\n  webhooks: T.Webhook[];\n}\n\nexport default class WebhooksList extends React.PureComponent<Props> {\n  renderHeader = () => (\n    <thead>\n      <tr>\n        <th>{translate('name')}</th>\n        <th>{translate('webhooks.url')}</th>\n        <th>{translate('webhooks.secret_header')}</th>\n        <th>{translate('webhooks.last_execution')}</th>\n        <th />\n      </tr>\n    </thead>\n  );\n\n  render() {\n    const { webhooks } = this.props;\n    if (webhooks.length < 1) {\n      return <p>{translate('webhooks.no_result')}</p>;\n    }\n    return (\n      <table className=\"data zebra\">\n        {this.renderHeader()}\n        <tbody>\n          {sortBy(webhooks, webhook => webhook.name.toLowerCase()).map(webhook => (\n            <WebhookItem\n              key={webhook.key}\n              onDelete={this.props.onDelete}\n              onUpdate={this.props.onUpdate}\n              webhook={webhook}\n            />\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { createWebhook, deleteWebhook, searchWebhooks, updateWebhook } from '../../../api/webhooks';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport PageActions from './PageActions';\nimport PageHeader from './PageHeader';\nimport WebhooksList from './WebhooksList';\n\ninterface Props {\n  component?: T.LightComponent;\n  organization: T.Organization | undefined;\n}\n\ninterface State {\n  loading: boolean;\n  webhooks: T.Webhook[];\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true, webhooks: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchWebhooks();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchWebhooks = () => {\n    return searchWebhooks(this.getScopeParams()).then(\n      ({ webhooks }) => {\n        if (this.mounted) {\n          this.setState({ loading: false, webhooks });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  getScopeParams = ({ organization, component } = this.props) => {\n    const organizationKey = organization && organization.key;\n    return {\n      organization: component ? component.organization : organizationKey,\n      project: component && component.key\n    };\n  };\n\n  handleCreate = (data: { name: string; secret?: string; url: string }) => {\n    const createData = {\n      name: data.name,\n      url: data.url,\n      ...(data.secret && { secret: data.secret }),\n      ...this.getScopeParams()\n    };\n\n    return createWebhook(createData).then(({ webhook }) => {\n      if (this.mounted) {\n        this.setState(({ webhooks }) => ({ webhooks: [...webhooks, webhook] }));\n      }\n    });\n  };\n\n  handleDelete = (webhook: string) => {\n    return deleteWebhook({ webhook }).then(() => {\n      if (this.mounted) {\n        this.setState(({ webhooks }) => ({\n          webhooks: webhooks.filter(item => item.key !== webhook)\n        }));\n      }\n    });\n  };\n\n  handleUpdate = (data: { webhook: string; name: string; secret?: string; url: string }) => {\n    const udpateData = {\n      webhook: data.webhook,\n      name: data.name,\n      url: data.url,\n      ...(data.secret && { secret: data.secret })\n    };\n\n    return updateWebhook(udpateData).then(() => {\n      if (this.mounted) {\n        this.setState(({ webhooks }) => ({\n          webhooks: webhooks.map(webhook =>\n            webhook.key === data.webhook\n              ? { ...webhook, name: data.name, secret: data.secret, url: data.url }\n              : webhook\n          )\n        }));\n      }\n    });\n  };\n\n  render() {\n    const { loading, webhooks } = this.state;\n\n    return (\n      <>\n        <Suggestions suggestions=\"webhooks\" />\n        <Helmet defer={false} title={translate('webhooks.page')} />\n\n        <div className=\"page page-limited\">\n          <PageHeader loading={loading}>\n            <PageActions\n              loading={loading}\n              onCreate={this.handleCreate}\n              webhooksCount={webhooks.length}\n            />\n          </PageHeader>\n\n          {!loading && (\n            <div className=\"boxed-group boxed-group-inner\">\n              <WebhooksList\n                onDelete={this.handleDelete}\n                onUpdate={this.handleUpdate}\n                webhooks={webhooks}\n              />\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default function Suggestions({ suggestions }: Props) {\n  return (\n    <SuggestionsContext.Consumer>\n      {({ addSuggestions, removeSuggestions }) => (\n        <SuggestionsInner\n          addSuggestions={addSuggestions}\n          removeSuggestions={removeSuggestions}\n          suggestions={suggestions}\n        />\n      )}\n    </SuggestionsContext.Consumer>\n  );\n}\n\ninterface SuggestionsInnerProps {\n  addSuggestions: (key: string) => void;\n  removeSuggestions: (key: string) => void;\n  suggestions: string;\n}\n\nclass SuggestionsInner extends React.PureComponent<SuggestionsInnerProps> {\n  componentDidMount() {\n    this.props.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.props.removeSuggestions(this.props.suggestions);\n      this.props.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport './CodeSnippet.css';\n\ninterface Props {\n  className?: string;\n  isOneLine?: boolean;\n  noCopy?: boolean;\n  render?: () => JSX.Element;\n  snippet: string | (string | undefined)[];\n  wrap?: boolean;\n}\n\n// keep this \"useless\" concatentation for the readability reason\n// eslint-disable-next-line no-useless-concat\nconst s = ' \\\\' + '\\n  ';\n\nexport default function CodeSnippet({\n  className,\n  isOneLine,\n  noCopy,\n  render,\n  snippet,\n  wrap\n}: Props) {\n  const snippetArray = Array.isArray(snippet)\n    ? snippet.filter(line => line !== undefined)\n    : [snippet];\n  const finalSnippet = isOneLine ? snippetArray.join(' ') : snippetArray.join(s);\n  return (\n    <div\n      className={classNames(\n        'code-snippet',\n        { 'code-snippet-oneline': isOneLine, 'code-snippet-wrap': wrap },\n        className\n      )}>\n      <pre>{render ? render() : finalSnippet}</pre>\n      {!noCopy && <ClipboardButton copyValue={finalSnippet} />}\n    </div>\n  );\n}\n"],"sourceRoot":""}