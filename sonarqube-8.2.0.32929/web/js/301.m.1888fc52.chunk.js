(window.webpackJsonp=window.webpackJsonp||[]).push([[301],{1070:function(e,t,n){"use strict";var a=n(324),i=n.n(a),s=n(2),r=n(309),c=n(310),o=n(592),l=n.n(o),u=n(5),d=n(314),p=n.n(d),m=n(695),h=n(748),_=n(749);function g(e){let t=e.event;if(Object(_.b)(t))return s.createElement(_.a,{event:t});if(Object(h.b)(t))return s.createElement(m.a.Consumer,null,e=>{let n=e.branchLike;return s.createElement(h.a,{branchLike:n,event:t})});{const e=s.createElement("span",{className:"text-middle"},s.createElement("span",{className:"note little-spacer-right"},Object(u.translate)("event.category",t.category),":"),s.createElement("strong",{className:"spacer-right"},t.name));return t.description?s.createElement(p.a,{overlay:t.description},e):e}}var b=n(341),y=n.n(b);class f extends s.PureComponent{constructor(e){super(e),this.changeInput=e=>{this.setState({name:e.target.value})},this.handleSubmit=()=>this.props.changeEvent(this.props.event.key,this.state.name),this.state={name:e.event.name}}render(){const e=this.state.name;return s.createElement(y.a,{confirmButtonText:Object(u.translate)("change_verb"),confirmDisable:!e||e===this.props.event.name,header:this.props.header,onClose:this.props.onClose,onConfirm:this.handleSubmit,size:"small"},s.createElement("div",{className:"modal-field"},s.createElement("label",null,Object(u.translate)("name")),s.createElement("input",{autoFocus:!0,onChange:this.changeInput,type:"text",value:e})))}}function v(e){const t=e.analysisKey,n=e.event,a=e.header,i=e.removeEventQuestion;return s.createElement(y.a,{confirmButtonText:Object(u.translate)("delete"),header:a,isDestructive:!0,onClose:e.onClose,onConfirm:()=>e.onConfirm(t,n.key)},i)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,i=!1,s=void 0;try{for(var r,c=e[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var E=s.memo(function(e){const t=e.analysisKey,n=e.event,a=e.canAdmin,i=e.isFirst,o=S(s.useState(!1),2),d=o[0],p=o[1],m=S(s.useState(!1),2),h=m[0],_=m[1],b="OTHER"===n.category,y="VERSION"===n.category,E=(b||y)&&e.onChange,j=(b||y&&!i)&&e.onDelete,O=a&&(E||j);return s.createElement("div",{className:"project-activity-event"},s.createElement(l.a,{className:r("project-activity-event-icon little-spacer-right text-middle",n.category)}),s.createElement(g,{event:n}),O&&s.createElement("span",{className:"nowrap"},E&&s.createElement(c.EditButton,{"aria-label":Object(u.translate)("project_activity.events.tooltip.edit"),className:"button-small","data-test":"project-activity__edit-event",onClick:()=>p(!0),stopPropagation:!0}),j&&s.createElement(c.DeleteButton,{"aria-label":Object(u.translate)("project_activity.events.tooltip.delete"),className:"button-small","data-test":"project-activity__delete-event",onClick:()=>_(!0),stopPropagation:!0})),d&&e.onChange&&s.createElement(f,{changeEvent:e.onChange,event:n,header:y?Object(u.translate)("project_activity.change_version"):Object(u.translate)("project_activity.change_custom_event"),onClose:()=>p(!1)}),h&&e.onDelete&&s.createElement(v,{analysisKey:t,event:n,header:y?Object(u.translate)("project_activity.remove_version"):Object(u.translate)("project_activity.remove_custom_event"),onClose:()=>_(!1),onConfirm:e.onDelete,removeEventQuestion:Object(u.translate)("project_activity.".concat(y?"remove_version":"remove_custom_event",".question"))}))});t.a=s.memo(function(e){const t=e.analysisKey,n=e.canAdmin,a=e.events,r=e.isFirst,c=i()(a,e=>"VERSION"===e.category?1:0,"category");return s.createElement("div",{className:"big-spacer-top"},c.map(a=>s.createElement(E,{analysisKey:t,canAdmin:n,event:a,isFirst:r,key:a.key,onChange:e.onChange,onDelete:e.onDelete})))})},1681:function(e,t,n){var a=n(1682);"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(312)(a,i);a.locals&&(e.exports=a.locals)},1682:function(e,t,n){(e.exports=n(311)(!1)).push([e.i,".project-baseline{padding:32px}.project-baseline-selector>.branch-baseline-setting-modal{max-height:60vh;padding-top:2px}.project-baseline-selector .general-setting{margin-left:7px}.branch-baseline-selector>hr{margin:0 -32px 32px}.branch-analysis-list-wrapper,.branch-baseline-setting-modal{display:flex;flex-direction:column}.branch-analysis-list-wrapper{overflow:hidden;position:relative;min-height:200px}.branch-analysis-list{overflow-y:auto;padding-left:12px;padding-right:15px;min-height:50px}.branch-analysis-list>ul{padding-top:18px}.branch-analysis-date{margin-bottom:16px;font-size:15px;font-weight:700}.branch-analysis-day{margin-top:8px;margin-bottom:24px}.branch-analysis{display:flex;justify-content:space-between;cursor:pointer;padding:8px;border-top:1px solid #e6e6e6;border-bottom:1px solid #e6e6e6}.branch-analysis+.branch-analysis{border-top:none}.branch-analysis:hover{background-color:#cae3f2}.branch-analysis>.project-activity-events{flex:1 0 50%}.branch-analysis-time{width:150px}.branch-analysis-version-badge{margin-left:-12px;padding-top:8px;padding-bottom:8px;background-color:#fff}.branch-analysis-version-badge.sticky+.branch-analysis-days-list{padding-top:36px}.branch-analysis-version-badge.first,.branch-analysis-version-badge.sticky{position:absolute;top:1px;left:13px;right:16px;padding-top:24px;z-index:1}.branch-analysis-version-badge .badge{max-width:385px;border-radius:0 2px 2px 0;font-weight:700;font-size:12px;letter-spacing:0;overflow:hidden;text-overflow:ellipsis}.project-activity-event-icon.VERSION{color:#4b9fd5}.project-activity-event-icon.QUALITY_GATE{color:#9139d4}.project-activity-event-icon.QUALITY_PROFILE{color:#ccc}.project-activity-event-icon.DEFINITION_CHANGE{color:#33a759}.project-activity-event-icon.OTHER{color:#442d1b}.invisible{visibility:hidden}",""])},1784:function(e,t,n){"use strict";n.r(t);var a=n(316),i=n(318),s=n(361),r=n.n(s),c=n(309),o=n(2),l=n(304),u=n(28),d=n(440),p=n.n(d),m=n(315),h=n.n(m),_=n(5),g=n(780),b=n(330),y=(n(1681),n(781)),f=n(377),v=n.n(f),S=n(576),E=n(342),j=n(328),O=n(310),N=n(326),w=n.n(N),C=n(29),k=n(495),x=n.n(k);function A(e){let t=e.disabled,n=e.onSelect,a=e.selected;return o.createElement(x.a,{disabled:t,onClick:()=>n("SPECIFIC_ANALYSIS"),selected:a,title:Object(_.translate)("baseline.specific_analysis")},o.createElement("p",{className:"big-spacer-bottom"},Object(_.translate)("baseline.specific_analysis.description")))}var P=n(830),I=n(831),D=n(724),R=n.n(D),F=n(962),L=n(338),V=n.n(L),T=n(314),B=n.n(T),M=n(426),U=n(746),q=n(343),Y=n(558),z=n(1070),G=n(680);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Q extends o.PureComponent{constructor(e){super(e),this.mounted=!1,this.badges={},this.state={analyses:[],loading:!0,range:30,scroll:0},this.handleScroll=e=>{e.currentTarget&&this.updateScroll(e.currentTarget.scrollTop)},this.updateScroll=e=>{this.setState({scroll:e})},this.registerBadgeNode=e=>t=>{t&&(t.getAttribute("originOffsetTop")||t.setAttribute("originOffsetTop",String(t.offsetTop)),this.badges[e]=t)},this.shouldStick=e=>{const t=this.badges[e];return t&&Number(t.getAttribute("originOffsetTop"))<this.state.scroll+10},this.handleRangeChange=e=>{let t=e.value;this.setState({range:t},()=>this.fetchAnalyses())},this.rootNodeRef=o.createRef(),this.updateScroll=R()(this.updateScroll,20)}componentDidMount(){this.mounted=!0,this.fetchAnalyses(!0)}componentWillUnmount(){this.mounted=!1}scrollToSelected(){const e=document.querySelector(".branch-analysis.selected");this.rootNodeRef.current&&e&&Object(M.scrollToElement)(e,{parent:this.rootNodeRef.current,bottomOffset:40})}fetchAnalyses(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.props,n=t.analysis,a=t.branch,i=t.component,s=this.state.range;return this.setState({loading:!0}),Object(U.e)({branch:a,project:i,from:s?Object(C.toShortNotSoISOString)(Object(F.subDays)(new Date,s)):void 0}).then(t=>{e&&n&&!t.analyses.find(e=>e.key===n)?this.handleRangeChange({value:0}):this.setState({analyses:t.analyses.map(e=>(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){H(e,t,n[t])})}return e})({},e,{date:Object(C.parseDate)(e.date)})),loading:!1},()=>{this.scrollToSelected()})})}getRangeOptions(){return[{label:Object(_.translate)("baseline.branch_analyses.ranges.30days"),value:30},{label:Object(_.translate)("baseline.branch_analyses.ranges.allTime"),value:0}]}render(){const e=this.state,t=e.analyses,n=e.loading,a=e.range,i=Object(G.f)(t,{category:""}),s=i.length>1||1===i.length&&Object.keys(i[0].byDay).length>0;return o.createElement(o.Fragment,null,o.createElement("div",{className:"spacer-bottom"},Object(_.translate)("baseline.analysis_from"),o.createElement(V.a,{autoBlur:!0,className:"input-medium spacer-left",clearable:!1,onChange:this.handleRangeChange,options:this.getRangeOptions(),searchable:!1,value:a})),o.createElement("div",{className:"branch-analysis-list-wrapper"},o.createElement("div",{className:"bordered branch-analysis-list",onScroll:this.handleScroll,ref:this.rootNodeRef},n&&o.createElement(h.a,{className:"big-spacer-top"}),n||s?o.createElement("ul",null,i.map((e,n)=>{const a=Object.keys(e.byDay);return a.length<=0?null:o.createElement("li",{key:e.key||"noversion"},e.version&&o.createElement("div",{className:c("branch-analysis-version-badge",{first:0===n,sticky:this.shouldStick(e.version)}),ref:this.registerBadgeNode(e.version)},o.createElement(B.a,{mouseEnterDelay:.5,overlay:"".concat(Object(_.translate)("version")," ").concat(e.version)},o.createElement("span",{className:"badge"},e.version))),o.createElement("ul",{className:"branch-analysis-days-list"},a.map(n=>o.createElement("li",{className:"branch-analysis-day","data-day":Object(C.toShortNotSoISOString)(Number(n)),key:n},o.createElement("div",{className:"branch-analysis-date"},o.createElement(q.a,{date:Number(n),long:!0})),o.createElement("ul",{className:"branch-analysis-analyses-list"},null!=e.byDay[n]&&e.byDay[n].map(e=>o.createElement("li",{className:c("branch-analysis",{selected:e.key===this.props.analysis}),"data-date":Object(C.parseDate)(e.date).valueOf(),key:e.key,onClick:()=>this.props.onSelectAnalysis(e)},o.createElement("div",{className:"branch-analysis-time spacer-right"},o.createElement(Y.a,{date:Object(C.parseDate)(e.date),long:!1},t=>o.createElement("time",{className:"text-middle",dateTime:Object(C.parseDate)(e.date).toISOString()},t))),e.events.length>0&&o.createElement(z.a,{analysisKey:e.key,events:e.events,isFirst:t[0].key===e.key}),o.createElement("div",{className:"analysis-selection-button"},o.createElement("i",{className:c("icon-radio",{"is-checked":e.key===this.props.analysis})})))))))))})):o.createElement("div",{className:"big-spacer-top big-spacer-bottom strong"},Object(_.translate)("baseline.no_analyses")))))}}class W extends o.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleSubmit=e=>{e.preventDefault();const t=this.props,n=t.branch,a=t.component,i=this.state,s=i.analysis,r=i.analysisDate,c=i.days,o=i.selected,l=Object(y.a)({type:o,analysis:s,days:c});o&&(this.setState({saving:!0}),Object(g.d)({project:a,type:o,value:l,branch:n.name}).then(()=>{this.setState({saving:!1}),this.props.onClose(n.name,{type:o,value:l,effectiveValue:r&&Object(C.toNotSoISOString)(r)})},()=>{this.setState({saving:!1})}))},this.requestClose=()=>this.props.onClose(),this.handleSelectAnalysis=e=>this.setState({analysis:e.key,analysisDate:e.date}),this.handleSelectDays=e=>this.setState({days:e}),this.handleSelectSetting=e=>this.setState({selected:e}),this.state={analysis:this.getValueFromProps("SPECIFIC_ANALYSIS")||"",days:this.getValueFromProps("NUMBER_OF_DAYS")||"30",saving:!1,selected:this.props.branch.newCodePeriod&&this.props.branch.newCodePeriod.type}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}getValueFromProps(e){return this.props.branch.newCodePeriod&&this.props.branch.newCodePeriod.type===e?this.props.branch.newCodePeriod.value:null}render(){const e=this.props.branch,t=this.state,n=t.analysis,a=t.days,i=t.saving,s=t.selected,r=Object(_.translateWithParameters)("baseline.new_code_period_for_branch_x",e.name),c=e.newCodePeriod&&e.newCodePeriod.type,l=e.newCodePeriod&&e.newCodePeriod.value,u=Object(y.c)({analysis:n,currentSetting:c,currentSettingValue:l,days:a,selected:s}),d=u.isChanged,p=u.isValid;return o.createElement(w.a,{contentLabel:r,onRequestClose:this.requestClose,size:"large"},o.createElement("header",{className:"modal-head"},o.createElement("h2",null,r)),o.createElement("form",{onSubmit:this.handleSubmit},o.createElement("div",{className:"modal-body modal-container branch-baseline-setting-modal"},o.createElement("div",{className:"display-flex-row huge-spacer-bottom",role:"radiogroup"},o.createElement(I.a,{isDefault:!1,onSelect:this.handleSelectSetting,selected:"PREVIOUS_VERSION"===s}),o.createElement(P.a,{days:a,isChanged:d,isValid:p,onChangeDays:this.handleSelectDays,onSelect:this.handleSelectSetting,selected:"NUMBER_OF_DAYS"===s}),o.createElement(A,{onSelect:this.handleSelectSetting,selected:"SPECIFIC_ANALYSIS"===s})),"SPECIFIC_ANALYSIS"===s&&o.createElement(Q,{analysis:n,branch:e.name,component:this.props.component,onSelectAnalysis:this.handleSelectAnalysis})),o.createElement("footer",{className:"modal-foot"},o.createElement(h.a,{className:"spacer-right",loading:i}),o.createElement(O.SubmitButton,{disabled:!d||i||!p},Object(_.translate)("save")),o.createElement(O.ResetButtonLink,{onClick:this.props.onClose},Object(_.translate)("cancel")))))}}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class K extends o.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={branches:[],loading:!0},this.updateBranchNewCodePeriod=(e,t)=>{const n=this.state.branches,a=n.find(t=>t.name===e);return a&&(a.newCodePeriod=t),n.slice(0)},this.openEditModal=e=>{this.setState({editedBranch:e})},this.closeEditModal=(e,t)=>{e?this.setState({branches:this.updateBranchNewCodePeriod(e,t),editedBranch:void 0}):this.setState({editedBranch:void 0})}}componentDidMount(){this.mounted=!0,this.fetchBranches()}componentWillUnmount(){this.mounted=!1}sortAndFilterBranches(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(j.j)(e.filter(j.f))}fetchBranches(){const e=this.props.component.key;this.setState({loading:!0});const t=this.sortAndFilterBranches(this.props.branchLikes);Object(g.b)({project:e}).then(e=>{const n=e.newCodePeriods?e.newCodePeriods.filter(e=>!e.inherited):[],a=t.map(e=>{const t=n.find(t=>t.branchKey===e.name);if(!t)return e;const a=t.type,i=void 0===a?"PREVIOUS_VERSION":a,s=t.value,r=t.effectiveValue;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){J(e,t,n[t])})}return e}({},e,{newCodePeriod:{type:i,value:s,effectiveValue:r}})});this.setState({branches:a,loading:!1})},()=>{this.setState({loading:!1})})}resetToDefault(e){return Object(g.c)({project:this.props.component.key,branch:e}).then(()=>{this.setState({branches:this.updateBranchNewCodePeriod(e,void 0)})})}renderNewCodePeriodSetting(e){switch(e.type){case"SPECIFIC_ANALYSIS":return o.createElement(o.Fragment,null,"".concat(Object(_.translate)("baseline.specific_analysis"),": "),e.effectiveValue?o.createElement(E.a,{date:e.effectiveValue}):"?");case"NUMBER_OF_DAYS":return"".concat(Object(_.translate)("baseline.number_days"),": ").concat(e.value);case"PREVIOUS_VERSION":return Object(_.translate)("baseline.previous_version");default:return e.type}}render(){const e=this.state,t=e.branches,n=e.editedBranch,a=e.loading;return t.length<1?null:a?o.createElement(h.a,null):o.createElement(o.Fragment,null,o.createElement("table",{className:"data zebra"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,Object(_.translate)("branch_list.branch")),o.createElement("th",{className:"nowrap huge-spacer-right"},Object(_.translate)("branch_list.current_setting")),o.createElement("th",{className:"thin nowrap"},Object(_.translate)("branch_list.actions")))),o.createElement("tbody",null,t.map(e=>o.createElement("tr",{key:e.name},o.createElement("td",{className:"nowrap"},o.createElement(S.a,{branchLike:e,className:"little-spacer-right"}),e.name,e.isMain&&o.createElement("div",{className:"badge spacer-left"},Object(_.translate)("branches.main_branch"))),o.createElement("td",{className:"huge-spacer-right nowrap"},e.newCodePeriod?this.renderNewCodePeriodSetting(e.newCodePeriod):Object(_.translate)("branch_list.default_setting")),o.createElement("td",{className:"text-right"},o.createElement(v.a,null,o.createElement(f.ActionsDropdownItem,{onClick:()=>this.openEditModal(e)},Object(_.translate)("edit")),e.newCodePeriod&&o.createElement(f.ActionsDropdownItem,{onClick:()=>this.resetToDefault(e.name)},Object(_.translate)("reset_to_default")))))))),n&&o.createElement(W,{branch:n,component:this.props.component.key,onClose:this.closeEditModal}))}}var X=n(554),Z=n.n(X);function $(e){const t=e.analysis,n=e.branchesEnabled,a=e.component,i=e.currentSetting,s=e.currentSettingValue,r=e.days,l=e.generalSetting,u=e.saving,d=e.selected,p=e.overrideGeneralSetting,m=Object(y.c)({analysis:t,currentSetting:i,currentSettingValue:s,days:r,selected:d,overrideGeneralSetting:p}),g=m.isChanged,b=m.isValid;return o.createElement("form",{className:"project-baseline-selector",onSubmit:e.onSubmit},o.createElement("div",{className:"big-spacer-top spacer-bottom",role:"radiogroup"},o.createElement(Z.a,{checked:!p,className:"big-spacer-bottom",onCheck:()=>e.onToggleSpecificSetting(!1),value:"general"},Object(_.translate)("project_baseline.general_setting")),o.createElement("div",{className:"big-spacer-left"},function(e){let t,n;return"NUMBER_OF_DAYS"===e.type?(t="".concat(Object(_.translate)("baseline.number_days")," (").concat(Object(_.translateWithParameters)("duration.days",e.value||"?"),")"),n=Object(_.translate)("baseline.number_days.description")):(t=Object(_.translate)("baseline.previous_version"),n=Object(_.translate)("baseline.previous_version.description")),o.createElement("div",{className:"general-setting"},o.createElement("strong",null,t),": ",n)}(l)),o.createElement(Z.a,{checked:p,className:"huge-spacer-top",onCheck:()=>e.onToggleSpecificSetting(!0),value:"specific"},Object(_.translate)("project_baseline.specific_setting"))),o.createElement("div",{className:"big-spacer-left big-spacer-right branch-baseline-setting-modal"},o.createElement("div",{className:"display-flex-row big-spacer-bottom",role:"radiogroup"},o.createElement(I.a,{disabled:!p,onSelect:e.onSelectSetting,selected:p&&"PREVIOUS_VERSION"===d}),o.createElement(P.a,{days:r,disabled:!p,isChanged:g,isValid:b,onChangeDays:e.onSelectDays,onSelect:e.onSelectSetting,selected:p&&"NUMBER_OF_DAYS"===d}),!n&&o.createElement(A,{disabled:!p,onSelect:e.onSelectSetting,selected:p&&"SPECIFIC_ANALYSIS"===d})),"SPECIFIC_ANALYSIS"===d&&o.createElement(Q,{analysis:t||"",branch:"master",component:a,onSelectAnalysis:e.onSelectAnalysis})),o.createElement("div",{className:c("big-spacer-top",{invisible:!g})},o.createElement("p",{className:"spacer-bottom"},Object(_.translate)("baseline.next_analysis_notice")),o.createElement(h.a,{className:"spacer-right",loading:u}),o.createElement(O.SubmitButton,{disabled:u||!b||!g},Object(_.translate)("save")),o.createElement(O.ResetButtonLink,{className:"spacer-left",onClick:e.onCancel},Object(_.translate)("cancel"))))}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,i=!1,s=void 0;try{for(var r,c=e[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const te={type:"PREVIOUS_VERSION"};t.default=Object(a.connect)(e=>({branchesEnabled:Object(i.getAppState)(e).branchesEnabled,canAdmin:Object(i.getAppState)(e).canAdmin}))(class extends o.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={days:"30",loading:!0,saving:!1},this.resetSuccess=r()(()=>this.setState({success:void 0}),3e3),this.resetSetting=()=>{this.setState({saving:!0}),Object(g.c)({project:this.props.component.key}).then(()=>{this.setState({saving:!1,currentSetting:void 0,selected:void 0,success:!0}),this.resetSuccess()},()=>{this.setState({saving:!1})})},this.handleSelectAnalysis=e=>this.setState({analysis:e.key}),this.handleSelectDays=e=>this.setState({days:e}),this.handleCancel=()=>this.setState(e=>{let t=e.generalSetting,n=void 0===t?te:t,a=e.currentSetting,i=e.currentSettingValue;return this.getUpdatedState({generalSetting:n,currentSetting:a,currentSettingValue:i})}),this.handleSelectSetting=e=>this.setState({selected:e}),this.handleToggleSpecificSetting=e=>this.setState({overrideGeneralSetting:e}),this.handleSubmit=e=>{e.preventDefault();const t=this.props.component,n=this.state,a=n.analysis,i=n.days,s=n.selected;if(!n.overrideGeneralSetting)return void this.resetSetting();const r=Object(y.a)({type:s,analysis:a,days:i});s&&(this.setState({saving:!0}),Object(g.d)({project:t.key,type:s,value:r}).then(()=>{this.setState({saving:!1,currentSetting:s,currentSettingValue:r||void 0,success:!0}),this.resetSuccess()},()=>{this.setState({saving:!1})}))}}componentDidMount(){this.mounted=!0,this.fetchLeakPeriodSetting()}componentWillUnmount(){this.mounted=!1}getUpdatedState(e){const t=e.currentSetting,n=e.currentSettingValue,a=e.generalSetting,i=!t&&"NUMBER_OF_DAYS"===a.type&&a.value||"30";return{loading:!1,currentSetting:t,currentSettingValue:n,generalSetting:a,selected:t||a.type,overrideGeneralSetting:Boolean(t),days:"NUMBER_OF_DAYS"===t&&n||i,analysis:"SPECIFIC_ANALYSIS"===t&&n||""}}fetchLeakPeriodSetting(){this.setState({loading:!0}),Promise.all([Object(g.a)(),Object(g.a)({branch:this.props.branchesEnabled?void 0:"master",project:this.props.component.key})]).then(e=>{let t=ee(e,2),n=t[0],a=t[1];if(this.mounted){n.type||(n=te);const e=a.value,t=a.inherited?void 0:a.type||"PREVIOUS_VERSION";this.setState(this.getUpdatedState({generalSetting:n,currentSetting:t,currentSettingValue:e}))}},()=>{this.setState({loading:!1})})}renderHeader(){return o.createElement("header",{className:"page-header"},o.createElement("h1",{className:"page-title"},Object(_.translate)("project_baseline.page")),o.createElement("p",{className:"page-description"},o.createElement(l.FormattedMessage,{defaultMessage:Object(_.translate)("project_baseline.page.description"),id:"project_baseline.page.description",values:{link:o.createElement(u.Link,{to:"/documentation/project-administration/new-code-period/"},Object(_.translate)("project_baseline.page.description.link"))}}),o.createElement("br",null),this.props.canAdmin&&o.createElement(l.FormattedMessage,{defaultMessage:Object(_.translate)("project_baseline.page.description2"),id:"project_baseline.page.description2",values:{link:o.createElement(u.Link,{to:"/admin/settings?category=new_code_period"},Object(_.translate)("project_baseline.page.description2.link"))}})))}render(){const e=this.props,t=e.branchLikes,n=e.branchesEnabled,a=e.component,i=this.state,s=i.analysis,r=i.currentSetting,l=i.days,u=i.generalSetting,d=i.loading,m=i.currentSettingValue,g=i.overrideGeneralSetting,y=i.saving,f=i.selected,v=i.success;return o.createElement(o.Fragment,null,o.createElement(b.a,{suggestions:"project_baseline"}),o.createElement("div",{className:"page page-limited"},this.renderHeader(),d?o.createElement(h.a,null):o.createElement("div",{className:"panel-white project-baseline"},n&&o.createElement("h2",null,Object(_.translate)("project_baseline.default_setting")),u&&void 0!==g&&o.createElement($,{analysis:s,branchesEnabled:n,component:a.key,currentSetting:r,currentSettingValue:m,days:l,generalSetting:u,onCancel:this.handleCancel,onSelectAnalysis:this.handleSelectAnalysis,onSelectDays:this.handleSelectDays,onSelectSetting:this.handleSelectSetting,onSubmit:this.handleSubmit,onToggleSpecificSetting:this.handleToggleSpecificSetting,overrideGeneralSetting:g,saving:y,selected:f}),o.createElement("div",{className:c("spacer-top",{invisible:y||!v})},o.createElement("span",{className:"text-success"},o.createElement(p.a,{className:"spacer-right"}),Object(_.translate)("settings.state.saved"))),u&&n&&o.createElement("div",{className:"huge-spacer-top branch-baseline-selector"},o.createElement("hr",null),o.createElement("h2",null,Object(_.translate)("project_baseline.configure_branches")),o.createElement(K,{branchLikes:t,component:a,inheritedSetting:r?{type:r,value:m}:u})))))}})},330:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(2),i=n(355);function s(e){let t=e.suggestions;return a.createElement(i.a.Consumer,null,e=>{let n=e.addSuggestions,i=e.removeSuggestions;return a.createElement(r,{addSuggestions:n,removeSuggestions:i,suggestions:t})})}class r extends a.PureComponent{componentDidMount(){this.props.addSuggestions(this.props.suggestions)}componentDidUpdate(e){e.suggestions!==this.props.suggestions&&(this.props.removeSuggestions(this.props.suggestions),this.props.addSuggestions(e.suggestions))}componentWillUnmount(){this.props.removeSuggestions(this.props.suggestions)}render(){return null}}},342:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return c});var a=n(2),i=n(304),s=n(29);const r={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};function c(e){let t=e.children,n=e.date;return a.createElement(i.FormattedDate,Object.assign({value:Object(s.parseDate)(n)},r),t)}},343:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return o});var a=n(2),i=n(304),s=n(29);const r={year:"numeric",month:"short",day:"2-digit"},c={year:"numeric",month:"long",day:"numeric"};function o(e){let t=e.children,n=e.date,o=e.long;return a.createElement(i.FormattedDate,Object.assign({value:Object(s.parseDate)(n)},o?c:r),t)}},370:function(e,t,n){"use strict";var a;function i(e){return Object.values(a).includes(e)}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),function(e){e.alert_status="alert_status",e.blocker_violations="blocker_violations",e.branch_coverage="branch_coverage",e.bugs="bugs",e.burned_budget="burned_budget",e.business_value="business_value",e.class_complexity="class_complexity",e.classes="classes",e.code_smells="code_smells",e.cognitive_complexity="cognitive_complexity",e.comment_lines="comment_lines",e.comment_lines_data="comment_lines_data",e.comment_lines_density="comment_lines_density",e.complexity="complexity",e.complexity_in_classes="complexity_in_classes",e.complexity_in_functions="complexity_in_functions",e.conditions_to_cover="conditions_to_cover",e.confirmed_issues="confirmed_issues",e.coverage="coverage",e.critical_violations="critical_violations",e.development_cost="development_cost",e.directories="directories",e.duplicated_blocks="duplicated_blocks",e.duplicated_files="duplicated_files",e.duplicated_lines="duplicated_lines",e.duplicated_lines_density="duplicated_lines_density",e.duplications_data="duplications_data",e.effort_to_reach_maintainability_rating_a="effort_to_reach_maintainability_rating_a",e.executable_lines_data="executable_lines_data",e.false_positive_issues="false_positive_issues",e.file_complexity="file_complexity",e.file_complexity_distribution="file_complexity_distribution",e.filename_size="filename_size",e.filename_size_rating="filename_size_rating",e.files="files",e.function_complexity="function_complexity",e.function_complexity_distribution="function_complexity_distribution",e.functions="functions",e.generated_lines="generated_lines",e.generated_ncloc="generated_ncloc",e.info_violations="info_violations",e.last_change_on_maintainability_rating="last_change_on_maintainability_rating",e.last_change_on_releasability_rating="last_change_on_releasability_rating",e.last_change_on_reliability_rating="last_change_on_reliability_rating",e.last_change_on_security_rating="last_change_on_security_rating",e.last_change_on_security_review_rating="last_change_on_security_review_rating",e.last_commit_date="last_commit_date",e.leak_projects="leak_projects",e.line_coverage="line_coverage",e.lines="lines",e.lines_to_cover="lines_to_cover",e.maintainability_rating_effort="maintainability_rating_effort",e.major_violations="major_violations",e.minor_violations="minor_violations",e.ncloc="ncloc",e.ncloc_data="ncloc_data",e.ncloc_language_distribution="ncloc_language_distribution",e.new_blocker_violations="new_blocker_violations",e.new_branch_coverage="new_branch_coverage",e.new_bugs="new_bugs",e.new_code_smells="new_code_smells",e.new_conditions_to_cover="new_conditions_to_cover",e.new_coverage="new_coverage",e.new_critical_violations="new_critical_violations",e.new_development_cost="new_development_cost",e.new_duplicated_blocks="new_duplicated_blocks",e.new_duplicated_lines="new_duplicated_lines",e.new_duplicated_lines_density="new_duplicated_lines_density",e.new_info_violations="new_info_violations",e.new_line_coverage="new_line_coverage",e.new_lines="new_lines",e.new_lines_to_cover="new_lines_to_cover",e.new_maintainability_rating="new_maintainability_rating",e.new_major_violations="new_major_violations",e.new_minor_violations="new_minor_violations",e.new_reliability_rating="new_reliability_rating",e.new_reliability_remediation_effort="new_reliability_remediation_effort",e.new_security_hotspots="new_security_hotspots",e.new_security_hotspots_reviewed="new_security_hotspots_reviewed",e.new_security_rating="new_security_rating",e.new_security_remediation_effort="new_security_remediation_effort",e.new_security_review_rating="new_security_review_rating",e.new_sqale_debt_ratio="new_sqale_debt_ratio",e.new_technical_debt="new_technical_debt",e.new_uncovered_conditions="new_uncovered_conditions",e.new_uncovered_lines="new_uncovered_lines",e.new_violations="new_violations",e.new_vulnerabilities="new_vulnerabilities",e.open_issues="open_issues",e.projects="projects",e.public_api="public_api",e.public_documented_api_density="public_documented_api_density",e.public_undocumented_api="public_undocumented_api",e.quality_gate_details="quality_gate_details",e.quality_profiles="quality_profiles",e.releasability_effort="releasability_effort",e.releasability_rating="releasability_rating",e.reliability_rating="reliability_rating",e.reliability_rating_effort="reliability_rating_effort",e.reliability_remediation_effort="reliability_remediation_effort",e.reopened_issues="reopened_issues",e.security_hotspots="security_hotspots",e.security_hotspots_reviewed="security_hotspots_reviewed",e.security_rating="security_rating",e.security_rating_effort="security_rating_effort",e.security_remediation_effort="security_remediation_effort",e.security_review_rating="security_review_rating",e.security_review_rating_effort="security_review_rating_effort",e.skipped_tests="skipped_tests",e.sonarjava_feedback="sonarjava_feedback",e.sqale_debt_ratio="sqale_debt_ratio",e.sqale_index="sqale_index",e.sqale_rating="sqale_rating",e.statements="statements",e.team_at_sonarsource="team_at_sonarsource",e.team_size="team_size",e.test_errors="test_errors",e.test_execution_time="test_execution_time",e.test_failures="test_failures",e.test_success_density="test_success_density",e.tests="tests",e.uncovered_conditions="uncovered_conditions",e.uncovered_lines="uncovered_lines",e.violations="violations",e.vulnerabilities="vulnerabilities",e.wont_fix_issues="wont_fix_issues"}(a||(a={}))},406:function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"j",function(){return f}),n.d(t,"e",function(){return v}),n.d(t,"h",function(){return S}),n.d(t,"i",function(){return E}),n.d(t,"g",function(){return j}),n.d(t,"d",function(){return O}),n.d(t,"f",function(){return N}),n.d(t,"l",function(){return w}),n.d(t,"b",function(){return C}),n.d(t,"k",function(){return k}),n.d(t,"c",function(){return x});var a=n(324),i=n.n(a),s=n(381),r=n.n(s),c=n(515),o=n.n(c),l=n(634),u=n.n(l),d=n(5),p=n(30),m=n(344),h=n(370),_=n(507);const g=_.a.issues,b={[_.a.issues]:[h.a.bugs,h.a.code_smells,h.a.vulnerabilities],[_.a.coverage]:[h.a.lines_to_cover,h.a.uncovered_lines],[_.a.duplications]:[h.a.ncloc,h.a.duplicated_lines]},y={[_.a.issues]:b[_.a.issues].concat([h.a.reliability_rating,h.a.security_rating,h.a.sqale_rating]),[_.a.coverage]:[...b[_.a.coverage],h.a.coverage],[_.a.duplications]:[...b[_.a.duplications],h.a.duplicated_lines_density]};function f(e){return e===_.a.custom}function v(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[_.a.issues,_.a.coverage,_.a.duplications];return e?t:[...t,_.a.custom]}function S(e){return e.data.some(e=>Boolean(e.y||0===e.y))}function E(e){return e.some(e=>e.data&&e.data.length>1)}function j(e){return e.length>0?e[0].type:"INT"}function O(e,t){return f(e)?t:b[e]}function N(e,t){return f(e)?t:y[e]}function w(e,t,n){return o()(r()(e,e=>e.type),e=>u()(e,n)).slice(0,t)}function C(e,t,n,a){return a.length<=0||void 0===e?[]:i()(e.filter(e=>a.indexOf(e.metric)>=0).map(a=>{if(a.metric===h.a.uncovered_lines&&!f(t))return function(e,t){const n=t.find(e=>e.metric===h.a.lines_to_cover);return{data:n?e.history.map((e,t)=>({x:e.date,y:Number(n.history[t].value)-Number(e.value)})):[],name:"covered_lines",translatedName:Object(d.translate)("project_activity.custom_metric.covered_lines"),type:"INT"}}(a,e);const i=function(e,t){if(Array.isArray(t))return t.find(t=>t.key===e);return t[e]}(a.metric,n);return{data:a.history.map(e=>({x:e.date,y:i&&"LEVEL"===i.type?e.value:Number(e.value)})),name:a.metric,translatedName:i?Object(d.getLocalizedMetricName)(i):Object(m.localizeMetric)(a.metric),type:i?i.type:"INT"}}),e=>a.indexOf("covered_lines"===e.name?"uncovered_lines":e.name))}function k(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Object(p.save)(e,n,t),f(n)&&Object(p.save)("".concat(e,".custom"),a.join(","),t)}function x(e,t){const n=Object(p.get)("".concat(e,".custom"),t);return{graph:Object(p.get)(e,t)||g,customGraphs:n?n.split(","):[]}}},507:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.issues="issues",e.coverage="coverage",e.duplications="duplications",e.custom="custom"}(a||(a={}))},558:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(2),i=n(304),s=n(29);const r={hour:"numeric",minute:"numeric"},c={hour:"numeric",minute:"numeric",second:"numeric"};function o(e){let t=e.children,n=e.date,o=e.long;return a.createElement(i.FormattedTime,Object.assign({value:Object(s.parseDate)(n)},o?c:r),t)}},576:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(2),i=n(399),s=n.n(i),r=n(512),c=n.n(r),o=n(328);function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e){let t=e.branchLike,n=l(e,["branchLike"]);return Object(o.h)(t)?a.createElement(c.a,Object.assign({},n)):a.createElement(s.a,Object.assign({},n))}},680:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return h}),n.d(t,"g",function(){return _}),n.d(t,"f",function(){return g}),n.d(t,"h",function(){return b}),n.d(t,"i",function(){return y}),n.d(t,"j",function(){return f});var a=n(570),i=n.n(a),s=n(427),r=n(29),c=n(431),o=n(406),l=n(507);const u=["VERSION","QUALITY_GATE","QUALITY_PROFILE","OTHER"],d=["QUALITY_GATE","DEFINITION_CHANGE","OTHER"];function p(e,t){return e.category!==t.category||h(e,t)}function m(e,t){return!i()(e.customMetrics,t.customMetrics)}function h(e,t){return!i()(e.from,t.from)||!i()(e.to,t.to)}function _(e,t){return e.graph!==t.graph}function g(e,t){return e.reduce((e,n)=>{let a=e[e.length-1];const i=n.events.find(e=>"VERSION"===e.category);if(i){const t={version:i.name,key:i.key,byDay:{}};!a||Object.keys(a.byDay).length>0?e.push(t):e[e.length-1]=t,a=t}else a||(a={version:null,key:null,byDay:{}},e.push(a));const c=s(Object(r.parseDate)(n.date)).getTime().toString();let o=!0;if(t.category||t.from||t.to){const e=!t.from||n.date>=t.from,a=!t.to||n.date<=t.to,i=!t.category||null!=n.events.find(e=>e.category===t.category);o=e&&a&&i}return o&&(a.byDay[c]||(a.byDay[c]=[]),a.byDay[c].push(n)),e},[])}function b(e){return{category:Object(c.parseAsString)(e.category),customMetrics:Object(c.parseAsArray)(e.custom_metrics,c.parseAsString),from:Object(c.parseAsDate)(e.from),graph:v(e.graph),project:Object(c.parseAsString)(e.id),to:Object(c.parseAsDate)(e.to),selectedDate:Object(c.parseAsDate)(e.selected_date)}}function y(e){return Object(c.cleanQuery)({category:Object(c.serializeString)(e.category),from:Object(c.serializeDate)(e.from),project:Object(c.serializeString)(e.project),to:Object(c.serializeDate)(e.to)})}function f(e){return Object(c.cleanQuery)({category:Object(c.serializeString)(e.category),custom_metrics:Object(c.serializeStringArray)(e.customMetrics),from:Object(c.serializeDate)(e.from),graph:(t=e.graph,t===o.a?void 0:t),id:Object(c.serializeString)(e.project),to:Object(c.serializeDate)(e.to),selected_date:Object(c.serializeDate)(e.selectedDate)});var t}function v(e){const t=Object(c.parseAsString)(e);return Object.keys(l.a).includes(t)?t:o.a}},695:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(2);const i=a.createContext({branchLike:void 0,component:void 0})},746:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return l});var a=n(8),i=n(320);function s(e){return Object(a.getJSON)("/api/project_analyses/search",e).catch(i.a)}function r(e,t,n,s){const r={analysis:e,name:t};return n&&(r.category=n),s&&(r.description=s),Object(a.postJSON)("/api/project_analyses/create_event",r).then(e=>e.event,i.a)}function c(e){return Object(a.post)("/api/project_analyses/delete_event",{event:e}).catch(i.a)}function o(e,t,n){const s={event:e};return t&&(s.name=t),n&&(s.description=n),Object(a.postJSON)("/api/project_analyses/update_event",s).then(e=>e.event,i.a)}function l(e){return Object(a.post)("/api/project_analyses/delete",{analysis:e}).catch(i.a)}},748:function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"a",function(){return g});var a=n(2),i=n(304),s=n(28),r=n(310),c=n(399),o=n.n(c),l=n(329),u=n.n(l),d=n(5),p=n(389),m=n(328),h=n(319);function _(e){return"DEFINITION_CHANGE"===e.category&&void 0!==e.definitionChange}class g extends a.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))},this.renderProjectLink=(e,t)=>a.createElement(s.Link,{onClick:this.stopPropagation,title:e.name,to:Object(h.t)(e.key,t)},Object(p.limitComponentName)(e.name,28)),this.renderBranch=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(d.translate)("branches.main_branch");return a.createElement("span",{className:"nowrap",title:e},a.createElement(o.a,{className:"little-spacer-left text-text-top"}),e)}}renderProjectChange(e){const t=!this.props.branchLike||Object(m.g)(this.props.branchLike);if("ADDED"===e.changeType){const n=t?"event.definition_change.added":"event.definition_change.branch_added";return a.createElement("div",{className:"text-ellipsis"},a.createElement(i.FormattedMessage,{defaultMessage:Object(d.translate)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}if("REMOVED"===e.changeType){const n=t?"event.definition_change.removed":"event.definition_change.branch_removed";return a.createElement("div",{className:"text-ellipsis"},a.createElement(i.FormattedMessage,{defaultMessage:Object(d.translate)(n),id:n,values:{project:this.renderProjectLink(e,e.branch),branch:this.renderBranch(e.branch)}}))}return"BRANCH_CHANGED"===e.changeType?a.createElement(i.FormattedMessage,{defaultMessage:Object(d.translate)("event.definition_change.branch_replaced"),id:"event.definition_change.branch_replaced",values:{project:this.renderProjectLink(e,e.newBranch),oldBranch:this.renderBranch(e.oldBranch),newBranch:this.renderBranch(e.newBranch)}}):null}render(){const e=this.props.event,t=this.state.expanded;return a.createElement(a.Fragment,null,a.createElement("span",{className:"note"},Object(d.translate)("event.category",e.category),":"),a.createElement("div",null,a.createElement(r.ResetButtonLink,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},t?Object(d.translate)("hide"):Object(d.translate)("more"),a.createElement(u.a,{className:"little-spacer-left",turned:t}))),t&&a.createElement("ul",{className:"spacer-left spacer-top"},e.definitionChange.projects.map(e=>a.createElement("li",{className:"display-flex-center spacer-top",key:e.key},this.renderProjectChange(e)))))}}},749:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return h});var a=n(2),i=n(304),s=n(28),r=n(310),c=n(329),o=n.n(c),l=n(369),u=n.n(l),d=n(5),p=n(319);function m(e){return"QUALITY_GATE"===e.category&&void 0!==e.qualityGate}class h extends a.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.stopPropagation=e=>{e.stopPropagation()},this.toggleProjectsList=()=>{this.setState(e=>({expanded:!e.expanded}))}}render(){const e=this.props.event,t=this.state.expanded;return a.createElement(a.Fragment,null,a.createElement("span",{className:"note spacer-right"},Object(d.translate)("event.category",e.category),":"),e.qualityGate.stillFailing?a.createElement(i.FormattedMessage,{defaultMessage:Object(d.translate)("event.quality_gate.still_x"),id:"event.quality_gate.still_x",values:{status:a.createElement(u.a,{level:e.qualityGate.status,small:!0})}}):a.createElement(u.a,{level:e.qualityGate.status,small:!0}),a.createElement("div",null,e.qualityGate.failing.length>0&&a.createElement(r.ResetButtonLink,{className:"project-activity-event-inner-more-link",onClick:this.toggleProjectsList,stopPropagation:!0},t?Object(d.translate)("hide"):Object(d.translate)("more"),a.createElement(o.a,{className:"little-spacer-left",turned:t}))),t&&a.createElement("ul",{className:"spacer-left spacer-top"},e.qualityGate.failing.map(t=>a.createElement("li",{className:"display-flex-center spacer-top",key:t.key},a.createElement(u.a,{"aria-label":Object(d.translate)("quality_gates.status"),className:"spacer-right",level:e.qualityGate.status,small:!0}),a.createElement("div",{className:"flex-1 text-ellipsis"},a.createElement(s.Link,{onClick:this.stopPropagation,title:t.name,to:Object(p.t)(t.key,t.branch)},a.createElement("span",{"aria-label":Object(d.translateWithParameters)("project_x",t.name)},t.name)))))))}}},780:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return r}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return o});var a=n(8),i=n(320);function s(e){return Object(a.getJSON)("/api/new_code_periods/show",e).catch(i.a)}function r(e){return Object(a.post)("/api/new_code_periods/set",e).catch(i.a)}function c(e){return Object(a.post)("/api/new_code_periods/unset",e).catch(i.a)}function o(e){return Object(a.getJSON)("/api/new_code_periods/list",e).catch(i.a)}},781:function(e,t,n){"use strict";function a(e){const t=parseInt(e,10);return!(e.length<1||isNaN(t)||t<1||String(t)!==e)}function i(e){let t=e.analysis,n=e.days;switch(e.type){case"NUMBER_OF_DAYS":return n;case"SPECIFIC_ANALYSIS":return t;default:return}}function s(e){const t=e.analysis,n=void 0===t?"":t,i=e.currentSetting,s=e.currentSettingValue,r=e.days,c=e.selected,o=e.overrideGeneralSetting;let l;return{isChanged:l=i||void 0===o?!1===o||c!==i||"NUMBER_OF_DAYS"===c&&r!==s||"SPECIFIC_ANALYSIS"===c&&n!==s:o,isValid:!1===o||"PREVIOUS_VERSION"===c||"SPECIFIC_ANALYSIS"===c&&n.length>0||"NUMBER_OF_DAYS"===c&&a(r)}}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s})},830:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(2),i=n(495),s=n.n(i),r=n(681),c=n.n(r),o=n(5);function l(e){const t=e.className,n=e.days,i=e.disabled,r=e.isChanged,l=e.isValid,u=e.onChangeDays,d=e.onSelect,p=e.selected;return a.createElement(s.a,{className:t,disabled:i,onClick:()=>d("NUMBER_OF_DAYS"),selected:p,title:Object(o.translate)("baseline.number_days")},a.createElement(a.Fragment,null,a.createElement("p",{className:"big-spacer-bottom"},Object(o.translate)("baseline.number_days.description")),p&&a.createElement(c.a,{error:void 0,id:"baseline_number_of_days",isInvalid:r&&!l,isValid:r&&l,label:Object(o.translate)("baseline.specify_days"),required:!0},a.createElement("input",{onChange:e=>u(e.currentTarget.value),type:"text",value:n}))))}},831:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(2),i=n(495),s=n.n(i),r=n(5);function c(e){const t=e.disabled,n=e.isDefault,i=e.onSelect,c=e.selected;return a.createElement(s.a,{disabled:t,onClick:()=>i("PREVIOUS_VERSION"),selected:c,title:Object(r.translate)("baseline.previous_version")+(n?" (".concat(Object(r.translate)("default"),")"):"")},a.createElement("p",null,Object(r.translate)("baseline.previous_version.description")))}}}]);
//# sourceMappingURL=301.m.1888fc52.chunk.js.map