(window.webpackJsonp=window.webpackJsonp||[]).push([[323],{1653:function(e,t,n){"use strict";n.r(t),t.default="This Quality Profile is built in, and cannot be updated manually. If you want to activate more rules, create a new profile that inherits from this one and add rules there.\n"},1765:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(5),l=n(357);class s extends a.PureComponent{getExportUrl(e){const t=this.props.profile;return"".concat(window.baseUrl).concat(Object(l.u)(e,t))}render(){const e=this.props,t=e.exporters,n=e.profile,l=t.filter(e=>e.languages.includes(n.language));return 0===l.length?null:a.createElement("div",{className:"boxed-group quality-profile-exporters"},a.createElement("h2",null,Object(r.translate)("quality_profiles.exporters")),a.createElement("div",{className:"boxed-group-inner"},a.createElement("ul",null,l.map((e,t)=>a.createElement("li",{className:t>0?"spacer-top":void 0,"data-key":e.key,key:e.key},a.createElement("a",{href:this.getExportUrl(e),rel:"noopener noreferrer",target:"_blank"},e.name))))))}}var o=n(309),i=n(310),c=n(324),u=n.n(c),p=n(326),d=n.n(p),m=n(338),h=n.n(m);class f extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={loading:!1,selected:null},this.handleSelectChange=e=>{this.setState({selected:e.value})},this.handleFormSubmit=e=>{e.preventDefault();const t=this.props.profiles.find(e=>e.key===this.state.selected);this.setState({loading:!0}),Object(l.g)(this.props.profile,t).then(this.props.onChange).catch(()=>{this.mounted&&this.setState({loading:!1})})}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props.profiles,t=[{label:Object(r.translate)("none"),value:""},...u()(e,"name").map(e=>({label:e.isBuiltIn?"".concat(e.name," (").concat(Object(r.translate)("quality_profiles.built_in"),")"):e.name,value:e.key}))],n=this.state.loading||null==this.state.selected||this.state.selected===this.props.profile.parentKey;return a.createElement(d.a,{contentLabel:Object(r.translate)("quality_profiles.change_parent"),onRequestClose:this.props.onClose,size:"small"},a.createElement("form",{id:"change-profile-parent-form",onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,Object(r.translate)("quality_profiles.change_parent"))),a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"modal-field"},a.createElement("label",{htmlFor:"change-profile-parent"},Object(r.translate)("quality_profiles.parent")," ",a.createElement("em",{className:"mandatory"},"*")),a.createElement(h.a,{clearable:!1,id:"change-profile-parent",name:"parentKey",onChange:this.handleSelectChange,options:t,value:null!=this.state.selected?this.state.selected:this.props.profile.parentKey||""}))),a.createElement("div",{className:"modal-foot"},this.state.loading&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(i.SubmitButton,{disabled:n,id:"change-profile-parent-submit"},Object(r.translate)("change_verb")),a.createElement(i.ResetButtonLink,{id:"change-profile-parent-cancel",onClick:this.props.onClose},Object(r.translate)("cancel")))))}}var g=n(321),y=n.n(g),b=n(667),E=n(679);function j(e){const t=e.className,n=e.depth,l=e.extendsBuiltIn,s=e.language,o=e.organization,i=e.profile,c=e.displayLink,u=void 0===c||c,p=e.type,d=void 0===p?"current":p,m=25*n;return a.createElement("tr",{className:t,"data-test":"quality-profiles__inheritance-".concat(d)},a.createElement("td",null,a.createElement("div",{style:{paddingLeft:m}},u?a.createElement(E.a,{className:"text-middle",language:s,name:i.name,organization:o},i.name):a.createElement("span",{className:"text-middle"},i.name),i.isBuiltIn&&a.createElement(b.a,{className:"spacer-left"}),l&&a.createElement(y.a,{className:"spacer-left",overlay:Object(r.translate)("quality_profiles.extends_built_in")}))),a.createElement("td",null,Object(r.translateWithParameters)("quality_profile.x_active_rules",i.activeRuleCount)),a.createElement("td",null,null!=i.overridingRuleCount&&a.createElement("p",null,Object(r.translateWithParameters)("quality_profiles.x_overridden_rules",i.overridingRuleCount))))}class v extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={formOpen:!1,loading:!0},this.handleChangeParentClick=()=>{this.setState({formOpen:!0})},this.closeForm=()=>{this.setState({formOpen:!1})},this.handleParentChange=()=>{this.props.updateProfiles().then(()=>{this.loadData()},()=>{}),this.closeForm()}}componentDidMount(){this.mounted=!0,this.loadData()}componentDidUpdate(e){e.profile.key!==this.props.profile.key&&this.loadData()}componentWillUnmount(){this.mounted=!1}loadData(){Object(l.q)(this.props.profile).then(e=>{if(this.mounted){const t=e.ancestors,n=e.children;t.reverse(),this.setState({children:n,ancestors:t,profile:e.profile,loading:!1})}},()=>{this.mounted&&this.setState({loading:!1})})}render(){const e=this.props,t=e.profile,n=e.profiles,l=this.state.ancestors,s=!this.state.loading&&null!=l&&null!=this.state.children&&(l.length>0||this.state.children.length>0),c=null!=l&&l.some(e=>e.isBuiltIn);return a.createElement("div",{className:"boxed-group quality-profile-inheritance"},t.actions&&t.actions.edit&&!t.isBuiltIn&&a.createElement("div",{className:"boxed-group-actions"},a.createElement(i.Button,{className:"pull-right js-change-parent",onClick:this.handleChangeParentClick},Object(r.translate)("quality_profiles.change_parent"))),a.createElement("header",{className:"boxed-group-header"},a.createElement("h2",null,Object(r.translate)("quality_profiles.profile_inheritance"))),a.createElement("div",{className:"boxed-group-inner"},this.state.loading?a.createElement("i",{className:"spinner"}):a.createElement("table",{className:"data zebra"},a.createElement("tbody",null,null!=l&&l.map((e,n)=>a.createElement(j,{depth:n,key:e.key,language:t.language,organization:this.props.organization,profile:e,type:"ancestor"})),null!=this.state.profile&&a.createElement(j,{className:o({selected:s}),depth:l?l.length:0,displayLink:!1,extendsBuiltIn:c,language:t.language,organization:this.props.organization,profile:this.state.profile}),null!=this.state.children&&this.state.children.map(e=>a.createElement(j,{depth:l?l.length+1:0,key:e.key,language:t.language,organization:this.props.organization,profile:e,type:"child"}))))),this.state.formOpen&&a.createElement(f,{onChange:this.handleParentChange,onClose:this.closeForm,profile:t,profiles:n.filter(e=>e!==t&&e.language===t.language)}))}}var O=n(533),N=n.n(O),S=n(574),q=n.n(S),C=n(361),k=n.n(C),_=n(591),z=n.n(_),P=n(363);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D extends a.PureComponent{constructor(e){super(e),this.mounted=!1,this.handleSearch=e=>{this.setState({loading:!0}),this.props.onSearch(e).then(e=>{this.mounted&&this.setState({loading:!1,searchResults:e})},()=>{this.mounted&&this.setState({loading:!1})})},this.handleInputChange=e=>{this.setState({query:e}),e.length>1&&this.handleSearch(e)},this.handleSearch=k()(this.handleSearch,250),this.state={loading:!1,query:"",searchResults:[]}}componentDidMount(){this.mounted=!0,this.handleSearch(this.state.query)}componentWillUnmount(){this.mounted=!1}render(){const e=1===this.state.query.length?Object(r.translateWithParameters)("select2.tooShort",2):Object(r.translate)("no_results"),t=this.state.searchResults.map(e=>(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){x(e,t,n[t])})}return e})({},e,{value:T(e)}));return a.createElement(h.a,{autoFocus:!0,className:"Select-big",clearable:!1,filterOptions:q.a,isLoading:this.state.loading,noResultsText:e,onChange:this.props.onChange,onInputChange:this.handleInputChange,optionRenderer:R,options:t,placeholder:"",searchable:!0,value:this.props.selected&&T(this.props.selected),valueRenderer:R})}}function w(e){return void 0!==e.login}function T(e){return w(e)?"user:".concat(e.login):"group:".concat(e.name)}function R(e){return w(e)?a.createElement(a.Fragment,null,a.createElement(P.a,{hash:e.avatar,name:e.name,size:16}),a.createElement("strong",{className:"spacer-left"},e.name),a.createElement("span",{className:"note little-spacer-left"},e.login)):a.createElement(a.Fragment,null,a.createElement(z.a,{size:16}),a.createElement("strong",{className:"spacer-left"},e.name))}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class U extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={submitting:!1},this.stopSubmitting=()=>{this.mounted&&this.setState({submitting:!1})},this.handleUserAdd=e=>{const t=this.props,n=t.profile,a=n.language,r=n.name,s=t.organization;Object(l.c)({language:a,login:e.login,organization:s,qualityProfile:r}).then(()=>this.props.onUserAdd(e),this.stopSubmitting)},this.handleGroupAdd=e=>{const t=this.props,n=t.profile,a=n.language,r=n.name,s=t.organization;Object(l.b)({group:e.name,language:a,organization:s,qualityProfile:r}).then(()=>this.props.onGroupAdd(e),this.stopSubmitting)},this.handleFormSubmit=e=>{e.preventDefault();const t=this.state.selected;t&&(this.setState({submitting:!0}),void 0!==t.login?this.handleUserAdd(t):this.handleGroupAdd(t))},this.handleSearch=e=>{const t=this.props,n=t.organization,a=t.profile,r={language:a.language,organization:n,q:e,qualityProfile:a.name,selected:"deselected"};return Promise.all([Object(l.B)(r),Object(l.z)(r)]).then(e=>{let t=M(e,2),n=t[0],a=t[1];return[...n.users,...a.groups]})},this.handleValueChange=e=>{this.setState({selected:e})}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=Object(r.translate)("quality_profiles.grant_permissions_to_user_or_group"),t=!this.state.selected||this.state.submitting;return a.createElement(d.a,{contentLabel:e,onRequestClose:this.props.onClose},a.createElement("header",{className:"modal-head"},a.createElement("h2",null,e)),a.createElement("form",{onSubmit:this.handleFormSubmit},a.createElement("div",{className:"modal-body"},a.createElement("div",{className:"modal-field"},a.createElement("label",null,Object(r.translate)("quality_profiles.search_description")),a.createElement(D,{onChange:this.handleValueChange,onSearch:this.handleSearch,selected:this.state.selected}))),a.createElement("footer",{className:"modal-foot"},this.state.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(i.SubmitButton,{disabled:t},Object(r.translate)("add_verb")),a.createElement(i.ResetButtonLink,{onClick:this.props.onClose},Object(r.translate)("cancel")))))}}var B=n(304),L=n(333),A=n.n(L);class F extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={deleteModal:!1},this.handleDeleteClick=()=>{this.setState({deleteModal:!0})},this.handleDeleteModalClose=()=>{this.mounted&&this.setState({deleteModal:!1})},this.handleDelete=()=>{const e=this.props,t=e.group,n=e.organization,a=e.profile;return Object(l.v)({group:t.name,language:a.language,organization:n,qualityProfile:a.name}).then(()=>{this.handleDeleteModalClose(),this.props.onDelete(t)})},this.renderDeleteModal=e=>a.createElement("div",null,a.createElement("header",{className:"modal-head"},a.createElement("h2",null,Object(r.translate)("groups.remove"))),a.createElement("div",{className:"modal-body"},a.createElement(B.FormattedMessage,{defaultMessage:Object(r.translate)("groups.remove.confirmation"),id:"groups.remove.confirmation",values:{user:a.createElement("strong",null,this.props.group.name)}})),a.createElement("footer",{className:"modal-foot"},e.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(i.Button,{className:"button-red",disabled:e.submitting,onClick:e.onSubmitClick},Object(r.translate)("remove")),a.createElement(i.ResetButtonLink,{onClick:e.onCloseClick},Object(r.translate)("cancel"))))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props.group;return a.createElement("div",{className:"clearfix big-spacer-bottom"},a.createElement(i.DeleteButton,{className:"pull-right spacer-top spacer-left spacer-right button-small",onClick:this.handleDeleteClick}),a.createElement(z.a,{className:"pull-left spacer-right",size:32}),a.createElement("div",{className:"overflow-hidden",style:{lineHeight:"32px"}},a.createElement("strong",null,e.name)),this.state.deleteModal&&a.createElement(A.a,{header:Object(r.translate)("group.remove"),onClose:this.handleDeleteModalClose,onSubmit:this.handleDelete},this.renderDeleteModal))}}class I extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={deleteModal:!1},this.handleDeleteClick=()=>{this.setState({deleteModal:!0})},this.handleDeleteModalClose=()=>{this.mounted&&this.setState({deleteModal:!1})},this.handleDelete=()=>{const e=this.props,t=e.organization,n=e.profile,a=e.user;return Object(l.w)({language:n.language,login:a.login,organization:t,qualityProfile:n.name}).then(()=>{this.handleDeleteModalClose(),this.props.onDelete(a)})},this.renderDeleteModal=e=>a.createElement("div",null,a.createElement("header",{className:"modal-head"},a.createElement("h2",null,Object(r.translate)("users.remove"))),a.createElement("div",{className:"modal-body"},a.createElement(B.FormattedMessage,{defaultMessage:Object(r.translate)("users.remove.confirmation"),id:"users.remove.confirmation",values:{user:a.createElement("strong",null,this.props.user.name)}})),a.createElement("footer",{className:"modal-foot"},e.submitting&&a.createElement("i",{className:"spinner spacer-right"}),a.createElement(i.SubmitButton,{className:"button-red",disabled:e.submitting,onClick:e.onSubmitClick},Object(r.translate)("remove")),a.createElement(i.ResetButtonLink,{onClick:e.onCloseClick},Object(r.translate)("cancel"))))}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=this.props.user;return a.createElement("div",{className:"clearfix big-spacer-bottom"},a.createElement(i.DeleteButton,{className:"pull-right spacer-top spacer-left spacer-right button-small",onClick:this.handleDeleteClick}),a.createElement(P.a,{className:"pull-left spacer-right",hash:e.avatar,name:e.name,size:32}),a.createElement("div",{className:"overflow-hidden"},a.createElement("strong",null,e.name),a.createElement("div",{className:"note"},e.login)),this.state.deleteModal&&a.createElement(A.a,{header:Object(r.translate)("users.remove"),onClose:this.handleDeleteModalClose,onSubmit:this.handleDelete},this.renderDeleteModal))}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class W extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={addUserForm:!1,loading:!0},this.handleAddUserButtonClick=()=>{this.setState({addUserForm:!0})},this.handleAddUserFormClose=()=>{this.mounted&&this.setState({addUserForm:!1})},this.handleUserAdd=e=>{this.mounted&&this.setState(t=>({addUserForm:!1,users:t.users&&N()([...t.users,e],e=>e.login)}))},this.handleUserDelete=e=>{this.mounted&&this.setState(t=>({users:t.users&&t.users.filter(t=>t!==e)}))},this.handleGroupAdd=e=>{this.mounted&&this.setState(t=>({addUserForm:!1,groups:t.groups&&N()([...t.groups,e],e=>e.name)}))},this.handleGroupDelete=e=>{this.mounted&&this.setState(t=>({groups:t.groups&&t.groups.filter(t=>t!==e)}))}}componentDidMount(){this.mounted=!0,this.fetchUsersAndGroups()}componentDidUpdate(e){e.organization===this.props.organization&&e.profile.key===this.props.profile.key||this.fetchUsersAndGroups()}componentWillUnmount(){this.mounted=!1}fetchUsersAndGroups(){this.setState({loading:!0});const e=this.props,t=e.organization,n=e.profile,a={language:n.language,organization:t,qualityProfile:n.name,selected:"selected"};Promise.all([Object(l.B)(a),Object(l.z)(a)]).then(e=>{let t=J(e,2),n=t[0],a=t[1];this.mounted&&this.setState({groups:a.groups,loading:!1,users:n.users})},()=>{this.mounted&&this.setState({loading:!1})})}render(){return a.createElement("div",{className:"boxed-group"},a.createElement("h2",null,Object(r.translate)("permissions.page")),a.createElement("div",{className:"boxed-group-inner"},a.createElement("p",{className:"note"},Object(r.translate)("quality_profiles.default_permissions")),this.state.loading?a.createElement("div",{className:"big-spacer-top"},a.createElement("i",{className:"spinner"})):a.createElement("div",{className:"big-spacer-top"},this.state.users&&u()(this.state.users,"name").map(e=>a.createElement(I,{key:e.login,onDelete:this.handleUserDelete,organization:this.props.organization,profile:this.props.profile,user:e})),this.state.groups&&u()(this.state.groups,"name").map(e=>a.createElement(F,{group:e,key:e.name,onDelete:this.handleGroupDelete,organization:this.props.organization,profile:this.props.profile})),a.createElement("div",{className:"text-right"},a.createElement(i.Button,{onClick:this.handleAddUserButtonClick},Object(r.translate)("quality_profiles.grant_permissions_to_more_users"))))),this.state.addUserForm&&a.createElement(U,{onClose:this.handleAddUserFormClose,onGroupAdd:this.handleGroupAdd,onUserAdd:this.handleUserAdd,organization:this.props.organization,profile:this.props.profile}))}}var G=n(28),K=n(356),H=n.n(K),V=n(347),Q=n.n(V),Y=n(353),$=n.n(Y),X=n(493),Z=n.n(X),ee=n(678),te=n.n(ee);class ne extends a.PureComponent{constructor(e){super(e),this.mounted=!1,this.fetchProjects=e=>Object(l.r)({key:this.props.profile.key,organization:this.props.organization,p:e.page,ps:e.pageSize,q:""!==e.query?e.query:void 0,selected:e.filter}).then(t=>{this.mounted&&this.setState(n=>{const a=null!=e.page&&e.page>1,r=a?[...n.projects,...t.results]:t.results,l=t.results.filter(e=>e.selected).map(e=>e.key),s=a?[...n.selectedProjects,...l]:l;return{lastSearchParams:e,needToReload:!1,projects:r,projectsTotalCount:t.paging.total,selectedProjects:s}})}),this.handleSelect=e=>Object(l.d)(this.props.profile,e).then(()=>{this.mounted&&this.setState(t=>({needToReload:!0,selectedProjects:[...t.selectedProjects,e]}))}),this.handleUnselect=e=>Object(l.m)(this.props.profile,e).then(()=>{this.mounted&&this.setState(t=>({needToReload:!0,selectedProjects:$()(t.selectedProjects,e)}))}),this.handleCloseClick=e=>{e.preventDefault(),this.props.onClose()},this.renderElement=e=>{const t=Z()(this.state.projects,{key:e});return a.createElement("div",{className:"select-list-list-item"},void 0===t?e:a.createElement(a.Fragment,null,t.name,a.createElement("br",null),a.createElement("span",{className:"note"},t.key)))},this.state={needToReload:!1,projects:[],selectedProjects:[]}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const e=Object(r.translate)("projects");return a.createElement(d.a,{contentLabel:e,onRequestClose:this.props.onClose},a.createElement("div",{className:"modal-head"},a.createElement("h2",null,e)),a.createElement("div",{className:"modal-body modal-container",id:"profile-projects"},a.createElement(te.a,{allowBulkSelection:!0,elements:this.state.projects.map(e=>e.key),elementsTotalCount:this.state.projectsTotalCount,labelAll:Object(r.translate)("quality_gates.projects.all"),labelSelected:Object(r.translate)("quality_gates.projects.with"),labelUnselected:Object(r.translate)("quality_gates.projects.without"),needToReload:this.state.needToReload&&this.state.lastSearchParams&&this.state.lastSearchParams.filter!==ee.SelectListFilter.All,onSearch:this.fetchProjects,onSelect:this.handleSelect,onUnselect:this.handleUnselect,renderElement:this.renderElement,selectedElements:this.state.selectedProjects,withPaging:!0})),a.createElement("div",{className:"modal-foot"},a.createElement("a",{href:"#",onClick:this.handleCloseClick},Object(r.translate)("close"))))}}class ae extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={formOpen:!1,loading:!0,loadingMore:!1,page:1,projects:[],total:0},this.stopLoading=()=>{this.mounted&&this.setState({loading:!1})},this.loadMore=()=>{this.setState({loadingMore:!0});const e={key:this.props.profile.key,page:this.state.page+1};Object(l.r)(e).then(e=>{let t=e.paging,n=e.results;this.mounted&&this.setState(e=>({projects:[...e.projects,...n],total:t.total,loadingMore:!1}))},this.stopLoading)},this.handleChangeClick=()=>{this.setState({formOpen:!0})},this.closeForm=()=>{this.setState({formOpen:!1}),this.loadProjects()}}componentDidMount(){this.mounted=!0,this.loadProjects()}componentDidUpdate(e){e.profile.key!==this.props.profile.key&&this.loadProjects()}componentWillUnmount(){this.mounted=!1}loadProjects(){if(this.props.profile.isDefault)return void this.setState({loading:!1,projects:[]});this.setState({loading:!0});const e={key:this.props.profile.key,page:this.state.page};Object(l.r)(e).then(e=>{let t=e.paging,n=e.results;this.mounted&&this.setState({projects:n,total:t.total,loading:!1})},this.stopLoading)}renderDefault(){return a.createElement("div",null,a.createElement("span",{className:"badge spacer-right"},Object(r.translate)("default")),Object(r.translate)("quality_profiles.projects_for_default"))}renderProjects(){if(this.state.loading)return a.createElement("i",{className:"spinner"});const e=this.state.projects;return 0===e.length?a.createElement("div",null,Object(r.translate)("quality_profiles.no_projects_associated_to_profile")):a.createElement(a.Fragment,null,a.createElement("ul",null,e.map(e=>a.createElement("li",{className:"spacer-top js-profile-project","data-key":e.key,key:e.key},a.createElement(G.Link,{className:"link-with-icon",to:{pathname:"/dashboard",query:{id:e.key}}},a.createElement(Q.a,{qualifier:"TRK"})," ",a.createElement("span",null,e.name))))),a.createElement(H.a,{count:e.length,loadMore:this.loadMore,ready:!this.state.loadingMore,total:this.state.total}))}render(){const e=this.props.profile;return a.createElement("div",{className:"boxed-group quality-profile-projects"},e.actions&&e.actions.associateProjects&&a.createElement("div",{className:"boxed-group-actions"},a.createElement(i.Button,{className:"js-change-projects",onClick:this.handleChangeClick},Object(r.translate)("quality_profiles.change_projects"))),a.createElement("header",{className:"boxed-group-header"},a.createElement("h2",null,Object(r.translate)("projects"))),a.createElement("div",{className:"boxed-group-inner"},e.isDefault?this.renderDefault():this.renderProjects()),this.state.formOpen&&a.createElement(ne,{onClose:this.closeForm,organization:this.props.organization,profile:e}))}}var re=n(461),le=n.n(re),se=n(395),oe=n(346),ie=n(319);function ce(e){return a.createElement("div",{className:"quality-profile-rules-deprecated clearfix"},a.createElement("span",{className:"pull-left"},a.createElement("span",{className:"text-middle"},Object(r.translate)("quality_profiles.deprecated_rules")),a.createElement(y.a,{className:"spacer-left",overlay:Object(r.translate)("quality_profiles.deprecated_rules_description")})),a.createElement(G.Link,{className:"pull-right",to:Object(ie.k)({qprofile:e.profile},e.organization)},e.activeDeprecatedRules))}var ue=n(366),pe=n.n(ue),de=n(317);function me(e){const t=Object(ie.z)({qprofile:e.qprofile,activation:"true",types:e.type},e.organization),n=Object(ie.z)({qprofile:e.qprofile,activation:"false",types:e.type},e.organization);let l=null;return null!=e.count&&null!=e.total&&(l=e.total-e.count),a.createElement("tr",null,a.createElement("td",null,a.createElement("span",null,a.createElement(pe.a,{className:"little-spacer-right",query:e.type}),Object(r.translate)("issue.type",e.type,"plural"))),a.createElement("td",{className:"thin nowrap text-right"},null!=e.count&&a.createElement(G.Link,{to:t},Object(de.formatMeasure)(e.count,"SHORT_INT",null))),a.createElement("td",{className:"thin nowrap text-right"},null!=l&&(l>0?a.createElement(G.Link,{className:"small text-muted",to:n},Object(de.formatMeasure)(l,"SHORT_INT",null)):a.createElement("span",{className:"note text-muted"},"0"))))}function he(e){const t=Object(ie.z)({qprofile:e.qprofile,activation:"true"},e.organization),n=Object(ie.z)({qprofile:e.qprofile,activation:"false"},e.organization);let l=null;return null!=e.count&&null!=e.total&&(l=e.total-e.count),a.createElement("tr",null,a.createElement("td",null,a.createElement("strong",null,Object(r.translate)("total"))),a.createElement("td",{className:"thin nowrap text-right"},null!=e.count&&a.createElement(G.Link,{to:t},a.createElement("strong",null,Object(de.formatMeasure)(e.count,"SHORT_INT",null)))),a.createElement("td",{className:"thin nowrap text-right"},null!=l&&(l>0?a.createElement(G.Link,{className:"small text-muted",to:n},a.createElement("strong",null,Object(de.formatMeasure)(l,"SHORT_INT",null))):a.createElement("span",{className:"note text-muted"},"0"))))}function fe(e){const t=Object(ie.z)({qprofile:e.profile,activation:"false",compareToProfile:e.sonarway,languages:e.language},e.organization);return a.createElement("div",{className:"quality-profile-rules-sonarway-missing clearfix"},a.createElement("span",{className:"pull-left"},a.createElement("span",{className:"text-middle"},Object(r.translate)("quality_profiles.sonarway_missing_rules")),a.createElement(y.a,{className:"spacer-left",overlay:Object(r.translate)("quality_profiles.sonarway_missing_rules_description")})),a.createElement(G.Link,{className:"pull-right","data-test":"rules",to:t},e.sonarWayMissingRules))}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const ye=["BUG","VULNERABILITY","CODE_SMELL","SECURITY_HOTSPOT"];class be extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={activatedTotal:null,activatedByType:le()(ye.map(e=>({val:e,count:null})),"val"),allByType:le()(ye.map(e=>({val:e,count:null})),"val"),compareToSonarWay:null,total:null}}componentDidMount(){this.mounted=!0,this.loadRules()}componentDidUpdate(e){e.profile.key!==this.props.profile.key&&this.loadRules()}componentWillUnmount(){this.mounted=!1}loadProfile(){return this.props.profile.isBuiltIn?Promise.resolve(null):Object(l.s)({compareToSonarWay:!0,profile:this.props.profile})}loadAllRules(){return Object(se.f)({languages:this.props.profile.language,facets:"types",organization:this.props.organization||void 0,ps:1})}loadActivatedRules(){return Object(se.f)({activation:"true",facets:"types",organization:this.props.organization||void 0,ps:1,qprofile:this.props.profile.key})}loadRules(){Promise.all([this.loadAllRules(),this.loadActivatedRules(),this.loadProfile()]).then(e=>{if(this.mounted){const t=ge(e,3),n=t[0],a=t[1],r=t[2];this.setState({activatedTotal:a.total,allByType:le()(Object(se.g)(n,"types"),"val"),activatedByType:le()(Object(se.g)(a,"types"),"val"),compareToSonarWay:r&&r.compareToSonarWay,total:n.total})}})}getRulesCountForType(e){return this.state.activatedByType&&this.state.activatedByType[e]?this.state.activatedByType[e].count:null}getRulesTotalForType(e){return this.state.allByType&&this.state.allByType[e]?this.state.allByType[e].count:null}render(){const e=this.props,t=e.organization,l=e.profile,s=this.state.compareToSonarWay,o=Object(ie.z)({qprofile:l.key,activation:"false"},t),c=l.actions,u=void 0===c?{}:c;return a.createElement("div",{className:"boxed-group quality-profile-rules"},a.createElement("div",{className:"quality-profile-rules-distribution"},a.createElement("table",{className:"data condensed"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,a.createElement("h2",null,Object(r.translate)("rules"))),a.createElement("th",null,Object(r.translate)("active")),a.createElement("th",null,Object(r.translate)("inactive")))),a.createElement("tbody",null,a.createElement(he,{count:this.state.activatedTotal,organization:t,qprofile:l.key,total:this.state.total}),ye.map(e=>a.createElement(me,{count:this.getRulesCountForType(e),key:e,organization:t,qprofile:l.key,total:this.getRulesTotalForType(e),type:e})))),u.edit&&!l.isBuiltIn&&a.createElement("div",{className:"text-right big-spacer-top"},a.createElement(G.Link,{className:"button js-activate-rules",to:o},Object(r.translate)("quality_profiles.activate_more"))),u.copy&&l.isBuiltIn&&a.createElement("div",{className:"text-right big-spacer-top"},a.createElement(oe.a,{doc:Promise.resolve().then(n.bind(null,1653))},a.createElement(i.Button,{className:"disabled js-activate-rules"},Object(r.translate)("quality_profiles.activate_more"))))),l.activeDeprecatedRuleCount>0&&a.createElement(ce,{activeDeprecatedRules:l.activeDeprecatedRuleCount,organization:t,profile:l.key}),null!=s&&s.missingRuleCount>0&&a.createElement(fe,{language:l.language,organization:t,profile:l.key,sonarWayMissingRules:s.missingRuleCount,sonarway:s.profile}))}}function Ee(e){const t=e.organization,n=e.profile;return a.createElement("div",null,a.createElement("div",{className:"quality-profile-grid"},a.createElement("div",{className:"quality-profile-grid-left"},a.createElement(be,{organization:t,profile:n}),a.createElement(s,{exporters:e.exporters,organization:t,profile:n}),n.actions&&n.actions.edit&&!n.isBuiltIn&&a.createElement(W,{organization:t||void 0,profile:n})),a.createElement("div",{className:"quality-profile-grid-right"},a.createElement(v,{organization:t,profile:n,profiles:e.profiles,updateProfiles:e.updateProfiles}),a.createElement(ae,{organization:t,profile:n}))))}n.d(t,"default",function(){return Ee})},346:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(2),r=n(321),l=n.n(r),s=n(325),o=n(368);const i=Object(s.lazyLoad)(()=>Promise.all([n.e(5),n.e(20)]).then(n.bind(null,458)));class c extends a.PureComponent{constructor(){super(...arguments),this.mounted=!1,this.state={open:!1},this.close=()=>{this.mounted&&this.setState({open:!1})}}componentDidMount(){this.mounted=!0,this.props.doc.then(e=>{let t=e.default;this.mounted&&this.setState({content:t})},()=>{}),document.addEventListener("scroll",this.close,!0)}componentWillUnmount(){this.mounted=!1,document.removeEventListener("scroll",this.close,!0)}render(){return this.state.content?a.createElement(l.a,{className:this.props.className,overlay:a.createElement("div",{className:"abs-width-300"},a.createElement(i,{childProps:this.props.overlayProps,className:"cut-margins",content:Object(o.filterContent)(this.state.content),isTooltip:!0}))},this.props.children):this.props.children||null}}},357:function(e,t,n){"use strict";n.d(t,"A",function(){return u}),n.d(t,"s",function(){return p}),n.d(t,"j",function(){return d}),n.d(t,"y",function(){return m}),n.d(t,"r",function(){return h}),n.d(t,"q",function(){return f}),n.d(t,"C",function(){return g}),n.d(t,"x",function(){return y}),n.d(t,"i",function(){return b}),n.d(t,"l",function(){return E}),n.d(t,"g",function(){return j}),n.d(t,"t",function(){return v}),n.d(t,"u",function(){return O}),n.d(t,"o",function(){return N}),n.d(t,"n",function(){return S}),n.d(t,"p",function(){return q}),n.d(t,"h",function(){return C}),n.d(t,"d",function(){return k}),n.d(t,"m",function(){return _}),n.d(t,"B",function(){return z}),n.d(t,"z",function(){return P}),n.d(t,"c",function(){return x}),n.d(t,"w",function(){return D}),n.d(t,"b",function(){return w}),n.d(t,"v",function(){return T}),n.d(t,"e",function(){return R}),n.d(t,"f",function(){return M}),n.d(t,"a",function(){return U}),n.d(t,"k",function(){return B});var a=n(352),r=n.n(a),l=n(468),s=n(8),o=n(320);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e){return Object(s.getJSON)("/api/qualityprofiles/search",e).catch(o.a)}function p(e){let t=e.compareToSonarWay,n=e.profile.key;return Object(s.getJSON)("/api/qualityprofiles/show",{compareToSonarWay:t,key:n})}function d(e){return Object(s.postJSON)("/api/qualityprofiles/create",e).catch(o.a)}function m(e){return Object(s.postJSON)("/api/qualityprofiles/restore",e).catch(o.a)}function h(e){return Object(s.getJSON)("/api/qualityprofiles/projects",e).catch(o.a)}function f(e){let t=e.language,n=e.name,a=e.organization;return Object(s.getJSON)("/api/qualityprofiles/inheritance",{language:t,qualityProfile:n,organization:a}).catch(o.a)}function g(e){let t=e.language,n=e.name,a=e.organization;return Object(s.post)("/api/qualityprofiles/set_default",{language:t,qualityProfile:n,organization:a})}function y(e,t){return Object(s.post)("/api/qualityprofiles/rename",{key:e,name:t}).catch(o.a)}function b(e,t){return Object(s.postJSON)("/api/qualityprofiles/copy",{fromKey:e,toName:t}).catch(o.a)}function E(e){let t=e.language,n=e.name,a=e.organization;return Object(s.post)("/api/qualityprofiles/delete",{language:t,qualityProfile:n,organization:a}).catch(o.a)}function j(e,t){let n=e.language,a=e.name,r=e.organization;return Object(s.post)("/api/qualityprofiles/change_parent",{language:n,qualityProfile:a,organization:r,parentQualityProfile:t?t.name:void 0}).catch(o.a)}function v(e){let t=e.language,n=e.name,a=e.organization;const r=Object.entries({language:t,qualityProfile:n,organization:a}).map(e=>{let t=c(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(encodeURIComponent(a))}).join("&");return"/api/qualityprofiles/backup?".concat(r)}function O(e,t){let n=e.key,a=t.language,r=t.name,l=t.organization;const s=Object.entries({exporterKey:n,language:a,qualityProfile:r,organization:l}).map(e=>{let t=c(e,2),n=t[0],a=t[1];return"".concat(n,"=").concat(encodeURIComponent(a))}).join("&");return"/api/qualityprofiles/export?".concat(s)}function N(){return Object(s.getJSON)("/api/qualityprofiles/importers").then(e=>e.importers,o.a)}function S(){return Object(s.getJSON)("/api/qualityprofiles/exporters").then(e=>e.exporters)}function q(e,t,n,a){let r=n.language,l=n.name,o=n.organization;return Object(s.getJSON)("/api/qualityprofiles/changelog",{since:e,to:t,language:r,qualityProfile:l,organization:o,p:a})}function C(e,t){return Object(s.getJSON)("/api/qualityprofiles/compare",{leftKey:e,rightKey:t})}function k(e,t){let n=e.language,a=e.name,r=e.organization;return Object(s.post)("/api/qualityprofiles/add_project",{language:n,qualityProfile:a,organization:r,project:t}).catch(o.a)}function _(e,t){let n=e.language,a=e.name,r=e.organization;return Object(s.post)("/api/qualityprofiles/remove_project",{language:n,qualityProfile:a,organization:r,project:t}).catch(o.a)}function z(e){return Object(s.getJSON)("/api/qualityprofiles/search_users",e).catch(o.a)}function P(e){return Object(s.getJSON)("/api/qualityprofiles/search_groups",e).catch(o.a)}function x(e){return Object(s.post)("/api/qualityprofiles/add_user",e).catch(o.a)}function D(e){return Object(s.post)("/api/qualityprofiles/remove_user",e).catch(o.a)}function w(e){return Object(s.post)("/api/qualityprofiles/add_group",e).catch(o.a)}function T(e){return Object(s.post)("/api/qualityprofiles/remove_group",e).catch(o.a)}function R(e){return Object(s.postJSON)("/api/qualityprofiles/activate_rules",e)}function M(e){return Object(s.postJSON)("/api/qualityprofiles/deactivate_rules",e)}function U(e){const t=e.params&&r()(e.params,(e,t)=>"".concat(t,"=").concat(Object(l.csvEscape)(e))).join(";");return Object(s.post)("/api/qualityprofiles/activate_rule",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){i(e,t,n[t])})}return e}({},e,{params:t})).catch(o.a)}function B(e){return Object(s.post)("/api/qualityprofiles/deactivate_rule",e).catch(o.a)}},368:function(e,t,n){"use strict";function a(e){let t,n;for(let a=0;a<e.length;a++){if("---"===e[a].trim()){if(void 0!==t){n=a;break}t=a}}return void 0!==n?{firstLine:t,lastLine:n}:void 0}function r(e){const t={};for(let n=0;n<e.length;n++){const a=e[n].split(":").map(e=>e.trim());2===a.length&&(t[a[0]]=a[1])}return t}function l(e,t){const n="\x3c!-- ".concat(t," --\x3e"),a="\x3c!-- /".concat(t," --\x3e");let r=e,l=r.indexOf(n),s=r.indexOf(a);for(;-1!==l&&-1!==s;)l<s?r=r.substring(0,l)+r.substring(s+a.length):(console.error(new Error('Documentation - incorrect usage of conditional formatting tags here: "'.concat(r.substring(s,l+n.length),'"'))),r=r.substring(0,s)+r.substring(s+a.length,l)+r.substring(l+n.length)),l=r.indexOf(n),s=r.indexOf(a);return r}e.exports={getFrontMatter:function(e){const t=e.split("\n"),n=a(t);return n?r(t.slice(n.firstLine+1,n.lastLine)):{}},separateFrontMatter:function(e){const t=e.split("\n"),n=a(t);if(n){const e=r(t.slice(n.firstLine+1,n.lastLine)),a=t.slice(n.lastLine+1).join("\n");return{frontmatter:e,content:a}}return{frontmatter:{},content:e}},filterContent:function(e){const t="\x3c!-- \\/?(sonarqube|sonarcloud|static) --\x3e",a=n(22),r=a.isSonarCloud,s=a.getInstance,o=l(e.replace(/{instance}/gi,s()),"static");return(r()?l(o,"sonarqube"):l(o,"sonarcloud")).replace(new RegExp("^".concat(t,"(\n|\r|\r\n|$)"),"gm"),"").replace(new RegExp("".concat(t),"g"),"")}}},395:function(e,t,n){"use strict";n.d(t,"e",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"h",function(){return d});var a=n(8),r=n(320);function l(e){return Object(a.getJSON)("/api/rules/app",e).catch(r.a)}function s(e){return Object(a.getJSON)("/api/rules/search",e).catch(r.a)}function o(e,t){const n=e.facets.find(e=>e.property===t);return n?n.values:[]}function i(e){return Object(a.getJSON)("/api/rules/show",e).catch(r.a)}function c(e){return Object(a.getJSON)("/api/rules/tags",e).then(e=>e.tags,r.a)}function u(e){return Object(a.postJSON)("/api/rules/create",e).then(e=>e.rule,e=>e&&409===e.status?Promise.reject(e):Object(r.a)(e))}function p(e){return Object(a.post)("/api/rules/delete",e).catch(r.a)}function d(e){return Object(a.postJSON)("/api/rules/update",e).then(e=>e.rule,r.a)}},667:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(309),r=n(2),l=n(5),s=n(346);function o(e){let t=e.className,o=e.tooltip,i=void 0===o||o;const c=r.createElement("div",{className:a("badge badge-info",t)},Object(l.translate)("quality_profiles.built_in"));return i?r.createElement(s.a,{doc:Promise.resolve().then(n.bind(null,723))},c):c}},679:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(2),r=n(28),l=n(463);function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o(e){let t=e.name,n=e.language,o=e.organization,i=e.children,c=s(e,["name","language","organization","children"]);return a.createElement(r.Link,Object.assign({activeClassName:"link-no-underline",to:Object(l.c)(t,n,o)},c),i)}},723:function(e,t,n){"use strict";n.r(t),t.default="Built-in profiles are provided directly by the language analyzers and may be updated with each new analyzer version. They represent best-practice, minimum rule sets.\n"}}]);
//# sourceMappingURL=323.m.5b5f5b0a.chunk.js.map