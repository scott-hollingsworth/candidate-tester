{"version":3,"sources":["webpack:///../sonar-docs/src/tooltips/quality-profiles/default-quality-profile.md","webpack:///./src/main/js/apps/quality-profiles/home/EvolutionDeprecated.tsx","webpack:///./src/main/js/apps/quality-profiles/home/EvolutionRules.tsx","webpack:///./src/main/js/apps/quality-profiles/home/EvolutionStagnant.tsx","webpack:///./src/main/js/apps/quality-profiles/home/Evolution.tsx","webpack:///./src/main/js/apps/quality-profiles/home/CreateProfileForm.tsx","webpack:///./src/main/js/apps/quality-profiles/home/RestoreProfileForm.tsx","webpack:///./src/main/js/apps/quality-profiles/home/PageHeader.tsx","webpack:///./src/main/js/apps/quality-profiles/home/ProfilesListHeader.tsx","webpack:///./src/main/js/apps/quality-profiles/home/ProfilesListRow.tsx","webpack:///./src/main/js/apps/quality-profiles/home/ProfilesList.tsx","webpack:///./src/main/js/apps/quality-profiles/home/HomeContainer.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./node_modules/lodash/groupBy.js","webpack:///./src/main/js/api/rules.ts","webpack:///../sonar-docs/src/tooltips/quality-profiles/quality-profile-projects.md"],"names":["__webpack_require__","r","__webpack_exports__","EvolutionDeprecated_EvolutionDeprecated","index_js_exposed","[object Object]","this","getDeprecatedRulesInheritanceChain","profile","profilesWithDeprecations","rules","count","activeDeprecatedRuleCount","parentKey","parentProfile","find","p","key","parentRules","length","reduce","n","rule","concat","push","from","renderInheritedInfo","map","className","Object","l10n","name","props","profiles","filter","sortedProfiles","sortBy_default","ProfileLink","language","organization","languageName","es","to","urls","qprofile","RULES_LIMIT","parseRules","actives","activations","_objectSpread","EvolutionRules_EvolutionRules","super","mounted","state","startDate","Date","setFullYear","getFullYear","periodStartDate","dates","loadLatestRules","data","asc","available_since","f","undefined","ps","s","api_rules","then","_ref","total","setState","latestRules","latestRulesTotal","newRulesUrl","rule_key","langName","measures","EvolutionStagnant","outdated","isBuiltIn","utils","rulesUpdatedAt","DateFormatter","date","long","formattedDate","Evolution","CreateProfileForm_CreateProfileForm","importers","loading","preloading","handleNameChange","event","currentTarget","value","handleLanguageChange","option","handleParentChange","parent","handleFormSubmit","async","preventDefault","FormData","append","quality_profiles","onCreate","fetchImporters","header","languages","selectedLanguage","importer","includes","languageProfiles","label","Modal_default","a","contentLabel","onRequestClose","onClose","size","id","onSubmit","htmlFor","autoFocus","maxLength","onChange","required","type","Select_default","clearable","options","data-key","buttons","disabled","onClick","RestoreProfileForm_RestoreProfileForm","response","ruleFailures","ruleSuccesses","onRestore","arguments","Alert","variant","_this$state","renderAlert","home_PageHeader","withRouter","createFormOpen","restoreFormOpen","handleCreateClick","handleCreate","updateProfiles","router","closeCreateForm","handleRestoreClick","closeRestoreForm","_this$props","actions","create","target","pathname","home_ProfilesListHeader","handleChange","replace","_this$props2","currentFilter","currentLanguage","l","home_ProfilesListRow","offset","depth","activeRulesUrl","activation","deprecatedRulesUrl","statuses","data-name","style","paddingLeft","BuiltInQualityProfileBadge","isDefault","DocTooltip","doc","Promise","resolve","bind","projectCount","Tooltip_default","overlay","activeRuleCount","ProfileDate","lastUsed","ProfileActions","fromList","ProfilesList_ProfilesList","renderLanguage","languageKey","data-language","renderHeader","renderProfiles","profilesCount","location","query","profilesIndex","groupBy_default","profilesToShow","pick_default","languagesToShow","keys","HomeContainer","assign","d","longFormatterOption","react__WEBPACK_IMPORTED_MODULE_0__","react_intl__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","formatterOption","year","month","day","children","baseAssignValue","createAggregator","hasOwnProperty","prototype","groupBy","result","call","module","exports","getRulesApp","searchRules","takeFacet","getRuleDetails","getRuleTags","createRule","deleteRule","updateRule","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","catch","property","facet","facets","values","parameters","tags","status","reject"],"mappings":"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","file":"js/332.m.fdaab4a5.chunk.js","sourcesContent":["export default \"For each language there is a default profile. All projects not explicitly assigned to some other profile will be analyzed with the default.\\n\"","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { getDeprecatedActiveRulesUrl } from '../../../helpers/urls';\nimport ProfileLink from '../components/ProfileLink';\nimport { Profile } from '../types';\n\ninterface Props {\n  organization: string | null;\n  profiles: Profile[];\n}\n\ninterface InheritedRulesInfo {\n  count: number;\n  from: Profile;\n}\n\nexport default class EvolutionDeprecated extends React.PureComponent<Props> {\n  getDeprecatedRulesInheritanceChain = (profile: Profile, profilesWithDeprecations: Profile[]) => {\n    let rules: InheritedRulesInfo[] = [];\n    let count = profile.activeDeprecatedRuleCount;\n\n    if (count === 0) {\n      return rules;\n    }\n\n    if (profile.parentKey) {\n      const parentProfile = profilesWithDeprecations.find(p => p.key === profile.parentKey);\n      if (parentProfile) {\n        const parentRules = this.getDeprecatedRulesInheritanceChain(\n          parentProfile,\n          profilesWithDeprecations\n        );\n        if (parentRules.length) {\n          count -= parentRules.reduce((n, rule) => n + rule.count, 0);\n          rules = rules.concat(parentRules);\n        }\n      }\n    }\n\n    if (count > 0) {\n      rules.push({\n        count,\n        from: profile\n      });\n    }\n\n    return rules;\n  };\n\n  renderInheritedInfo = (profile: Profile, profilesWithDeprecations: Profile[]) => {\n    const rules = this.getDeprecatedRulesInheritanceChain(profile, profilesWithDeprecations);\n    if (rules.length) {\n      return (\n        <>\n          {rules.map(rule => {\n            if (rule.from.key === profile.key) {\n              return null;\n            }\n\n            return (\n              <div className=\"muted\" key={rule.from.key}>\n                {' '}\n                {translateWithParameters(\n                  'coding_rules.filters.inheritance.x_inherited_from_y',\n                  rule.count,\n                  rule.from.name\n                )}\n              </div>\n            );\n          })}\n        </>\n      );\n    }\n    return null;\n  };\n\n  render() {\n    const profilesWithDeprecations = this.props.profiles.filter(\n      profile => profile.activeDeprecatedRuleCount > 0\n    );\n\n    if (profilesWithDeprecations.length === 0) {\n      return null;\n    }\n\n    const sortedProfiles = sortBy(profilesWithDeprecations, p => -p.activeDeprecatedRuleCount);\n\n    return (\n      <div className=\"boxed-group boxed-group-inner quality-profiles-evolution-deprecated\">\n        <div className=\"spacer-bottom\">\n          <strong>{translate('quality_profiles.deprecated_rules')}</strong>\n        </div>\n        <div className=\"spacer-bottom\">\n          {translateWithParameters(\n            'quality_profiles.deprecated_rules_are_still_activated',\n            profilesWithDeprecations.length\n          )}\n        </div>\n        <ul>\n          {sortedProfiles.map(profile => (\n            <li className=\"spacer-top\" key={profile.key}>\n              <div className=\"text-ellipsis\">\n                <ProfileLink\n                  className=\"link-no-underline\"\n                  language={profile.language}\n                  name={profile.name}\n                  organization={this.props.organization}>\n                  {profile.name}\n                </ProfileLink>\n              </div>\n              <div className=\"note\">\n                {profile.languageName}\n                {', '}\n                <Link\n                  className=\"text-muted\"\n                  to={getDeprecatedActiveRulesUrl(\n                    { qprofile: profile.key },\n                    this.props.organization\n                  )}>\n                  {translateWithParameters(\n                    'quality_profile.x_rules',\n                    profile.activeDeprecatedRuleCount\n                  )}\n                </Link>\n                {this.renderInheritedInfo(profile, profilesWithDeprecations)}\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { toShortNotSoISOString } from 'sonar-ui-common/helpers/dates';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { formatMeasure } from 'sonar-ui-common/helpers/measures';\nimport { searchRules } from '../../../api/rules';\nimport { getRulesUrl } from '../../../helpers/urls';\n\nconst RULES_LIMIT = 10;\n\nfunction parseRules(rules: T.Rule[], actives?: T.Dict<T.RuleActivation[]>): ExtendedRule[] {\n  return rules.map(rule => {\n    const activations = actives && actives[rule.key];\n    return { ...rule, activations: activations ? activations.length : 0 };\n  });\n}\n\ninterface Props {\n  organization: string | null;\n}\n\ninterface ExtendedRule extends T.Rule {\n  activations: number;\n}\n\ninterface State {\n  latestRules?: ExtendedRule[];\n  latestRulesTotal?: number;\n}\n\nexport default class EvolutionRules extends React.PureComponent<Props, State> {\n  periodStartDate: string;\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n    const startDate = new Date();\n    startDate.setFullYear(startDate.getFullYear() - 1);\n    this.periodStartDate = toShortNotSoISOString(startDate);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadLatestRules();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadLatestRules() {\n    const data = {\n      asc: false,\n      available_since: this.periodStartDate,\n      f: 'name,langName,actives',\n      organization: this.props.organization || undefined,\n      ps: RULES_LIMIT,\n      s: 'createdAt'\n    };\n\n    searchRules(data).then(\n      ({ actives, rules, total }) => {\n        if (this.mounted) {\n          this.setState({\n            latestRules: sortBy(parseRules(rules, actives), 'langName'),\n            latestRulesTotal: total\n          });\n        }\n      },\n      () => {}\n    );\n  }\n\n  render() {\n    if (!this.state.latestRulesTotal || !this.state.latestRules) {\n      return null;\n    }\n\n    const newRulesUrl = getRulesUrl(\n      { available_since: this.periodStartDate },\n      this.props.organization\n    );\n\n    return (\n      <div className=\"boxed-group boxed-group-inner quality-profiles-evolution-rules\">\n        <div className=\"clearfix\">\n          <strong className=\"pull-left\">{translate('quality_profiles.latest_new_rules')}</strong>\n        </div>\n        <ul>\n          {this.state.latestRules.map(rule => (\n            <li className=\"spacer-top\" key={rule.key}>\n              <div className=\"text-ellipsis\">\n                <Link\n                  className=\"link-no-underline\"\n                  to={getRulesUrl({ rule_key: rule.key }, this.props.organization)}>\n                  {' '}\n                  {rule.name}\n                </Link>\n                <div className=\"note\">\n                  {rule.activations\n                    ? translateWithParameters(\n                        'quality_profiles.latest_new_rules.activated',\n                        rule.langName!,\n                        rule.activations\n                      )\n                    : translateWithParameters(\n                        'quality_profiles.latest_new_rules.not_activated',\n                        rule.langName!\n                      )}\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n        {this.state.latestRulesTotal > RULES_LIMIT && (\n          <div className=\"spacer-top\">\n            <Link className=\"small\" to={newRulesUrl}>\n              {translate('see_all')} {formatMeasure(this.state.latestRulesTotal, 'SHORT_INT', null)}\n            </Link>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport ProfileLink from '../components/ProfileLink';\nimport { Profile } from '../types';\nimport { isStagnant } from '../utils';\n\ninterface Props {\n  organization: string | null;\n  profiles: Profile[];\n}\n\nexport default function EvolutionStagnant(props: Props) {\n  const outdated = props.profiles.filter(profile => !profile.isBuiltIn && isStagnant(profile));\n\n  if (outdated.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"boxed-group boxed-group-inner quality-profiles-evolution-stagnant\">\n      <div className=\"spacer-bottom\">\n        <strong>{translate('quality_profiles.stagnant_profiles')}</strong>\n      </div>\n      <div className=\"spacer-bottom\">\n        {translate('quality_profiles.not_updated_more_than_year')}\n      </div>\n      <ul>\n        {outdated.map(profile => (\n          <li className=\"spacer-top\" key={profile.key}>\n            <div className=\"text-ellipsis\">\n              <ProfileLink\n                className=\"link-no-underline\"\n                language={profile.language}\n                name={profile.name}\n                organization={props.organization}>\n                {profile.name}\n              </ProfileLink>\n            </div>\n            {profile.rulesUpdatedAt && (\n              <DateFormatter date={profile.rulesUpdatedAt} long={true}>\n                {formattedDate => (\n                  <div className=\"note\">\n                    {translateWithParameters(\n                      'quality_profiles.x_updated_on_y',\n                      profile.languageName,\n                      formattedDate\n                    )}\n                  </div>\n                )}\n              </DateFormatter>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Profile } from '../types';\nimport EvolutionDeprecated from './EvolutionDeprecated';\nimport EvolutionRules from './EvolutionRules';\nimport EvolutionStagnant from './EvolutionStagnant';\n\ninterface Props {\n  organization: string | null;\n  profiles: Profile[];\n}\n\nexport default function Evolution({ organization, profiles }: Props) {\n  return (\n    <div className=\"quality-profiles-evolution\">\n      <EvolutionDeprecated organization={organization} profiles={profiles} />\n      <EvolutionStagnant organization={organization} profiles={profiles} />\n      <EvolutionRules organization={organization} />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { sortBy } from 'lodash';\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport {\n  changeProfileParent,\n  createQualityProfile,\n  getImporters\n} from '../../../api/quality-profiles';\nimport { Profile } from '../types';\n\ninterface Props {\n  languages: Array<{ key: string; name: string }>;\n  onClose: () => void;\n  onCreate: Function;\n  organization: string | null;\n  profiles: Profile[];\n}\n\ninterface State {\n  importers: Array<{ key: string; languages: Array<string>; name: string }>;\n  language?: string;\n  loading: boolean;\n  name: string;\n  parent?: string;\n  preloading: boolean;\n}\n\nexport default class CreateProfileForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { importers: [], loading: false, name: '', preloading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchImporters();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchImporters() {\n    getImporters().then(\n      importers => {\n        if (this.mounted) {\n          this.setState({ importers, preloading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ preloading: false });\n        }\n      }\n    );\n  }\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    this.setState({ name: event.currentTarget.value });\n  };\n\n  handleLanguageChange = (option: { value: string }) => {\n    this.setState({ language: option.value });\n  };\n\n  handleParentChange = (option: { value: string } | null) => {\n    this.setState({ parent: option ? option.value : undefined });\n  };\n\n  handleFormSubmit = async (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    this.setState({ loading: true });\n\n    const data = new FormData(event.currentTarget);\n    if (this.props.organization) {\n      data.append('organization', this.props.organization);\n    }\n\n    try {\n      const { profile } = await createQualityProfile(data);\n\n      const parentProfile = this.props.profiles.find(p => p.key === this.state.parent);\n      if (parentProfile) {\n        await changeProfileParent(profile, parentProfile);\n      }\n\n      this.props.onCreate(profile);\n    } finally {\n      if (this.mounted) {\n        this.setState({ loading: false });\n      }\n    }\n  };\n\n  render() {\n    const header = translate('quality_profiles.new_profile');\n    const languages = sortBy(this.props.languages, 'name');\n    let profiles: Array<{ label: string; value: string }> = [];\n\n    const selectedLanguage = this.state.language || languages[0].key;\n    const importers = this.state.importers.filter(importer =>\n      importer.languages.includes(selectedLanguage)\n    );\n\n    if (selectedLanguage) {\n      const languageProfiles = this.props.profiles.filter(p => p.language === selectedLanguage);\n      profiles = [\n        { label: translate('none'), value: '' },\n        ...sortBy(languageProfiles, 'name').map(profile => ({\n          label: profile.isBuiltIn\n            ? `${profile.name} (${translate('quality_profiles.built_in')})`\n            : profile.name,\n          value: profile.key\n        }))\n      ];\n    }\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <form id=\"create-profile-form\" onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          {this.state.preloading ? (\n            <div className=\"modal-body\">\n              <i className=\"spinner\" />\n            </div>\n          ) : (\n            <div className=\"modal-body\">\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-profile-name\">\n                  {translate('name')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input\n                  autoFocus={true}\n                  id=\"create-profile-name\"\n                  maxLength={100}\n                  name=\"name\"\n                  onChange={this.handleNameChange}\n                  required={true}\n                  size={50}\n                  type=\"text\"\n                  value={this.state.name}\n                />\n              </div>\n              <div className=\"modal-field\">\n                <label htmlFor=\"create-profile-language\">\n                  {translate('language')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <Select\n                  clearable={false}\n                  id=\"create-profile-language\"\n                  name=\"language\"\n                  onChange={this.handleLanguageChange}\n                  options={languages.map(language => ({\n                    label: language.name,\n                    value: language.key\n                  }))}\n                  value={selectedLanguage}\n                />\n              </div>\n              {selectedLanguage && profiles.length && (\n                <div className=\"modal-field\">\n                  <label htmlFor=\"create-profile-parent\">\n                    {translate('quality_profiles.parent')}\n                  </label>\n                  <Select\n                    clearable={true}\n                    id=\"create-profile-parent\"\n                    name=\"parentKey\"\n                    onChange={this.handleParentChange}\n                    options={profiles}\n                    value={this.state.parent || ''}\n                  />\n                </div>\n              )}\n              {importers.map(importer => (\n                <div\n                  className=\"modal-field spacer-bottom js-importer\"\n                  data-key={importer.key}\n                  key={importer.key}>\n                  <label htmlFor={'create-profile-form-backup-' + importer.key}>\n                    {importer.name}\n                  </label>\n                  <input\n                    id={'create-profile-form-backup-' + importer.key}\n                    name={'backup_' + importer.key}\n                    type=\"file\"\n                  />\n                  <p className=\"note\">\n                    {translate('quality_profiles.optional_configuration_file')}\n                  </p>\n                </div>\n              ))}\n              {/* drop me when we stop supporting ie11 */}\n              <input name=\"hello-ie11\" type=\"hidden\" value=\"\" />\n            </div>\n          )}\n\n          <div className=\"modal-foot\">\n            {this.state.loading && <i className=\"spinner spacer-right\" />}\n            {!this.state.preloading && (\n              <SubmitButton disabled={this.state.loading} id=\"create-profile-submit\">\n                {translate('create')}\n              </SubmitButton>\n            )}\n            <ResetButtonLink id=\"create-profile-cancel\" onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ResetButtonLink, SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport Modal from 'sonar-ui-common/components/controls/Modal';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport { restoreQualityProfile } from '../../../api/quality-profiles';\n\ninterface Props {\n  onClose: () => void;\n  onRestore: () => void;\n  organization: string | null;\n}\n\ninterface State {\n  loading: boolean;\n  profile?: { name: string };\n  ruleFailures?: number;\n  ruleSuccesses?: number;\n}\n\nexport default class RestoreProfileForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n\n    this.setState({ loading: true });\n\n    const data = new FormData(event.currentTarget);\n    if (this.props.organization) {\n      data.append('organization', this.props.organization);\n    }\n\n    restoreQualityProfile(data).then(\n      (response: any) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            profile: response.profile,\n            ruleFailures: response.ruleFailures,\n            ruleSuccesses: response.ruleSuccesses\n          });\n        }\n        this.props.onRestore();\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderAlert(profile: { name: string }, ruleFailures = 0, ruleSuccesses: number): React.ReactNode {\n    return ruleFailures ? (\n      <Alert variant=\"warning\">\n        {translateWithParameters(\n          'quality_profiles.restore_profile.warning',\n          profile.name,\n          ruleSuccesses,\n          ruleFailures\n        )}\n      </Alert>\n    ) : (\n      <Alert variant=\"success\">\n        {translateWithParameters(\n          'quality_profiles.restore_profile.success',\n          profile.name,\n          ruleSuccesses\n        )}\n      </Alert>\n    );\n  }\n\n  render() {\n    const header = translate('quality_profiles.restore_profile');\n\n    const { loading, profile, ruleFailures, ruleSuccesses } = this.state;\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose} size=\"small\">\n        <form id=\"restore-profile-form\" onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <div className=\"modal-body\">\n            {profile != null && ruleSuccesses != null ? (\n              this.renderAlert(profile, ruleFailures, ruleSuccesses)\n            ) : (\n              <div className=\"modal-field\">\n                <label htmlFor=\"restore-profile-backup\">\n                  {translate('backup')}\n                  <em className=\"mandatory\">*</em>\n                </label>\n                <input id=\"restore-profile-backup\" name=\"backup\" required={true} type=\"file\" />\n              </div>\n            )}\n          </div>\n\n          {ruleSuccesses == null ? (\n            <div className=\"modal-foot\">\n              {loading && <i className=\"spinner spacer-right\" />}\n              <SubmitButton disabled={loading} id=\"restore-profile-submit\">\n                {translate('restore')}\n              </SubmitButton>\n              <ResetButtonLink id=\"restore-profile-cancel\" onClick={this.props.onClose}>\n                {translate('cancel')}\n              </ResetButtonLink>\n            </div>\n          ) : (\n            <div className=\"modal-foot\">\n              <ResetButtonLink id=\"restore-profile-cancel\" onClick={this.props.onClose}>\n                {translate('close')}\n              </ResetButtonLink>\n            </div>\n          )}\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Actions } from '../../../api/quality-profiles';\nimport { Router, withRouter } from '../../../components/hoc/withRouter';\nimport { Profile } from '../types';\nimport { getProfilePath } from '../utils';\nimport CreateProfileForm from './CreateProfileForm';\nimport RestoreProfileForm from './RestoreProfileForm';\n\ninterface Props {\n  actions: Actions;\n  languages: Array<{ key: string; name: string }>;\n  organization: string | null;\n  profiles: Profile[];\n  router: Pick<Router, 'push'>;\n  updateProfiles: () => Promise<void>;\n}\n\ninterface State {\n  createFormOpen: boolean;\n  restoreFormOpen: boolean;\n}\n\nexport class PageHeader extends React.PureComponent<Props, State> {\n  state: State = {\n    createFormOpen: false,\n    restoreFormOpen: false\n  };\n\n  handleCreateClick = () => {\n    this.setState({ createFormOpen: true });\n  };\n\n  handleCreate = (profile: Profile) => {\n    this.props.updateProfiles().then(\n      () => {\n        this.props.router.push(\n          getProfilePath(profile.name, profile.language, this.props.organization)\n        );\n      },\n      () => {}\n    );\n  };\n\n  closeCreateForm = () => {\n    this.setState({ createFormOpen: false });\n  };\n\n  handleRestoreClick = () => {\n    this.setState({ restoreFormOpen: true });\n  };\n\n  closeRestoreForm = () => {\n    this.setState({ restoreFormOpen: false });\n  };\n\n  render() {\n    const { actions, languages, organization, profiles } = this.props;\n    return (\n      <header className=\"page-header\">\n        <h1 className=\"page-title\">{translate('quality_profiles.page')}</h1>\n\n        {actions.create && (\n          <div className=\"page-actions\">\n            <Button\n              disabled={languages.length === 0}\n              id=\"quality-profiles-create\"\n              onClick={this.handleCreateClick}>\n              {translate('create')}\n            </Button>\n            <Button\n              className=\"little-spacer-left\"\n              id=\"quality-profiles-restore\"\n              onClick={this.handleRestoreClick}>\n              {translate('restore')}\n            </Button>\n            {languages.length === 0 && (\n              <Alert className=\"spacer-top\" variant=\"warning\">\n                {translate('quality_profiles.no_languages_available')}\n              </Alert>\n            )}\n          </div>\n        )}\n\n        <div className=\"page-description markdown\">\n          {translate('quality_profiles.intro1')}\n          <br />\n          {translate('quality_profiles.intro2')}\n          <Link\n            className=\"spacer-left\"\n            target=\"_blank\"\n            to={{\n              pathname: '/documentation/instance-administration/quality-profiles/'\n            }}>\n            {translate('learn_more')}\n          </Link>\n        </div>\n\n        {this.state.restoreFormOpen && (\n          <RestoreProfileForm\n            onClose={this.closeRestoreForm}\n            onRestore={this.props.updateProfiles}\n            organization={organization}\n          />\n        )}\n\n        {this.state.createFormOpen && (\n          <CreateProfileForm\n            languages={languages}\n            onClose={this.closeCreateForm}\n            onCreate={this.handleCreate}\n            organization={organization}\n            profiles={profiles}\n          />\n        )}\n      </header>\n    );\n  }\n}\n\nexport default withRouter(PageHeader);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Select from 'sonar-ui-common/components/controls/Select';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { Router, withRouter } from '../../../components/hoc/withRouter';\nimport { getProfilesForLanguagePath, getProfilesPath } from '../utils';\n\ninterface Props {\n  currentFilter?: string;\n  languages: Array<{ key: string; name: string }>;\n  organization: string | null;\n  router: Pick<Router, 'replace'>;\n}\n\nexport class ProfilesListHeader extends React.PureComponent<Props> {\n  handleChange = (option: { value: string } | null) => {\n    const { organization, router } = this.props;\n\n    router.replace(\n      !option\n        ? getProfilesPath(organization)\n        : getProfilesForLanguagePath(option.value, organization)\n    );\n  };\n\n  render() {\n    const { currentFilter, languages } = this.props;\n    if (languages.length < 2) {\n      return null;\n    }\n\n    const options = languages.map(language => ({\n      label: language.name,\n      value: language.key\n    }));\n\n    const currentLanguage = currentFilter && options.find(l => l.value === currentFilter);\n\n    return (\n      <header className=\"quality-profiles-list-header clearfix\">\n        <span className=\"spacer-right\">{translate('quality_profiles.filter_by')}:</span>\n        <Select\n          className=\"input-medium\"\n          clearable={true}\n          onChange={this.handleChange}\n          options={options}\n          value={currentLanguage}\n        />\n      </header>\n    );\n  }\n}\n\nexport default withRouter(ProfilesListHeader);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { getRulesUrl } from '../../../helpers/urls';\nimport BuiltInQualityProfileBadge from '../components/BuiltInQualityProfileBadge';\nimport ProfileActions from '../components/ProfileActions';\nimport ProfileDate from '../components/ProfileDate';\nimport ProfileLink from '../components/ProfileLink';\nimport { Profile } from '../types';\n\nexport interface ProfilesListRowProps {\n  organization: string | null;\n  profile: Profile;\n  updateProfiles: () => Promise<void>;\n}\n\nexport function ProfilesListRow(props: ProfilesListRowProps) {\n  const { organization, profile } = props;\n\n  const offset = 25 * (profile.depth - 1);\n  const activeRulesUrl = getRulesUrl(\n    {\n      qprofile: profile.key,\n      activation: 'true'\n    },\n    organization\n  );\n  const deprecatedRulesUrl = getRulesUrl(\n    {\n      qprofile: profile.key,\n      activation: 'true',\n      statuses: 'DEPRECATED'\n    },\n    organization\n  );\n\n  return (\n    <tr\n      className=\"quality-profiles-table-row text-middle\"\n      data-key={profile.key}\n      data-name={profile.name}>\n      <td className=\"quality-profiles-table-name text-middle\">\n        <div className=\"display-flex-center\" style={{ paddingLeft: offset }}>\n          <div>\n            <ProfileLink\n              language={profile.language}\n              name={profile.name}\n              organization={organization}>\n              {profile.name}\n            </ProfileLink>\n          </div>\n          {profile.isBuiltIn && <BuiltInQualityProfileBadge className=\"spacer-left\" />}\n        </div>\n      </td>\n\n      <td className=\"quality-profiles-table-projects thin nowrap text-middle text-right\">\n        {profile.isDefault ? (\n          <DocTooltip\n            doc={import(\n              /* webpackMode: \"eager\" */ 'Docs/tooltips/quality-profiles/default-quality-profile.md'\n            )}>\n            <span className=\"badge\">{translate('default')}</span>\n          </DocTooltip>\n        ) : (\n          <span>{profile.projectCount}</span>\n        )}\n      </td>\n\n      <td className=\"quality-profiles-table-rules thin nowrap text-middle text-right\">\n        <div>\n          {profile.activeDeprecatedRuleCount > 0 && (\n            <span className=\"spacer-right\">\n              <Tooltip overlay={translate('quality_profiles.deprecated_rules')}>\n                <Link className=\"badge badge-error\" to={deprecatedRulesUrl}>\n                  {profile.activeDeprecatedRuleCount}\n                </Link>\n              </Tooltip>\n            </span>\n          )}\n\n          <Link to={activeRulesUrl}>{profile.activeRuleCount}</Link>\n        </div>\n      </td>\n\n      <td className=\"quality-profiles-table-date thin nowrap text-middle text-right\">\n        <ProfileDate date={profile.rulesUpdatedAt} />\n      </td>\n\n      <td className=\"quality-profiles-table-date thin nowrap text-middle text-right\">\n        <ProfileDate date={profile.lastUsed} />\n      </td>\n\n      <td className=\"quality-profiles-table-actions thin nowrap text-middle text-right\">\n        <ProfileActions\n          fromList={true}\n          organization={organization}\n          profile={profile}\n          updateProfiles={props.updateProfiles}\n        />\n      </td>\n    </tr>\n  );\n}\n\nexport default React.memo(ProfilesListRow);\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Location } from 'history';\nimport { groupBy, pick, sortBy } from 'lodash';\nimport * as React from 'react';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate, translateWithParameters } from 'sonar-ui-common/helpers/l10n';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { Profile } from '../types';\nimport ProfilesListHeader from './ProfilesListHeader';\nimport ProfilesListRow from './ProfilesListRow';\n\ninterface Props {\n  languages: T.Language[];\n  location: Pick<Location, 'query'>;\n  organization: string | null;\n  profiles: Profile[];\n  updateProfiles: () => Promise<void>;\n}\n\nexport default class ProfilesList extends React.PureComponent<Props> {\n  renderProfiles(profiles: Profile[]) {\n    return profiles.map(profile => (\n      <ProfilesListRow\n        key={profile.key}\n        organization={this.props.organization}\n        profile={profile}\n        updateProfiles={this.props.updateProfiles}\n      />\n    ));\n  }\n\n  renderHeader(languageKey: string, profilesCount: number) {\n    const language = this.props.languages.find(l => l.key === languageKey);\n\n    if (!language) {\n      return null;\n    }\n\n    return (\n      <thead>\n        <tr>\n          <th>\n            {language.name}\n            {', '}\n            {translateWithParameters('quality_profiles.x_profiles', profilesCount)}\n          </th>\n          <th className=\"text-right nowrap\">\n            {translate('quality_profiles.list.projects')}\n            <DocTooltip\n              className=\"table-cell-doc\"\n              doc={import(\n                /* webpackMode: \"eager\" */ 'Docs/tooltips/quality-profiles/quality-profile-projects.md'\n              )}\n            />\n          </th>\n          <th className=\"text-right nowrap\">{translate('quality_profiles.list.rules')}</th>\n          <th className=\"text-right nowrap\">{translate('quality_profiles.list.updated')}</th>\n          <th className=\"text-right nowrap\">{translate('quality_profiles.list.used')}</th>\n          <th>&nbsp;</th>\n        </tr>\n      </thead>\n    );\n  }\n\n  renderLanguage = (languageKey: string, profiles: Profile[] | undefined) => {\n    return (\n      <div className=\"boxed-group boxed-group-inner quality-profiles-table\" key={languageKey}>\n        <table className=\"data zebra zebra-hover\" data-language={languageKey}>\n          {profiles !== undefined && this.renderHeader(languageKey, profiles.length)}\n          <tbody>{profiles !== undefined && this.renderProfiles(profiles)}</tbody>\n        </table>\n      </div>\n    );\n  };\n\n  render() {\n    const { profiles, languages } = this.props;\n    const { language } = this.props.location.query;\n\n    const profilesIndex: T.Dict<Profile[]> = groupBy<Profile>(\n      profiles,\n      profile => profile.language\n    );\n\n    const profilesToShow = language ? pick(profilesIndex, language) : profilesIndex;\n\n    const languagesToShow = sortBy(Object.keys(profilesToShow));\n\n    return (\n      <div>\n        <ProfilesListHeader\n          currentFilter={language}\n          languages={languages}\n          organization={this.props.organization}\n        />\n\n        {Object.keys(profilesToShow).length === 0 && (\n          <Alert className=\"spacer-top\" variant=\"warning\">\n            {translate('no_results')}\n          </Alert>\n        )}\n\n        {languagesToShow.map(languageKey =>\n          this.renderLanguage(languageKey, profilesToShow[languageKey])\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Actions } from '../../../api/quality-profiles';\nimport { Profile } from '../types';\nimport Evolution from './Evolution';\nimport PageHeader from './PageHeader';\nimport ProfilesList from './ProfilesList';\n\ninterface Props {\n  actions: Actions;\n  languages: Array<{ key: string; name: string }>;\n  location: { query: T.Dict<string> };\n  organization: string | null;\n  profiles: Profile[];\n  updateProfiles: () => Promise<void>;\n}\n\nexport default function HomeContainer(props: Props) {\n  return (\n    <div>\n      <PageHeader {...props} />\n\n      <div className=\"page-with-sidebar\">\n        <div className=\"page-main\">\n          <ProfilesList {...props} />\n        </div>\n        <div className=\"page-sidebar\">\n          <Evolution {...props} />\n        </div>\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface GetRulesAppResponse {\n  canWrite?: boolean;\n  repositories: { key: string; language: string; name: string }[];\n}\n\nexport function getRulesApp(data: {\n  organization: string | undefined;\n}): Promise<GetRulesAppResponse> {\n  return getJSON('/api/rules/app', data).catch(throwGlobalError);\n}\n\nexport interface SearchRulesResponse {\n  actives?: T.Dict<T.RuleActivation[]>;\n  facets?: { property: string; values: { count: number; val: string }[] }[];\n  p: number;\n  ps: number;\n  rules: T.Rule[];\n  total: number;\n}\n\nexport function searchRules(data: {\n  organization: string | undefined;\n  [x: string]: any;\n}): Promise<SearchRulesResponse> {\n  return getJSON('/api/rules/search', data).catch(throwGlobalError);\n}\n\nexport function takeFacet(response: any, property: string) {\n  const facet = response.facets.find((facet: any) => facet.property === property);\n  return facet ? facet.values : [];\n}\n\nexport function getRuleDetails(parameters: {\n  actives?: boolean;\n  key: string;\n  organization: string | undefined;\n}): Promise<{ actives?: T.RuleActivation[]; rule: T.RuleDetails }> {\n  return getJSON('/api/rules/show', parameters).catch(throwGlobalError);\n}\n\nexport function getRuleTags(parameters: {\n  organization: string | undefined;\n  ps?: number;\n  q: string;\n}): Promise<string[]> {\n  return getJSON('/api/rules/tags', parameters).then(r => r.tags, throwGlobalError);\n}\n\nexport function createRule(data: {\n  custom_key: string;\n  markdown_description: string;\n  name: string;\n  organization: string | undefined;\n  params?: string;\n  prevent_reactivation?: boolean;\n  severity?: string;\n  status?: string;\n  template_key: string;\n  type?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/create', data).then(\n    r => r.rule,\n    response => {\n      // do not show global error if the status code is 409\n      // this case should be handled inside a component\n      if (response && response.status === 409) {\n        return Promise.reject(response);\n      } else {\n        return throwGlobalError(response);\n      }\n    }\n  );\n}\n\nexport function deleteRule(parameters: { key: string; organization: string | undefined }) {\n  return post('/api/rules/delete', parameters).catch(throwGlobalError);\n}\n\nexport function updateRule(data: {\n  key: string;\n  markdown_description?: string;\n  markdown_note?: string;\n  name?: string;\n  organization: string | undefined;\n  params?: string;\n  remediation_fn_base_effort?: string;\n  remediation_fn_type?: string;\n  remediation_fy_gap_multiplier?: string;\n  severity?: string;\n  status?: string;\n  tags?: string;\n}): Promise<T.RuleDetails> {\n  return postJSON('/api/rules/update', data).then(r => r.rule, throwGlobalError);\n}\n","export default \"Projects assigned to a profile will always be analyzed with it for that language, regardless of which profile is the default. Quality Profile administrators may assign projects to a profile. Project administrators may also choose a non-default profile for each language.\\n\""],"sourceRoot":""}