{"version":3,"sources":["webpack:///./src/main/js/apps/users/components/TokensFormItem.tsx","webpack:///./src/main/js/apps/users/components/TokensFormNewToken.tsx","webpack:///./src/main/js/apps/users/components/TokensForm.tsx","webpack:///./src/main/js/apps/account/components/Password.tsx","webpack:///./src/main/js/apps/account/components/Tokens.tsx","webpack:///./src/main/js/apps/account/components/Security.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/SimpleModal.js","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmModal.js","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmButton.js","webpack:///./node_modules/sonar-ui-common/components/controls/ModalButton.js","webpack:///./node_modules/date-fns/difference_in_milliseconds/index.js","webpack:///./src/main/js/api/user-tokens.ts","webpack:///./node_modules/date-fns/difference_in_hours/index.js","webpack:///./src/main/js/components/intl/DateFromNowHourPrecision.tsx"],"names":["TokensFormItem_TokensFormItem","index_js_exposed","[object Object]","this","mounted","state","loading","showConfirmation","handleClick","handleRevoke","then","setState","Object","user_tokens","login","props","name","token","onRevokeToken","_this$props","deleteConfirmation","_this$state","Tooltip_default","a","overlay","path","className","DateFromNowHourPrecision","date","lastConnectionDate","DateFormatter","createdAt","long","DeferredSpinner_default","ConfirmButton_default","confirmButtonText","l10n","isDestructive","modalBody","index_es","defaultMessage","id","values","modalHeader","onConfirm","_ref","onClick","buttons","disabled","title","TokensFormNewToken","Alert","variant","clipboard","copyValue","__webpack_require__","d","__webpack_exports__","TokensForm_TokensForm","generating","newTokenName","tokens","fetchTokens","updateTokensCount","length","handleGenerateToken","evt","preventDefault","newToken","handleRevokeToken","revokedToken","filter","handleNewTokenChange","currentTarget","value","colSpan","map","key","customSpinner","autoComplete","onSubmit","maxLength","onChange","placeholder","required","type","renderItems","Password_Password","success","handleSuccessfulChange","oldPassword","password","passwordConfirmation","errors","undefined","setErrors","handleChangePassword","event","user","previousPassword","focus","users","e","i","htmlFor","ref","elem","Tokens","InstanceMessage","message","TokensForm","Security","index_module","defer","local","es","rootReducer","extendStatics","__extends","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","n","arguments","call","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","defineProperty","exports","React","Modal_1","SimpleModal","_super","_this","submitting","stopSubmitting","handleCloseClick","blur","onClose","handleFormSubmit","submit","handleSubmitClick","result","componentDidMount","componentWillUnmount","render","_a","children","header","modalProps","createElement","default","contentLabel","onRequestClose","onCloseClick","onFormSubmit","onSubmitClick","Component","l10n_1","DeferredSpinner_1","buttons_1","ClickEventBoundary_1","SimpleModal_1","ConfirmModal","handleSubmit","confirmData","renderModalContent","_b","confirmDisable","headerDescription","_c","cancelButtonText","translate","SubmitButton","autoFocus","ResetButtonLink","noBackdrop","size","PureComponent","formatterOption","DateTimeFormatter","react__WEBPACK_IMPORTED_MODULE_0__","react_intl__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","year","month","day","hour","minute","longFormatterOption","DateFromNow","ConfirmModal_1","ModalButton_1","ConfirmButton","renderConfirmModal","modalHeaderDescription","confirmModalProps","modal","ModalButton","handleButtonClick","handleCloseModal","Fragment","parse","module","dirtyDateLeft","dirtyDateRight","dateLeft","dateRight","getTime","getTokens","generateToken","revokeToken","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","r","userTokens","data","catch","differenceInMilliseconds","MILLISECONDS_IN_HOUR","diff","Math","floor","ceil","date_fns_difference_in_hours__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_Tooltip__WEBPACK_IMPORTED_MODULE_2__","sonar_ui_common_components_controls_Tooltip__WEBPACK_IMPORTED_MODULE_2___default","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","_DateFromNow__WEBPACK_IMPORTED_MODULE_4__","_DateTimeFormatter__WEBPACK_IMPORTED_MODULE_5__","overrideDate","Date","now"],"mappings":"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","file":"js/317.m.03790d1a.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { revokeToken } from '../../../api/user-tokens';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport DateFromNowHourPrecision from '../../../components/intl/DateFromNowHourPrecision';\n\nexport type TokenDeleteConfirmation = 'inline' | 'modal';\n\ninterface Props {\n  deleteConfirmation: TokenDeleteConfirmation;\n  login: string;\n  onRevokeToken: (token: T.UserToken) => void;\n  token: T.UserToken;\n}\n\ninterface State {\n  loading: boolean;\n  showConfirmation: boolean;\n}\n\nexport default class TokensFormItem extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false, showConfirmation: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    if (this.state.showConfirmation) {\n      this.handleRevoke().then(() => {\n        if (this.mounted) {\n          this.setState({ showConfirmation: false });\n        }\n      });\n    } else {\n      this.setState({ showConfirmation: true });\n    }\n  };\n\n  handleRevoke = () => {\n    this.setState({ loading: true });\n    return revokeToken({ login: this.props.login, name: this.props.token.name }).then(\n      () => this.props.onRevokeToken(this.props.token),\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { deleteConfirmation, token } = this.props;\n    const { loading, showConfirmation } = this.state;\n    return (\n      <tr>\n        <td>\n          <Tooltip overlay={token.name}>\n            <span>{limitComponentName(token.name)}</span>\n          </Tooltip>\n        </td>\n        <td className=\"nowrap\">\n          <DateFromNowHourPrecision date={token.lastConnectionDate} />\n        </td>\n        <td className=\"thin nowrap text-right\">\n          <DateFormatter date={token.createdAt} long={true} />\n        </td>\n        <td className=\"thin nowrap text-right\">\n          <DeferredSpinner loading={loading}>\n            <i className=\"deferred-spinner-placeholder\" />\n          </DeferredSpinner>\n          {deleteConfirmation === 'modal' ? (\n            <ConfirmButton\n              confirmButtonText={translate('users.tokens.revoke_token')}\n              isDestructive={true}\n              modalBody={\n                <FormattedMessage\n                  defaultMessage={translate('users.tokens.sure_X')}\n                  id=\"users.tokens.sure_X\"\n                  values={{ token: <strong>{token.name}</strong> }}\n                />\n              }\n              modalHeader={translate('users.tokens.revoke_token')}\n              onConfirm={this.handleRevoke}>\n              {({ onClick }) => (\n                <Button\n                  className=\"spacer-left button-red input-small\"\n                  disabled={loading}\n                  onClick={onClick}\n                  title={translate('users.tokens.revoke_token')}>\n                  {translate('users.tokens.revoke')}\n                </Button>\n              )}\n            </ConfirmButton>\n          ) : (\n            <Button\n              className=\"button-red input-small spacer-left\"\n              disabled={loading}\n              onClick={this.handleClick}>\n              {showConfirmation ? translate('users.tokens.sure') : translate('users.tokens.revoke')}\n            </Button>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  token: { name: string; token: string };\n}\n\nexport default function TokensFormNewToken({ token }: Props) {\n  return (\n    <div className=\"panel panel-white big-spacer-top\">\n      <Alert variant=\"warning\">\n        {translateWithParameters('users.tokens.new_token_created', token.name)}\n      </Alert>\n      <ClipboardButton copyValue={token.token} />\n      <code className=\"big-spacer-left text-success\">{token.token}</code>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { generateToken, getTokens } from '../../../api/user-tokens';\nimport TokensFormItem, { TokenDeleteConfirmation } from './TokensFormItem';\nimport TokensFormNewToken from './TokensFormNewToken';\n\ninterface Props {\n  deleteConfirmation: TokenDeleteConfirmation;\n  login: string;\n  updateTokensCount?: (login: string, tokensCount: number) => void;\n}\n\ninterface State {\n  generating: boolean;\n  loading: boolean;\n  newToken?: { name: string; token: string };\n  newTokenName: string;\n  tokens: T.UserToken[];\n}\n\nexport default class TokensForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    generating: false,\n    loading: true,\n    newTokenName: '',\n    tokens: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchTokens();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchTokens = () => {\n    this.setState({ loading: true });\n    getTokens(this.props.login).then(\n      tokens => {\n        if (this.mounted) {\n          this.setState({ loading: false, tokens });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  updateTokensCount = () => {\n    if (this.props.updateTokensCount) {\n      this.props.updateTokensCount(this.props.login, this.state.tokens.length);\n    }\n  };\n\n  handleGenerateToken = (evt: React.SyntheticEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    if (this.state.newTokenName.length > 0) {\n      this.setState({ generating: true });\n      generateToken({ name: this.state.newTokenName, login: this.props.login }).then(\n        newToken => {\n          if (this.mounted) {\n            this.setState(state => {\n              const tokens = [\n                ...state.tokens,\n                { name: newToken.name, createdAt: newToken.createdAt }\n              ];\n              return { generating: false, newToken, newTokenName: '', tokens };\n            }, this.updateTokensCount);\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ generating: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleRevokeToken = (revokedToken: T.UserToken) => {\n    this.setState(\n      state => ({\n        tokens: state.tokens.filter(token => token.name !== revokedToken.name)\n      }),\n      this.updateTokensCount\n    );\n  };\n\n  handleNewTokenChange = (evt: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ newTokenName: evt.currentTarget.value });\n\n  renderItems() {\n    const { tokens } = this.state;\n    if (tokens.length <= 0) {\n      return (\n        <tr>\n          <td className=\"note\" colSpan={3}>\n            {translate('users.no_tokens')}\n          </td>\n        </tr>\n      );\n    }\n    return tokens.map(token => (\n      <TokensFormItem\n        deleteConfirmation={this.props.deleteConfirmation}\n        key={token.name}\n        login={this.props.login}\n        onRevokeToken={this.handleRevokeToken}\n        token={token}\n      />\n    ));\n  }\n\n  render() {\n    const { generating, loading, newToken, newTokenName, tokens } = this.state;\n    const customSpinner = (\n      <tr>\n        <td>\n          <i className=\"spinner\" />\n        </td>\n      </tr>\n    );\n    return (\n      <>\n        <h3 className=\"spacer-bottom\">{translate('users.generate_tokens')}</h3>\n        <form\n          autoComplete=\"off\"\n          className=\"display-flex-center\"\n          id=\"generate-token-form\"\n          onSubmit={this.handleGenerateToken}>\n          <input\n            className=\"input-large spacer-right\"\n            maxLength={100}\n            onChange={this.handleNewTokenChange}\n            placeholder={translate('users.enter_token_name')}\n            required={true}\n            type=\"text\"\n            value={newTokenName}\n          />\n          <SubmitButton\n            className=\"js-generate-token\"\n            disabled={generating || newTokenName.length <= 0}>\n            {translate('users.generate')}\n          </SubmitButton>\n        </form>\n\n        {newToken && <TokensFormNewToken token={newToken} />}\n\n        <table className=\"data zebra big-spacer-top\">\n          <thead>\n            <tr>\n              <th>{translate('name')}</th>\n              <th>{translate('my_account.tokens_last_usage')}</th>\n              <th className=\"text-right\">{translate('created')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            <DeferredSpinner customSpinner={customSpinner} loading={loading && tokens.length <= 0}>\n              {this.renderItems()}\n            </DeferredSpinner>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { changePassword } from '../../../api/users';\n\ninterface Props {\n  user: T.LoggedInUser;\n}\n\ninterface State {\n  errors?: string[];\n  success: boolean;\n}\n\nexport default class Password extends React.Component<Props, State> {\n  oldPassword!: HTMLInputElement;\n  password!: HTMLInputElement;\n  passwordConfirmation!: HTMLInputElement;\n  state: State = {\n    success: false\n  };\n\n  handleSuccessfulChange = () => {\n    this.oldPassword.value = '';\n    this.password.value = '';\n    this.passwordConfirmation.value = '';\n    this.setState({ success: true, errors: undefined });\n  };\n\n  setErrors = (errors: string[]) => {\n    this.setState({ success: false, errors });\n  };\n\n  handleChangePassword = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    const { user } = this.props;\n    const previousPassword = this.oldPassword.value;\n    const password = this.password.value;\n    const passwordConfirmation = this.passwordConfirmation.value;\n\n    if (password !== passwordConfirmation) {\n      this.password.focus();\n      this.setErrors([translate('user.password_doesnt_match_confirmation')]);\n    } else {\n      changePassword({ login: user.login, password, previousPassword }).then(\n        this.handleSuccessfulChange,\n        () => {}\n      );\n    }\n  };\n\n  render() {\n    const { success, errors } = this.state;\n\n    return (\n      <section className=\"boxed-group\">\n        <h2 className=\"spacer-bottom\">{translate('my_profile.password.title')}</h2>\n\n        <form className=\"boxed-group-inner\" onSubmit={this.handleChangePassword}>\n          {success && <Alert variant=\"success\">{translate('my_profile.password.changed')}</Alert>}\n\n          {errors &&\n            errors.map((e, i) => (\n              <Alert key={i} variant=\"error\">\n                {e}\n              </Alert>\n            ))}\n\n          <div className=\"form-field\">\n            <label htmlFor=\"old_password\">\n              {translate('my_profile.password.old')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <input\n              autoComplete=\"off\"\n              id=\"old_password\"\n              name=\"old_password\"\n              ref={elem => (this.oldPassword = elem!)}\n              required={true}\n              type=\"password\"\n            />\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"password\">\n              {translate('my_profile.password.new')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <input\n              autoComplete=\"off\"\n              id=\"password\"\n              name=\"password\"\n              ref={elem => (this.password = elem!)}\n              required={true}\n              type=\"password\"\n            />\n          </div>\n          <div className=\"form-field\">\n            <label htmlFor=\"password_confirmation\">\n              {translate('my_profile.password.confirm')}\n              <em className=\"mandatory\">*</em>\n            </label>\n            <input\n              autoComplete=\"off\"\n              id=\"password_confirmation\"\n              name=\"password_confirmation\"\n              ref={elem => (this.passwordConfirmation = elem!)}\n              required={true}\n              type=\"password\"\n            />\n          </div>\n          <div className=\"form-field\">\n            <SubmitButton id=\"change-password\">\n              {translate('my_profile.password.submit')}\n            </SubmitButton>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport TokensForm from '../../users/components/TokensForm';\n\ninterface Props {\n  login: string;\n}\n\nexport default function Tokens({ login }: Props) {\n  return (\n    <div className=\"boxed-group\">\n      <h2>{translate('users.tokens')}</h2>\n      <div className=\"boxed-group-inner\">\n        <div className=\"big-spacer-bottom big-spacer-right markdown\">\n          <InstanceMessage message={translate('my_account.tokens_description')} />\n        </div>\n\n        <TokensForm deleteConfirmation=\"modal\" login={login} />\n      </div>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { getCurrentUser, Store } from '../../../store/rootReducer';\nimport Password from './Password';\nimport Tokens from './Tokens';\n\nexport interface SecurityProps {\n  user: T.LoggedInUser;\n}\n\nexport function Security({ user }: SecurityProps) {\n  return (\n    <div className=\"account-body account-container\">\n      <Helmet defer={false} title={translate('my_account.security')} />\n      <Tokens login={user.login} />\n      {user.local && <Password user={user} />}\n    </div>\n  );\n}\n\nconst mapStateToProps = (state: Store) => ({\n  user: getCurrentUser(state) as T.LoggedInUser\n});\n\nexport default connect(mapStateToProps)(Security);\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar Modal_1 = require(\"./Modal\");\nvar SimpleModal = (function (_super) {\n    __extends(SimpleModal, _super);\n    function SimpleModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { submitting: false };\n        _this.stopSubmitting = function () {\n            if (_this.mounted) {\n                _this.setState({ submitting: false });\n            }\n        };\n        _this.handleCloseClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.props.onClose();\n        };\n        _this.handleFormSubmit = function (event) {\n            event.preventDefault();\n            _this.submit();\n        };\n        _this.handleSubmitClick = function (event) {\n            if (event) {\n                event.preventDefault();\n                event.currentTarget.blur();\n            }\n            _this.submit();\n        };\n        _this.submit = function () {\n            var result = _this.props.onSubmit();\n            if (result) {\n                _this.setState({ submitting: true });\n                result.then(_this.stopSubmitting, _this.stopSubmitting);\n            }\n        };\n        return _this;\n    }\n    SimpleModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    SimpleModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    SimpleModal.prototype.render = function () {\n        var _a = this.props, children = _a.children, header = _a.header, onClose = _a.onClose, onSubmit = _a.onSubmit, modalProps = __rest(_a, [\"children\", \"header\", \"onClose\", \"onSubmit\"]);\n        return (React.createElement(Modal_1.default, __assign({ contentLabel: header, onRequestClose: onClose }, modalProps), children({\n            onCloseClick: this.handleCloseClick,\n            onFormSubmit: this.handleFormSubmit,\n            onSubmitClick: this.handleSubmitClick,\n            submitting: this.state.submitting\n        })));\n    };\n    return SimpleModal;\n}(React.Component));\nexports.default = SimpleModal;\n//# sourceMappingURL=SimpleModal.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nvar ClickEventBoundary_1 = require(\"./ClickEventBoundary\");\nvar SimpleModal_1 = require(\"./SimpleModal\");\nvar ConfirmModal = (function (_super) {\n    __extends(ConfirmModal, _super);\n    function ConfirmModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.handleSubmit = function () {\n            var result = _this.props.onConfirm(_this.props.confirmData);\n            if (result) {\n                return result.then(_this.props.onClose, function () { });\n            }\n            else {\n                _this.props.onClose();\n                return undefined;\n            }\n        };\n        _this.renderModalContent = function (_a) {\n            var onCloseClick = _a.onCloseClick, onFormSubmit = _a.onFormSubmit, submitting = _a.submitting;\n            var _b = _this.props, children = _b.children, confirmButtonText = _b.confirmButtonText, confirmDisable = _b.confirmDisable, header = _b.header, headerDescription = _b.headerDescription, isDestructive = _b.isDestructive, _c = _b.cancelButtonText, cancelButtonText = _c === void 0 ? l10n_1.translate('cancel') : _c;\n            return (React.createElement(ClickEventBoundary_1.default, null,\n                React.createElement(\"form\", { onSubmit: onFormSubmit },\n                    React.createElement(\"header\", { className: \"modal-head\" },\n                        React.createElement(\"h2\", null, header),\n                        headerDescription),\n                    React.createElement(\"div\", { className: \"modal-body\" }, children),\n                    React.createElement(\"footer\", { className: \"modal-foot\" },\n                        React.createElement(DeferredSpinner_1.default, { className: \"spacer-right\", loading: submitting }),\n                        React.createElement(buttons_1.SubmitButton, { autoFocus: true, className: isDestructive ? 'button-red' : undefined, disabled: submitting || confirmDisable }, confirmButtonText),\n                        React.createElement(buttons_1.ResetButtonLink, { disabled: submitting, onClick: onCloseClick }, cancelButtonText)))));\n        };\n        return _this;\n    }\n    ConfirmModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ConfirmModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ConfirmModal.prototype.render = function () {\n        var _a = this.props, header = _a.header, onClose = _a.onClose, noBackdrop = _a.noBackdrop, size = _a.size;\n        var modalProps = { header: header, onClose: onClose, noBackdrop: noBackdrop, size: size };\n        return (React.createElement(SimpleModal_1.default, __assign({ onSubmit: this.handleSubmit }, modalProps), this.renderModalContent));\n    };\n    return ConfirmModal;\n}(React.PureComponent));\nexports.default = ConfirmModal;\n//# sourceMappingURL=ConfirmModal.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ConfirmModal_1 = require(\"./ConfirmModal\");\nvar ModalButton_1 = require(\"./ModalButton\");\nvar ConfirmButton = (function (_super) {\n    __extends(ConfirmButton, _super);\n    function ConfirmButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderConfirmModal = function (_a) {\n            var onClose = _a.onClose;\n            var _b = _this.props, children = _b.children, modalBody = _b.modalBody, modalHeader = _b.modalHeader, modalHeaderDescription = _b.modalHeaderDescription, confirmModalProps = __rest(_b, [\"children\", \"modalBody\", \"modalHeader\", \"modalHeaderDescription\"]);\n            return (React.createElement(ConfirmModal_1.default, __assign({ header: modalHeader, headerDescription: modalHeaderDescription, onClose: onClose }, confirmModalProps), modalBody));\n        };\n        return _this;\n    }\n    ConfirmButton.prototype.render = function () {\n        return React.createElement(ModalButton_1.default, { modal: this.renderConfirmModal }, this.props.children);\n    };\n    return ConfirmButton;\n}(React.PureComponent));\nexports.default = ConfirmButton;\n//# sourceMappingURL=ConfirmButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ModalButton = (function (_super) {\n    __extends(ModalButton, _super);\n    function ModalButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { modal: false };\n        _this.handleButtonClick = function () {\n            _this.setState({ modal: true });\n        };\n        _this.handleFormSubmit = function (event) {\n            if (event) {\n                event.preventDefault();\n            }\n            _this.setState({ modal: true });\n        };\n        _this.handleCloseModal = function () {\n            if (_this.mounted) {\n                _this.setState({ modal: false });\n            }\n        };\n        return _this;\n    }\n    ModalButton.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ModalButton.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ModalButton.prototype.render = function () {\n        return (React.createElement(React.Fragment, null,\n            this.props.children({\n                onClick: this.handleButtonClick,\n                onFormSubmit: this.handleFormSubmit\n            }),\n            this.state.modal && this.props.modal({ onClose: this.handleCloseModal })));\n    };\n    return ModalButton;\n}(React.PureComponent));\nexports.default = ModalButton;\n//# sourceMappingURL=ModalButton.js.map","var parse = require('../parse/index.js')\n\n/**\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * var result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nfunction differenceInMilliseconds (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n  return dateLeft.getTime() - dateRight.getTime()\n}\n\nmodule.exports = differenceInMilliseconds\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\n/** List tokens for given user login */\nexport function getTokens(login: string): Promise<T.UserToken[]> {\n  return getJSON('/api/user_tokens/search', { login }).then(r => r.userTokens, throwGlobalError);\n}\n\nexport function generateToken(data: { name: string; login?: string }): Promise<T.NewUserToken> {\n  return postJSON('/api/user_tokens/generate', data).catch(throwGlobalError);\n}\n\nexport function revokeToken(data: { name: string; login?: string }) {\n  return post('/api/user_tokens/revoke', data).catch(throwGlobalError);\n}\n","var differenceInMilliseconds = require('../difference_in_milliseconds/index.js')\n\nvar MILLISECONDS_IN_HOUR = 3600000\n\n/**\n * @category Hour Helpers\n * @summary Get the number of hours between the given dates.\n *\n * @description\n * Get the number of hours between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of hours\n *\n * @example\n * // How many hours are between 2 July 2014 06:50:00 and 2 July 2014 19:00:00?\n * var result = differenceInHours(\n *   new Date(2014, 6, 2, 19, 0),\n *   new Date(2014, 6, 2, 6, 50)\n * )\n * //=> 12\n */\nfunction differenceInHours (dirtyDateLeft, dirtyDateRight) {\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / MILLISECONDS_IN_HOUR\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff)\n}\n\nmodule.exports = differenceInHours\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as differenceInHours from 'date-fns/difference_in_hours';\nimport * as React from 'react';\nimport { DateSource } from 'react-intl';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateFromNow from './DateFromNow';\nimport DateTimeFormatter from './DateTimeFormatter';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date?: DateSource;\n}\n\nexport default class DateFromNowHourPrecision extends React.PureComponent<Props> {\n  render() {\n    const { children, date } = this.props;\n\n    let overrideDate: string | undefined;\n    if (!date) {\n      overrideDate = translate('never');\n    } else if (differenceInHours(Date.now(), date) < 1) {\n      overrideDate = translate('less_than_1_hour_ago');\n    }\n\n    if (overrideDate) {\n      return children ? children(overrideDate) : overrideDate;\n    }\n\n    return (\n      <Tooltip overlay={<DateTimeFormatter date={date!} />}>\n        <span>\n          <DateFromNow date={date!}>{children}</DateFromNow>\n        </span>\n      </Tooltip>\n    );\n  }\n}\n"],"sourceRoot":""}