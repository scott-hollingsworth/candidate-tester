{"version":3,"sources":["webpack:///./node_modules/date-fns/difference_in_hours/index.js","webpack:///./src/main/js/api/user-tokens.ts","webpack:///./src/main/js/components/intl/DateFromNowHourPrecision.tsx","webpack:///./src/main/js/apps/users/components/TokensFormItem.tsx","webpack:///./src/main/js/apps/users/components/TokensFormNewToken.tsx","webpack:///./src/main/js/apps/users/components/TokensForm.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmModal.js","webpack:///./src/main/js/components/intl/DateTimeFormatter.tsx","webpack:///./src/main/js/components/intl/DateFormatter.tsx","webpack:///./src/main/js/components/intl/DateFromNow.tsx","webpack:///./node_modules/sonar-ui-common/components/controls/ConfirmButton.js","webpack:///./node_modules/sonar-ui-common/components/controls/ModalButton.js","webpack:///./node_modules/date-fns/difference_in_milliseconds/index.js"],"names":["differenceInMilliseconds","__webpack_require__","MILLISECONDS_IN_HOUR","module","exports","dirtyDateLeft","dirtyDateRight","diff","Math","floor","ceil","d","__webpack_exports__","getTokens","generateToken","revokeToken","sonar_ui_common_helpers_request__WEBPACK_IMPORTED_MODULE_0__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_1__","login","Object","then","r","userTokens","data","catch","DateFromNowHourPrecision","_super","__extends","prototype","render","overrideDate","_a","this","props","children","date","date_fns_difference_in_hours__WEBPACK_IMPORTED_MODULE_0__","Date","now","sonar_ui_common_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_components_controls_Tooltip__WEBPACK_IMPORTED_MODULE_2___default","a","overlay","_DateTimeFormatter__WEBPACK_IMPORTED_MODULE_5__","_DateFromNow__WEBPACK_IMPORTED_MODULE_4__","TokensFormItem","_this","apply","arguments","mounted","state","loading","showConfirmation","handleClick","handleRevoke","setState","user_tokens","name","token","onRevokeToken","componentDidMount","componentWillUnmount","deleteConfirmation","_b","index_js_exposed","Tooltip_default","path","className","lastConnectionDate","DateFormatter","createdAt","long","DeferredSpinner_default","ConfirmButton_default","confirmButtonText","l10n","isDestructive","modalBody","index_es","defaultMessage","id","values","modalHeader","onConfirm","onClick","buttons","disabled","title","TokensFormNewToken","Alert","variant","clipboard","copyValue","TokensForm_TokensForm","TokensForm","generating","newTokenName","tokens","fetchTokens","updateTokensCount","length","handleGenerateToken","evt","preventDefault","newToken","__spreadArrays","handleRevokeToken","revokedToken","filter","handleNewTokenChange","currentTarget","value","TokensForm_extends","renderItems","colSpan","map","components_TokensFormItem","key","customSpinner","autoComplete","onSubmit","maxLength","onChange","placeholder","required","type","extendStatics","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","__assign","assign","t","s","i","n","call","defineProperty","React","l10n_1","DeferredSpinner_1","buttons_1","ClickEventBoundary_1","SimpleModal_1","ConfirmModal","handleSubmit","result","confirmData","onClose","renderModalContent","onCloseClick","onFormSubmit","submitting","confirmDisable","header","headerDescription","_c","cancelButtonText","translate","createElement","default","SubmitButton","autoFocus","undefined","ResetButtonLink","modalProps","noBackdrop","size","PureComponent","formatterOption","year","month","day","hour","minute","DateTimeFormatter","react__WEBPACK_IMPORTED_MODULE_0__","react_intl__WEBPACK_IMPORTED_MODULE_1__","sonar_ui_common_helpers_dates__WEBPACK_IMPORTED_MODULE_2__","longFormatterOption","DateFromNow","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","ConfirmModal_1","ModalButton_1","ConfirmButton","renderConfirmModal","modalHeaderDescription","confirmModalProps","modal","ModalButton","handleButtonClick","handleFormSubmit","event","handleCloseModal","Fragment","parse","dateLeft","dateRight","getTime"],"mappings":"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","file":"js/21.1582644816097.chunk.js","sourcesContent":["var differenceInMilliseconds = require('../difference_in_milliseconds/index.js')\n\nvar MILLISECONDS_IN_HOUR = 3600000\n\n/**\n * @category Hour Helpers\n * @summary Get the number of hours between the given dates.\n *\n * @description\n * Get the number of hours between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of hours\n *\n * @example\n * // How many hours are between 2 July 2014 06:50:00 and 2 July 2014 19:00:00?\n * var result = differenceInHours(\n *   new Date(2014, 6, 2, 19, 0),\n *   new Date(2014, 6, 2, 6, 50)\n * )\n * //=> 12\n */\nfunction differenceInHours (dirtyDateLeft, dirtyDateRight) {\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / MILLISECONDS_IN_HOUR\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff)\n}\n\nmodule.exports = differenceInHours\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON } from 'sonar-ui-common/helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\n/** List tokens for given user login */\nexport function getTokens(login: string): Promise<T.UserToken[]> {\n  return getJSON('/api/user_tokens/search', { login }).then(r => r.userTokens, throwGlobalError);\n}\n\nexport function generateToken(data: { name: string; login?: string }): Promise<T.NewUserToken> {\n  return postJSON('/api/user_tokens/generate', data).catch(throwGlobalError);\n}\n\nexport function revokeToken(data: { name: string; login?: string }) {\n  return post('/api/user_tokens/revoke', data).catch(throwGlobalError);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as differenceInHours from 'date-fns/difference_in_hours';\nimport * as React from 'react';\nimport { DateSource } from 'react-intl';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport DateFromNow from './DateFromNow';\nimport DateTimeFormatter from './DateTimeFormatter';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date?: DateSource;\n}\n\nexport default class DateFromNowHourPrecision extends React.PureComponent<Props> {\n  render() {\n    const { children, date } = this.props;\n\n    let overrideDate: string | undefined;\n    if (!date) {\n      overrideDate = translate('never');\n    } else if (differenceInHours(Date.now(), date) < 1) {\n      overrideDate = translate('less_than_1_hour_ago');\n    }\n\n    if (overrideDate) {\n      return children ? children(overrideDate) : overrideDate;\n    }\n\n    return (\n      <Tooltip overlay={<DateTimeFormatter date={date!} />}>\n        <span>\n          <DateFromNow date={date!}>{children}</DateFromNow>\n        </span>\n      </Tooltip>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Button } from 'sonar-ui-common/components/controls/buttons';\nimport ConfirmButton from 'sonar-ui-common/components/controls/ConfirmButton';\nimport Tooltip from 'sonar-ui-common/components/controls/Tooltip';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { limitComponentName } from 'sonar-ui-common/helpers/path';\nimport { revokeToken } from '../../../api/user-tokens';\nimport DateFormatter from '../../../components/intl/DateFormatter';\nimport DateFromNowHourPrecision from '../../../components/intl/DateFromNowHourPrecision';\n\nexport type TokenDeleteConfirmation = 'inline' | 'modal';\n\ninterface Props {\n  deleteConfirmation: TokenDeleteConfirmation;\n  login: string;\n  onRevokeToken: (token: T.UserToken) => void;\n  token: T.UserToken;\n}\n\ninterface State {\n  loading: boolean;\n  showConfirmation: boolean;\n}\n\nexport default class TokensFormItem extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false, showConfirmation: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    if (this.state.showConfirmation) {\n      this.handleRevoke().then(() => {\n        if (this.mounted) {\n          this.setState({ showConfirmation: false });\n        }\n      });\n    } else {\n      this.setState({ showConfirmation: true });\n    }\n  };\n\n  handleRevoke = () => {\n    this.setState({ loading: true });\n    return revokeToken({ login: this.props.login, name: this.props.token.name }).then(\n      () => this.props.onRevokeToken(this.props.token),\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  render() {\n    const { deleteConfirmation, token } = this.props;\n    const { loading, showConfirmation } = this.state;\n    return (\n      <tr>\n        <td>\n          <Tooltip overlay={token.name}>\n            <span>{limitComponentName(token.name)}</span>\n          </Tooltip>\n        </td>\n        <td className=\"nowrap\">\n          <DateFromNowHourPrecision date={token.lastConnectionDate} />\n        </td>\n        <td className=\"thin nowrap text-right\">\n          <DateFormatter date={token.createdAt} long={true} />\n        </td>\n        <td className=\"thin nowrap text-right\">\n          <DeferredSpinner loading={loading}>\n            <i className=\"deferred-spinner-placeholder\" />\n          </DeferredSpinner>\n          {deleteConfirmation === 'modal' ? (\n            <ConfirmButton\n              confirmButtonText={translate('users.tokens.revoke_token')}\n              isDestructive={true}\n              modalBody={\n                <FormattedMessage\n                  defaultMessage={translate('users.tokens.sure_X')}\n                  id=\"users.tokens.sure_X\"\n                  values={{ token: <strong>{token.name}</strong> }}\n                />\n              }\n              modalHeader={translate('users.tokens.revoke_token')}\n              onConfirm={this.handleRevoke}>\n              {({ onClick }) => (\n                <Button\n                  className=\"spacer-left button-red input-small\"\n                  disabled={loading}\n                  onClick={onClick}\n                  title={translate('users.tokens.revoke_token')}>\n                  {translate('users.tokens.revoke')}\n                </Button>\n              )}\n            </ConfirmButton>\n          ) : (\n            <Button\n              className=\"button-red input-small spacer-left\"\n              disabled={loading}\n              onClick={this.handleClick}>\n              {showConfirmation ? translate('users.tokens.sure') : translate('users.tokens.revoke')}\n            </Button>\n          )}\n        </td>\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ClipboardButton } from 'sonar-ui-common/components/controls/clipboard';\nimport { Alert } from 'sonar-ui-common/components/ui/Alert';\nimport { translateWithParameters } from 'sonar-ui-common/helpers/l10n';\n\ninterface Props {\n  token: { name: string; token: string };\n}\n\nexport default function TokensFormNewToken({ token }: Props) {\n  return (\n    <div className=\"panel panel-white big-spacer-top\">\n      <Alert variant=\"warning\">\n        {translateWithParameters('users.tokens.new_token_created', token.name)}\n      </Alert>\n      <ClipboardButton copyValue={token.token} />\n      <code className=\"big-spacer-left text-success\">{token.token}</code>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { SubmitButton } from 'sonar-ui-common/components/controls/buttons';\nimport DeferredSpinner from 'sonar-ui-common/components/ui/DeferredSpinner';\nimport { translate } from 'sonar-ui-common/helpers/l10n';\nimport { generateToken, getTokens } from '../../../api/user-tokens';\nimport TokensFormItem, { TokenDeleteConfirmation } from './TokensFormItem';\nimport TokensFormNewToken from './TokensFormNewToken';\n\ninterface Props {\n  deleteConfirmation: TokenDeleteConfirmation;\n  login: string;\n  updateTokensCount?: (login: string, tokensCount: number) => void;\n}\n\ninterface State {\n  generating: boolean;\n  loading: boolean;\n  newToken?: { name: string; token: string };\n  newTokenName: string;\n  tokens: T.UserToken[];\n}\n\nexport default class TokensForm extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    generating: false,\n    loading: true,\n    newTokenName: '',\n    tokens: []\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchTokens();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchTokens = () => {\n    this.setState({ loading: true });\n    getTokens(this.props.login).then(\n      tokens => {\n        if (this.mounted) {\n          this.setState({ loading: false, tokens });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  updateTokensCount = () => {\n    if (this.props.updateTokensCount) {\n      this.props.updateTokensCount(this.props.login, this.state.tokens.length);\n    }\n  };\n\n  handleGenerateToken = (evt: React.SyntheticEvent<HTMLFormElement>) => {\n    evt.preventDefault();\n    if (this.state.newTokenName.length > 0) {\n      this.setState({ generating: true });\n      generateToken({ name: this.state.newTokenName, login: this.props.login }).then(\n        newToken => {\n          if (this.mounted) {\n            this.setState(state => {\n              const tokens = [\n                ...state.tokens,\n                { name: newToken.name, createdAt: newToken.createdAt }\n              ];\n              return { generating: false, newToken, newTokenName: '', tokens };\n            }, this.updateTokensCount);\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ generating: false });\n          }\n        }\n      );\n    }\n  };\n\n  handleRevokeToken = (revokedToken: T.UserToken) => {\n    this.setState(\n      state => ({\n        tokens: state.tokens.filter(token => token.name !== revokedToken.name)\n      }),\n      this.updateTokensCount\n    );\n  };\n\n  handleNewTokenChange = (evt: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ newTokenName: evt.currentTarget.value });\n\n  renderItems() {\n    const { tokens } = this.state;\n    if (tokens.length <= 0) {\n      return (\n        <tr>\n          <td className=\"note\" colSpan={3}>\n            {translate('users.no_tokens')}\n          </td>\n        </tr>\n      );\n    }\n    return tokens.map(token => (\n      <TokensFormItem\n        deleteConfirmation={this.props.deleteConfirmation}\n        key={token.name}\n        login={this.props.login}\n        onRevokeToken={this.handleRevokeToken}\n        token={token}\n      />\n    ));\n  }\n\n  render() {\n    const { generating, loading, newToken, newTokenName, tokens } = this.state;\n    const customSpinner = (\n      <tr>\n        <td>\n          <i className=\"spinner\" />\n        </td>\n      </tr>\n    );\n    return (\n      <>\n        <h3 className=\"spacer-bottom\">{translate('users.generate_tokens')}</h3>\n        <form\n          autoComplete=\"off\"\n          className=\"display-flex-center\"\n          id=\"generate-token-form\"\n          onSubmit={this.handleGenerateToken}>\n          <input\n            className=\"input-large spacer-right\"\n            maxLength={100}\n            onChange={this.handleNewTokenChange}\n            placeholder={translate('users.enter_token_name')}\n            required={true}\n            type=\"text\"\n            value={newTokenName}\n          />\n          <SubmitButton\n            className=\"js-generate-token\"\n            disabled={generating || newTokenName.length <= 0}>\n            {translate('users.generate')}\n          </SubmitButton>\n        </form>\n\n        {newToken && <TokensFormNewToken token={newToken} />}\n\n        <table className=\"data zebra big-spacer-top\">\n          <thead>\n            <tr>\n              <th>{translate('name')}</th>\n              <th>{translate('my_account.tokens_last_usage')}</th>\n              <th className=\"text-right\">{translate('created')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            <DeferredSpinner customSpinner={customSpinner} loading={loading && tokens.length <= 0}>\n              {this.renderItems()}\n            </DeferredSpinner>\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar l10n_1 = require(\"../../helpers/l10n\");\nvar DeferredSpinner_1 = require(\"../ui/DeferredSpinner\");\nvar buttons_1 = require(\"./buttons\");\nvar ClickEventBoundary_1 = require(\"./ClickEventBoundary\");\nvar SimpleModal_1 = require(\"./SimpleModal\");\nvar ConfirmModal = (function (_super) {\n    __extends(ConfirmModal, _super);\n    function ConfirmModal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.handleSubmit = function () {\n            var result = _this.props.onConfirm(_this.props.confirmData);\n            if (result) {\n                return result.then(_this.props.onClose, function () { });\n            }\n            else {\n                _this.props.onClose();\n                return undefined;\n            }\n        };\n        _this.renderModalContent = function (_a) {\n            var onCloseClick = _a.onCloseClick, onFormSubmit = _a.onFormSubmit, submitting = _a.submitting;\n            var _b = _this.props, children = _b.children, confirmButtonText = _b.confirmButtonText, confirmDisable = _b.confirmDisable, header = _b.header, headerDescription = _b.headerDescription, isDestructive = _b.isDestructive, _c = _b.cancelButtonText, cancelButtonText = _c === void 0 ? l10n_1.translate('cancel') : _c;\n            return (React.createElement(ClickEventBoundary_1.default, null,\n                React.createElement(\"form\", { onSubmit: onFormSubmit },\n                    React.createElement(\"header\", { className: \"modal-head\" },\n                        React.createElement(\"h2\", null, header),\n                        headerDescription),\n                    React.createElement(\"div\", { className: \"modal-body\" }, children),\n                    React.createElement(\"footer\", { className: \"modal-foot\" },\n                        React.createElement(DeferredSpinner_1.default, { className: \"spacer-right\", loading: submitting }),\n                        React.createElement(buttons_1.SubmitButton, { autoFocus: true, className: isDestructive ? 'button-red' : undefined, disabled: submitting || confirmDisable }, confirmButtonText),\n                        React.createElement(buttons_1.ResetButtonLink, { disabled: submitting, onClick: onCloseClick }, cancelButtonText)))));\n        };\n        return _this;\n    }\n    ConfirmModal.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ConfirmModal.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ConfirmModal.prototype.render = function () {\n        var _a = this.props, header = _a.header, onClose = _a.onClose, noBackdrop = _a.noBackdrop, size = _a.size;\n        var modalProps = { header: header, onClose: onClose, noBackdrop: noBackdrop, size: size };\n        return (React.createElement(SimpleModal_1.default, __assign({ onSubmit: this.handleSubmit }, modalProps), this.renderModalContent));\n    };\n    return ConfirmModal;\n}(React.PureComponent));\nexports.default = ConfirmModal;\n//# sourceMappingURL=ConfirmModal.js.map","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport const formatterOption = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric'\n};\n\nexport default function DateTimeFormatter({ children, date }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...formatterOption}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedDate } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n  long?: boolean;\n}\n\nexport const formatterOption = { year: 'numeric', month: 'short', day: '2-digit' };\n\nexport const longFormatterOption = { year: 'numeric', month: 'long', day: 'numeric' };\n\nexport default function DateFormatter({ children, date, long }: Props) {\n  return (\n    <FormattedDate value={parseDate(date)} {...(long ? longFormatterOption : formatterOption)}>\n      {children}\n    </FormattedDate>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2020 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { DateSource, FormattedRelative } from 'react-intl';\nimport { parseDate } from 'sonar-ui-common/helpers/dates';\n\ninterface Props {\n  children?: (formattedDate: string) => React.ReactNode;\n  date: DateSource;\n}\n\nexport default function DateFromNow({ children, date }: Props) {\n  return <FormattedRelative value={parseDate(date)}>{children}</FormattedRelative>;\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ConfirmModal_1 = require(\"./ConfirmModal\");\nvar ModalButton_1 = require(\"./ModalButton\");\nvar ConfirmButton = (function (_super) {\n    __extends(ConfirmButton, _super);\n    function ConfirmButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderConfirmModal = function (_a) {\n            var onClose = _a.onClose;\n            var _b = _this.props, children = _b.children, modalBody = _b.modalBody, modalHeader = _b.modalHeader, modalHeaderDescription = _b.modalHeaderDescription, confirmModalProps = __rest(_b, [\"children\", \"modalBody\", \"modalHeader\", \"modalHeaderDescription\"]);\n            return (React.createElement(ConfirmModal_1.default, __assign({ header: modalHeader, headerDescription: modalHeaderDescription, onClose: onClose }, confirmModalProps), modalBody));\n        };\n        return _this;\n    }\n    ConfirmButton.prototype.render = function () {\n        return React.createElement(ModalButton_1.default, { modal: this.renderConfirmModal }, this.props.children);\n    };\n    return ConfirmButton;\n}(React.PureComponent));\nexports.default = ConfirmButton;\n//# sourceMappingURL=ConfirmButton.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ModalButton = (function (_super) {\n    __extends(ModalButton, _super);\n    function ModalButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.mounted = false;\n        _this.state = { modal: false };\n        _this.handleButtonClick = function () {\n            _this.setState({ modal: true });\n        };\n        _this.handleFormSubmit = function (event) {\n            if (event) {\n                event.preventDefault();\n            }\n            _this.setState({ modal: true });\n        };\n        _this.handleCloseModal = function () {\n            if (_this.mounted) {\n                _this.setState({ modal: false });\n            }\n        };\n        return _this;\n    }\n    ModalButton.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ModalButton.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ModalButton.prototype.render = function () {\n        return (React.createElement(React.Fragment, null,\n            this.props.children({\n                onClick: this.handleButtonClick,\n                onFormSubmit: this.handleFormSubmit\n            }),\n            this.state.modal && this.props.modal({ onClose: this.handleCloseModal })));\n    };\n    return ModalButton;\n}(React.PureComponent));\nexports.default = ModalButton;\n//# sourceMappingURL=ModalButton.js.map","var parse = require('../parse/index.js')\n\n/**\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param {Date|String|Number} dateLeft - the later date\n * @param {Date|String|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * var result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nfunction differenceInMilliseconds (dirtyDateLeft, dirtyDateRight) {\n  var dateLeft = parse(dirtyDateLeft)\n  var dateRight = parse(dirtyDateRight)\n  return dateLeft.getTime() - dateRight.getTime()\n}\n\nmodule.exports = differenceInMilliseconds\n"],"sourceRoot":""}