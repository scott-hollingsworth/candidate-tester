(window.webpackJsonp=window.webpackJsonp||[]).push([[358],{2128:function(e,t,n){"use strict";n.r(t);var r,o=n(12),a=n(657),s=n(646),i=n(34),c=n(648),l=n(640),u=n(654),m=n(761),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={success:!1},t.handleSuccessfulChange=function(){t.oldPassword.value="",t.password.value="",t.passwordConfirmation.value="",t.setState({success:!0,errors:void 0})},t.setErrors=function(e){t.setState({success:!1,errors:e})},t.handleChangePassword=function(e){e.preventDefault();var n=t.props.user,r=t.oldPassword.value,o=t.password.value;o!==t.passwordConfirmation.value?(t.password.focus(),t.setErrors([Object(i.translate)("user.password_doesnt_match_confirmation")])):Object(m.a)({login:n.login,password:o,previousPassword:r}).then(t.handleSuccessfulChange,function(){})},t}return p(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.success,r=t.errors;return o.createElement("section",{className:"boxed-group"},o.createElement("h2",{className:"spacer-bottom"},Object(i.translate)("my_profile.password.title")),o.createElement("form",{className:"boxed-group-inner",onSubmit:this.handleChangePassword},n&&o.createElement(u.Alert,{variant:"success"},Object(i.translate)("my_profile.password.changed")),r&&r.map(function(e,t){return o.createElement(u.Alert,{key:t,variant:"error"},e)}),o.createElement("div",{className:"form-field"},o.createElement("label",{htmlFor:"old_password"},Object(i.translate)("my_profile.password.old"),o.createElement("em",{className:"mandatory"},"*")),o.createElement("input",{autoComplete:"off",id:"old_password",name:"old_password",ref:function(t){return e.oldPassword=t},required:!0,type:"password"})),o.createElement("div",{className:"form-field"},o.createElement("label",{htmlFor:"password"},Object(i.translate)("my_profile.password.new"),o.createElement("em",{className:"mandatory"},"*")),o.createElement("input",{autoComplete:"off",id:"password",name:"password",ref:function(t){return e.password=t},required:!0,type:"password"})),o.createElement("div",{className:"form-field"},o.createElement("label",{htmlFor:"password_confirmation"},Object(i.translate)("my_profile.password.confirm"),o.createElement("em",{className:"mandatory"},"*")),o.createElement("input",{autoComplete:"off",id:"password_confirmation",name:"password_confirmation",ref:function(t){return e.passwordConfirmation=t},required:!0,type:"password"})),o.createElement("div",{className:"form-field"},o.createElement(l.SubmitButton,{id:"change-password"},Object(i.translate)("my_profile.password.submit")))))},t}(o.Component),f=n(752),b=n(1525);function h(e){var t=e.login;return o.createElement("div",{className:"boxed-group"},o.createElement("h2",null,Object(i.translate)("users.tokens")),o.createElement("div",{className:"boxed-group-inner"},o.createElement("div",{className:"big-spacer-bottom big-spacer-right markdown"},o.createElement(f.a,{message:Object(i.translate)("my_account.tokens_description")})),o.createElement(b.a,{deleteConfirmation:"modal",login:t})))}function w(e){var t=e.user;return o.createElement("div",{className:"account-body account-container"},o.createElement(a.a,{defer:!1,title:Object(i.translate)("my_account.security")}),o.createElement(h,{login:t.login}),t.local&&o.createElement(d,{user:t}))}n.d(t,"Security",function(){return w});t.default=Object(s.connect)(function(e){return{user:Object(c.getCurrentUser)(e)}})(w)},663:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),c=n(656),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={submitting:!1},t.stopSubmitting=function(){t.mounted&&t.setState({submitting:!1})},t.handleCloseClick=function(e){e&&(e.preventDefault(),e.currentTarget.blur()),t.props.onClose()},t.handleFormSubmit=function(e){e.preventDefault(),t.submit()},t.handleSubmitClick=function(e){e&&(e.preventDefault(),e.currentTarget.blur()),t.submit()},t.submit=function(){var e=t.props.onSubmit();e&&(t.setState({submitting:!0}),e.then(t.stopSubmitting,t.stopSubmitting))},t}return o(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.children,n=e.header,r=e.onClose,o=(e.onSubmit,s(e,["children","header","onClose","onSubmit"]));return i.createElement(c.default,a({contentLabel:n,onRequestClose:r},o),t({onCloseClick:this.handleCloseClick,onFormSubmit:this.handleFormSubmit,onSubmitClick:this.handleSubmitClick,submitting:this.state.submitting}))},t}(i.Component);t.default=l}}]);
//# sourceMappingURL=358.1582644816097.chunk.js.map